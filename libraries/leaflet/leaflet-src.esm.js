<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for leaflet"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2022-03-25T09:42:32.144Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - leaflet</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"leaflet","packageVersion":"1.8.0-beta.0","availableVersions":["0.5.1","0.6.0","0.6.1","0.6.2","0.6.3","0.6.4","0.7.0","0.7.1","0.7.2","0.7.3","0.7.4","0.7.5","0.7.7","1.0.0-beta.1","1.0.0-beta.2","1.0.0-rc.1","1.0.0-rc.2","1.0.0-rc.3","1.0.0","1.0.1","1.0.2","1.0.3","1.1.0","1.2.0","1.3.0","1.3.1","1.3.2","1.3.3","1.3.4","1.4.0","1.5.0","1.5.1","1.6.0","1.7.0","1.7.1","1.8.0-alpha.0","1.8.0-beta.0"],"filename":"/dist/leaflet-src.esm.js","target":{"path":"/dist/leaflet-src.esm.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-pPiFak+XqhGnAY3TO0fjlQWC/jeCL5Huvo+U1nEKp42L9SkFwBLwVXm6mq3hCAoD","language":"JavaScript","size":411865,"uri":null,"highlights":["<span class=\"code-comment\">/* @preserve\n</span>","<span class=\"code-comment\"> * Leaflet 1.8.0-beta.0+main.face00f, a JS library for interactive maps. https://leafletjs.com\n</span>","<span class=\"code-comment\"> * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> version = <span class=\"code-string\">\"1.8.0-beta.0+main.face00fa\"</span>;\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace Util\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Various utility functions, used by Leaflet internally.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">// @function extend(dest: Object, src?: Object): Object</span>\r\n","<span class=\"code-comment\">// Merges the properties of the `src` object (or multiple objects) into `dest` object and returns the latter. Has an `L.extend` shortcut.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">extend</span>(<span class=\"code-params\">dest</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> i, j, len, src;\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (j = <span class=\"code-number\">1</span>, len = <span class=\"code-built_in\">arguments</span>.length; j &lt; len; j++) {\r\n","\t\tsrc = <span class=\"code-built_in\">arguments</span>[j];\r\n","\t\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> src) {\r\n","\t\t\tdest[i] = src[i];\r\n","\t\t}\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> dest;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function create(proto: Object, properties?: Object): Object</span>\r\n","<span class=\"code-comment\">// Compatibility polyfill for [Object.create](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/create)</span>\r\n","<span class=\"code-keyword\">var</span> create$<span class=\"code-number\">2</span> = <span class=\"code-built_in\">Object</span>.create || (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">F</span>(<span class=\"code-params\"></span>) </span>{}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">proto</span>) </span>{\r\n","\t\tF.prototype = proto;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> F();\r\n","\t};\r\n","})();\r\n","\r\n","<span class=\"code-comment\">// @function bind(fn: Function, \u2026): Function</span>\r\n","<span class=\"code-comment\">// Returns a new function bound to the arguments passed, like [Function.prototype.bind](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).</span>\r\n","<span class=\"code-comment\">// Has a `L.bind()` shortcut.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bind</span>(<span class=\"code-params\">fn, obj</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> slice = <span class=\"code-built_in\">Array</span>.prototype.slice;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (fn.bind) {\r\n","\t\t<span class=\"code-keyword\">return</span> fn.bind.apply(fn, slice.call(<span class=\"code-built_in\">arguments</span>, <span class=\"code-number\">1</span>));\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">var</span> args = slice.call(<span class=\"code-built_in\">arguments</span>, <span class=\"code-number\">2</span>);\r\n","\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> fn.apply(obj, args.length ? args.concat(slice.call(<span class=\"code-built_in\">arguments</span>)) : <span class=\"code-built_in\">arguments</span>);\r\n","\t};\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @property lastId: Number</span>\r\n","<span class=\"code-comment\">// Last unique ID used by [`stamp()`](#util-stamp)</span>\r\n","<span class=\"code-keyword\">var</span> lastId = <span class=\"code-number\">0</span>;\r\n","\r\n","<span class=\"code-comment\">// @function stamp(obj: Object): Number</span>\r\n","<span class=\"code-comment\">// Returns the unique ID of an object, assigning it one if it doesn't have it.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">stamp</span>(<span class=\"code-params\">obj</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!(<span class=\"code-string\">'_leaflet_id'</span> <span class=\"code-keyword\">in</span> obj)) {\r\n","\t\tobj[<span class=\"code-string\">'_leaflet_id'</span>] = ++lastId;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> obj._leaflet_id;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function throttle(fn: Function, time: Number, context: Object): Function</span>\r\n","<span class=\"code-comment\">// Returns a function which executes function `fn` with the given scope `context`</span>\r\n","<span class=\"code-comment\">// (so that the `this` keyword refers to `context` inside `fn`'s code). The function</span>\r\n","<span class=\"code-comment\">// `fn` will be called no more than one time per given amount of `time`. The arguments</span>\r\n","<span class=\"code-comment\">// received by the bound function will be any arguments passed when binding the</span>\r\n","<span class=\"code-comment\">// function, followed by any arguments passed when invoking the bound function.</span>\r\n","<span class=\"code-comment\">// Has an `L.throttle` shortcut.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">throttle</span>(<span class=\"code-params\">fn, time, context</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> lock, args, wrapperFn, later;\r\n","\r\n","\tlater = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-comment\">// reset lock and call if queued</span>\r\n","\t\tlock = <span class=\"code-literal\">false</span>;\r\n","\t\t<span class=\"code-keyword\">if</span> (args) {\r\n","\t\t\twrapperFn.apply(context, args);\r\n","\t\t\targs = <span class=\"code-literal\">false</span>;\r\n","\t\t}\r\n","\t};\r\n","\r\n","\twrapperFn = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (lock) {\r\n","\t\t\t<span class=\"code-comment\">// called too soon, queue to call later</span>\r\n","\t\t\targs = <span class=\"code-built_in\">arguments</span>;\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-comment\">// call and lock until later</span>\r\n","\t\t\tfn.apply(context, <span class=\"code-built_in\">arguments</span>);\r\n","\t\t\tsetTimeout(later, time);\r\n","\t\t\tlock = <span class=\"code-literal\">true</span>;\r\n","\t\t}\r\n","\t};\r\n","\r\n","\t<span class=\"code-keyword\">return</span> wrapperFn;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function wrapNum(num: Number, range: Number[], includeMax?: Boolean): Number</span>\r\n","<span class=\"code-comment\">// Returns the number `num` modulo `range` in such a way so it lies within</span>\r\n","<span class=\"code-comment\">// `range[0]` and `range[1]`. The returned value will be always smaller than</span>\r\n","<span class=\"code-comment\">// `range[1]` unless `includeMax` is set to `true`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wrapNum</span>(<span class=\"code-params\">x, range, includeMax</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> max = range[<span class=\"code-number\">1</span>],\r\n","\t    min = range[<span class=\"code-number\">0</span>],\r\n","\t    d = max - min;\r\n","\t<span class=\"code-keyword\">return</span> x === max &amp;&amp; includeMax ? x : ((x - min) % d + d) % d + min;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function falseFn(): Function</span>\r\n","<span class=\"code-comment\">// Returns a function which always returns `false`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">falseFn</span>(<span class=\"code-params\"></span>) </span>{ <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","<span class=\"code-comment\">// @function formatNum(num: Number, precision?: Number|false): Number</span>\r\n","<span class=\"code-comment\">// Returns the number `num` rounded with specified `precision`.</span>\r\n","<span class=\"code-comment\">// The default `precision` value is 6 decimal places.</span>\r\n","<span class=\"code-comment\">// `false` can be passed to skip any processing (can be useful to avoid round-off errors).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">formatNum</span>(<span class=\"code-params\">num, precision</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (precision === <span class=\"code-literal\">false</span>) { <span class=\"code-keyword\">return</span> num; }\r\n","\t<span class=\"code-keyword\">var</span> pow = <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">10</span>, precision === <span class=\"code-literal\">undefined</span> ? <span class=\"code-number\">6</span> : precision);\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.round(num * pow) / pow;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function trim(str: String): String</span>\r\n","<span class=\"code-comment\">// Compatibility polyfill for [String.prototype.trim](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim)</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">trim</span>(<span class=\"code-params\">str</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> str.trim ? str.trim() : str.replace(<span class=\"code-regexp\">/^\\s+|\\s+$/g</span>, <span class=\"code-string\">''</span>);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function splitWords(str: String): String[]</span>\r\n","<span class=\"code-comment\">// Trims and splits the string on whitespace and returns the array of parts.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">splitWords</span>(<span class=\"code-params\">str</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> trim(str).split(<span class=\"code-regexp\">/\\s+/</span>);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function setOptions(obj: Object, options: Object): Object</span>\r\n","<span class=\"code-comment\">// Merges the given properties to the `options` of the `obj` object, returning the resulting options. See `Class options`. Has an `L.setOptions` shortcut.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setOptions</span>(<span class=\"code-params\">obj, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(obj, <span class=\"code-string\">'options'</span>)) {\r\n","\t\tobj.options = obj.options ? create$<span class=\"code-number\">2</span>(obj.options) : {};\r\n","\t}\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> options) {\r\n","\t\tobj.options[i] = options[i];\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> obj.options;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getParamString(obj: Object, existingUrl?: String, uppercase?: Boolean): String</span>\r\n","<span class=\"code-comment\">// Converts an object into a parameter URL string, e.g. `{a: \"foo\", b: \"bar\"}`</span>\r\n","<span class=\"code-comment\">// translates to `'?a=foo&amp;b=bar'`. If `existingUrl` is set, the parameters will</span>\r\n","<span class=\"code-comment\">// be appended at the end. If `uppercase` is `true`, the parameter names will</span>\r\n","<span class=\"code-comment\">// be uppercased (e.g. `'?A=foo&amp;B=bar'`)</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getParamString</span>(<span class=\"code-params\">obj, existingUrl, uppercase</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> params = [];\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> obj) {\r\n","\t\tparams.push(<span class=\"code-built_in\">encodeURIComponent</span>(uppercase ? i.toUpperCase() : i) + <span class=\"code-string\">'='</span> + <span class=\"code-built_in\">encodeURIComponent</span>(obj[i]));\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> ((!existingUrl || existingUrl.indexOf(<span class=\"code-string\">'?'</span>) === <span class=\"code-number\">-1</span>) ? <span class=\"code-string\">'?'</span> : <span class=\"code-string\">'&amp;'</span>) + params.join(<span class=\"code-string\">'&amp;'</span>);\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> templateRe = <span class=\"code-regexp\">/\\{ *([\\w_ -]+) *\\}/g</span>;\r\n","\r\n","<span class=\"code-comment\">// @function template(str: String, data: Object): String</span>\r\n","<span class=\"code-comment\">// Simple templating facility, accepts a template string of the form `'Hello {a}, {b}'`</span>\r\n","<span class=\"code-comment\">// and a data object like `{a: 'foo', b: 'bar'}`, returns evaluated string</span>\r\n","<span class=\"code-comment\">// `('Hello foo, bar')`. You can also specify functions instead of strings for</span>\r\n","<span class=\"code-comment\">// data values \u2014 they will be evaluated passing `data` as an argument.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">template</span>(<span class=\"code-params\">str, data</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> str.replace(templateRe, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">str, key</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> value = data[key];\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (value === <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'No value provided for variable '</span> + str);\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> value === <span class=\"code-string\">'function'</span>) {\r\n","\t\t\tvalue = value(data);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> value;\r\n","\t});\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function isArray(obj): Boolean</span>\r\n","<span class=\"code-comment\">// Compatibility polyfill for [Array.isArray](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)</span>\r\n","<span class=\"code-keyword\">var</span> isArray = <span class=\"code-built_in\">Array</span>.isArray || <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> (<span class=\"code-built_in\">Object</span>.prototype.toString.call(obj) === <span class=\"code-string\">'[object Array]'</span>);\r\n","};\r\n","\r\n","<span class=\"code-comment\">// @function indexOf(array: Array, el: Object): Number</span>\r\n","<span class=\"code-comment\">// Compatibility polyfill for [Array.prototype.indexOf](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">indexOf</span>(<span class=\"code-params\">array, el</span>) </span>{\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; array.length; i++) {\r\n","\t\t<span class=\"code-keyword\">if</span> (array[i] === el) { <span class=\"code-keyword\">return</span> i; }\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-number\">-1</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @property emptyImageUrl: String</span>\r\n","<span class=\"code-comment\">// Data URI string containing a base64-encoded empty GIF image.</span>\r\n","<span class=\"code-comment\">// Used as a hack to free memory from unused images on WebKit-powered</span>\r\n","<span class=\"code-comment\">// mobile devices (by setting image `src` to this string).</span>\r\n","<span class=\"code-keyword\">var</span> emptyImageUrl = <span class=\"code-string\">'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='</span>;\r\n","\r\n","<span class=\"code-comment\">// inspired by https://paulirish.com/2011/requestanimationframe-for-smart-animating/</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getPrefixed</span>(<span class=\"code-params\">name</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>[<span class=\"code-string\">'webkit'</span> + name] || <span class=\"code-built_in\">window</span>[<span class=\"code-string\">'moz'</span> + name] || <span class=\"code-built_in\">window</span>[<span class=\"code-string\">'ms'</span> + name];\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> lastTime = <span class=\"code-number\">0</span>;\r\n","\r\n","<span class=\"code-comment\">// fallback for IE 7-8</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">timeoutDefer</span>(<span class=\"code-params\">fn</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> time = +<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(),\r\n","\t    timeToCall = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>, <span class=\"code-number\">16</span> - (time - lastTime));\r\n","\r\n","\tlastTime = time + timeToCall;\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.setTimeout(fn, timeToCall);\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> requestFn = <span class=\"code-built_in\">window</span>.requestAnimationFrame || getPrefixed(<span class=\"code-string\">'RequestAnimationFrame'</span>) || timeoutDefer;\r\n","<span class=\"code-keyword\">var</span> cancelFn = <span class=\"code-built_in\">window</span>.cancelAnimationFrame || getPrefixed(<span class=\"code-string\">'CancelAnimationFrame'</span>) ||\r\n","\t\tgetPrefixed(<span class=\"code-string\">'CancelRequestAnimationFrame'</span>) || <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">id</span>) </span>{ <span class=\"code-built_in\">window</span>.clearTimeout(id); };\r\n","\r\n","<span class=\"code-comment\">// @function requestAnimFrame(fn: Function, context?: Object, immediate?: Boolean): Number</span>\r\n","<span class=\"code-comment\">// Schedules `fn` to be executed when the browser repaints. `fn` is bound to</span>\r\n","<span class=\"code-comment\">// `context` if given. When `immediate` is set, `fn` is called immediately if</span>\r\n","<span class=\"code-comment\">// the browser doesn't have native support for</span>\r\n","<span class=\"code-comment\">// [`window.requestAnimationFrame`](https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame),</span>\r\n","<span class=\"code-comment\">// otherwise it's delayed. Returns a request ID that can be used to cancel the request.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">requestAnimFrame</span>(<span class=\"code-params\">fn, context, immediate</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (immediate &amp;&amp; requestFn === timeoutDefer) {\r\n","\t\tfn.call(context);\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t<span class=\"code-keyword\">return</span> requestFn.call(<span class=\"code-built_in\">window</span>, bind(fn, context));\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function cancelAnimFrame(id: Number): undefined</span>\r\n","<span class=\"code-comment\">// Cancels a previous `requestAnimFrame`. See also [window.cancelAnimationFrame](https://developer.mozilla.org/docs/Web/API/window/cancelAnimationFrame).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cancelAnimFrame</span>(<span class=\"code-params\">id</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (id) {\r\n","\t\tcancelFn.call(<span class=\"code-built_in\">window</span>, id);\r\n","\t}\r\n","}\n","\n","<span class=\"code-keyword\">var</span> Util = {\n","  __proto__: <span class=\"code-literal\">null</span>,\n","  extend: extend,\n","  create: create$<span class=\"code-number\">2</span>,\n","  bind: bind,\n","  <span class=\"code-keyword\">get</span> lastId () { <span class=\"code-keyword\">return</span> lastId; },\n","  stamp: stamp,\n","  throttle: throttle,\n","  wrapNum: wrapNum,\n","  falseFn: falseFn,\n","  formatNum: formatNum,\n","  trim: trim,\n","  splitWords: splitWords,\n","  setOptions: setOptions,\n","  getParamString: getParamString,\n","  template: template,\n","  isArray: isArray,\n","  indexOf: indexOf,\n","  emptyImageUrl: emptyImageUrl,\n","  requestFn: requestFn,\n","  cancelFn: cancelFn,\n","  requestAnimFrame: requestAnimFrame,\n","  cancelAnimFrame: cancelAnimFrame\n","};\n","\n","<span class=\"code-comment\">// @class Class</span>\r\n","<span class=\"code-comment\">// @aka L.Class</span>\r\n","\r\n","<span class=\"code-comment\">// @section</span>\r\n","<span class=\"code-comment\">// @uninheritable</span>\r\n","\r\n","<span class=\"code-comment\">// Thanks to John Resig and Dean Edwards for inspiration!</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Class</span>(<span class=\"code-params\"></span>) </span>{}\r\n","\r\n","Class.extend = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">props</span>) </span>{\r\n","\r\n","\t<span class=\"code-comment\">// @function extend(props: Object): Function</span>\r\n","\t<span class=\"code-comment\">// [Extends the current class](#class-inheritance) given the properties to be included.</span>\r\n","\t<span class=\"code-comment\">// Returns a Javascript function that is a class constructor (to be called with `new`).</span>\r\n","\t<span class=\"code-keyword\">var</span> NewClass = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-comment\">// call the constructor</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.initialize) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.initialize.apply(<span class=\"code-keyword\">this</span>, <span class=\"code-built_in\">arguments</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// call all constructor hooks</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.callInitHooks();\r\n","\t};\r\n","\r\n","\t<span class=\"code-keyword\">var</span> parentProto = NewClass.__super__ = <span class=\"code-keyword\">this</span>.prototype;\r\n","\r\n","\t<span class=\"code-keyword\">var</span> proto = create$<span class=\"code-number\">2</span>(parentProto);\r\n","\tproto.constructor = NewClass;\r\n","\r\n","\tNewClass.prototype = proto;\r\n","\r\n","\t<span class=\"code-comment\">// inherit parent's statics</span>\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>) {\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(<span class=\"code-keyword\">this</span>, i) &amp;&amp; i !== <span class=\"code-string\">'prototype'</span> &amp;&amp; i !== <span class=\"code-string\">'__super__'</span>) {\r\n","\t\t\tNewClass[i] = <span class=\"code-keyword\">this</span>[i];\r\n","\t\t}\r\n","\t}\r\n","\r\n","\t<span class=\"code-comment\">// mix static properties into the class</span>\r\n","\t<span class=\"code-keyword\">if</span> (props.statics) {\r\n","\t\textend(NewClass, props.statics);\r\n","\t}\r\n","\r\n","\t<span class=\"code-comment\">// mix includes into the prototype</span>\r\n","\t<span class=\"code-keyword\">if</span> (props.includes) {\r\n","\t\tcheckDeprecatedMixinEvents(props.includes);\r\n","\t\textend.apply(<span class=\"code-literal\">null</span>, [proto].concat(props.includes));\r\n","\t}\r\n","\r\n","\t<span class=\"code-comment\">// mix given properties into the prototype</span>\r\n","\textend(proto, props);\r\n","\t<span class=\"code-keyword\">delete</span> proto.statics;\r\n","\t<span class=\"code-keyword\">delete</span> proto.includes;\r\n","\r\n","\t<span class=\"code-comment\">// merge options</span>\r\n","\t<span class=\"code-keyword\">if</span> (proto.options) {\r\n","\t\tproto.options = parentProto.options ? create$<span class=\"code-number\">2</span>(parentProto.options) : {};\r\n","\t\textend(proto.options, props.options);\r\n","\t}\r\n","\r\n","\tproto._initHooks = [];\r\n","\r\n","\t<span class=\"code-comment\">// add method for calling all hooks</span>\r\n","\tproto.callInitHooks = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._initHooksCalled) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (parentProto.callInitHooks) {\r\n","\t\t\tparentProto.callInitHooks.call(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._initHooksCalled = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = proto._initHooks.length; i &lt; len; i++) {\r\n","\t\t\tproto._initHooks[i].call(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t};\r\n","\r\n","\t<span class=\"code-keyword\">return</span> NewClass;\r\n","};\r\n","\r\n","\r\n","<span class=\"code-comment\">// @function include(properties: Object): this</span>\r\n","<span class=\"code-comment\">// [Includes a mixin](#class-includes) into the current class.</span>\r\n","Class.include = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">props</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> parentOptions = <span class=\"code-keyword\">this</span>.prototype.options;\r\n","\textend(<span class=\"code-keyword\">this</span>.prototype, props);\r\n","\t<span class=\"code-keyword\">if</span> (props.options) {\r\n","\t\t<span class=\"code-keyword\">this</span>.prototype.options = parentOptions;\r\n","\t\t<span class=\"code-keyword\">this</span>.mergeOptions(props.options);\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","};\r\n","\r\n","<span class=\"code-comment\">// @function mergeOptions(options: Object): this</span>\r\n","<span class=\"code-comment\">// [Merges `options`](#class-options) into the defaults of the class.</span>\r\n","Class.mergeOptions = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\textend(<span class=\"code-keyword\">this</span>.prototype.options, options);\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","};\r\n","\r\n","<span class=\"code-comment\">// @function addInitHook(fn: Function): this</span>\r\n","<span class=\"code-comment\">// Adds a [constructor hook](#class-constructor-hooks) to the class.</span>\r\n","Class.addInitHook = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">fn</span>) </span>{ <span class=\"code-comment\">// (Function) || (String, args...)</span>\r\n","\t<span class=\"code-keyword\">var</span> args = <span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>, <span class=\"code-number\">1</span>);\r\n","\r\n","\t<span class=\"code-keyword\">var</span> init = <span class=\"code-keyword\">typeof</span> fn === <span class=\"code-string\">'function'</span> ? fn : <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>[fn].apply(<span class=\"code-keyword\">this</span>, args);\r\n","\t};\r\n","\r\n","\t<span class=\"code-keyword\">this</span>.prototype._initHooks = <span class=\"code-keyword\">this</span>.prototype._initHooks || [];\r\n","\t<span class=\"code-keyword\">this</span>.prototype._initHooks.push(init);\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","};\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">checkDeprecatedMixinEvents</span>(<span class=\"code-params\">includes</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> L === <span class=\"code-string\">'undefined'</span> || !L || !L.Mixin) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\tincludes = isArray(includes) ? includes : [includes];\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; includes.length; i++) {\r\n","\t\t<span class=\"code-keyword\">if</span> (includes[i] === L.Mixin.Events) {\r\n","\t\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'Deprecated include of L.Mixin.Events: '</span> +\r\n","\t\t\t\t<span class=\"code-string\">'this property will be removed in future releases, '</span> +\r\n","\t\t\t\t<span class=\"code-string\">'please inherit from L.Evented instead.'</span>, <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>().stack);\r\n","\t\t}\r\n","\t}\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Evented\r\n</span>","<span class=\"code-comment\"> * @aka L.Evented\r\n</span>","<span class=\"code-comment\"> * @inherits Class\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A set of methods shared between event-powered classes (like `Map` and `Marker`). Generally, events allow you to execute some function when something happens with an object (e.g. the user clicks on the map, causing the map to fire `'click'` event).\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * map.on('click', function(e) {\r\n</span>","<span class=\"code-comment\"> * \talert(e.latlng);\r\n</span>","<span class=\"code-comment\"> * } );\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Leaflet deals with event listeners by reference, so if you want to add a listener and then remove it, define it as a function:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * function onClick(e) { ... }\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * map.on('click', onClick);\r\n</span>","<span class=\"code-comment\"> * map.off('click', onClick);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Events = {\r\n","\t<span class=\"code-comment\">/* @method on(type: String, fn: Function, context?: Object): this\r\n</span>","<span class=\"code-comment\">\t * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @alternative\r\n</span>","<span class=\"code-comment\">\t * @method on(eventMap: Object): this\r\n</span>","<span class=\"code-comment\">\t * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n</span>","<span class=\"code-comment\">\t */</span>\r\n","\ton: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">types, fn, context</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-comment\">// types can be a map of types/handlers</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> types === <span class=\"code-string\">'object'</span>) {\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> type <span class=\"code-keyword\">in</span> types) {\r\n","\t\t\t\t<span class=\"code-comment\">// we don't process space-separated events here for performance;</span>\r\n","\t\t\t\t<span class=\"code-comment\">// it's a hot path since Layer uses the on(obj) syntax</span>\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._on(type, types[type], fn);\r\n","\t\t\t}\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-comment\">// types can be a string of space-separated words</span>\r\n","\t\t\ttypes = splitWords(types);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = types.length; i &lt; len; i++) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._on(types[i], fn, context);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">/* @method off(type: String, fn?: Function, context?: Object): this\r\n</span>","<span class=\"code-comment\">\t * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @alternative\r\n</span>","<span class=\"code-comment\">\t * @method off(eventMap: Object): this\r\n</span>","<span class=\"code-comment\">\t * Removes a set of type/listener pairs.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @alternative\r\n</span>","<span class=\"code-comment\">\t * @method off: this\r\n</span>","<span class=\"code-comment\">\t * Removes all listeners to all events on the object. This includes implicitly attached events.\r\n</span>","<span class=\"code-comment\">\t */</span>\r\n","\toff: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">types, fn, context</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">arguments</span>.length) {\r\n","\t\t\t<span class=\"code-comment\">// clear all listeners if called without arguments</span>\r\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._events;\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> types === <span class=\"code-string\">'object'</span>) {\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> type <span class=\"code-keyword\">in</span> types) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._off(type, types[type], fn);\r\n","\t\t\t}\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\ttypes = splitWords(types);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">var</span> removeAll = <span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">1</span>;\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = types.length; i &lt; len; i++) {\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (removeAll) {\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>._off(types[i]);\r\n","\t\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>._off(types[i], fn, context);\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// attach listener (without syntactic sugar now)</span>\r\n","\t_on: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">type, fn, context</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> fn !== <span class=\"code-string\">'function'</span>) {\r\n","\t\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'wrong listener type: '</span> + <span class=\"code-keyword\">typeof</span> fn);\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._events = <span class=\"code-keyword\">this</span>._events || {};\r\n","\r\n","\t\t<span class=\"code-comment\">/* get/init listeners for type */</span>\r\n","\t\t<span class=\"code-keyword\">var</span> typeListeners = <span class=\"code-keyword\">this</span>._events[type];\r\n","\t\t<span class=\"code-keyword\">if</span> (!typeListeners) {\r\n","\t\t\ttypeListeners = [];\r\n","\t\t\t<span class=\"code-keyword\">this</span>._events[type] = typeListeners;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (context === <span class=\"code-keyword\">this</span>) {\r\n","\t\t\t<span class=\"code-comment\">// Less memory footprint.</span>\r\n","\t\t\tcontext = <span class=\"code-literal\">undefined</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">var</span> newListener = {<span class=\"code-attr\">fn</span>: fn, <span class=\"code-attr\">ctx</span>: context},\r\n","\t\t    listeners = typeListeners;\r\n","\r\n","\t\t<span class=\"code-comment\">// check if fn already there</span>\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = listeners.length; i &lt; len; i++) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (listeners[i].fn === fn &amp;&amp; listeners[i].ctx === context) {\r\n","\t\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\tlisteners.push(newListener);\r\n","\t},\r\n","\r\n","\t_off: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">type, fn, context</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> listeners,\r\n","\t\t    i,\r\n","\t\t    len;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._events) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\tlisteners = <span class=\"code-keyword\">this</span>._events[type];\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!listeners) {\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">1</span>) { <span class=\"code-comment\">// remove all</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._firingCount) {\r\n","\t\t\t\t<span class=\"code-comment\">// Set all removed listeners to noop</span>\r\n","\t\t\t\t<span class=\"code-comment\">// so they are not called if remove happens in fire</span>\r\n","\t\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = listeners.length; i &lt; len; i++) {\r\n","\t\t\t\t\tlisteners[i].fn = falseFn;\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-comment\">// clear all listeners for a type if function isn't specified</span>\r\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._events[type];\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (context === <span class=\"code-keyword\">this</span>) {\r\n","\t\t\tcontext = <span class=\"code-literal\">undefined</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> fn !== <span class=\"code-string\">'function'</span>) {\r\n","\t\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'wrong listener type: '</span> + <span class=\"code-keyword\">typeof</span> fn);\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-comment\">// find fn and remove it</span>\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = listeners.length; i &lt; len; i++) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> l = listeners[i];\r\n","\t\t\t<span class=\"code-keyword\">if</span> (l.ctx !== context) { <span class=\"code-keyword\">continue</span>; }\r\n","\t\t\t<span class=\"code-keyword\">if</span> (l.fn === fn) {\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._firingCount) {\r\n","\t\t\t\t\t<span class=\"code-comment\">// set the removed listener to noop so that's not called if remove happens in fire</span>\r\n","\t\t\t\t\tl.fn = falseFn;\r\n","\r\n","\t\t\t\t\t<span class=\"code-comment\">/* copy array in case events are being fired */</span>\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>._events[type] = listeners = listeners.slice();\r\n","\t\t\t\t}\r\n","\t\t\t\tlisteners.splice(i, <span class=\"code-number\">1</span>);\r\n","\r\n","\t\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t\t}\r\n","\t\t}\r\n","\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'listener not found'</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method fire(type: String, data?: Object, propagate?: Boolean): this</span>\r\n","\t<span class=\"code-comment\">// Fires an event of the specified type. You can optionally provide a data</span>\r\n","\t<span class=\"code-comment\">// object \u2014 the first argument of the listener function will contain its</span>\r\n","\t<span class=\"code-comment\">// properties. The event can optionally be propagated to event parents.</span>\r\n","\tfire: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">type, data, propagate</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.listens(type, propagate)) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> event = extend({}, data, {\r\n","\t\t\ttype: type,\r\n","\t\t\ttarget: <span class=\"code-keyword\">this</span>,\r\n","\t\t\tsourceTarget: data &amp;&amp; data.sourceTarget || <span class=\"code-keyword\">this</span>\r\n","\t\t});\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._events) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> listeners = <span class=\"code-keyword\">this</span>._events[type];\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (listeners) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._firingCount = (<span class=\"code-keyword\">this</span>._firingCount + <span class=\"code-number\">1</span>) || <span class=\"code-number\">1</span>;\r\n","\t\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = listeners.length; i &lt; len; i++) {\r\n","\t\t\t\t\t<span class=\"code-keyword\">var</span> l = listeners[i];\r\n","\t\t\t\t\tl.fn.call(l.ctx || <span class=\"code-keyword\">this</span>, event);\r\n","\t\t\t\t}\r\n","\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._firingCount--;\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (propagate) {\r\n","\t\t\t<span class=\"code-comment\">// propagate the event to parents (set with addEventParent)</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._propagateEvent(event);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method listens(type: String, propagate?: Boolean): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if a particular event type has any listeners attached to it.</span>\r\n","\t<span class=\"code-comment\">// The verification can optionally be propagated, it will return `true` if parents have the listener attached to it.</span>\r\n","\tlistens: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">type, propagate</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> type !== <span class=\"code-string\">'string'</span>) {\r\n","\t\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'\"string\" type argument expected'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">var</span> listeners = <span class=\"code-keyword\">this</span>._events &amp;&amp; <span class=\"code-keyword\">this</span>._events[type];\r\n","\t\t<span class=\"code-keyword\">if</span> (listeners &amp;&amp; listeners.length) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (propagate) {\r\n","\t\t\t<span class=\"code-comment\">// also check parents for listeners if event propagates</span>\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._eventParents) {\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._eventParents[id].listens(type, propagate)) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>; }\r\n","\t\t\t}\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method once(\u2026): this</span>\r\n","\t<span class=\"code-comment\">// Behaves as [`on(\u2026)`](#evented-on), except the listener will only get fired once and then removed.</span>\r\n","\tonce: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">types, fn, context</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> types === <span class=\"code-string\">'object'</span>) {\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> type <span class=\"code-keyword\">in</span> types) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.once(type, types[type], fn);\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> handler = bind(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">this</span>\r\n","\t\t\t    .off(types, fn, context)\r\n","\t\t\t    .off(types, handler, context);\r\n","\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-comment\">// add a listener that's executed once and removed after that</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>\r\n","\t\t    .on(types, fn, context)\r\n","\t\t    .on(types, handler, context);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addEventParent(obj: Evented): this</span>\r\n","\t<span class=\"code-comment\">// Adds an event parent - an `Evented` that will receive propagated events</span>\r\n","\taddEventParent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._eventParents = <span class=\"code-keyword\">this</span>._eventParents || {};\r\n","\t\t<span class=\"code-keyword\">this</span>._eventParents[stamp(obj)] = obj;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method removeEventParent(obj: Evented): this</span>\r\n","\t<span class=\"code-comment\">// Removes an event parent, so it will stop receiving propagated events</span>\r\n","\tremoveEventParent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._eventParents) {\r\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._eventParents[stamp(obj)];\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_propagateEvent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._eventParents) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._eventParents[id].fire(e.type, extend({\r\n","\t\t\t\tlayer: e.target,\r\n","\t\t\t\tpropagatedFrom: e.target\r\n","\t\t\t}, e), <span class=\"code-literal\">true</span>);\r\n","\t\t}\r\n","\t}\r\n","};\r\n","\r\n","<span class=\"code-comment\">// aliases; we should ditch those eventually</span>\r\n","\r\n","<span class=\"code-comment\">// @method addEventListener(\u2026): this</span>\r\n","<span class=\"code-comment\">// Alias to [`on(\u2026)`](#evented-on)</span>\r\n","Events.addEventListener = Events.on;\r\n","\r\n","<span class=\"code-comment\">// @method removeEventListener(\u2026): this</span>\r\n","<span class=\"code-comment\">// Alias to [`off(\u2026)`](#evented-off)</span>\r\n","\r\n","<span class=\"code-comment\">// @method clearAllEventListeners(\u2026): this</span>\r\n","<span class=\"code-comment\">// Alias to [`off()`](#evented-off)</span>\r\n","Events.removeEventListener = Events.clearAllEventListeners = Events.off;\r\n","\r\n","<span class=\"code-comment\">// @method addOneTimeEventListener(\u2026): this</span>\r\n","<span class=\"code-comment\">// Alias to [`once(\u2026)`](#evented-once)</span>\r\n","Events.addOneTimeEventListener = Events.once;\r\n","\r\n","<span class=\"code-comment\">// @method fireEvent(\u2026): this</span>\r\n","<span class=\"code-comment\">// Alias to [`fire(\u2026)`](#evented-fire)</span>\r\n","Events.fireEvent = Events.fire;\r\n","\r\n","<span class=\"code-comment\">// @method hasEventListeners(\u2026): Boolean</span>\r\n","<span class=\"code-comment\">// Alias to [`listens(\u2026)`](#evented-listens)</span>\r\n","Events.hasEventListeners = Events.listens;\r\n","\r\n","<span class=\"code-keyword\">var</span> Evented = Class.extend(Events);\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Point\r\n</span>","<span class=\"code-comment\"> * @aka L.Point\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents a point with `x` and `y` coordinates in pixels.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var point = L.point(200, 300);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * All Leaflet methods and options that accept `Point` objects also accept them in a simple Array form (unless noted otherwise), so these lines are equivalent:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * map.panBy([200, 300]);\r\n</span>","<span class=\"code-comment\"> * map.panBy(L.point(200, 300));\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Note that `Point` does not inherit from Leaflet's `Class` object,\r\n</span>","<span class=\"code-comment\"> * which means new classes can't inherit from it, and new methods\r\n</span>","<span class=\"code-comment\"> * can't be added to it with the `include` function.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Point</span>(<span class=\"code-params\">x, y, round</span>) </span>{\r\n","\t<span class=\"code-comment\">// @property x: Number; The `x` coordinate of the point</span>\r\n","\t<span class=\"code-keyword\">this</span>.x = (round ? <span class=\"code-built_in\">Math</span>.round(x) : x);\r\n","\t<span class=\"code-comment\">// @property y: Number; The `y` coordinate of the point</span>\r\n","\t<span class=\"code-keyword\">this</span>.y = (round ? <span class=\"code-built_in\">Math</span>.round(y) : y);\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> trunc = <span class=\"code-built_in\">Math</span>.trunc || <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">v</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> v &gt; <span class=\"code-number\">0</span> ? <span class=\"code-built_in\">Math</span>.floor(v) : <span class=\"code-built_in\">Math</span>.ceil(v);\r\n","};\r\n","\r\n","Point.prototype = {\r\n","\r\n","\t<span class=\"code-comment\">// @method clone(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns a copy of the current point.</span>\r\n","\tclone: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(<span class=\"code-keyword\">this</span>.x, <span class=\"code-keyword\">this</span>.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method add(otherPoint: Point): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the result of addition of the current and the given points.</span>\r\n","\tadd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// non-destructive, returns a new point</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._add(toPoint(point));\r\n","\t},\r\n","\r\n","\t_add: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// destructive, used directly for performance in situations where it's safe to modify existing point</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.x += point.x;\r\n","\t\t<span class=\"code-keyword\">this</span>.y += point.y;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method subtract(otherPoint: Point): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the result of subtraction of the given point from the current.</span>\r\n","\tsubtract: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._subtract(toPoint(point));\r\n","\t},\r\n","\r\n","\t_subtract: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x -= point.x;\r\n","\t\t<span class=\"code-keyword\">this</span>.y -= point.y;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method divideBy(num: Number): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the result of division of the current point by the given number.</span>\r\n","\tdivideBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">num</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._divideBy(num);\r\n","\t},\r\n","\r\n","\t_divideBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">num</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x /= num;\r\n","\t\t<span class=\"code-keyword\">this</span>.y /= num;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method multiplyBy(num: Number): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the result of multiplication of the current point by the given number.</span>\r\n","\tmultiplyBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">num</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._multiplyBy(num);\r\n","\t},\r\n","\r\n","\t_multiplyBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">num</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x *= num;\r\n","\t\t<span class=\"code-keyword\">this</span>.y *= num;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method scaleBy(scale: Point): Point</span>\r\n","\t<span class=\"code-comment\">// Multiply each coordinate of the current point by each coordinate of</span>\r\n","\t<span class=\"code-comment\">// `scale`. In linear algebra terms, multiply the point by the</span>\r\n","\t<span class=\"code-comment\">// [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)</span>\r\n","\t<span class=\"code-comment\">// defined by `scale`.</span>\r\n","\tscaleBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(<span class=\"code-keyword\">this</span>.x * point.x, <span class=\"code-keyword\">this</span>.y * point.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method unscaleBy(scale: Point): Point</span>\r\n","\t<span class=\"code-comment\">// Inverse of `scaleBy`. Divide each coordinate of the current point by</span>\r\n","\t<span class=\"code-comment\">// each coordinate of `scale`.</span>\r\n","\tunscaleBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(<span class=\"code-keyword\">this</span>.x / point.x, <span class=\"code-keyword\">this</span>.y / point.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method round(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns a copy of the current point with rounded coordinates.</span>\r\n","\tround: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._round();\r\n","\t},\r\n","\r\n","\t_round: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x = <span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.x);\r\n","\t\t<span class=\"code-keyword\">this</span>.y = <span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.y);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method floor(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns a copy of the current point with floored coordinates (rounded down).</span>\r\n","\tfloor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._floor();\r\n","\t},\r\n","\r\n","\t_floor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x = <span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x);\r\n","\t\t<span class=\"code-keyword\">this</span>.y = <span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method ceil(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns a copy of the current point with ceiled coordinates (rounded up).</span>\r\n","\tceil: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._ceil();\r\n","\t},\r\n","\r\n","\t_ceil: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x = <span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x);\r\n","\t\t<span class=\"code-keyword\">this</span>.y = <span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method trunc(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns a copy of the current point with truncated coordinates (rounded towards zero).</span>\r\n","\ttrunc: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clone()._trunc();\r\n","\t},\r\n","\r\n","\t_trunc: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.x = trunc(<span class=\"code-keyword\">this</span>.x);\r\n","\t\t<span class=\"code-keyword\">this</span>.y = trunc(<span class=\"code-keyword\">this</span>.y);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method distanceTo(otherPoint: Point): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the cartesian distance between the current and the given points.</span>\r\n","\tdistanceTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\tpoint = toPoint(point);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> x = point.x - <span class=\"code-keyword\">this</span>.x,\r\n","\t\t    y = point.y - <span class=\"code-keyword\">this</span>.y;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(x * x + y * y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method equals(otherPoint: Point): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the given point has the same coordinates.</span>\r\n","\tequals: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\tpoint = toPoint(point);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> point.x === <span class=\"code-keyword\">this</span>.x &amp;&amp;\r\n","\t\t       point.y === <span class=\"code-keyword\">this</span>.y;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method contains(otherPoint: Point): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).</span>\r\n","\tcontains: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\tpoint = toPoint(point);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(point.x) &lt;= <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.x) &amp;&amp;\r\n","\t\t       <span class=\"code-built_in\">Math</span>.abs(point.y) &lt;= <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method toString(): String</span>\r\n","\t<span class=\"code-comment\">// Returns a string representation of the point for debugging purposes.</span>\r\n","\ttoString: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-string\">'Point('</span> +\r\n","\t\t        formatNum(<span class=\"code-keyword\">this</span>.x) + <span class=\"code-string\">', '</span> +\r\n","\t\t        formatNum(<span class=\"code-keyword\">this</span>.y) + <span class=\"code-string\">')'</span>;\r\n","\t}\r\n","};\r\n","\r\n","<span class=\"code-comment\">// @factory L.point(x: Number, y: Number, round?: Boolean)</span>\r\n","<span class=\"code-comment\">// Creates a Point object with the given `x` and `y` coordinates. If optional `round` is set to true, rounds the `x` and `y` values.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.point(coords: Number[])</span>\r\n","<span class=\"code-comment\">// Expects an array of the form `[x, y]` instead.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.point(coords: Object)</span>\r\n","<span class=\"code-comment\">// Expects a plain object of the form `{x: Number, y: Number}` instead.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toPoint</span>(<span class=\"code-params\">x, y, round</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (x <span class=\"code-keyword\">instanceof</span> Point) {\r\n","\t\t<span class=\"code-keyword\">return</span> x;\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (isArray(x)) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(x[<span class=\"code-number\">0</span>], x[<span class=\"code-number\">1</span>]);\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (x === <span class=\"code-literal\">undefined</span> || x === <span class=\"code-literal\">null</span>) {\r\n","\t\t<span class=\"code-keyword\">return</span> x;\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> x === <span class=\"code-string\">'object'</span> &amp;&amp; <span class=\"code-string\">'x'</span> <span class=\"code-keyword\">in</span> x &amp;&amp; <span class=\"code-string\">'y'</span> <span class=\"code-keyword\">in</span> x) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(x.x, x.y);\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(x, y, round);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Bounds\r\n</span>","<span class=\"code-comment\"> * @aka L.Bounds\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents a rectangular area in pixel coordinates.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var p1 = L.point(10, 10),\r\n</span>","<span class=\"code-comment\"> * p2 = L.point(40, 60),\r\n</span>","<span class=\"code-comment\"> * bounds = L.bounds(p1, p2);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * All Leaflet methods that accept `Bounds` objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * otherBounds.intersects([[10, 10], [40, 60]]);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Note that `Bounds` does not inherit from Leaflet's `Class` object,\r\n</span>","<span class=\"code-comment\"> * which means new classes can't inherit from it, and new methods\r\n</span>","<span class=\"code-comment\"> * can't be added to it with the `include` function.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bounds</span>(<span class=\"code-params\">a, b</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!a) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t<span class=\"code-keyword\">var</span> points = b ? [a, b] : a;\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = points.length; i &lt; len; i++) {\r\n","\t\t<span class=\"code-keyword\">this</span>.extend(points[i]);\r\n","\t}\r\n","}\r\n","\r\n","Bounds.prototype = {\r\n","\t<span class=\"code-comment\">// @method extend(point: Point): this</span>\r\n","\t<span class=\"code-comment\">// Extends the bounds to contain the given point.</span>\r\n","\textend: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{ <span class=\"code-comment\">// (Point)</span>\r\n","\t\tpoint = toPoint(point);\r\n","\r\n","\t\t<span class=\"code-comment\">// @property min: Point</span>\r\n","\t\t<span class=\"code-comment\">// The top left corner of the rectangle.</span>\r\n","\t\t<span class=\"code-comment\">// @property max: Point</span>\r\n","\t\t<span class=\"code-comment\">// The bottom right corner of the rectangle.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.min &amp;&amp; !<span class=\"code-keyword\">this</span>.max) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.min = point.clone();\r\n","\t\t\t<span class=\"code-keyword\">this</span>.max = point.clone();\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.min.x = <span class=\"code-built_in\">Math</span>.min(point.x, <span class=\"code-keyword\">this</span>.min.x);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.max.x = <span class=\"code-built_in\">Math</span>.max(point.x, <span class=\"code-keyword\">this</span>.max.x);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.min.y = <span class=\"code-built_in\">Math</span>.min(point.y, <span class=\"code-keyword\">this</span>.min.y);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.max.y = <span class=\"code-built_in\">Math</span>.max(point.y, <span class=\"code-keyword\">this</span>.max.y);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getCenter(round?: Boolean): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the center point of the bounds.</span>\r\n","\tgetCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">round</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(\r\n","\t\t        (<span class=\"code-keyword\">this</span>.min.x + <span class=\"code-keyword\">this</span>.max.x) / <span class=\"code-number\">2</span>,\r\n","\t\t        (<span class=\"code-keyword\">this</span>.min.y + <span class=\"code-keyword\">this</span>.max.y) / <span class=\"code-number\">2</span>, round);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getBottomLeft(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the bottom-left point of the bounds.</span>\r\n","\tgetBottomLeft: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(<span class=\"code-keyword\">this</span>.min.x, <span class=\"code-keyword\">this</span>.max.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getTopRight(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the top-right point of the bounds.</span>\r\n","\tgetTopRight: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{ <span class=\"code-comment\">// -&gt; Point</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(<span class=\"code-keyword\">this</span>.max.x, <span class=\"code-keyword\">this</span>.min.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getTopLeft(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the top-left point of the bounds (i.e. [`this.min`](#bounds-min)).</span>\r\n","\tgetTopLeft: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min; <span class=\"code-comment\">// left, top</span>\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getBottomRight(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the bottom-right point of the bounds (i.e. [`this.max`](#bounds-max)).</span>\r\n","\tgetBottomRight: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.max; <span class=\"code-comment\">// right, bottom</span>\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getSize(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the size of the given bounds</span>\r\n","\tgetSize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.max.subtract(<span class=\"code-keyword\">this</span>.min);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method contains(otherBounds: Bounds): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle contains the given one.</span>\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method contains(point: Point): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle contains the given point.</span>\r\n","\tcontains: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> min, max;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> obj[<span class=\"code-number\">0</span>] === <span class=\"code-string\">'number'</span> || obj <span class=\"code-keyword\">instanceof</span> Point) {\r\n","\t\t\tobj = toPoint(obj);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tobj = toBounds(obj);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (obj <span class=\"code-keyword\">instanceof</span> Bounds) {\r\n","\t\t\tmin = obj.min;\r\n","\t\t\tmax = obj.max;\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tmin = max = obj;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> (min.x &gt;= <span class=\"code-keyword\">this</span>.min.x) &amp;&amp;\r\n","\t\t       (max.x &lt;= <span class=\"code-keyword\">this</span>.max.x) &amp;&amp;\r\n","\t\t       (min.y &gt;= <span class=\"code-keyword\">this</span>.min.y) &amp;&amp;\r\n","\t\t       (max.y &lt;= <span class=\"code-keyword\">this</span>.max.y);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method intersects(otherBounds: Bounds): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle intersects the given bounds. Two bounds</span>\r\n","\t<span class=\"code-comment\">// intersect if they have at least one point in common.</span>\r\n","\tintersects: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{ <span class=\"code-comment\">// (Bounds) -&gt; Boolean</span>\r\n","\t\tbounds = toBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> min = <span class=\"code-keyword\">this</span>.min,\r\n","\t\t    max = <span class=\"code-keyword\">this</span>.max,\r\n","\t\t    min2 = bounds.min,\r\n","\t\t    max2 = bounds.max,\r\n","\t\t    xIntersects = (max2.x &gt;= min.x) &amp;&amp; (min2.x &lt;= max.x),\r\n","\t\t    yIntersects = (max2.y &gt;= min.y) &amp;&amp; (min2.y &lt;= max.y);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> xIntersects &amp;&amp; yIntersects;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method overlaps(otherBounds: Bounds): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle overlaps the given bounds. Two bounds</span>\r\n","\t<span class=\"code-comment\">// overlap if their intersection is an area.</span>\r\n","\toverlaps: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{ <span class=\"code-comment\">// (Bounds) -&gt; Boolean</span>\r\n","\t\tbounds = toBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> min = <span class=\"code-keyword\">this</span>.min,\r\n","\t\t    max = <span class=\"code-keyword\">this</span>.max,\r\n","\t\t    min2 = bounds.min,\r\n","\t\t    max2 = bounds.max,\r\n","\t\t    xOverlaps = (max2.x &gt; min.x) &amp;&amp; (min2.x &lt; max.x),\r\n","\t\t    yOverlaps = (max2.y &gt; min.y) &amp;&amp; (min2.y &lt; max.y);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> xOverlaps &amp;&amp; yOverlaps;\r\n","\t},\r\n","\r\n","\tisValid: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> !!(<span class=\"code-keyword\">this</span>.min &amp;&amp; <span class=\"code-keyword\">this</span>.max);\r\n","\t}\r\n","};\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.bounds(corner1: Point, corner2: Point)</span>\r\n","<span class=\"code-comment\">// Creates a Bounds object from two corners coordinate pairs.</span>\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.bounds(points: Point[])</span>\r\n","<span class=\"code-comment\">// Creates a Bounds object from the given array of points.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toBounds</span>(<span class=\"code-params\">a, b</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!a || a <span class=\"code-keyword\">instanceof</span> Bounds) {\r\n","\t\t<span class=\"code-keyword\">return</span> a;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Bounds(a, b);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class LatLngBounds\r\n</span>","<span class=\"code-comment\"> * @aka L.LatLngBounds\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents a rectangular geographical area on a map.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var corner1 = L.latLng(40.712, -74.227),\r\n</span>","<span class=\"code-comment\"> * corner2 = L.latLng(40.774, -74.125),\r\n</span>","<span class=\"code-comment\"> * bounds = L.latLngBounds(corner1, corner2);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * All Leaflet methods that accept LatLngBounds objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * map.fitBounds([\r\n</span>","<span class=\"code-comment\"> * \t[40.712, -74.227],\r\n</span>","<span class=\"code-comment\"> * \t[40.774, -74.125]\r\n</span>","<span class=\"code-comment\"> * ]);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Caution: if the area crosses the antimeridian (often confused with the International Date Line), you must specify corners _outside_ the [-180, 180] degrees longitude range.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Note that `LatLngBounds` does not inherit from Leaflet's `Class` object,\r\n</span>","<span class=\"code-comment\"> * which means new classes can't inherit from it, and new methods\r\n</span>","<span class=\"code-comment\"> * can't be added to it with the `include` function.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">LatLngBounds</span>(<span class=\"code-params\">corner1, corner2</span>) </span>{ <span class=\"code-comment\">// (LatLng, LatLng) or (LatLng[])</span>\r\n","\t<span class=\"code-keyword\">if</span> (!corner1) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t<span class=\"code-keyword\">var</span> latlngs = corner2 ? [corner1, corner2] : corner1;\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = latlngs.length; i &lt; len; i++) {\r\n","\t\t<span class=\"code-keyword\">this</span>.extend(latlngs[i]);\r\n","\t}\r\n","}\r\n","\r\n","LatLngBounds.prototype = {\r\n","\r\n","\t<span class=\"code-comment\">// @method extend(latlng: LatLng): this</span>\r\n","\t<span class=\"code-comment\">// Extend the bounds to contain the given point</span>\r\n","\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method extend(otherBounds: LatLngBounds): this</span>\r\n","\t<span class=\"code-comment\">// Extend the bounds to contain the given bounds</span>\r\n","\textend: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> sw = <span class=\"code-keyword\">this</span>._southWest,\r\n","\t\t    ne = <span class=\"code-keyword\">this</span>._northEast,\r\n","\t\t    sw2, ne2;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (obj <span class=\"code-keyword\">instanceof</span> LatLng) {\r\n","\t\t\tsw2 = obj;\r\n","\t\t\tne2 = obj;\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (obj <span class=\"code-keyword\">instanceof</span> LatLngBounds) {\r\n","\t\t\tsw2 = obj._southWest;\r\n","\t\t\tne2 = obj._northEast;\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!sw2 || !ne2) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">return</span> obj ? <span class=\"code-keyword\">this</span>.extend(toLatLng(obj) || toLatLngBounds(obj)) : <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!sw &amp;&amp; !ne) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._southWest = <span class=\"code-keyword\">new</span> LatLng(sw2.lat, sw2.lng);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._northEast = <span class=\"code-keyword\">new</span> LatLng(ne2.lat, ne2.lng);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tsw.lat = <span class=\"code-built_in\">Math</span>.min(sw2.lat, sw.lat);\r\n","\t\t\tsw.lng = <span class=\"code-built_in\">Math</span>.min(sw2.lng, sw.lng);\r\n","\t\t\tne.lat = <span class=\"code-built_in\">Math</span>.max(ne2.lat, ne.lat);\r\n","\t\t\tne.lng = <span class=\"code-built_in\">Math</span>.max(ne2.lng, ne.lng);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method pad(bufferRatio: Number): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.</span>\r\n","\t<span class=\"code-comment\">// For example, a ratio of 0.5 extends the bounds by 50% in each direction.</span>\r\n","\t<span class=\"code-comment\">// Negative values will retract the bounds.</span>\r\n","\tpad: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bufferRatio</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> sw = <span class=\"code-keyword\">this</span>._southWest,\r\n","\t\t    ne = <span class=\"code-keyword\">this</span>._northEast,\r\n","\t\t    heightBuffer = <span class=\"code-built_in\">Math</span>.abs(sw.lat - ne.lat) * bufferRatio,\r\n","\t\t    widthBuffer = <span class=\"code-built_in\">Math</span>.abs(sw.lng - ne.lng) * bufferRatio;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLngBounds(\r\n","\t\t        <span class=\"code-keyword\">new</span> LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\r\n","\t\t        <span class=\"code-keyword\">new</span> LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getCenter(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the center point of the bounds.</span>\r\n","\tgetCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(\r\n","\t\t        (<span class=\"code-keyword\">this</span>._southWest.lat + <span class=\"code-keyword\">this</span>._northEast.lat) / <span class=\"code-number\">2</span>,\r\n","\t\t        (<span class=\"code-keyword\">this</span>._southWest.lng + <span class=\"code-keyword\">this</span>._northEast.lng) / <span class=\"code-number\">2</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getSouthWest(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the south-west point of the bounds.</span>\r\n","\tgetSouthWest: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._southWest;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getNorthEast(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the north-east point of the bounds.</span>\r\n","\tgetNorthEast: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._northEast;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getNorthWest(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the north-west point of the bounds.</span>\r\n","\tgetNorthWest: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(<span class=\"code-keyword\">this</span>.getNorth(), <span class=\"code-keyword\">this</span>.getWest());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getSouthEast(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the south-east point of the bounds.</span>\r\n","\tgetSouthEast: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(<span class=\"code-keyword\">this</span>.getSouth(), <span class=\"code-keyword\">this</span>.getEast());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getWest(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the west longitude of the bounds</span>\r\n","\tgetWest: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._southWest.lng;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getSouth(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the south latitude of the bounds</span>\r\n","\tgetSouth: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._southWest.lat;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getEast(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the east longitude of the bounds</span>\r\n","\tgetEast: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._northEast.lng;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getNorth(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the north latitude of the bounds</span>\r\n","\tgetNorth: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._northEast.lat;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method contains(otherBounds: LatLngBounds): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle contains the given one.</span>\r\n","\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method contains (latlng: LatLng): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle contains the given point.</span>\r\n","\tcontains: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{ <span class=\"code-comment\">// (LatLngBounds) or (LatLng) -&gt; Boolean</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> obj[<span class=\"code-number\">0</span>] === <span class=\"code-string\">'number'</span> || obj <span class=\"code-keyword\">instanceof</span> LatLng || <span class=\"code-string\">'lat'</span> <span class=\"code-keyword\">in</span> obj) {\r\n","\t\t\tobj = toLatLng(obj);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tobj = toLatLngBounds(obj);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> sw = <span class=\"code-keyword\">this</span>._southWest,\r\n","\t\t    ne = <span class=\"code-keyword\">this</span>._northEast,\r\n","\t\t    sw2, ne2;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (obj <span class=\"code-keyword\">instanceof</span> LatLngBounds) {\r\n","\t\t\tsw2 = obj.getSouthWest();\r\n","\t\t\tne2 = obj.getNorthEast();\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tsw2 = ne2 = obj;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> (sw2.lat &gt;= sw.lat) &amp;&amp; (ne2.lat &lt;= ne.lat) &amp;&amp;\r\n","\t\t       (sw2.lng &gt;= sw.lng) &amp;&amp; (ne2.lng &lt;= ne.lng);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method intersects(otherBounds: LatLngBounds): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.</span>\r\n","\tintersects: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{\r\n","\t\tbounds = toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> sw = <span class=\"code-keyword\">this</span>._southWest,\r\n","\t\t    ne = <span class=\"code-keyword\">this</span>._northEast,\r\n","\t\t    sw2 = bounds.getSouthWest(),\r\n","\t\t    ne2 = bounds.getNorthEast(),\r\n","\r\n","\t\t    latIntersects = (ne2.lat &gt;= sw.lat) &amp;&amp; (sw2.lat &lt;= ne.lat),\r\n","\t\t    lngIntersects = (ne2.lng &gt;= sw.lng) &amp;&amp; (sw2.lng &lt;= ne.lng);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> latIntersects &amp;&amp; lngIntersects;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method overlaps(otherBounds: LatLngBounds): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.</span>\r\n","\toverlaps: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{\r\n","\t\tbounds = toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> sw = <span class=\"code-keyword\">this</span>._southWest,\r\n","\t\t    ne = <span class=\"code-keyword\">this</span>._northEast,\r\n","\t\t    sw2 = bounds.getSouthWest(),\r\n","\t\t    ne2 = bounds.getNorthEast(),\r\n","\r\n","\t\t    latOverlaps = (ne2.lat &gt; sw.lat) &amp;&amp; (sw2.lat &lt; ne.lat),\r\n","\t\t    lngOverlaps = (ne2.lng &gt; sw.lng) &amp;&amp; (sw2.lng &lt; ne.lng);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> latOverlaps &amp;&amp; lngOverlaps;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method toBBoxString(): String</span>\r\n","\t<span class=\"code-comment\">// Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.</span>\r\n","\ttoBBoxString: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> [<span class=\"code-keyword\">this</span>.getWest(), <span class=\"code-keyword\">this</span>.getSouth(), <span class=\"code-keyword\">this</span>.getEast(), <span class=\"code-keyword\">this</span>.getNorth()].join(<span class=\"code-string\">','</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method equals(otherBounds: LatLngBounds, maxMargin?: Number): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds. The margin of error can be overridden by setting `maxMargin` to a small number.</span>\r\n","\tequals: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds, maxMargin</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!bounds) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","\t\tbounds = toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._southWest.equals(bounds.getSouthWest(), maxMargin) &amp;&amp;\r\n","\t\t       <span class=\"code-keyword\">this</span>._northEast.equals(bounds.getNorthEast(), maxMargin);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method isValid(): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the bounds are properly initialized.</span>\r\n","\tisValid: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> !!(<span class=\"code-keyword\">this</span>._southWest &amp;&amp; <span class=\"code-keyword\">this</span>._northEast);\r\n","\t}\r\n","};\r\n","\r\n","<span class=\"code-comment\">// TODO International date line?</span>\r\n","\r\n","<span class=\"code-comment\">// @factory L.latLngBounds(corner1: LatLng, corner2: LatLng)</span>\r\n","<span class=\"code-comment\">// Creates a `LatLngBounds` object by defining two diagonally opposite corners of the rectangle.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.latLngBounds(latlngs: LatLng[])</span>\r\n","<span class=\"code-comment\">// Creates a `LatLngBounds` object defined by the geographical points it contains. Very useful for zooming the map to fit a particular set of locations with [`fitBounds`](#map-fitbounds).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toLatLngBounds</span>(<span class=\"code-params\">a, b</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (a <span class=\"code-keyword\">instanceof</span> LatLngBounds) {\r\n","\t\t<span class=\"code-keyword\">return</span> a;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLngBounds(a, b);\r\n","}\n","\n","<span class=\"code-comment\">/* @class LatLng\r\n</span>","<span class=\"code-comment\"> * @aka L.LatLng\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents a geographical point with a certain latitude and longitude.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> * var latlng = L.latLng(50.5, 30.5);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * All Leaflet methods that accept LatLng objects also accept them in a simple Array form and simple object form (unless noted otherwise), so these lines are equivalent:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> * map.panTo([50, 30]);\r\n</span>","<span class=\"code-comment\"> * map.panTo({lon: 30, lat: 50});\r\n</span>","<span class=\"code-comment\"> * map.panTo({lat: 50, lng: 30});\r\n</span>","<span class=\"code-comment\"> * map.panTo(L.latLng(50, 30));\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Note that `LatLng` does not inherit from Leaflet's `Class` object,\r\n</span>","<span class=\"code-comment\"> * which means new classes can't inherit from it, and new methods\r\n</span>","<span class=\"code-comment\"> * can't be added to it with the `include` function.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">LatLng</span>(<span class=\"code-params\">lat, lng, alt</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">isNaN</span>(lat) || <span class=\"code-built_in\">isNaN</span>(lng)) {\r\n","\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Invalid LatLng object: ('</span> + lat + <span class=\"code-string\">', '</span> + lng + <span class=\"code-string\">')'</span>);\r\n","\t}\r\n","\r\n","\t<span class=\"code-comment\">// @property lat: Number</span>\r\n","\t<span class=\"code-comment\">// Latitude in degrees</span>\r\n","\t<span class=\"code-keyword\">this</span>.lat = +lat;\r\n","\r\n","\t<span class=\"code-comment\">// @property lng: Number</span>\r\n","\t<span class=\"code-comment\">// Longitude in degrees</span>\r\n","\t<span class=\"code-keyword\">this</span>.lng = +lng;\r\n","\r\n","\t<span class=\"code-comment\">// @property alt: Number</span>\r\n","\t<span class=\"code-comment\">// Altitude in meters (optional)</span>\r\n","\t<span class=\"code-keyword\">if</span> (alt !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t<span class=\"code-keyword\">this</span>.alt = +alt;\r\n","\t}\r\n","}\r\n","\r\n","LatLng.prototype = {\r\n","\t<span class=\"code-comment\">// @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overridden by setting `maxMargin` to a small number.</span>\r\n","\tequals: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj, maxMargin</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!obj) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","\t\tobj = toLatLng(obj);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> margin = <span class=\"code-built_in\">Math</span>.max(\r\n","\t\t        <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.lat - obj.lat),\r\n","\t\t        <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.lng - obj.lng));\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> margin &lt;= (maxMargin === <span class=\"code-literal\">undefined</span> ? <span class=\"code-number\">1.0E-9</span> : maxMargin);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method toString(): String</span>\r\n","\t<span class=\"code-comment\">// Returns a string representation of the point (for debugging purposes).</span>\r\n","\ttoString: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">precision</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-string\">'LatLng('</span> +\r\n","\t\t        formatNum(<span class=\"code-keyword\">this</span>.lat, precision) + <span class=\"code-string\">', '</span> +\r\n","\t\t        formatNum(<span class=\"code-keyword\">this</span>.lng, precision) + <span class=\"code-string\">')'</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method distanceTo(otherLatLng: LatLng): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the distance (in meters) to the given `LatLng` calculated using the [Spherical Law of Cosines](https://en.wikipedia.org/wiki/Spherical_law_of_cosines).</span>\r\n","\tdistanceTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">other</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> Earth.distance(<span class=\"code-keyword\">this</span>, toLatLng(other));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method wrap(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.</span>\r\n","\twrap: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> Earth.wrapLatLng(<span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method toBounds(sizeInMeters: Number): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters/2` meters apart from the `LatLng`.</span>\r\n","\ttoBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">sizeInMeters</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> latAccuracy = <span class=\"code-number\">180</span> * sizeInMeters / <span class=\"code-number\">40075017</span>,\r\n","\t\t    lngAccuracy = latAccuracy / <span class=\"code-built_in\">Math</span>.cos((<span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">180</span>) * <span class=\"code-keyword\">this</span>.lat);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> toLatLngBounds(\r\n","\t\t        [<span class=\"code-keyword\">this</span>.lat - latAccuracy, <span class=\"code-keyword\">this</span>.lng - lngAccuracy],\r\n","\t\t        [<span class=\"code-keyword\">this</span>.lat + latAccuracy, <span class=\"code-keyword\">this</span>.lng + lngAccuracy]);\r\n","\t},\r\n","\r\n","\tclone: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(<span class=\"code-keyword\">this</span>.lat, <span class=\"code-keyword\">this</span>.lng, <span class=\"code-keyword\">this</span>.alt);\r\n","\t}\r\n","};\r\n","\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.latLng(latitude: Number, longitude: Number, altitude?: Number): LatLng</span>\r\n","<span class=\"code-comment\">// Creates an object representing a geographical point with the given latitude and longitude (and optionally altitude).</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.latLng(coords: Array): LatLng</span>\r\n","<span class=\"code-comment\">// Expects an array of the form `[Number, Number]` or `[Number, Number, Number]` instead.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.latLng(coords: Object): LatLng</span>\r\n","<span class=\"code-comment\">// Expects an plain object of the form `{lat: Number, lng: Number}` or `{lat: Number, lng: Number, alt: Number}` instead.</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toLatLng</span>(<span class=\"code-params\">a, b, c</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (a <span class=\"code-keyword\">instanceof</span> LatLng) {\r\n","\t\t<span class=\"code-keyword\">return</span> a;\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (isArray(a) &amp;&amp; <span class=\"code-keyword\">typeof</span> a[<span class=\"code-number\">0</span>] !== <span class=\"code-string\">'object'</span>) {\r\n","\t\t<span class=\"code-keyword\">if</span> (a.length === <span class=\"code-number\">3</span>) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(a[<span class=\"code-number\">0</span>], a[<span class=\"code-number\">1</span>], a[<span class=\"code-number\">2</span>]);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (a.length === <span class=\"code-number\">2</span>) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(a[<span class=\"code-number\">0</span>], a[<span class=\"code-number\">1</span>]);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (a === <span class=\"code-literal\">undefined</span> || a === <span class=\"code-literal\">null</span>) {\r\n","\t\t<span class=\"code-keyword\">return</span> a;\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> a === <span class=\"code-string\">'object'</span> &amp;&amp; <span class=\"code-string\">'lat'</span> <span class=\"code-keyword\">in</span> a) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(a.lat, <span class=\"code-string\">'lng'</span> <span class=\"code-keyword\">in</span> a ? a.lng : a.lon, a.alt);\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (b === <span class=\"code-literal\">undefined</span>) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(a, b, c);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace CRS\r\n</span>","<span class=\"code-comment\"> * @crs L.CRS.Base\r\n</span>","<span class=\"code-comment\"> * Object that defines coordinate reference systems for projecting\r\n</span>","<span class=\"code-comment\"> * geographical points into pixel (screen) coordinates and back (and to\r\n</span>","<span class=\"code-comment\"> * coordinates in other units for [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services). See\r\n</span>","<span class=\"code-comment\"> * [spatial reference system](https://en.wikipedia.org/wiki/Spatial_reference_system).\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Leaflet defines the most usual CRSs by default. If you want to use a\r\n</span>","<span class=\"code-comment\"> * CRS not defined by default, take a look at the\r\n</span>","<span class=\"code-comment\"> * [Proj4Leaflet](https://github.com/kartena/Proj4Leaflet) plugin.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Note that the CRS instances do not inherit from Leaflet's `Class` object,\r\n</span>","<span class=\"code-comment\"> * and can't be instantiated. Also, new classes can't inherit from them,\r\n</span>","<span class=\"code-comment\"> * and methods can't be added to them with the `include` function.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> CRS = {\r\n","\t<span class=\"code-comment\">// @method latLngToPoint(latlng: LatLng, zoom: Number): Point</span>\r\n","\t<span class=\"code-comment\">// Projects geographical coordinates into pixel coordinates for a given zoom.</span>\r\n","\tlatLngToPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> projectedPoint = <span class=\"code-keyword\">this</span>.projection.project(latlng),\r\n","\t\t    scale = <span class=\"code-keyword\">this</span>.scale(zoom);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.transformation._transform(projectedPoint, scale);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method pointToLatLng(point: Point, zoom: Number): LatLng</span>\r\n","\t<span class=\"code-comment\">// The inverse of `latLngToPoint`. Projects pixel coordinates on a given</span>\r\n","\t<span class=\"code-comment\">// zoom into geographical coordinates.</span>\r\n","\tpointToLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point, zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-keyword\">this</span>.scale(zoom),\r\n","\t\t    untransformedPoint = <span class=\"code-keyword\">this</span>.transformation.untransform(point, scale);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.projection.unproject(untransformedPoint);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method project(latlng: LatLng): Point</span>\r\n","\t<span class=\"code-comment\">// Projects geographical coordinates into coordinates in units accepted for</span>\r\n","\t<span class=\"code-comment\">// this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).</span>\r\n","\tproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.projection.project(latlng);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method unproject(point: Point): LatLng</span>\r\n","\t<span class=\"code-comment\">// Given a projected coordinate returns the corresponding LatLng.</span>\r\n","\t<span class=\"code-comment\">// The inverse of `project`.</span>\r\n","\tunproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.projection.unproject(point);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method scale(zoom: Number): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the scale used when transforming projected coordinates into</span>\r\n","\t<span class=\"code-comment\">// pixel coordinates for a particular zoom. For example, it returns</span>\r\n","\t<span class=\"code-comment\">// `256 * 2^zoom` for Mercator-based CRS.</span>\r\n","\tscale: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-number\">256</span> * <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>, zoom);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method zoom(scale: Number): Number</span>\r\n","\t<span class=\"code-comment\">// Inverse of `scale()`, returns the zoom level corresponding to a scale</span>\r\n","\t<span class=\"code-comment\">// factor of `scale`.</span>\r\n","\tzoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">scale</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.log(scale / <span class=\"code-number\">256</span>) / <span class=\"code-built_in\">Math</span>.LN2;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getProjectedBounds(zoom: Number): Bounds</span>\r\n","\t<span class=\"code-comment\">// Returns the projection's bounds scaled and transformed for the provided `zoom`.</span>\r\n","\tgetProjectedBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.infinite) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> b = <span class=\"code-keyword\">this</span>.projection.bounds,\r\n","\t\t    s = <span class=\"code-keyword\">this</span>.scale(zoom),\r\n","\t\t    min = <span class=\"code-keyword\">this</span>.transformation.transform(b.min, s),\r\n","\t\t    max = <span class=\"code-keyword\">this</span>.transformation.transform(b.max, s);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Bounds(min, max);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method distance(latlng1: LatLng, latlng2: LatLng): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the distance between two geographical coordinates.</span>\r\n","\r\n","\t<span class=\"code-comment\">// @property code: String</span>\r\n","\t<span class=\"code-comment\">// Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)</span>\r\n","\t<span class=\"code-comment\">//</span>\r\n","\t<span class=\"code-comment\">// @property wrapLng: Number[]</span>\r\n","\t<span class=\"code-comment\">// An array of two numbers defining whether the longitude (horizontal) coordinate</span>\r\n","\t<span class=\"code-comment\">// axis wraps around a given range and how. Defaults to `[-180, 180]` in most</span>\r\n","\t<span class=\"code-comment\">// geographical CRSs. If `undefined`, the longitude axis does not wrap around.</span>\r\n","\t<span class=\"code-comment\">//</span>\r\n","\t<span class=\"code-comment\">// @property wrapLat: Number[]</span>\r\n","\t<span class=\"code-comment\">// Like `wrapLng`, but for the latitude (vertical) axis.</span>\r\n","\r\n","\t<span class=\"code-comment\">// wrapLng: [min, max],</span>\r\n","\t<span class=\"code-comment\">// wrapLat: [min, max],</span>\r\n","\r\n","\t<span class=\"code-comment\">// @property infinite: Boolean</span>\r\n","\t<span class=\"code-comment\">// If true, the coordinate space will be unbounded (infinite in both axes)</span>\r\n","\tinfinite: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t<span class=\"code-comment\">// @method wrapLatLng(latlng: LatLng): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns a `LatLng` where lat and lng has been wrapped according to the</span>\r\n","\t<span class=\"code-comment\">// CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.</span>\r\n","\twrapLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> lng = <span class=\"code-keyword\">this</span>.wrapLng ? wrapNum(latlng.lng, <span class=\"code-keyword\">this</span>.wrapLng, <span class=\"code-literal\">true</span>) : latlng.lng,\r\n","\t\t    lat = <span class=\"code-keyword\">this</span>.wrapLat ? wrapNum(latlng.lat, <span class=\"code-keyword\">this</span>.wrapLat, <span class=\"code-literal\">true</span>) : latlng.lat,\r\n","\t\t    alt = latlng.alt;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(lat, lng, alt);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Returns a `LatLngBounds` with the same size as the given one, ensuring</span>\r\n","\t<span class=\"code-comment\">// that its center is within the CRS's bounds.</span>\r\n","\t<span class=\"code-comment\">// Only accepts actual `L.LatLngBounds` instances, not arrays.</span>\r\n","\twrapLatLngBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> center = bounds.getCenter(),\r\n","\t\t    newCenter = <span class=\"code-keyword\">this</span>.wrapLatLng(center),\r\n","\t\t    latShift = center.lat - newCenter.lat,\r\n","\t\t    lngShift = center.lng - newCenter.lng;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (latShift === <span class=\"code-number\">0</span> &amp;&amp; lngShift === <span class=\"code-number\">0</span>) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> bounds;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> sw = bounds.getSouthWest(),\r\n","\t\t    ne = bounds.getNorthEast(),\r\n","\t\t    newSw = <span class=\"code-keyword\">new</span> LatLng(sw.lat - latShift, sw.lng - lngShift),\r\n","\t\t    newNe = <span class=\"code-keyword\">new</span> LatLng(ne.lat - latShift, ne.lng - lngShift);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLngBounds(newSw, newNe);\r\n","\t}\r\n","};\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @namespace CRS\n</span>","<span class=\"code-comment\"> * @crs L.CRS.Earth\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Serves as the base for CRS that are global such that they cover the earth.\n</span>","<span class=\"code-comment\"> * Can only be used as the base for other CRS and cannot be used directly,\n</span>","<span class=\"code-comment\"> * since it does not have a `code`, `projection` or `transformation`. `distance()` returns\n</span>","<span class=\"code-comment\"> * meters.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Earth = extend({}, CRS, {\n","\twrapLng: [<span class=\"code-number\">-180</span>, <span class=\"code-number\">180</span>],\n","\n","\t<span class=\"code-comment\">// Mean Earth Radius, as recommended for use by</span>\n","\t<span class=\"code-comment\">// the International Union of Geodesy and Geophysics,</span>\n","\t<span class=\"code-comment\">// see https://rosettacode.org/wiki/Haversine_formula</span>\n","\tR: <span class=\"code-number\">6371000</span>,\n","\n","\t<span class=\"code-comment\">// distance between two geographical points using spherical law of cosines approximation</span>\n","\tdistance: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng1, latlng2</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> rad = <span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">180</span>,\n","\t\t    lat1 = latlng1.lat * rad,\n","\t\t    lat2 = latlng2.lat * rad,\n","\t\t    sinDLat = <span class=\"code-built_in\">Math</span>.sin((latlng2.lat - latlng1.lat) * rad / <span class=\"code-number\">2</span>),\n","\t\t    sinDLon = <span class=\"code-built_in\">Math</span>.sin((latlng2.lng - latlng1.lng) * rad / <span class=\"code-number\">2</span>),\n","\t\t    a = sinDLat * sinDLat + <span class=\"code-built_in\">Math</span>.cos(lat1) * <span class=\"code-built_in\">Math</span>.cos(lat2) * sinDLon * sinDLon,\n","\t\t    c = <span class=\"code-number\">2</span> * <span class=\"code-built_in\">Math</span>.atan2(<span class=\"code-built_in\">Math</span>.sqrt(a), <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span> - a));\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.R * c;\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace Projection\r\n</span>","<span class=\"code-comment\"> * @projection L.Projection.SphericalMercator\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Spherical Mercator projection \u2014 the most common projection for online maps,\r\n</span>","<span class=\"code-comment\"> * used by almost all free and commercial tile providers. Assumes that Earth is\r\n</span>","<span class=\"code-comment\"> * a sphere. Used by the `EPSG:3857` CRS.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> earthRadius = <span class=\"code-number\">6378137</span>;\r\n","\r\n","<span class=\"code-keyword\">var</span> SphericalMercator = {\r\n","\r\n","\tR: earthRadius,\r\n","\tMAX_LATITUDE: <span class=\"code-number\">85.0511287798</span>,\r\n","\r\n","\tproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> d = <span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">180</span>,\r\n","\t\t    max = <span class=\"code-keyword\">this</span>.MAX_LATITUDE,\r\n","\t\t    lat = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.min(max, latlng.lat), -max),\r\n","\t\t    sin = <span class=\"code-built_in\">Math</span>.sin(lat * d);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(\r\n","\t\t\t<span class=\"code-keyword\">this</span>.R * latlng.lng * d,\r\n","\t\t\t<span class=\"code-keyword\">this</span>.R * <span class=\"code-built_in\">Math</span>.log((<span class=\"code-number\">1</span> + sin) / (<span class=\"code-number\">1</span> - sin)) / <span class=\"code-number\">2</span>);\r\n","\t},\r\n","\r\n","\tunproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> d = <span class=\"code-number\">180</span> / <span class=\"code-built_in\">Math</span>.PI;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(\r\n","\t\t\t(<span class=\"code-number\">2</span> * <span class=\"code-built_in\">Math</span>.atan(<span class=\"code-built_in\">Math</span>.exp(point.y / <span class=\"code-keyword\">this</span>.R)) - (<span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">2</span>)) * d,\r\n","\t\t\tpoint.x * d / <span class=\"code-keyword\">this</span>.R);\r\n","\t},\r\n","\r\n","\tbounds: (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> d = earthRadius * <span class=\"code-built_in\">Math</span>.PI;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Bounds([-d, -d], [d, d]);\r\n","\t})()\r\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Transformation\r\n</span>","<span class=\"code-comment\"> * @aka L.Transformation\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents an affine transformation: a set of coefficients `a`, `b`, `c`, `d`\r\n</span>","<span class=\"code-comment\"> * for transforming a point of a form `(x, y)` into `(a*x + b, c*y + d)` and doing\r\n</span>","<span class=\"code-comment\"> * the reverse. Used by Leaflet in its projections code.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var transformation = L.transformation(2, 5, -1, 10),\r\n</span>","<span class=\"code-comment\"> * \tp = L.point(1, 2),\r\n</span>","<span class=\"code-comment\"> * \tp2 = transformation.transform(p), //  L.point(7, 8)\r\n</span>","<span class=\"code-comment\"> * \tp3 = transformation.untransform(p2); //  L.point(1, 2)\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","\r\n","<span class=\"code-comment\">// factory new L.Transformation(a: Number, b: Number, c: Number, d: Number)</span>\r\n","<span class=\"code-comment\">// Creates a `Transformation` object with the given coefficients.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Transformation</span>(<span class=\"code-params\">a, b, c, d</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (isArray(a)) {\r\n","\t\t<span class=\"code-comment\">// use array properties</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._a = a[<span class=\"code-number\">0</span>];\r\n","\t\t<span class=\"code-keyword\">this</span>._b = a[<span class=\"code-number\">1</span>];\r\n","\t\t<span class=\"code-keyword\">this</span>._c = a[<span class=\"code-number\">2</span>];\r\n","\t\t<span class=\"code-keyword\">this</span>._d = a[<span class=\"code-number\">3</span>];\r\n","\t\t<span class=\"code-keyword\">return</span>;\r\n","\t}\r\n","\t<span class=\"code-keyword\">this</span>._a = a;\r\n","\t<span class=\"code-keyword\">this</span>._b = b;\r\n","\t<span class=\"code-keyword\">this</span>._c = c;\r\n","\t<span class=\"code-keyword\">this</span>._d = d;\r\n","}\r\n","\r\n","Transformation.prototype = {\r\n","\t<span class=\"code-comment\">// @method transform(point: Point, scale?: Number): Point</span>\r\n","\t<span class=\"code-comment\">// Returns a transformed point, optionally multiplied by the given scale.</span>\r\n","\t<span class=\"code-comment\">// Only accepts actual `L.Point` instances, not arrays.</span>\r\n","\ttransform: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point, scale</span>) </span>{ <span class=\"code-comment\">// (Point, Number) -&gt; Point</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transform(point.clone(), scale);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// destructive transform (faster)</span>\r\n","\t_transform: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point, scale</span>) </span>{\r\n","\t\tscale = scale || <span class=\"code-number\">1</span>;\r\n","\t\tpoint.x = scale * (<span class=\"code-keyword\">this</span>._a * point.x + <span class=\"code-keyword\">this</span>._b);\r\n","\t\tpoint.y = scale * (<span class=\"code-keyword\">this</span>._c * point.y + <span class=\"code-keyword\">this</span>._d);\r\n","\t\t<span class=\"code-keyword\">return</span> point;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method untransform(point: Point, scale?: Number): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the reverse transformation of the given point, optionally divided</span>\r\n","\t<span class=\"code-comment\">// by the given scale. Only accepts actual `L.Point` instances, not arrays.</span>\r\n","\tuntransform: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point, scale</span>) </span>{\r\n","\t\tscale = scale || <span class=\"code-number\">1</span>;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(\r\n","\t\t        (point.x / scale - <span class=\"code-keyword\">this</span>._b) / <span class=\"code-keyword\">this</span>._a,\r\n","\t\t        (point.y / scale - <span class=\"code-keyword\">this</span>._d) / <span class=\"code-keyword\">this</span>._c);\r\n","\t}\r\n","};\r\n","\r\n","<span class=\"code-comment\">// factory L.transformation(a: Number, b: Number, c: Number, d: Number)</span>\r\n","\r\n","<span class=\"code-comment\">// @factory L.transformation(a: Number, b: Number, c: Number, d: Number)</span>\r\n","<span class=\"code-comment\">// Instantiates a Transformation object with the given coefficients.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.transformation(coefficients: Array): Transformation</span>\r\n","<span class=\"code-comment\">// Expects an coefficients array of the form</span>\r\n","<span class=\"code-comment\">// `[a: Number, b: Number, c: Number, d: Number]`.</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toTransformation</span>(<span class=\"code-params\">a, b, c, d</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Transformation(a, b, c, d);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace CRS\r\n</span>","<span class=\"code-comment\"> * @crs L.CRS.EPSG3857\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * The most common CRS for online maps, used by almost all free and commercial\r\n</span>","<span class=\"code-comment\"> * tile providers. Uses Spherical Mercator projection. Set in by default in\r\n</span>","<span class=\"code-comment\"> * Map's `crs` option.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> EPSG3857 = extend({}, Earth, {\r\n","\tcode: <span class=\"code-string\">'EPSG:3857'</span>,\r\n","\tprojection: SphericalMercator,\r\n","\r\n","\ttransformation: (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-number\">0.5</span> / (<span class=\"code-built_in\">Math</span>.PI * SphericalMercator.R);\r\n","\t\t<span class=\"code-keyword\">return</span> toTransformation(scale, <span class=\"code-number\">0.5</span>, -scale, <span class=\"code-number\">0.5</span>);\r\n","\t}())\r\n","});\r\n","\r\n","<span class=\"code-keyword\">var</span> EPSG900913 = extend({}, EPSG3857, {\r\n","\tcode: <span class=\"code-string\">'EPSG:900913'</span>\r\n","});\n","\n","<span class=\"code-comment\">// @namespace SVG; @section</span>\n","<span class=\"code-comment\">// There are several static functions which can be called without instantiating L.SVG:</span>\n","\n","<span class=\"code-comment\">// @function create(name: String): SVGElement</span>\n","<span class=\"code-comment\">// Returns a instance of [SVGElement](https://developer.mozilla.org/docs/Web/API/SVGElement),</span>\n","<span class=\"code-comment\">// corresponding to the class name passed. For example, using 'line' will return</span>\n","<span class=\"code-comment\">// an instance of [SVGLineElement](https://developer.mozilla.org/docs/Web/API/SVGLineElement).</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">svgCreate</span>(<span class=\"code-params\">name</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>.createElementNS(<span class=\"code-string\">'http://www.w3.org/2000/svg'</span>, name);\n","}\n","\n","<span class=\"code-comment\">// @function pointsToPath(rings: Point[], closed: Boolean): String</span>\n","<span class=\"code-comment\">// Generates a SVG path string for multiple rings, with each ring turning</span>\n","<span class=\"code-comment\">// into \"M..L..L..\" instructions</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pointsToPath</span>(<span class=\"code-params\">rings, closed</span>) </span>{\n","\t<span class=\"code-keyword\">var</span> str = <span class=\"code-string\">''</span>,\n","\ti, j, len, len2, points, p;\n","\n","\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = rings.length; i &lt; len; i++) {\n","\t\tpoints = rings[i];\n","\n","\t\t<span class=\"code-keyword\">for</span> (j = <span class=\"code-number\">0</span>, len2 = points.length; j &lt; len2; j++) {\n","\t\t\tp = points[j];\n","\t\t\tstr += (j ? <span class=\"code-string\">'L'</span> : <span class=\"code-string\">'M'</span>) + p.x + <span class=\"code-string\">' '</span> + p.y;\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// closes the ring for polygons; \"x\" is VML syntax</span>\n","\t\tstr += closed ? (Browser.svg ? <span class=\"code-string\">'z'</span> : <span class=\"code-string\">'x'</span>) : <span class=\"code-string\">''</span>;\n","\t}\n","\n","\t<span class=\"code-comment\">// SVG complains about empty path strings</span>\n","\t<span class=\"code-keyword\">return</span> str || <span class=\"code-string\">'M0 0'</span>;\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace Browser\r\n</span>","<span class=\"code-comment\"> * @aka L.Browser\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A namespace with static properties for browser/feature detection used by Leaflet internally.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * if (L.Browser.ielt9) {\r\n</span>","<span class=\"code-comment\"> *   alert('Upgrade your browser, dude!');\r\n</span>","<span class=\"code-comment\"> * }\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> style = <span class=\"code-built_in\">document</span>.documentElement.style;\r\n","\r\n","<span class=\"code-comment\">// @property ie: Boolean; `true` for all Internet Explorer versions (not Edge).</span>\r\n","<span class=\"code-keyword\">var</span> ie = <span class=\"code-string\">'ActiveXObject'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">window</span>;\r\n","\r\n","<span class=\"code-comment\">// @property ielt9: Boolean; `true` for Internet Explorer versions less than 9.</span>\r\n","<span class=\"code-keyword\">var</span> ielt9 = ie &amp;&amp; !<span class=\"code-built_in\">document</span>.addEventListener;\r\n","\r\n","<span class=\"code-comment\">// @property edge: Boolean; `true` for the Edge web browser.</span>\r\n","<span class=\"code-keyword\">var</span> edge = <span class=\"code-string\">'msLaunchUri'</span> <span class=\"code-keyword\">in</span> navigator &amp;&amp; !(<span class=\"code-string\">'documentMode'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>);\r\n","\r\n","<span class=\"code-comment\">// @property webkit: Boolean;</span>\r\n","<span class=\"code-comment\">// `true` for webkit-based browsers like Chrome and Safari (including mobile versions).</span>\r\n","<span class=\"code-keyword\">var</span> webkit = userAgentContains(<span class=\"code-string\">'webkit'</span>);\r\n","\r\n","<span class=\"code-comment\">// @property android: Boolean</span>\r\n","<span class=\"code-comment\">// **Deprecated.** `true` for any browser running on an Android platform.</span>\r\n","<span class=\"code-keyword\">var</span> android = userAgentContains(<span class=\"code-string\">'android'</span>);\r\n","\r\n","<span class=\"code-comment\">// @property android23: Boolean; **Deprecated.** `true` for browsers running on Android 2 or Android 3.</span>\r\n","<span class=\"code-keyword\">var</span> android23 = userAgentContains(<span class=\"code-string\">'android 2'</span>) || userAgentContains(<span class=\"code-string\">'android 3'</span>);\r\n","\r\n","<span class=\"code-comment\">/* See https://stackoverflow.com/a/17961266 for details on detecting stock Android */</span>\r\n","<span class=\"code-keyword\">var</span> webkitVer = <span class=\"code-built_in\">parseInt</span>(<span class=\"code-regexp\">/WebKit\\/([0-9]+)|$/</span>.exec(navigator.userAgent)[<span class=\"code-number\">1</span>], <span class=\"code-number\">10</span>); <span class=\"code-comment\">// also matches AppleWebKit</span>\r\n","<span class=\"code-comment\">// @property androidStock: Boolean; **Deprecated.** `true` for the Android stock browser (i.e. not Chrome)</span>\r\n","<span class=\"code-keyword\">var</span> androidStock = android &amp;&amp; userAgentContains(<span class=\"code-string\">'Google'</span>) &amp;&amp; webkitVer &lt; <span class=\"code-number\">537</span> &amp;&amp; !(<span class=\"code-string\">'AudioNode'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">window</span>);\r\n","\r\n","<span class=\"code-comment\">// @property opera: Boolean; `true` for the Opera browser</span>\r\n","<span class=\"code-keyword\">var</span> opera = !!<span class=\"code-built_in\">window</span>.opera;\r\n","\r\n","<span class=\"code-comment\">// @property chrome: Boolean; `true` for the Chrome browser.</span>\r\n","<span class=\"code-keyword\">var</span> chrome = !edge &amp;&amp; userAgentContains(<span class=\"code-string\">'chrome'</span>);\r\n","\r\n","<span class=\"code-comment\">// @property gecko: Boolean; `true` for gecko-based browsers like Firefox.</span>\r\n","<span class=\"code-keyword\">var</span> gecko = userAgentContains(<span class=\"code-string\">'gecko'</span>) &amp;&amp; !webkit &amp;&amp; !opera &amp;&amp; !ie;\r\n","\r\n","<span class=\"code-comment\">// @property safari: Boolean; `true` for the Safari browser.</span>\r\n","<span class=\"code-keyword\">var</span> safari = !chrome &amp;&amp; userAgentContains(<span class=\"code-string\">'safari'</span>);\r\n","\r\n","<span class=\"code-keyword\">var</span> phantom = userAgentContains(<span class=\"code-string\">'phantom'</span>);\r\n","\r\n","<span class=\"code-comment\">// @property opera12: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for the Opera browser supporting CSS transforms (version 12 or later).</span>\r\n","<span class=\"code-keyword\">var</span> opera12 = <span class=\"code-string\">'OTransition'</span> <span class=\"code-keyword\">in</span> style;\r\n","\r\n","<span class=\"code-comment\">// @property win: Boolean; `true` when the browser is running in a Windows platform</span>\r\n","<span class=\"code-keyword\">var</span> win = navigator.platform.indexOf(<span class=\"code-string\">'Win'</span>) === <span class=\"code-number\">0</span>;\r\n","\r\n","<span class=\"code-comment\">// @property ie3d: Boolean; `true` for all Internet Explorer versions supporting CSS transforms.</span>\r\n","<span class=\"code-keyword\">var</span> ie3d = ie &amp;&amp; (<span class=\"code-string\">'transition'</span> <span class=\"code-keyword\">in</span> style);\r\n","\r\n","<span class=\"code-comment\">// @property webkit3d: Boolean; `true` for webkit-based browsers supporting CSS transforms.</span>\r\n","<span class=\"code-keyword\">var</span> webkit3d = (<span class=\"code-string\">'WebKitCSSMatrix'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">window</span>) &amp;&amp; (<span class=\"code-string\">'m11'</span> <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.WebKitCSSMatrix()) &amp;&amp; !android23;\r\n","\r\n","<span class=\"code-comment\">// @property gecko3d: Boolean; `true` for gecko-based browsers supporting CSS transforms.</span>\r\n","<span class=\"code-keyword\">var</span> gecko3d = <span class=\"code-string\">'MozPerspective'</span> <span class=\"code-keyword\">in</span> style;\r\n","\r\n","<span class=\"code-comment\">// @property any3d: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for all browsers supporting CSS transforms.</span>\r\n","<span class=\"code-keyword\">var</span> any3d = !<span class=\"code-built_in\">window</span>.L_DISABLE_3D &amp;&amp; (ie3d || webkit3d || gecko3d) &amp;&amp; !opera12 &amp;&amp; !phantom;\r\n","\r\n","<span class=\"code-comment\">// @property mobile: Boolean; `true` for all browsers running in a mobile device.</span>\r\n","<span class=\"code-keyword\">var</span> mobile = <span class=\"code-keyword\">typeof</span> orientation !== <span class=\"code-string\">'undefined'</span> || userAgentContains(<span class=\"code-string\">'mobile'</span>);\r\n","\r\n","<span class=\"code-comment\">// @property mobileWebkit: Boolean; `true` for all webkit-based browsers in a mobile device.</span>\r\n","<span class=\"code-keyword\">var</span> mobileWebkit = mobile &amp;&amp; webkit;\r\n","\r\n","<span class=\"code-comment\">// @property mobileWebkit3d: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for all webkit-based browsers in a mobile device supporting CSS transforms.</span>\r\n","<span class=\"code-keyword\">var</span> mobileWebkit3d = mobile &amp;&amp; webkit3d;\r\n","\r\n","<span class=\"code-comment\">// @property msPointer: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for browsers implementing the Microsoft touch events model (notably IE10).</span>\r\n","<span class=\"code-keyword\">var</span> msPointer = !<span class=\"code-built_in\">window</span>.PointerEvent &amp;&amp; <span class=\"code-built_in\">window</span>.MSPointerEvent;\r\n","\r\n","<span class=\"code-comment\">// @property pointer: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for all browsers supporting [pointer events](https://msdn.microsoft.com/en-us/library/dn433244%28v=vs.85%29.aspx).</span>\r\n","<span class=\"code-keyword\">var</span> pointer = !!(<span class=\"code-built_in\">window</span>.PointerEvent || msPointer);\r\n","\r\n","<span class=\"code-comment\">// @property touchNative: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for all browsers supporting [touch events](https://developer.mozilla.org/docs/Web/API/Touch_events).</span>\r\n","<span class=\"code-comment\">// **This does not necessarily mean** that the browser is running in a computer with</span>\r\n","<span class=\"code-comment\">// a touchscreen, it only means that the browser is capable of understanding</span>\r\n","<span class=\"code-comment\">// touch events.</span>\r\n","<span class=\"code-keyword\">var</span> touchNative = <span class=\"code-string\">'ontouchstart'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">window</span> || !!<span class=\"code-built_in\">window</span>.TouchEvent;\r\n","\r\n","<span class=\"code-comment\">// @property touch: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for all browsers supporting either [touch](#browser-touch) or [pointer](#browser-pointer) events.</span>\r\n","<span class=\"code-comment\">// Note: pointer events will be preferred (if available), and processed for all `touch*` listeners.</span>\r\n","<span class=\"code-keyword\">var</span> touch = !<span class=\"code-built_in\">window</span>.L_NO_TOUCH &amp;&amp; (touchNative || pointer);\r\n","\r\n","<span class=\"code-comment\">// @property mobileOpera: Boolean; `true` for the Opera browser in a mobile device.</span>\r\n","<span class=\"code-keyword\">var</span> mobileOpera = mobile &amp;&amp; opera;\r\n","\r\n","<span class=\"code-comment\">// @property mobileGecko: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for gecko-based browsers running in a mobile device.</span>\r\n","<span class=\"code-keyword\">var</span> mobileGecko = mobile &amp;&amp; gecko;\r\n","\r\n","<span class=\"code-comment\">// @property retina: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for browsers on a high-resolution \"retina\" screen or on any screen when browser's display zoom is more than 100%.</span>\r\n","<span class=\"code-keyword\">var</span> retina = (<span class=\"code-built_in\">window</span>.devicePixelRatio || (<span class=\"code-built_in\">window</span>.screen.deviceXDPI / <span class=\"code-built_in\">window</span>.screen.logicalXDPI)) &gt; <span class=\"code-number\">1</span>;\r\n","\r\n","<span class=\"code-comment\">// @property passiveEvents: Boolean</span>\r\n","<span class=\"code-comment\">// `true` for browsers that support passive events.</span>\r\n","<span class=\"code-keyword\">var</span> passiveEvents = (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> supportsPassiveOption = <span class=\"code-literal\">false</span>;\r\n","\t<span class=\"code-keyword\">try</span> {\r\n","\t\t<span class=\"code-keyword\">var</span> opts = <span class=\"code-built_in\">Object</span>.defineProperty({}, <span class=\"code-string\">'passive'</span>, {\r\n","\t\t\t<span class=\"code-keyword\">get</span>: function () { <span class=\"code-comment\">// eslint-disable-line getter-return</span>\r\n","\t\t\t\tsupportsPassiveOption = <span class=\"code-literal\">true</span>;\r\n","\t\t\t}\r\n","\t\t});\r\n","\t\t<span class=\"code-built_in\">window</span>.addEventListener(<span class=\"code-string\">'testPassiveEventSupport'</span>, falseFn, opts);\r\n","\t\t<span class=\"code-built_in\">window</span>.removeEventListener(<span class=\"code-string\">'testPassiveEventSupport'</span>, falseFn, opts);\r\n","\t} <span class=\"code-keyword\">catch</span> (e) {\r\n","\t\t<span class=\"code-comment\">// Errors can safely be ignored since this is only a browser support test.</span>\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> supportsPassiveOption;\r\n","}());\r\n","\r\n","<span class=\"code-comment\">// @property canvas: Boolean</span>\r\n","<span class=\"code-comment\">// `true` when the browser supports [`&lt;canvas&gt;`](https://developer.mozilla.org/docs/Web/API/Canvas_API).</span>\r\n","<span class=\"code-keyword\">var</span> canvas$<span class=\"code-number\">1</span> = (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> !!<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'canvas'</span>).getContext;\r\n","}());\r\n","\r\n","<span class=\"code-comment\">// @property svg: Boolean</span>\r\n","<span class=\"code-comment\">// `true` when the browser supports [SVG](https://developer.mozilla.org/docs/Web/SVG).</span>\r\n","<span class=\"code-keyword\">var</span> svg$<span class=\"code-number\">1</span> = !!(<span class=\"code-built_in\">document</span>.createElementNS &amp;&amp; svgCreate(<span class=\"code-string\">'svg'</span>).createSVGRect);\r\n","\r\n","<span class=\"code-comment\">// @property vml: Boolean</span>\r\n","<span class=\"code-comment\">// `true` if the browser supports [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language).</span>\r\n","<span class=\"code-keyword\">var</span> vml = !svg$<span class=\"code-number\">1</span> &amp;&amp; (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-keyword\">try</span> {\r\n","\t\t<span class=\"code-keyword\">var</span> div = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'div'</span>);\r\n","\t\tdiv.innerHTML = <span class=\"code-string\">'&lt;v:shape adj=\"1\"/&gt;'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> shape = div.firstChild;\r\n","\t\tshape.style.behavior = <span class=\"code-string\">'url(#default#VML)'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> shape &amp;&amp; (<span class=\"code-keyword\">typeof</span> shape.adj === <span class=\"code-string\">'object'</span>);\r\n","\r\n","\t} <span class=\"code-keyword\">catch</span> (e) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\r\n","\t}\r\n","}());\r\n","\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">userAgentContains</span>(<span class=\"code-params\">str</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> navigator.userAgent.toLowerCase().indexOf(str) &gt;= <span class=\"code-number\">0</span>;\r\n","}\r\n","\r\n","\r\n","<span class=\"code-keyword\">var</span> Browser = {\r\n","\tie: ie,\r\n","\tielt9: ielt9,\r\n","\tedge: edge,\r\n","\twebkit: webkit,\r\n","\tandroid: android,\r\n","\tandroid23: android23,\r\n","\tandroidStock: androidStock,\r\n","\topera: opera,\r\n","\tchrome: chrome,\r\n","\tgecko: gecko,\r\n","\tsafari: safari,\r\n","\tphantom: phantom,\r\n","\topera12: opera12,\r\n","\twin: win,\r\n","\tie3d: ie3d,\r\n","\twebkit3d: webkit3d,\r\n","\tgecko3d: gecko3d,\r\n","\tany3d: any3d,\r\n","\tmobile: mobile,\r\n","\tmobileWebkit: mobileWebkit,\r\n","\tmobileWebkit3d: mobileWebkit3d,\r\n","\tmsPointer: msPointer,\r\n","\tpointer: pointer,\r\n","\ttouch: touch,\r\n","\ttouchNative: touchNative,\r\n","\tmobileOpera: mobileOpera,\r\n","\tmobileGecko: mobileGecko,\r\n","\tretina: retina,\r\n","\tpassiveEvents: passiveEvents,\r\n","\tcanvas: canvas$<span class=\"code-number\">1</span>,\r\n","\tsvg: svg$<span class=\"code-number\">1</span>,\r\n","\tvml: vml,\r\n","};\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> POINTER_DOWN =   Browser.msPointer ? <span class=\"code-string\">'MSPointerDown'</span>   : <span class=\"code-string\">'pointerdown'</span>;\n","<span class=\"code-keyword\">var</span> POINTER_MOVE =   Browser.msPointer ? <span class=\"code-string\">'MSPointerMove'</span>   : <span class=\"code-string\">'pointermove'</span>;\n","<span class=\"code-keyword\">var</span> POINTER_UP =     Browser.msPointer ? <span class=\"code-string\">'MSPointerUp'</span>     : <span class=\"code-string\">'pointerup'</span>;\n","<span class=\"code-keyword\">var</span> POINTER_CANCEL = Browser.msPointer ? <span class=\"code-string\">'MSPointerCancel'</span> : <span class=\"code-string\">'pointercancel'</span>;\n","<span class=\"code-keyword\">var</span> pEvent = {\n","\ttouchstart  : POINTER_DOWN,\n","\ttouchmove   : POINTER_MOVE,\n","\ttouchend    : POINTER_UP,\n","\ttouchcancel : POINTER_CANCEL\n","};\n","<span class=\"code-keyword\">var</span> handle = {\n","\ttouchstart  : _onPointerStart,\n","\ttouchmove   : _handlePointer,\n","\ttouchend    : _handlePointer,\n","\ttouchcancel : _handlePointer\n","};\n","<span class=\"code-keyword\">var</span> _pointers = {};\n","<span class=\"code-keyword\">var</span> _pointerDocListener = <span class=\"code-literal\">false</span>;\n","\n","<span class=\"code-comment\">// Provides a touch events wrapper for (ms)pointer events.</span>\n","<span class=\"code-comment\">// ref https://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890</span>\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addPointerListener</span>(<span class=\"code-params\">obj, type, handler</span>) </span>{\n","\t<span class=\"code-keyword\">if</span> (type === <span class=\"code-string\">'touchstart'</span>) {\n","\t\t_addPointerDocListener();\n","\t}\n","\t<span class=\"code-keyword\">if</span> (!handle[type]) {\n","\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'wrong event specified:'</span>, type);\n","\t\t<span class=\"code-keyword\">return</span> L.Util.falseFn;\n","\t}\n","\thandler = handle[type].bind(<span class=\"code-keyword\">this</span>, handler);\n","\tobj.addEventListener(pEvent[type], handler, <span class=\"code-literal\">false</span>);\n","\t<span class=\"code-keyword\">return</span> handler;\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">removePointerListener</span>(<span class=\"code-params\">obj, type, handler</span>) </span>{\n","\t<span class=\"code-keyword\">if</span> (!pEvent[type]) {\n","\t\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'wrong event specified:'</span>, type);\n","\t\t<span class=\"code-keyword\">return</span>;\n","\t}\n","\tobj.removeEventListener(pEvent[type], handler, <span class=\"code-literal\">false</span>);\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_globalPointerDown</span>(<span class=\"code-params\">e</span>) </span>{\n","\t_pointers[e.pointerId] = e;\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_globalPointerMove</span>(<span class=\"code-params\">e</span>) </span>{\n","\t<span class=\"code-keyword\">if</span> (_pointers[e.pointerId]) {\n","\t\t_pointers[e.pointerId] = e;\n","\t}\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_globalPointerUp</span>(<span class=\"code-params\">e</span>) </span>{\n","\t<span class=\"code-keyword\">delete</span> _pointers[e.pointerId];\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_addPointerDocListener</span>(<span class=\"code-params\"></span>) </span>{\n","\t<span class=\"code-comment\">// need to keep track of what pointers and how many are active to provide e.touches emulation</span>\n","\t<span class=\"code-keyword\">if</span> (!_pointerDocListener) {\n","\t\t<span class=\"code-comment\">// we listen document as any drags that end by moving the touch off the screen get fired there</span>\n","\t\t<span class=\"code-built_in\">document</span>.addEventListener(POINTER_DOWN, _globalPointerDown, <span class=\"code-literal\">true</span>);\n","\t\t<span class=\"code-built_in\">document</span>.addEventListener(POINTER_MOVE, _globalPointerMove, <span class=\"code-literal\">true</span>);\n","\t\t<span class=\"code-built_in\">document</span>.addEventListener(POINTER_UP, _globalPointerUp, <span class=\"code-literal\">true</span>);\n","\t\t<span class=\"code-built_in\">document</span>.addEventListener(POINTER_CANCEL, _globalPointerUp, <span class=\"code-literal\">true</span>);\n","\n","\t\t_pointerDocListener = <span class=\"code-literal\">true</span>;\n","\t}\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_handlePointer</span>(<span class=\"code-params\">handler, e</span>) </span>{\n","\t<span class=\"code-keyword\">if</span> (e.pointerType === (e.MSPOINTER_TYPE_MOUSE || <span class=\"code-string\">'mouse'</span>)) { <span class=\"code-keyword\">return</span>; }\n","\n","\te.touches = [];\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> _pointers) {\n","\t\te.touches.push(_pointers[i]);\n","\t}\n","\te.changedTouches = [e];\n","\n","\thandler(e);\n","}\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_onPointerStart</span>(<span class=\"code-params\">handler, e</span>) </span>{\n","\t<span class=\"code-comment\">// IE10 specific: MsTouch needs preventDefault. See #2000</span>\n","\t<span class=\"code-keyword\">if</span> (e.MSPOINTER_TYPE_TOUCH &amp;&amp; e.pointerType === e.MSPOINTER_TYPE_TOUCH) {\n","\t\tpreventDefault(e);\n","\t}\n","\t_handlePointer(handler, e);\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * Extends the event handling code with double tap support for mobile browsers.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * <span class=\"code-doctag\">Note:</span> currently most browsers fire native dblclick, with only a few exceptions\r\n</span>","<span class=\"code-comment\"> * (see https://github.com/Leaflet/Leaflet/issues/7012#issuecomment-595087386)\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">makeDblclick</span>(<span class=\"code-params\">event</span>) </span>{\r\n","\t<span class=\"code-comment\">// in modern browsers `type` cannot be just overridden:</span>\r\n","\t<span class=\"code-comment\">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only</span>\r\n","\t<span class=\"code-keyword\">var</span> newEvent = {},\r\n","\t    prop, i;\r\n","\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> event) {\r\n","\t\tprop = event[i];\r\n","\t\tnewEvent[i] = prop &amp;&amp; prop.bind ? prop.bind(event) : prop;\r\n","\t}\r\n","\tevent = newEvent;\r\n","\tnewEvent.type = <span class=\"code-string\">'dblclick'</span>;\r\n","\tnewEvent.detail = <span class=\"code-number\">2</span>;\r\n","\tnewEvent.isTrusted = <span class=\"code-literal\">false</span>;\r\n","\tnewEvent._simulated = <span class=\"code-literal\">true</span>; <span class=\"code-comment\">// for debug purposes</span>\r\n","\t<span class=\"code-keyword\">return</span> newEvent;\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> delay = <span class=\"code-number\">200</span>;\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addDoubleTapListener</span>(<span class=\"code-params\">obj, handler</span>) </span>{\r\n","\t<span class=\"code-comment\">// Most browsers handle double tap natively</span>\r\n","\tobj.addEventListener(<span class=\"code-string\">'dblclick'</span>, handler);\r\n","\r\n","\t<span class=\"code-comment\">// On some platforms the browser doesn't fire native dblclicks for touch events.</span>\r\n","\t<span class=\"code-comment\">// It seems that in all such cases `detail` property of `click` event is always `1`.</span>\r\n","\t<span class=\"code-comment\">// So here we rely on that fact to avoid excessive 'dblclick' simulation when not needed.</span>\r\n","\t<span class=\"code-keyword\">var</span> last = <span class=\"code-number\">0</span>,\r\n","\t    detail;\r\n","\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">simDblclick</span>(<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (e.detail !== <span class=\"code-number\">1</span>) {\r\n","\t\t\tdetail = e.detail; <span class=\"code-comment\">// keep in sync to avoid false dblclick in some cases</span>\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (e.pointerType === <span class=\"code-string\">'mouse'</span> ||\r\n","\t\t\t(e.sourceCapabilities &amp;&amp; !e.sourceCapabilities.firesTouchEvents)) {\r\n","\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> now = <span class=\"code-built_in\">Date</span>.now();\r\n","\t\t<span class=\"code-keyword\">if</span> (now - last &lt;= delay) {\r\n","\t\t\tdetail++;\r\n","\t\t\t<span class=\"code-keyword\">if</span> (detail === <span class=\"code-number\">2</span>) {\r\n","\t\t\t\thandler(makeDblclick(e));\r\n","\t\t\t}\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tdetail = <span class=\"code-number\">1</span>;\r\n","\t\t}\r\n","\t\tlast = now;\r\n","\t}\r\n","\r\n","\tobj.addEventListener(<span class=\"code-string\">'click'</span>, simDblclick);\r\n","\r\n","\t<span class=\"code-keyword\">return</span> {\r\n","\t\tdblclick: handler,\r\n","\t\tsimDblclick: simDblclick\r\n","\t};\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">removeDoubleTapListener</span>(<span class=\"code-params\">obj, handlers</span>) </span>{\r\n","\tobj.removeEventListener(<span class=\"code-string\">'dblclick'</span>, handlers.dblclick);\r\n","\tobj.removeEventListener(<span class=\"code-string\">'click'</span>, handlers.simDblclick);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace DomUtil\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Utility functions to work with the [DOM](https://developer.mozilla.org/docs/Web/API/Document_Object_Model)\r\n</span>","<span class=\"code-comment\"> * tree, used by Leaflet internally.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Most functions expecting or returning a `HTMLElement` also work for\r\n</span>","<span class=\"code-comment\"> * SVG elements. The only difference is that classes refer to CSS classes\r\n</span>","<span class=\"code-comment\"> * in HTML and SVG classes in SVG.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","\r\n","<span class=\"code-comment\">// @property TRANSFORM: String</span>\r\n","<span class=\"code-comment\">// Vendor-prefixed transform style name (e.g. `'webkitTransform'` for WebKit).</span>\r\n","<span class=\"code-keyword\">var</span> TRANSFORM = testProp(\r\n","\t[<span class=\"code-string\">'transform'</span>, <span class=\"code-string\">'webkitTransform'</span>, <span class=\"code-string\">'OTransform'</span>, <span class=\"code-string\">'MozTransform'</span>, <span class=\"code-string\">'msTransform'</span>]);\r\n","\r\n","<span class=\"code-comment\">// webkitTransition comes first because some browser versions that drop vendor prefix don't do</span>\r\n","<span class=\"code-comment\">// the same for the transitionend event, in particular the Android 4.1 stock browser</span>\r\n","\r\n","<span class=\"code-comment\">// @property TRANSITION: String</span>\r\n","<span class=\"code-comment\">// Vendor-prefixed transition style name.</span>\r\n","<span class=\"code-keyword\">var</span> TRANSITION = testProp(\r\n","\t[<span class=\"code-string\">'webkitTransition'</span>, <span class=\"code-string\">'transition'</span>, <span class=\"code-string\">'OTransition'</span>, <span class=\"code-string\">'MozTransition'</span>, <span class=\"code-string\">'msTransition'</span>]);\r\n","\r\n","<span class=\"code-comment\">// @property TRANSITION_END: String</span>\r\n","<span class=\"code-comment\">// Vendor-prefixed transitionend event name.</span>\r\n","<span class=\"code-keyword\">var</span> TRANSITION_END =\r\n","\tTRANSITION === <span class=\"code-string\">'webkitTransition'</span> || TRANSITION === <span class=\"code-string\">'OTransition'</span> ? TRANSITION + <span class=\"code-string\">'End'</span> : <span class=\"code-string\">'transitionend'</span>;\r\n","\r\n","\r\n","<span class=\"code-comment\">// @function get(id: String|HTMLElement): HTMLElement</span>\r\n","<span class=\"code-comment\">// Returns an element given its DOM id, or returns the element itself</span>\r\n","<span class=\"code-comment\">// if it was passed directly.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">get</span>(<span class=\"code-params\">id</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> id === <span class=\"code-string\">'string'</span> ? <span class=\"code-built_in\">document</span>.getElementById(id) : id;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getStyle(el: HTMLElement, styleAttrib: String): String</span>\r\n","<span class=\"code-comment\">// Returns the value for a certain style attribute on an element,</span>\r\n","<span class=\"code-comment\">// including computed values or values set through CSS.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getStyle</span>(<span class=\"code-params\">el, style</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> value = el.style[style] || (el.currentStyle &amp;&amp; el.currentStyle[style]);\r\n","\r\n","\t<span class=\"code-keyword\">if</span> ((!value || value === <span class=\"code-string\">'auto'</span>) &amp;&amp; <span class=\"code-built_in\">document</span>.defaultView) {\r\n","\t\t<span class=\"code-keyword\">var</span> css = <span class=\"code-built_in\">document</span>.defaultView.getComputedStyle(el, <span class=\"code-literal\">null</span>);\r\n","\t\tvalue = css ? css[style] : <span class=\"code-literal\">null</span>;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> value === <span class=\"code-string\">'auto'</span> ? <span class=\"code-literal\">null</span> : value;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function create(tagName: String, className?: String, container?: HTMLElement): HTMLElement</span>\r\n","<span class=\"code-comment\">// Creates an HTML element with `tagName`, sets its class to `className`, and optionally appends it to `container` element.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">create$1</span>(<span class=\"code-params\">tagName, className, container</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> el = <span class=\"code-built_in\">document</span>.createElement(tagName);\r\n","\tel.className = className || <span class=\"code-string\">''</span>;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (container) {\r\n","\t\tcontainer.appendChild(el);\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> el;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function remove(el: HTMLElement)</span>\r\n","<span class=\"code-comment\">// Removes `el` from its parent element</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">remove</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> parent = el.parentNode;\r\n","\t<span class=\"code-keyword\">if</span> (parent) {\r\n","\t\tparent.removeChild(el);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function empty(el: HTMLElement)</span>\r\n","<span class=\"code-comment\">// Removes all of `el`'s children elements from `el`</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">empty</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\t<span class=\"code-keyword\">while</span> (el.firstChild) {\r\n","\t\tel.removeChild(el.firstChild);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function toFront(el: HTMLElement)</span>\r\n","<span class=\"code-comment\">// Makes `el` the last child of its parent, so it renders in front of the other children.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toFront</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> parent = el.parentNode;\r\n","\t<span class=\"code-keyword\">if</span> (parent &amp;&amp; parent.lastChild !== el) {\r\n","\t\tparent.appendChild(el);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function toBack(el: HTMLElement)</span>\r\n","<span class=\"code-comment\">// Makes `el` the first child of its parent, so it renders behind the other children.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">toBack</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> parent = el.parentNode;\r\n","\t<span class=\"code-keyword\">if</span> (parent &amp;&amp; parent.firstChild !== el) {\r\n","\t\tparent.insertBefore(el, parent.firstChild);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function hasClass(el: HTMLElement, name: String): Boolean</span>\r\n","<span class=\"code-comment\">// Returns `true` if the element's class attribute contains `name`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hasClass</span>(<span class=\"code-params\">el, name</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (el.classList !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t<span class=\"code-keyword\">return</span> el.classList.contains(name);\r\n","\t}\r\n","\t<span class=\"code-keyword\">var</span> className = getClass(el);\r\n","\t<span class=\"code-keyword\">return</span> className.length &gt; <span class=\"code-number\">0</span> &amp;&amp; <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">'(^|\\\\s)'</span> + name + <span class=\"code-string\">'(\\\\s|$)'</span>).test(className);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function addClass(el: HTMLElement, name: String)</span>\r\n","<span class=\"code-comment\">// Adds `name` to the element's class attribute.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addClass</span>(<span class=\"code-params\">el, name</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (el.classList !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t<span class=\"code-keyword\">var</span> classes = splitWords(name);\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = classes.length; i &lt; len; i++) {\r\n","\t\t\tel.classList.add(classes[i]);\r\n","\t\t}\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (!hasClass(el, name)) {\r\n","\t\t<span class=\"code-keyword\">var</span> className = getClass(el);\r\n","\t\tsetClass(el, (className ? className + <span class=\"code-string\">' '</span> : <span class=\"code-string\">''</span>) + name);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function removeClass(el: HTMLElement, name: String)</span>\r\n","<span class=\"code-comment\">// Removes `name` from the element's class attribute.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">removeClass</span>(<span class=\"code-params\">el, name</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (el.classList !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\tel.classList.remove(name);\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\tsetClass(el, trim((<span class=\"code-string\">' '</span> + getClass(el) + <span class=\"code-string\">' '</span>).replace(<span class=\"code-string\">' '</span> + name + <span class=\"code-string\">' '</span>, <span class=\"code-string\">' '</span>)));\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function setClass(el: HTMLElement, name: String)</span>\r\n","<span class=\"code-comment\">// Sets the element's class.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setClass</span>(<span class=\"code-params\">el, name</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (el.className.baseVal === <span class=\"code-literal\">undefined</span>) {\r\n","\t\tel.className = name;\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t<span class=\"code-comment\">// in case of SVG element</span>\r\n","\t\tel.className.baseVal = name;\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getClass(el: HTMLElement): String</span>\r\n","<span class=\"code-comment\">// Returns the element's class.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getClass</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\t<span class=\"code-comment\">// Check if the element is an SVGElementInstance and use the correspondingElement instead</span>\r\n","\t<span class=\"code-comment\">// (Required for linked SVG elements in IE11.)</span>\r\n","\t<span class=\"code-keyword\">if</span> (el.correspondingElement) {\r\n","\t\tel = el.correspondingElement;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> el.className.baseVal === <span class=\"code-literal\">undefined</span> ? el.className : el.className.baseVal;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function setOpacity(el: HTMLElement, opacity: Number)</span>\r\n","<span class=\"code-comment\">// Set the opacity of an element (including old IE support).</span>\r\n","<span class=\"code-comment\">// `opacity` must be a number from `0` to `1`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setOpacity</span>(<span class=\"code-params\">el, value</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-string\">'opacity'</span> <span class=\"code-keyword\">in</span> el.style) {\r\n","\t\tel.style.opacity = value;\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-string\">'filter'</span> <span class=\"code-keyword\">in</span> el.style) {\r\n","\t\t_setOpacityIE(el, value);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_setOpacityIE</span>(<span class=\"code-params\">el, value</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> filter = <span class=\"code-literal\">false</span>,\r\n","\t    filterName = <span class=\"code-string\">'DXImageTransform.Microsoft.Alpha'</span>;\r\n","\r\n","\t<span class=\"code-comment\">// filters collection throws an error if we try to retrieve a filter that doesn't exist</span>\r\n","\t<span class=\"code-keyword\">try</span> {\r\n","\t\tfilter = el.filters.item(filterName);\r\n","\t} <span class=\"code-keyword\">catch</span> (e) {\r\n","\t\t<span class=\"code-comment\">// don't set opacity to 1 if we haven't already set an opacity,</span>\r\n","\t\t<span class=\"code-comment\">// it isn't needed and breaks transparent pngs.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (value === <span class=\"code-number\">1</span>) { <span class=\"code-keyword\">return</span>; }\r\n","\t}\r\n","\r\n","\tvalue = <span class=\"code-built_in\">Math</span>.round(value * <span class=\"code-number\">100</span>);\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (filter) {\r\n","\t\tfilter.Enabled = (value !== <span class=\"code-number\">100</span>);\r\n","\t\tfilter.Opacity = value;\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\tel.style.filter += <span class=\"code-string\">' progid:'</span> + filterName + <span class=\"code-string\">'(opacity='</span> + value + <span class=\"code-string\">')'</span>;\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function testProp(props: String[]): String|false</span>\r\n","<span class=\"code-comment\">// Goes through the array of style names and returns the first name</span>\r\n","<span class=\"code-comment\">// that is a valid style name for an element. If no such name is found,</span>\r\n","<span class=\"code-comment\">// it returns false. Useful for vendor-prefixed styles like `transform`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">testProp</span>(<span class=\"code-params\">props</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> style = <span class=\"code-built_in\">document</span>.documentElement.style;\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; props.length; i++) {\r\n","\t\t<span class=\"code-keyword\">if</span> (props[i] <span class=\"code-keyword\">in</span> style) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> props[i];\r\n","\t\t}\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function setTransform(el: HTMLElement, offset: Point, scale?: Number)</span>\r\n","<span class=\"code-comment\">// Resets the 3D CSS transform of `el` so it is translated by `offset` pixels</span>\r\n","<span class=\"code-comment\">// and optionally scaled by `scale`. Does not have an effect if the</span>\r\n","<span class=\"code-comment\">// browser doesn't support 3D CSS transforms.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setTransform</span>(<span class=\"code-params\">el, offset, scale</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> pos = offset || <span class=\"code-keyword\">new</span> Point(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>);\r\n","\r\n","\tel.style[TRANSFORM] =\r\n","\t\t(Browser.ie3d ?\r\n","\t\t\t<span class=\"code-string\">'translate('</span> + pos.x + <span class=\"code-string\">'px,'</span> + pos.y + <span class=\"code-string\">'px)'</span> :\r\n","\t\t\t<span class=\"code-string\">'translate3d('</span> + pos.x + <span class=\"code-string\">'px,'</span> + pos.y + <span class=\"code-string\">'px,0)'</span>) +\r\n","\t\t(scale ? <span class=\"code-string\">' scale('</span> + scale + <span class=\"code-string\">')'</span> : <span class=\"code-string\">''</span>);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function setPosition(el: HTMLElement, position: Point)</span>\r\n","<span class=\"code-comment\">// Sets the position of `el` to coordinates specified by `position`,</span>\r\n","<span class=\"code-comment\">// using CSS translate or top/left positioning depending on the browser</span>\r\n","<span class=\"code-comment\">// (used by Leaflet internally to position its layers).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">setPosition</span>(<span class=\"code-params\">el, point</span>) </span>{\r\n","\r\n","\t<span class=\"code-comment\">/*eslint-disable */</span>\r\n","\tel._leaflet_pos = point;\r\n","\t<span class=\"code-comment\">/* eslint-enable */</span>\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (Browser.any3d) {\r\n","\t\tsetTransform(el, point);\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\tel.style.left = point.x + <span class=\"code-string\">'px'</span>;\r\n","\t\tel.style.top = point.y + <span class=\"code-string\">'px'</span>;\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getPosition(el: HTMLElement): Point</span>\r\n","<span class=\"code-comment\">// Returns the coordinates of an element previously positioned with setPosition.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getPosition</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\t<span class=\"code-comment\">// this method is only used for elements previously positioned using setPosition,</span>\r\n","\t<span class=\"code-comment\">// so it's safe to cache the position for performance</span>\r\n","\r\n","\t<span class=\"code-keyword\">return</span> el._leaflet_pos || <span class=\"code-keyword\">new</span> Point(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function disableTextSelection()</span>\r\n","<span class=\"code-comment\">// Prevents the user from generating `selectstart` DOM events, usually generated</span>\r\n","<span class=\"code-comment\">// when the user drags the mouse through a page with text. Used internally</span>\r\n","<span class=\"code-comment\">// by Leaflet to override the behaviour of any click-and-drag interaction on</span>\r\n","<span class=\"code-comment\">// the map. Affects drag interactions on the whole document.</span>\r\n","\r\n","<span class=\"code-comment\">// @function enableTextSelection()</span>\r\n","<span class=\"code-comment\">// Cancels the effects of a previous [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection).</span>\r\n","<span class=\"code-keyword\">var</span> disableTextSelection;\r\n","<span class=\"code-keyword\">var</span> enableTextSelection;\r\n","<span class=\"code-keyword\">var</span> _userSelect;\r\n","<span class=\"code-keyword\">if</span> (<span class=\"code-string\">'onselectstart'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>) {\r\n","\tdisableTextSelection = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\ton(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'selectstart'</span>, preventDefault);\r\n","\t};\r\n","\tenableTextSelection = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\toff(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'selectstart'</span>, preventDefault);\r\n","\t};\r\n","} <span class=\"code-keyword\">else</span> {\r\n","\t<span class=\"code-keyword\">var</span> userSelectProperty = testProp(\r\n","\t\t[<span class=\"code-string\">'userSelect'</span>, <span class=\"code-string\">'WebkitUserSelect'</span>, <span class=\"code-string\">'OUserSelect'</span>, <span class=\"code-string\">'MozUserSelect'</span>, <span class=\"code-string\">'msUserSelect'</span>]);\r\n","\r\n","\tdisableTextSelection = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (userSelectProperty) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> style = <span class=\"code-built_in\">document</span>.documentElement.style;\r\n","\t\t\t_userSelect = style[userSelectProperty];\r\n","\t\t\tstyle[userSelectProperty] = <span class=\"code-string\">'none'</span>;\r\n","\t\t}\r\n","\t};\r\n","\tenableTextSelection = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (userSelectProperty) {\r\n","\t\t\t<span class=\"code-built_in\">document</span>.documentElement.style[userSelectProperty] = _userSelect;\r\n","\t\t\t_userSelect = <span class=\"code-literal\">undefined</span>;\r\n","\t\t}\r\n","\t};\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function disableImageDrag()</span>\r\n","<span class=\"code-comment\">// As [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection), but</span>\r\n","<span class=\"code-comment\">// for `dragstart` DOM events, usually generated when the user drags an image.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">disableImageDrag</span>(<span class=\"code-params\"></span>) </span>{\r\n","\ton(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'dragstart'</span>, preventDefault);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function enableImageDrag()</span>\r\n","<span class=\"code-comment\">// Cancels the effects of a previous [`L.DomUtil.disableImageDrag`](#domutil-disabletextselection).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">enableImageDrag</span>(<span class=\"code-params\"></span>) </span>{\r\n","\toff(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'dragstart'</span>, preventDefault);\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> _outlineElement, _outlineStyle;\r\n","<span class=\"code-comment\">// @function preventOutline(el: HTMLElement)</span>\r\n","<span class=\"code-comment\">// Makes the [outline](https://developer.mozilla.org/docs/Web/CSS/outline)</span>\r\n","<span class=\"code-comment\">// of the element `el` invisible. Used internally by Leaflet to prevent</span>\r\n","<span class=\"code-comment\">// focusable elements from displaying an outline when the user performs a</span>\r\n","<span class=\"code-comment\">// drag interaction on them.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">preventOutline</span>(<span class=\"code-params\">element</span>) </span>{\r\n","\t<span class=\"code-keyword\">while</span> (element.tabIndex === <span class=\"code-number\">-1</span>) {\r\n","\t\telement = element.parentNode;\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (!element.style) { <span class=\"code-keyword\">return</span>; }\r\n","\trestoreOutline();\r\n","\t_outlineElement = element;\r\n","\t_outlineStyle = element.style.outline;\r\n","\telement.style.outline = <span class=\"code-string\">'none'</span>;\r\n","\ton(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'keydown'</span>, restoreOutline);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function restoreOutline()</span>\r\n","<span class=\"code-comment\">// Cancels the effects of a previous [`L.DomUtil.preventOutline`]().</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">restoreOutline</span>(<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!_outlineElement) { <span class=\"code-keyword\">return</span>; }\r\n","\t_outlineElement.style.outline = _outlineStyle;\r\n","\t_outlineElement = <span class=\"code-literal\">undefined</span>;\r\n","\t_outlineStyle = <span class=\"code-literal\">undefined</span>;\r\n","\toff(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'keydown'</span>, restoreOutline);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getSizedParentNode(el: HTMLElement): HTMLElement</span>\r\n","<span class=\"code-comment\">// Finds the closest parent node which size (width and height) is not null.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getSizedParentNode</span>(<span class=\"code-params\">element</span>) </span>{\r\n","\t<span class=\"code-keyword\">do</span> {\r\n","\t\telement = element.parentNode;\r\n","\t} <span class=\"code-keyword\">while</span> ((!element.offsetWidth || !element.offsetHeight) &amp;&amp; element !== <span class=\"code-built_in\">document</span>.body);\r\n","\t<span class=\"code-keyword\">return</span> element;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getScale(el: HTMLElement): Object</span>\r\n","<span class=\"code-comment\">// Computes the CSS scale currently applied on the element.</span>\r\n","<span class=\"code-comment\">// Returns an object with `x` and `y` members as horizontal and vertical scales respectively,</span>\r\n","<span class=\"code-comment\">// and `boundingClientRect` as the result of [`getBoundingClientRect()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getScale</span>(<span class=\"code-params\">element</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> rect = element.getBoundingClientRect(); <span class=\"code-comment\">// Read-only in old browsers.</span>\r\n","\r\n","\t<span class=\"code-keyword\">return</span> {\r\n","\t\tx: rect.width / element.offsetWidth || <span class=\"code-number\">1</span>,\r\n","\t\ty: rect.height / element.offsetHeight || <span class=\"code-number\">1</span>,\r\n","\t\tboundingClientRect: rect\r\n","\t};\r\n","}\n","\n","<span class=\"code-keyword\">var</span> DomUtil = {\n","  __proto__: <span class=\"code-literal\">null</span>,\n","  TRANSFORM: TRANSFORM,\n","  TRANSITION: TRANSITION,\n","  TRANSITION_END: TRANSITION_END,\n","  <span class=\"code-keyword\">get</span>: <span class=\"code-keyword\">get</span>,\n","  getStyle: getStyle,\n","  create: create$1,\n","  remove: remove,\n","  empty: empty,\n","  toFront: toFront,\n","  toBack: toBack,\n","  hasClass: hasClass,\n","  addClass: addClass,\n","  removeClass: removeClass,\n","  setClass: setClass,\n","  getClass: getClass,\n","  setOpacity: setOpacity,\n","  testProp: testProp,\n","  setTransform: setTransform,\n","  setPosition: setPosition,\n","  getPosition: getPosition,\n","  <span class=\"code-keyword\">get</span> disableTextSelection () { <span class=\"code-keyword\">return</span> disableTextSelection; },\n","  <span class=\"code-keyword\">get</span> enableTextSelection () { <span class=\"code-keyword\">return</span> enableTextSelection; },\n","  disableImageDrag: disableImageDrag,\n","  enableImageDrag: enableImageDrag,\n","  preventOutline: preventOutline,\n","  restoreOutline: restoreOutline,\n","  getSizedParentNode: getSizedParentNode,\n","  getScale: getScale\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace DomEvent\r\n</span>","<span class=\"code-comment\"> * Utility functions to work with the [DOM events](https://developer.mozilla.org/docs/Web/API/Event), used by Leaflet internally.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">// Inspired by John Resig, Dean Edwards and YUI addEvent implementations.</span>\r\n","\r\n","<span class=\"code-comment\">// @function on(el: HTMLElement, types: String, fn: Function, context?: Object): this</span>\r\n","<span class=\"code-comment\">// Adds a listener function (`fn`) to a particular DOM event type of the</span>\r\n","<span class=\"code-comment\">// element `el`. You can optionally specify the context of the listener</span>\r\n","<span class=\"code-comment\">// (object the `this` keyword will point to). You can also pass several</span>\r\n","<span class=\"code-comment\">// space-separated types (e.g. `'click dblclick'`).</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @function on(el: HTMLElement, eventMap: Object, context?: Object): this</span>\r\n","<span class=\"code-comment\">// Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">on</span>(<span class=\"code-params\">obj, types, fn, context</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (types &amp;&amp; <span class=\"code-keyword\">typeof</span> types === <span class=\"code-string\">'object'</span>) {\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> type <span class=\"code-keyword\">in</span> types) {\r\n","\t\t\taddOne(obj, type, types[type], fn);\r\n","\t\t}\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\ttypes = splitWords(types);\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = types.length; i &lt; len; i++) {\r\n","\t\t\taddOne(obj, types[i], fn, context);\r\n","\t\t}\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> eventsKey = <span class=\"code-string\">'_leaflet_events'</span>;\r\n","\r\n","<span class=\"code-comment\">// @function off(el: HTMLElement, types: String, fn: Function, context?: Object): this</span>\r\n","<span class=\"code-comment\">// Removes a previously added listener function.</span>\r\n","<span class=\"code-comment\">// Note that if you passed a custom context to on, you must pass the same</span>\r\n","<span class=\"code-comment\">// context to `off` in order to remove the listener.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @function off(el: HTMLElement, eventMap: Object, context?: Object): this</span>\r\n","<span class=\"code-comment\">// Removes a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @function off(el: HTMLElement, types: String): this</span>\r\n","<span class=\"code-comment\">// Removes all previously added listeners of given types.</span>\r\n","\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @function off(el: HTMLElement): this</span>\r\n","<span class=\"code-comment\">// Removes all previously added listeners from given HTMLElement</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">off</span>(<span class=\"code-params\">obj, types, fn, context</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">1</span>) {\r\n","\t\tbatchRemove(obj);\r\n","\t\t<span class=\"code-keyword\">delete</span> obj[eventsKey];\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (types &amp;&amp; <span class=\"code-keyword\">typeof</span> types === <span class=\"code-string\">'object'</span>) {\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> type <span class=\"code-keyword\">in</span> types) {\r\n","\t\t\tremoveOne(obj, type, types[type], fn);\r\n","\t\t}\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\ttypes = splitWords(types);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length === <span class=\"code-number\">2</span>) {\r\n","\t\t\tbatchRemove(obj, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">type</span>) </span>{\r\n","\t\t\t\t<span class=\"code-keyword\">return</span> indexOf(types, type) !== <span class=\"code-number\">-1</span>;\r\n","\t\t\t});\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = types.length; i &lt; len; i++) {\r\n","\t\t\t\tremoveOne(obj, types[i], fn, context);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">batchRemove</span>(<span class=\"code-params\">obj, filterFn</span>) </span>{\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> obj[eventsKey]) {\r\n","\t\t<span class=\"code-keyword\">var</span> type = id.split(<span class=\"code-regexp\">/\\d/</span>)[<span class=\"code-number\">0</span>];\r\n","\t\t<span class=\"code-keyword\">if</span> (!filterFn || filterFn(type)) {\r\n","\t\t\tremoveOne(obj, type, <span class=\"code-literal\">null</span>, <span class=\"code-literal\">null</span>, id);\r\n","\t\t}\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> mouseSubst = {\r\n","\tmouseenter: <span class=\"code-string\">'mouseover'</span>,\r\n","\tmouseleave: <span class=\"code-string\">'mouseout'</span>,\r\n","\twheel: !(<span class=\"code-string\">'onwheel'</span> <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">window</span>) &amp;&amp; <span class=\"code-string\">'mousewheel'</span>\r\n","};\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">addOne</span>(<span class=\"code-params\">obj, type, fn, context</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> id = type + stamp(fn) + (context ? <span class=\"code-string\">'_'</span> + stamp(context) : <span class=\"code-string\">''</span>);\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (obj[eventsKey] &amp;&amp; obj[eventsKey][id]) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t<span class=\"code-keyword\">var</span> handler = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> fn.call(context || obj, e || <span class=\"code-built_in\">window</span>.event);\r\n","\t};\r\n","\r\n","\t<span class=\"code-keyword\">var</span> originalHandler = handler;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (!Browser.touchNative &amp;&amp; Browser.pointer &amp;&amp; type.indexOf(<span class=\"code-string\">'touch'</span>) === <span class=\"code-number\">0</span>) {\r\n","\t\t<span class=\"code-comment\">// Needs DomEvent.Pointer.js</span>\r\n","\t\thandler = addPointerListener(obj, type, handler);\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (Browser.touch &amp;&amp; (type === <span class=\"code-string\">'dblclick'</span>)) {\r\n","\t\thandler = addDoubleTapListener(obj, handler);\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-string\">'addEventListener'</span> <span class=\"code-keyword\">in</span> obj) {\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (type === <span class=\"code-string\">'touchstart'</span> || type === <span class=\"code-string\">'touchmove'</span> || type === <span class=\"code-string\">'wheel'</span> ||  type === <span class=\"code-string\">'mousewheel'</span>) {\r\n","\t\t\tobj.addEventListener(mouseSubst[type] || type, handler, Browser.passiveEvents ? {<span class=\"code-attr\">passive</span>: <span class=\"code-literal\">false</span>} : <span class=\"code-literal\">false</span>);\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (type === <span class=\"code-string\">'mouseenter'</span> || type === <span class=\"code-string\">'mouseleave'</span>) {\r\n","\t\t\thandler = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t\t\te = e || <span class=\"code-built_in\">window</span>.event;\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (isExternalTarget(obj, e)) {\r\n","\t\t\t\t\toriginalHandler(e);\r\n","\t\t\t\t}\r\n","\t\t\t};\r\n","\t\t\tobj.addEventListener(mouseSubst[type], handler, <span class=\"code-literal\">false</span>);\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tobj.addEventListener(type, originalHandler, <span class=\"code-literal\">false</span>);\r\n","\t\t}\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\tobj.attachEvent(<span class=\"code-string\">'on'</span> + type, handler);\r\n","\t}\r\n","\r\n","\tobj[eventsKey] = obj[eventsKey] || {};\r\n","\tobj[eventsKey][id] = handler;\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">removeOne</span>(<span class=\"code-params\">obj, type, fn, context, id</span>) </span>{\r\n","\tid = id || type + stamp(fn) + (context ? <span class=\"code-string\">'_'</span> + stamp(context) : <span class=\"code-string\">''</span>);\r\n","\t<span class=\"code-keyword\">var</span> handler = obj[eventsKey] &amp;&amp; obj[eventsKey][id];\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (!handler) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (!Browser.touchNative &amp;&amp; Browser.pointer &amp;&amp; type.indexOf(<span class=\"code-string\">'touch'</span>) === <span class=\"code-number\">0</span>) {\r\n","\t\tremovePointerListener(obj, type, handler);\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (Browser.touch &amp;&amp; (type === <span class=\"code-string\">'dblclick'</span>)) {\r\n","\t\tremoveDoubleTapListener(obj, handler);\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-string\">'removeEventListener'</span> <span class=\"code-keyword\">in</span> obj) {\r\n","\r\n","\t\tobj.removeEventListener(mouseSubst[type] || type, handler, <span class=\"code-literal\">false</span>);\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\tobj.detachEvent(<span class=\"code-string\">'on'</span> + type, handler);\r\n","\t}\r\n","\r\n","\tobj[eventsKey][id] = <span class=\"code-literal\">null</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function stopPropagation(ev: DOMEvent): this</span>\r\n","<span class=\"code-comment\">// Stop the given event from propagation to parent elements. Used inside the listener functions:</span>\r\n","<span class=\"code-comment\">// ```js</span>\r\n","<span class=\"code-comment\">// L.DomEvent.on(div, 'click', function (ev) {</span>\r\n","<span class=\"code-comment\">// \tL.DomEvent.stopPropagation(ev);</span>\r\n","<span class=\"code-comment\">// });</span>\r\n","<span class=\"code-comment\">// ```</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">stopPropagation</span>(<span class=\"code-params\">e</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (e.stopPropagation) {\r\n","\t\te.stopPropagation();\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (e.originalEvent) {  <span class=\"code-comment\">// In case of Leaflet event.</span>\r\n","\t\te.originalEvent._stopped = <span class=\"code-literal\">true</span>;\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\te.cancelBubble = <span class=\"code-literal\">true</span>;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function disableScrollPropagation(el: HTMLElement): this</span>\r\n","<span class=\"code-comment\">// Adds `stopPropagation` to the element's `'wheel'` events (plus browser variants).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">disableScrollPropagation</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\taddOne(el, <span class=\"code-string\">'wheel'</span>, stopPropagation);\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function disableClickPropagation(el: HTMLElement): this</span>\r\n","<span class=\"code-comment\">// Adds `stopPropagation` to the element's `'click'`, `'dblclick'`, `'contextmenu'`,</span>\r\n","<span class=\"code-comment\">// `'mousedown'` and `'touchstart'` events (plus browser variants).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">disableClickPropagation</span>(<span class=\"code-params\">el</span>) </span>{\r\n","\ton(el, <span class=\"code-string\">'mousedown touchstart dblclick contextmenu'</span>, stopPropagation);\r\n","\tel[<span class=\"code-string\">'_leaflet_disable_click'</span>] = <span class=\"code-literal\">true</span>;\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function preventDefault(ev: DOMEvent): this</span>\r\n","<span class=\"code-comment\">// Prevents the default action of the DOM Event `ev` from happening (such as</span>\r\n","<span class=\"code-comment\">// following a link in the href of the a element, or doing a POST request</span>\r\n","<span class=\"code-comment\">// with page reload when a `&lt;form&gt;` is submitted).</span>\r\n","<span class=\"code-comment\">// Use it inside listener functions.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">preventDefault</span>(<span class=\"code-params\">e</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (e.preventDefault) {\r\n","\t\te.preventDefault();\r\n","\t} <span class=\"code-keyword\">else</span> {\r\n","\t\te.returnValue = <span class=\"code-literal\">false</span>;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function stop(ev: DOMEvent): this</span>\r\n","<span class=\"code-comment\">// Does `stopPropagation` and `preventDefault` at the same time.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">stop</span>(<span class=\"code-params\">e</span>) </span>{\r\n","\tpreventDefault(e);\r\n","\tstopPropagation(e);\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function getMousePosition(ev: DOMEvent, container?: HTMLElement): Point</span>\r\n","<span class=\"code-comment\">// Gets normalized mouse position from a DOM event relative to the</span>\r\n","<span class=\"code-comment\">// `container` (border excluded) or to the whole page if not specified.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getMousePosition</span>(<span class=\"code-params\">e, container</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!container) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(e.clientX, e.clientY);\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">var</span> scale = getScale(container),\r\n","\t    offset = scale.boundingClientRect; <span class=\"code-comment\">// left and top  values are in page scale (like the event clientX/Y)</span>\r\n","\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(\r\n","\t\t<span class=\"code-comment\">// offset.left/top values are in page scale (like clientX/Y),</span>\r\n","\t\t<span class=\"code-comment\">// whereas clientLeft/Top (border width) values are the original values (before CSS scale applies).</span>\r\n","\t\t(e.clientX - offset.left) / scale.x - container.clientLeft,\r\n","\t\t(e.clientY - offset.top) / scale.y - container.clientTop\r\n","\t);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// Chrome on Win scrolls double the pixels as in other platforms (see #4538),</span>\r\n","<span class=\"code-comment\">// and Firefox scrolls device pixels, not CSS pixels</span>\r\n","<span class=\"code-keyword\">var</span> wheelPxFactor =\r\n","\t(Browser.win &amp;&amp; Browser.chrome) ? <span class=\"code-number\">2</span> * <span class=\"code-built_in\">window</span>.devicePixelRatio :\r\n","\tBrowser.gecko ? <span class=\"code-built_in\">window</span>.devicePixelRatio : <span class=\"code-number\">1</span>;\r\n","\r\n","<span class=\"code-comment\">// @function getWheelDelta(ev: DOMEvent): Number</span>\r\n","<span class=\"code-comment\">// Gets normalized wheel delta from a wheel DOM event, in vertical</span>\r\n","<span class=\"code-comment\">// pixels scrolled (negative if scrolling down).</span>\r\n","<span class=\"code-comment\">// Events from pointing devices without precise scrolling are mapped to</span>\r\n","<span class=\"code-comment\">// a best guess of 60 pixels.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getWheelDelta</span>(<span class=\"code-params\">e</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> (Browser.edge) ? e.wheelDeltaY / <span class=\"code-number\">2</span> : <span class=\"code-comment\">// Don't trust window-geometry-based delta</span>\r\n","\t       (e.deltaY &amp;&amp; e.deltaMode === <span class=\"code-number\">0</span>) ? -e.deltaY / wheelPxFactor : <span class=\"code-comment\">// Pixels</span>\r\n","\t       (e.deltaY &amp;&amp; e.deltaMode === <span class=\"code-number\">1</span>) ? -e.deltaY * <span class=\"code-number\">20</span> : <span class=\"code-comment\">// Lines</span>\r\n","\t       (e.deltaY &amp;&amp; e.deltaMode === <span class=\"code-number\">2</span>) ? -e.deltaY * <span class=\"code-number\">60</span> : <span class=\"code-comment\">// Pages</span>\r\n","\t       (e.deltaX || e.deltaZ) ? <span class=\"code-number\">0</span> :\t<span class=\"code-comment\">// Skip horizontal/depth wheel events</span>\r\n","\t       e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / <span class=\"code-number\">2</span> : <span class=\"code-comment\">// Legacy IE pixels</span>\r\n","\t       (e.detail &amp;&amp; <span class=\"code-built_in\">Math</span>.abs(e.detail) &lt; <span class=\"code-number\">32765</span>) ? -e.detail * <span class=\"code-number\">20</span> : <span class=\"code-comment\">// Legacy Moz lines</span>\r\n","\t       e.detail ? e.detail / <span class=\"code-number\">-32765</span> * <span class=\"code-number\">60</span> : <span class=\"code-comment\">// Legacy Moz pages</span>\r\n","\t       <span class=\"code-number\">0</span>;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// check if element really left/entered the event target (for mouseenter/mouseleave)</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isExternalTarget</span>(<span class=\"code-params\">el, e</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">var</span> related = e.relatedTarget;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (!related) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>; }\r\n","\r\n","\t<span class=\"code-keyword\">try</span> {\r\n","\t\t<span class=\"code-keyword\">while</span> (related &amp;&amp; (related !== el)) {\r\n","\t\t\trelated = related.parentNode;\r\n","\t\t}\r\n","\t} <span class=\"code-keyword\">catch</span> (err) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> (related !== el);\r\n","}\n","\n","<span class=\"code-keyword\">var</span> DomEvent = {\n","  __proto__: <span class=\"code-literal\">null</span>,\n","  on: on,\n","  off: off,\n","  stopPropagation: stopPropagation,\n","  disableScrollPropagation: disableScrollPropagation,\n","  disableClickPropagation: disableClickPropagation,\n","  preventDefault: preventDefault,\n","  stop: stop,\n","  getMousePosition: getMousePosition,\n","  getWheelDelta: getWheelDelta,\n","  isExternalTarget: isExternalTarget,\n","  addListener: on,\n","  removeListener: off\n","};\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class PosAnimation\n</span>","<span class=\"code-comment\"> * @aka L.PosAnimation\n</span>","<span class=\"code-comment\"> * @inherits Evented\n</span>","<span class=\"code-comment\"> * Used internally for panning animations, utilizing CSS3 Transitions for modern browsers and a timer fallback for IE6-9.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var fx = new L.PosAnimation();\n</span>","<span class=\"code-comment\"> * fx.run(el, [300, 500], 0.5);\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @constructor L.PosAnimation()\n</span>","<span class=\"code-comment\"> * Creates a `PosAnimation` object.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> PosAnimation = Evented.extend({\n","\n","\t<span class=\"code-comment\">// @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)</span>\n","\t<span class=\"code-comment\">// Run an animation of a given element to a new position, optionally setting</span>\n","\t<span class=\"code-comment\">// duration in seconds (`0.25` by default) and easing linearity factor (3rd</span>\n","\t<span class=\"code-comment\">// argument of the [cubic bezier curve](https://cubic-bezier.com/#0,0,.5,1),</span>\n","\t<span class=\"code-comment\">// `0.5` by default).</span>\n","\trun: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">el, newPos, duration, easeLinearity</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>.stop();\n","\n","\t\t<span class=\"code-keyword\">this</span>._el = el;\n","\t\t<span class=\"code-keyword\">this</span>._inProgress = <span class=\"code-literal\">true</span>;\n","\t\t<span class=\"code-keyword\">this</span>._duration = duration || <span class=\"code-number\">0.25</span>;\n","\t\t<span class=\"code-keyword\">this</span>._easeOutPower = <span class=\"code-number\">1</span> / <span class=\"code-built_in\">Math</span>.max(easeLinearity || <span class=\"code-number\">0.5</span>, <span class=\"code-number\">0.2</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._startPos = getPosition(el);\n","\t\t<span class=\"code-keyword\">this</span>._offset = newPos.subtract(<span class=\"code-keyword\">this</span>._startPos);\n","\t\t<span class=\"code-keyword\">this</span>._startTime = +<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>();\n","\n","\t\t<span class=\"code-comment\">// @event start: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the animation starts</span>\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'start'</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._animate();\n","\t},\n","\n","\t<span class=\"code-comment\">// @method stop()</span>\n","\t<span class=\"code-comment\">// Stops the animation (if currently running).</span>\n","\tstop: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._inProgress) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._step(<span class=\"code-literal\">true</span>);\n","\t\t<span class=\"code-keyword\">this</span>._complete();\n","\t},\n","\n","\t_animate: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// animation loop</span>\n","\t\t<span class=\"code-keyword\">this</span>._animId = requestAnimFrame(<span class=\"code-keyword\">this</span>._animate, <span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">this</span>._step();\n","\t},\n","\n","\t_step: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">round</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> elapsed = (+<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>()) - <span class=\"code-keyword\">this</span>._startTime,\n","\t\t    duration = <span class=\"code-keyword\">this</span>._duration * <span class=\"code-number\">1000</span>;\n","\n","\t\t<span class=\"code-keyword\">if</span> (elapsed &lt; duration) {\n","\t\t\t<span class=\"code-keyword\">this</span>._runFrame(<span class=\"code-keyword\">this</span>._easeOut(elapsed / duration), round);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._runFrame(<span class=\"code-number\">1</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>._complete();\n","\t\t}\n","\t},\n","\n","\t_runFrame: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">progress, round</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._startPos.add(<span class=\"code-keyword\">this</span>._offset.multiplyBy(progress));\n","\t\t<span class=\"code-keyword\">if</span> (round) {\n","\t\t\tpos._round();\n","\t\t}\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._el, pos);\n","\n","\t\t<span class=\"code-comment\">// @event step: Event</span>\n","\t\t<span class=\"code-comment\">// Fired continuously during the animation.</span>\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'step'</span>);\n","\t},\n","\n","\t_complete: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._animId);\n","\n","\t\t<span class=\"code-keyword\">this</span>._inProgress = <span class=\"code-literal\">false</span>;\n","\t\t<span class=\"code-comment\">// @event end: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the animation ends.</span>\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'end'</span>);\n","\t},\n","\n","\t_easeOut: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">t</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span> - <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">1</span> - t, <span class=\"code-keyword\">this</span>._easeOutPower);\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Map\r\n</span>","<span class=\"code-comment\"> * @aka L.Map\r\n</span>","<span class=\"code-comment\"> * @inherits Evented\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * The central class of the API \u2014 it is used to create a map on a page and manipulate it.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * // initialize the map on the \"map\" div with a given center and zoom\r\n</span>","<span class=\"code-comment\"> * var map = L.map('map', {\r\n</span>","<span class=\"code-comment\"> * \tcenter: [51.505, -0.09],\r\n</span>","<span class=\"code-comment\"> * \tzoom: 13\r\n</span>","<span class=\"code-comment\"> * });\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> <span class=\"code-built_in\">Map</span> = Evented.extend({\r\n","\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @section Map State Options</span>\r\n","\t\t<span class=\"code-comment\">// @option crs: CRS = L.CRS.EPSG3857</span>\r\n","\t\t<span class=\"code-comment\">// The [Coordinate Reference System](#crs) to use. Don't change this if you're not</span>\r\n","\t\t<span class=\"code-comment\">// sure what it means.</span>\r\n","\t\tcrs: EPSG3857,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option center: LatLng = undefined</span>\r\n","\t\t<span class=\"code-comment\">// Initial geographic center of the map</span>\r\n","\t\tcenter: <span class=\"code-literal\">undefined</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoom: Number = undefined</span>\r\n","\t\t<span class=\"code-comment\">// Initial map zoom level</span>\r\n","\t\tzoom: <span class=\"code-literal\">undefined</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option minZoom: Number = *</span>\r\n","\t\t<span class=\"code-comment\">// Minimum zoom level of the map.</span>\r\n","\t\t<span class=\"code-comment\">// If not specified and at least one `GridLayer` or `TileLayer` is in the map,</span>\r\n","\t\t<span class=\"code-comment\">// the lowest of their `minZoom` options will be used instead.</span>\r\n","\t\tminZoom: <span class=\"code-literal\">undefined</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option maxZoom: Number = *</span>\r\n","\t\t<span class=\"code-comment\">// Maximum zoom level of the map.</span>\r\n","\t\t<span class=\"code-comment\">// If not specified and at least one `GridLayer` or `TileLayer` is in the map,</span>\r\n","\t\t<span class=\"code-comment\">// the highest of their `maxZoom` options will be used instead.</span>\r\n","\t\tmaxZoom: <span class=\"code-literal\">undefined</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option layers: Layer[] = []</span>\r\n","\t\t<span class=\"code-comment\">// Array of layers that will be added to the map initially</span>\r\n","\t\tlayers: [],\r\n","\r\n","\t\t<span class=\"code-comment\">// @option maxBounds: LatLngBounds = null</span>\r\n","\t\t<span class=\"code-comment\">// When this option is set, the map restricts the view to the given</span>\r\n","\t\t<span class=\"code-comment\">// geographical bounds, bouncing the user back if the user tries to pan</span>\r\n","\t\t<span class=\"code-comment\">// outside the view. To set the restriction dynamically, use</span>\r\n","\t\t<span class=\"code-comment\">// [`setMaxBounds`](#map-setmaxbounds) method.</span>\r\n","\t\tmaxBounds: <span class=\"code-literal\">undefined</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option renderer: Renderer = *</span>\r\n","\t\t<span class=\"code-comment\">// The default method for drawing vector layers on the map. `L.SVG`</span>\r\n","\t\t<span class=\"code-comment\">// or `L.Canvas` by default depending on browser support.</span>\r\n","\t\trenderer: <span class=\"code-literal\">undefined</span>,\r\n","\r\n","\r\n","\t\t<span class=\"code-comment\">// @section Animation Options</span>\r\n","\t\t<span class=\"code-comment\">// @option zoomAnimation: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the map zoom animation is enabled. By default it's enabled</span>\r\n","\t\t<span class=\"code-comment\">// in all browsers that support CSS3 Transitions except Android.</span>\r\n","\t\tzoomAnimation: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomAnimationThreshold: Number = 4</span>\r\n","\t\t<span class=\"code-comment\">// Won't animate zoom if the zoom difference exceeds this value.</span>\r\n","\t\tzoomAnimationThreshold: <span class=\"code-number\">4</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option fadeAnimation: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the tile fade animation is enabled. By default it's enabled</span>\r\n","\t\t<span class=\"code-comment\">// in all browsers that support CSS3 Transitions except Android.</span>\r\n","\t\tfadeAnimation: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option markerZoomAnimation: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether markers animate their zoom with the zoom animation, if disabled</span>\r\n","\t\t<span class=\"code-comment\">// they will disappear for the length of the animation. By default it's</span>\r\n","\t\t<span class=\"code-comment\">// enabled in all browsers that support CSS3 Transitions except Android.</span>\r\n","\t\tmarkerZoomAnimation: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option transform3DLimit: Number = 2^23</span>\r\n","\t\t<span class=\"code-comment\">// Defines the maximum size of a CSS translation transform. The default</span>\r\n","\t\t<span class=\"code-comment\">// value should not be changed unless a web browser positions layers in</span>\r\n","\t\t<span class=\"code-comment\">// the wrong place after doing a large `panBy`.</span>\r\n","\t\ttransform3DLimit: <span class=\"code-number\">8388608</span>, <span class=\"code-comment\">// Precision limit of a 32-bit float</span>\r\n","\r\n","\t\t<span class=\"code-comment\">// @section Interaction Options</span>\r\n","\t\t<span class=\"code-comment\">// @option zoomSnap: Number = 1</span>\r\n","\t\t<span class=\"code-comment\">// Forces the map's zoom level to always be a multiple of this, particularly</span>\r\n","\t\t<span class=\"code-comment\">// right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.</span>\r\n","\t\t<span class=\"code-comment\">// By default, the zoom level snaps to the nearest integer; lower values</span>\r\n","\t\t<span class=\"code-comment\">// (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`</span>\r\n","\t\t<span class=\"code-comment\">// means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.</span>\r\n","\t\tzoomSnap: <span class=\"code-number\">1</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomDelta: Number = 1</span>\r\n","\t\t<span class=\"code-comment\">// Controls how much the map's zoom level will change after a</span>\r\n","\t\t<span class=\"code-comment\">// [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`</span>\r\n","\t\t<span class=\"code-comment\">// or `-` on the keyboard, or using the [zoom controls](#control-zoom).</span>\r\n","\t\t<span class=\"code-comment\">// Values smaller than `1` (e.g. `0.5`) allow for greater granularity.</span>\r\n","\t\tzoomDelta: <span class=\"code-number\">1</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option trackResize: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the map automatically handles browser window resize to update itself.</span>\r\n","\t\ttrackResize: <span class=\"code-literal\">true</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">id, options</span>) </span>{ <span class=\"code-comment\">// (HTMLElement or String, Object)</span>\r\n","\t\toptions = setOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-comment\">// Make sure to assign internal flags at the beginning,</span>\r\n","\t\t<span class=\"code-comment\">// to avoid inconsistent state in some edge cases.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._handlers = [];\r\n","\t\t<span class=\"code-keyword\">this</span>._layers = {};\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomBoundLayers = {};\r\n","\t\t<span class=\"code-keyword\">this</span>._sizeChanged = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._initContainer(id);\r\n","\t\t<span class=\"code-keyword\">this</span>._initLayout();\r\n","\r\n","\t\t<span class=\"code-comment\">// hack for https://github.com/Leaflet/Leaflet/issues/1980</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._onResize = bind(<span class=\"code-keyword\">this</span>._onResize, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._initEvents();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.maxBounds) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.setMaxBounds(options.maxBounds);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.zoom !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._zoom = <span class=\"code-keyword\">this</span>._limitZoom(options.zoom);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.center &amp;&amp; options.zoom !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.setView(toLatLng(options.center), options.zoom, {<span class=\"code-attr\">reset</span>: <span class=\"code-literal\">true</span>});\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.callInitHooks();\r\n","\r\n","\t\t<span class=\"code-comment\">// don't animate on browsers without hardware-accelerated transitions or old Android/Opera</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomAnimated = TRANSITION &amp;&amp; Browser.any3d &amp;&amp; !Browser.mobileOpera &amp;&amp;\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.options.zoomAnimation;\r\n","\r\n","\t\t<span class=\"code-comment\">// zoom transitions run with the same duration for all layers, so if one of transitionend events</span>\r\n","\t\t<span class=\"code-comment\">// happens after starting zoom animation (propagating to the map pane), we know that it ended globally</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._createAnimProxy();\r\n","\t\t\ton(<span class=\"code-keyword\">this</span>._proxy, TRANSITION_END, <span class=\"code-keyword\">this</span>._catchTransitionEnd, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._addLayers(<span class=\"code-keyword\">this</span>.options.layers);\r\n","\t},\r\n","\r\n","\r\n","\t<span class=\"code-comment\">// @section Methods for modifying map state</span>\r\n","\r\n","\t<span class=\"code-comment\">// @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this</span>\r\n","\t<span class=\"code-comment\">// Sets the view of the map (geographical center and zoom) with the given</span>\r\n","\t<span class=\"code-comment\">// animation options.</span>\r\n","\tsetView: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom, options</span>) </span>{\r\n","\r\n","\t\tzoom = zoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>._zoom : <span class=\"code-keyword\">this</span>._limitZoom(zoom);\r\n","\t\tcenter = <span class=\"code-keyword\">this</span>._limitCenter(toLatLng(center), zoom, <span class=\"code-keyword\">this</span>.options.maxBounds);\r\n","\t\toptions = options || {};\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._stop();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded &amp;&amp; !options.reset &amp;&amp; options !== <span class=\"code-literal\">true</span>) {\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (options.animate !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\t\toptions.zoom = extend({<span class=\"code-attr\">animate</span>: options.animate}, options.zoom);\r\n","\t\t\t\toptions.pan = extend({<span class=\"code-attr\">animate</span>: options.animate, <span class=\"code-attr\">duration</span>: options.duration}, options.pan);\r\n","\t\t\t}\r\n","\r\n","\t\t\t<span class=\"code-comment\">// try animating pan or zoom</span>\r\n","\t\t\t<span class=\"code-keyword\">var</span> moved = (<span class=\"code-keyword\">this</span>._zoom !== zoom) ?\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._tryAnimatedZoom &amp;&amp; <span class=\"code-keyword\">this</span>._tryAnimatedZoom(center, zoom, options.zoom) :\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._tryAnimatedPan(center, options.pan);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (moved) {\r\n","\t\t\t\t<span class=\"code-comment\">// prevent resize handler call, the view will refresh after animation anyway</span>\r\n","\t\t\t\tclearTimeout(<span class=\"code-keyword\">this</span>._sizeTimer);\r\n","\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// animation didn't start, just reset the map view</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._resetView(center, zoom);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setZoom(zoom: Number, options?: Zoom/pan options): this</span>\r\n","\t<span class=\"code-comment\">// Sets the zoom of the map.</span>\r\n","\tsetZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._loaded) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._zoom = zoom;\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setView(<span class=\"code-keyword\">this</span>.getCenter(), zoom, {<span class=\"code-attr\">zoom</span>: options});\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method zoomIn(delta?: Number, options?: Zoom options): this</span>\r\n","\t<span class=\"code-comment\">// Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).</span>\r\n","\tzoomIn: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">delta, options</span>) </span>{\r\n","\t\tdelta = delta || (Browser.any3d ? <span class=\"code-keyword\">this</span>.options.zoomDelta : <span class=\"code-number\">1</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setZoom(<span class=\"code-keyword\">this</span>._zoom + delta, options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method zoomOut(delta?: Number, options?: Zoom options): this</span>\r\n","\t<span class=\"code-comment\">// Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).</span>\r\n","\tzoomOut: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">delta, options</span>) </span>{\r\n","\t\tdelta = delta || (Browser.any3d ? <span class=\"code-keyword\">this</span>.options.zoomDelta : <span class=\"code-number\">1</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setZoom(<span class=\"code-keyword\">this</span>._zoom - delta, options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this</span>\r\n","\t<span class=\"code-comment\">// Zooms the map while keeping a specified geographical point on the map</span>\r\n","\t<span class=\"code-comment\">// stationary (e.g. used internally for scroll zoom and double-click zoom).</span>\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this</span>\r\n","\t<span class=\"code-comment\">// Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.</span>\r\n","\tsetZoomAround: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, zoom, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-keyword\">this</span>.getZoomScale(zoom),\r\n","\t\t    viewHalf = <span class=\"code-keyword\">this</span>.getSize().divideBy(<span class=\"code-number\">2</span>),\r\n","\t\t    containerPoint = latlng <span class=\"code-keyword\">instanceof</span> Point ? latlng : <span class=\"code-keyword\">this</span>.latLngToContainerPoint(latlng),\r\n","\r\n","\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(<span class=\"code-number\">1</span> - <span class=\"code-number\">1</span> / scale),\r\n","\t\t    newCenter = <span class=\"code-keyword\">this</span>.containerPointToLatLng(viewHalf.add(centerOffset));\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setView(newCenter, zoom, {<span class=\"code-attr\">zoom</span>: options});\r\n","\t},\r\n","\r\n","\t_getBoundsCenterZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds, options</span>) </span>{\r\n","\r\n","\t\toptions = options || {};\r\n","\t\tbounds = bounds.getBounds ? bounds.getBounds() : toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> paddingTL = toPoint(options.paddingTopLeft || options.padding || [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]),\r\n","\t\t    paddingBR = toPoint(options.paddingBottomRight || options.padding || [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]),\r\n","\r\n","\t\t    zoom = <span class=\"code-keyword\">this</span>.getBoundsZoom(bounds, <span class=\"code-literal\">false</span>, paddingTL.add(paddingBR));\r\n","\r\n","\t\tzoom = (<span class=\"code-keyword\">typeof</span> options.maxZoom === <span class=\"code-string\">'number'</span>) ? <span class=\"code-built_in\">Math</span>.min(options.maxZoom, zoom) : zoom;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (zoom === <span class=\"code-literal\">Infinity</span>) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> {\r\n","\t\t\t\tcenter: bounds.getCenter(),\r\n","\t\t\t\tzoom: zoom\r\n","\t\t\t};\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> paddingOffset = paddingBR.subtract(paddingTL).divideBy(<span class=\"code-number\">2</span>),\r\n","\r\n","\t\t    swPoint = <span class=\"code-keyword\">this</span>.project(bounds.getSouthWest(), zoom),\r\n","\t\t    nePoint = <span class=\"code-keyword\">this</span>.project(bounds.getNorthEast(), zoom),\r\n","\t\t    center = <span class=\"code-keyword\">this</span>.unproject(swPoint.add(nePoint).divideBy(<span class=\"code-number\">2</span>).add(paddingOffset), zoom);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> {\r\n","\t\t\tcenter: center,\r\n","\t\t\tzoom: zoom\r\n","\t\t};\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method fitBounds(bounds: LatLngBounds, options?: fitBounds options): this</span>\r\n","\t<span class=\"code-comment\">// Sets a map view that contains the given geographical bounds with the</span>\r\n","\t<span class=\"code-comment\">// maximum zoom level possible.</span>\r\n","\tfitBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds, options</span>) </span>{\r\n","\r\n","\t\tbounds = toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!bounds.isValid()) {\r\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Bounds are not valid.'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> target = <span class=\"code-keyword\">this</span>._getBoundsCenterZoom(bounds, options);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setView(target.center, target.zoom, options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method fitWorld(options?: fitBounds options): this</span>\r\n","\t<span class=\"code-comment\">// Sets a map view that mostly contains the whole world with the maximum</span>\r\n","\t<span class=\"code-comment\">// zoom level possible.</span>\r\n","\tfitWorld: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fitBounds([[<span class=\"code-number\">-90</span>, <span class=\"code-number\">-180</span>], [<span class=\"code-number\">90</span>, <span class=\"code-number\">180</span>]], options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method panTo(latlng: LatLng, options?: Pan options): this</span>\r\n","\t<span class=\"code-comment\">// Pans the map to a given center.</span>\r\n","\tpanTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, options</span>) </span>{ <span class=\"code-comment\">// (LatLng)</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setView(center, <span class=\"code-keyword\">this</span>._zoom, {<span class=\"code-attr\">pan</span>: options});\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method panBy(offset: Point, options?: Pan options): this</span>\r\n","\t<span class=\"code-comment\">// Pans the map by a given number of pixels (animated).</span>\r\n","\tpanBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">offset, options</span>) </span>{\r\n","\t\toffset = toPoint(offset).round();\r\n","\t\toptions = options || {};\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!offset.x &amp;&amp; !offset.y) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'moveend'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-comment\">// If we pan too far, Chrome gets issues with tiles</span>\r\n","\t\t<span class=\"code-comment\">// and makes them disappear or appear in the wrong place (slightly offset) #2602</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (options.animate !== <span class=\"code-literal\">true</span> &amp;&amp; !<span class=\"code-keyword\">this</span>.getSize().contains(offset)) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._resetView(<span class=\"code-keyword\">this</span>.unproject(<span class=\"code-keyword\">this</span>.project(<span class=\"code-keyword\">this</span>.getCenter()).add(offset)), <span class=\"code-keyword\">this</span>.getZoom());\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._panAnim) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._panAnim = <span class=\"code-keyword\">new</span> PosAnimation();\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>._panAnim.on({\r\n","\t\t\t\t<span class=\"code-string\">'step'</span>: <span class=\"code-keyword\">this</span>._onPanTransitionStep,\r\n","\t\t\t\t<span class=\"code-string\">'end'</span>: <span class=\"code-keyword\">this</span>._onPanTransitionEnd\r\n","\t\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// don't fire movestart if animating inertia</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!options.noMoveStart) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'movestart'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// animate pan unless animate: false specified</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (options.animate !== <span class=\"code-literal\">false</span>) {\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-string\">'leaflet-pan-anim'</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">var</span> newPos = <span class=\"code-keyword\">this</span>._getMapPanePos().subtract(offset).round();\r\n","\t\t\t<span class=\"code-keyword\">this</span>._panAnim.run(<span class=\"code-keyword\">this</span>._mapPane, newPos, options.duration || <span class=\"code-number\">0.25</span>, options.easeLinearity);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._rawPanBy(offset);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>).fire(<span class=\"code-string\">'moveend'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this</span>\r\n","\t<span class=\"code-comment\">// Sets the view of the map (geographical center and zoom) performing a smooth</span>\r\n","\t<span class=\"code-comment\">// pan-zoom animation.</span>\r\n","\tflyTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">targetCenter, targetZoom, options</span>) </span>{\r\n","\r\n","\t\toptions = options || {};\r\n","\t\t<span class=\"code-keyword\">if</span> (options.animate === <span class=\"code-literal\">false</span> || !Browser.any3d) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setView(targetCenter, targetZoom, options);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._stop();\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> <span class=\"code-keyword\">from</span> = <span class=\"code-keyword\">this</span>.project(<span class=\"code-keyword\">this</span>.getCenter()),\r\n","\t\t    to = <span class=\"code-keyword\">this</span>.project(targetCenter),\r\n","\t\t    size = <span class=\"code-keyword\">this</span>.getSize(),\r\n","\t\t    startZoom = <span class=\"code-keyword\">this</span>._zoom;\r\n","\r\n","\t\ttargetCenter = toLatLng(targetCenter);\r\n","\t\ttargetZoom = targetZoom === <span class=\"code-literal\">undefined</span> ? startZoom : targetZoom;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> w0 = <span class=\"code-built_in\">Math</span>.max(size.x, size.y),\r\n","\t\t    w1 = w0 * <span class=\"code-keyword\">this</span>.getZoomScale(startZoom, targetZoom),\r\n","\t\t    u1 = (to.distanceTo(<span class=\"code-keyword\">from</span>)) || <span class=\"code-number\">1</span>,\r\n","\t\t    rho = <span class=\"code-number\">1.42</span>,\r\n","\t\t    rho2 = rho * rho;\r\n","\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">i</span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">var</span> s1 = i ? <span class=\"code-number\">-1</span> : <span class=\"code-number\">1</span>,\r\n","\t\t\t    s2 = i ? w1 : w0,\r\n","\t\t\t    t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1,\r\n","\t\t\t    b1 = <span class=\"code-number\">2</span> * s2 * rho2 * u1,\r\n","\t\t\t    b = t1 / b1,\r\n","\t\t\t    sq = <span class=\"code-built_in\">Math</span>.sqrt(b * b + <span class=\"code-number\">1</span>) - b;\r\n","\r\n","\t\t\t    <span class=\"code-comment\">// workaround for floating point precision bug when sq = 0, log = -Infinite,</span>\r\n","\t\t\t    <span class=\"code-comment\">// thus triggering an infinite loop in flyTo</span>\r\n","\t\t\t    <span class=\"code-keyword\">var</span> log = sq &lt; <span class=\"code-number\">0.000000001</span> ? <span class=\"code-number\">-18</span> : <span class=\"code-built_in\">Math</span>.log(sq);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">return</span> log;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sinh</span>(<span class=\"code-params\">n</span>) </span>{ <span class=\"code-keyword\">return</span> (<span class=\"code-built_in\">Math</span>.exp(n) - <span class=\"code-built_in\">Math</span>.exp(-n)) / <span class=\"code-number\">2</span>; }\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cosh</span>(<span class=\"code-params\">n</span>) </span>{ <span class=\"code-keyword\">return</span> (<span class=\"code-built_in\">Math</span>.exp(n) + <span class=\"code-built_in\">Math</span>.exp(-n)) / <span class=\"code-number\">2</span>; }\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tanh</span>(<span class=\"code-params\">n</span>) </span>{ <span class=\"code-keyword\">return</span> sinh(n) / cosh(n); }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> r0 = r(<span class=\"code-number\">0</span>);\r\n","\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">s</span>) </span>{ <span class=\"code-keyword\">return</span> w0 * (cosh(r0) / cosh(r0 + rho * s)); }\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">s</span>) </span>{ <span class=\"code-keyword\">return</span> w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2; }\r\n","\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">easeOut</span>(<span class=\"code-params\">t</span>) </span>{ <span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span> - <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">1</span> - t, <span class=\"code-number\">1.5</span>); }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> start = <span class=\"code-built_in\">Date</span>.now(),\r\n","\t\t    S = (r(<span class=\"code-number\">1</span>) - r0) / rho,\r\n","\t\t    duration = options.duration ? <span class=\"code-number\">1000</span> * options.duration : <span class=\"code-number\">1000</span> * S * <span class=\"code-number\">0.8</span>;\r\n","\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">frame</span>(<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">var</span> t = (<span class=\"code-built_in\">Date</span>.now() - start) / duration,\r\n","\t\t\t    s = easeOut(t) * S;\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (t &lt;= <span class=\"code-number\">1</span>) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._flyToFrame = requestAnimFrame(frame, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._move(\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>.unproject(<span class=\"code-keyword\">from</span>.add(to.subtract(<span class=\"code-keyword\">from</span>).multiplyBy(u(s) / u1)), startZoom),\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>.getScaleZoom(w0 / w(s), startZoom),\r\n","\t\t\t\t\t{<span class=\"code-attr\">flyTo</span>: <span class=\"code-literal\">true</span>});\r\n","\r\n","\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>\r\n","\t\t\t\t\t._move(targetCenter, targetZoom)\r\n","\t\t\t\t\t._moveEnd(<span class=\"code-literal\">true</span>);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._moveStart(<span class=\"code-literal\">true</span>, options.noMoveStart);\r\n","\r\n","\t\tframe.call(<span class=\"code-keyword\">this</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this</span>\r\n","\t<span class=\"code-comment\">// Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),</span>\r\n","\t<span class=\"code-comment\">// but takes a bounds parameter like [`fitBounds`](#map-fitbounds).</span>\r\n","\tflyToBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> target = <span class=\"code-keyword\">this</span>._getBoundsCenterZoom(bounds, options);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.flyTo(target.center, target.zoom, options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setMaxBounds(bounds: LatLngBounds): this</span>\r\n","\t<span class=\"code-comment\">// Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).</span>\r\n","\tsetMaxBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{\r\n","\t\tbounds = toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!bounds.isValid()) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.options.maxBounds = <span class=\"code-literal\">null</span>;\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">'moveend'</span>, <span class=\"code-keyword\">this</span>._panInsideMaxBounds);\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.maxBounds) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">'moveend'</span>, <span class=\"code-keyword\">this</span>._panInsideMaxBounds);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.options.maxBounds = bounds;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._panInsideMaxBounds();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">'moveend'</span>, <span class=\"code-keyword\">this</span>._panInsideMaxBounds);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setMinZoom(zoom: Number): this</span>\r\n","\t<span class=\"code-comment\">// Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).</span>\r\n","\tsetMinZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> oldZoom = <span class=\"code-keyword\">this</span>.options.minZoom;\r\n","\t\t<span class=\"code-keyword\">this</span>.options.minZoom = zoom;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded &amp;&amp; oldZoom !== zoom) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoomlevelschange'</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.getZoom() &lt; <span class=\"code-keyword\">this</span>.options.minZoom) {\r\n","\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setZoom(zoom);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setMaxZoom(zoom: Number): this</span>\r\n","\t<span class=\"code-comment\">// Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).</span>\r\n","\tsetMaxZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> oldZoom = <span class=\"code-keyword\">this</span>.options.maxZoom;\r\n","\t\t<span class=\"code-keyword\">this</span>.options.maxZoom = zoom;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded &amp;&amp; oldZoom !== zoom) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoomlevelschange'</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.getZoom() &gt; <span class=\"code-keyword\">this</span>.options.maxZoom) {\r\n","\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setZoom(zoom);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this</span>\r\n","\t<span class=\"code-comment\">// Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.</span>\r\n","\tpanInsideBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._enforcingBounds = <span class=\"code-literal\">true</span>;\r\n","\t\t<span class=\"code-keyword\">var</span> center = <span class=\"code-keyword\">this</span>.getCenter(),\r\n","\t\t    newCenter = <span class=\"code-keyword\">this</span>._limitCenter(center, <span class=\"code-keyword\">this</span>._zoom, toLatLngBounds(bounds));\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!center.equals(newCenter)) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.panTo(newCenter, options);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._enforcingBounds = <span class=\"code-literal\">false</span>;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method panInside(latlng: LatLng, options?: padding options): this</span>\r\n","\t<span class=\"code-comment\">// Pans the map the minimum amount to make the `latlng` visible. Use</span>\r\n","\t<span class=\"code-comment\">// padding options to fit the display to more restricted bounds.</span>\r\n","\t<span class=\"code-comment\">// If `latlng` is already within the (optionally padded) display bounds,</span>\r\n","\t<span class=\"code-comment\">// the map will not be panned.</span>\r\n","\tpanInside: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, options</span>) </span>{\r\n","\t\toptions = options || {};\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> paddingTL = toPoint(options.paddingTopLeft || options.padding || [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]),\r\n","\t\t    paddingBR = toPoint(options.paddingBottomRight || options.padding || [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]),\r\n","\t\t    pixelCenter = <span class=\"code-keyword\">this</span>.project(<span class=\"code-keyword\">this</span>.getCenter()),\r\n","\t\t    pixelPoint = <span class=\"code-keyword\">this</span>.project(latlng),\r\n","\t\t    pixelBounds = <span class=\"code-keyword\">this</span>.getPixelBounds(),\r\n","\t\t    paddedBounds = toBounds([pixelBounds.min.add(paddingTL), pixelBounds.max.subtract(paddingBR)]),\r\n","\t\t    paddedSize = paddedBounds.getSize();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!paddedBounds.contains(pixelPoint)) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._enforcingBounds = <span class=\"code-literal\">true</span>;\r\n","\t\t\t<span class=\"code-keyword\">var</span> centerOffset = pixelPoint.subtract(paddedBounds.getCenter());\r\n","\t\t\t<span class=\"code-keyword\">var</span> offset = paddedBounds.extend(pixelPoint).getSize().subtract(paddedSize);\r\n","\t\t\tpixelCenter.x += centerOffset.x &lt; <span class=\"code-number\">0</span> ? -offset.x : offset.x;\r\n","\t\t\tpixelCenter.y += centerOffset.y &lt; <span class=\"code-number\">0</span> ? -offset.y : offset.y;\r\n","\t\t\t<span class=\"code-keyword\">this</span>.panTo(<span class=\"code-keyword\">this</span>.unproject(pixelCenter), options);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._enforcingBounds = <span class=\"code-literal\">false</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method invalidateSize(options: Zoom/pan options): this</span>\r\n","\t<span class=\"code-comment\">// Checks if the map container size changed and updates the map if so \u2014</span>\r\n","\t<span class=\"code-comment\">// call it after you've changed the map size dynamically, also animating</span>\r\n","\t<span class=\"code-comment\">// pan by default. If `options.pan` is `false`, panning will not occur.</span>\r\n","\t<span class=\"code-comment\">// If `options.debounceMoveend` is `true`, it will delay `moveend` event so</span>\r\n","\t<span class=\"code-comment\">// that it doesn't happen often even if the method is called many</span>\r\n","\t<span class=\"code-comment\">// times in a row.</span>\r\n","\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method invalidateSize(animate: Boolean): this</span>\r\n","\t<span class=\"code-comment\">// Checks if the map container size changed and updates the map if so \u2014</span>\r\n","\t<span class=\"code-comment\">// call it after you've changed the map size dynamically, also animating</span>\r\n","\t<span class=\"code-comment\">// pan by default.</span>\r\n","\tinvalidateSize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._loaded) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\toptions = extend({\r\n","\t\t\tanimate: <span class=\"code-literal\">false</span>,\r\n","\t\t\tpan: <span class=\"code-literal\">true</span>\r\n","\t\t}, options === <span class=\"code-literal\">true</span> ? {<span class=\"code-attr\">animate</span>: <span class=\"code-literal\">true</span>} : options);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> oldSize = <span class=\"code-keyword\">this</span>.getSize();\r\n","\t\t<span class=\"code-keyword\">this</span>._sizeChanged = <span class=\"code-literal\">true</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._lastCenter = <span class=\"code-literal\">null</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> newSize = <span class=\"code-keyword\">this</span>.getSize(),\r\n","\t\t    oldCenter = oldSize.divideBy(<span class=\"code-number\">2</span>).round(),\r\n","\t\t    newCenter = newSize.divideBy(<span class=\"code-number\">2</span>).round(),\r\n","\t\t    offset = oldCenter.subtract(newCenter);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!offset.x &amp;&amp; !offset.y) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.animate &amp;&amp; options.pan) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.panBy(offset);\r\n","\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (options.pan) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._rawPanBy(offset);\r\n","\t\t\t}\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (options.debounceMoveend) {\r\n","\t\t\t\tclearTimeout(<span class=\"code-keyword\">this</span>._sizeTimer);\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._sizeTimer = setTimeout(bind(<span class=\"code-keyword\">this</span>.fire, <span class=\"code-keyword\">this</span>, <span class=\"code-string\">'moveend'</span>), <span class=\"code-number\">200</span>);\r\n","\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'moveend'</span>);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @section Map state change events</span>\r\n","\t\t<span class=\"code-comment\">// @event resize: ResizeEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the map is resized.</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'resize'</span>, {\r\n","\t\t\toldSize: oldSize,\r\n","\t\t\tnewSize: newSize\r\n","\t\t});\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Methods for modifying map state</span>\r\n","\t<span class=\"code-comment\">// @method stop(): this</span>\r\n","\t<span class=\"code-comment\">// Stops the currently running `panTo` or `flyTo` animation, if any.</span>\r\n","\tstop: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.setZoom(<span class=\"code-keyword\">this</span>._limitZoom(<span class=\"code-keyword\">this</span>._zoom));\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.zoomSnap) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'viewreset'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._stop();\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Geolocation methods</span>\r\n","\t<span class=\"code-comment\">// @method locate(options?: Locate options): this</span>\r\n","\t<span class=\"code-comment\">// Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)</span>\r\n","\t<span class=\"code-comment\">// event with location data on success or a [`locationerror`](#map-locationerror) event on failure,</span>\r\n","\t<span class=\"code-comment\">// and optionally sets the map view to the user's location with respect to</span>\r\n","\t<span class=\"code-comment\">// detection accuracy (or to the world view if geolocation failed).</span>\r\n","\t<span class=\"code-comment\">// Note that, if your page doesn't use HTTPS, this method will fail in</span>\r\n","\t<span class=\"code-comment\">// modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))</span>\r\n","\t<span class=\"code-comment\">// See `Locate options` for more details.</span>\r\n","\tlocate: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\r\n","\t\toptions = <span class=\"code-keyword\">this</span>._locateOptions = extend({\r\n","\t\t\ttimeout: <span class=\"code-number\">10000</span>,\r\n","\t\t\twatch: <span class=\"code-literal\">false</span>\r\n","\t\t\t<span class=\"code-comment\">// setView: false</span>\r\n","\t\t\t<span class=\"code-comment\">// maxZoom: &lt;Number&gt;</span>\r\n","\t\t\t<span class=\"code-comment\">// maximumAge: 0</span>\r\n","\t\t\t<span class=\"code-comment\">// enableHighAccuracy: false</span>\r\n","\t\t}, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!(<span class=\"code-string\">'geolocation'</span> <span class=\"code-keyword\">in</span> navigator)) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._handleGeolocationError({\r\n","\t\t\t\tcode: <span class=\"code-number\">0</span>,\r\n","\t\t\t\tmessage: <span class=\"code-string\">'Geolocation not supported.'</span>\r\n","\t\t\t});\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> onResponse = bind(<span class=\"code-keyword\">this</span>._handleGeolocationResponse, <span class=\"code-keyword\">this</span>),\r\n","\t\t    onError = bind(<span class=\"code-keyword\">this</span>._handleGeolocationError, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.watch) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._locationWatchId =\r\n","\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method stopLocate(): this</span>\r\n","\t<span class=\"code-comment\">// Stops watching location previously initiated by `map.locate({watch: true})`</span>\r\n","\t<span class=\"code-comment\">// and aborts resetting the map view if map.locate was called with</span>\r\n","\t<span class=\"code-comment\">// `{setView: true}`.</span>\r\n","\tstopLocate: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (navigator.geolocation &amp;&amp; navigator.geolocation.clearWatch) {\r\n","\t\t\tnavigator.geolocation.clearWatch(<span class=\"code-keyword\">this</span>._locationWatchId);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._locateOptions) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._locateOptions.setView = <span class=\"code-literal\">false</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_handleGeolocationError: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">error</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._container._leaflet_id) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> c = error.code,\r\n","\t\t    message = error.message ||\r\n","\t\t            (c === <span class=\"code-number\">1</span> ? <span class=\"code-string\">'permission denied'</span> :\r\n","\t\t            (c === <span class=\"code-number\">2</span> ? <span class=\"code-string\">'position unavailable'</span> : <span class=\"code-string\">'timeout'</span>));\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._locateOptions.setView &amp;&amp; !<span class=\"code-keyword\">this</span>._loaded) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fitWorld();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @section Location events</span>\r\n","\t\t<span class=\"code-comment\">// @event locationerror: ErrorEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when geolocation (using the [`locate`](#map-locate) method) failed.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'locationerror'</span>, {\r\n","\t\t\tcode: c,\r\n","\t\t\tmessage: <span class=\"code-string\">'Geolocation error: '</span> + message + <span class=\"code-string\">'.'</span>\r\n","\t\t});\r\n","\t},\r\n","\r\n","\t_handleGeolocationResponse: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">pos</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._container._leaflet_id) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> lat = pos.coords.latitude,\r\n","\t\t    lng = pos.coords.longitude,\r\n","\t\t    latlng = <span class=\"code-keyword\">new</span> LatLng(lat, lng),\r\n","\t\t    bounds = latlng.toBounds(pos.coords.accuracy * <span class=\"code-number\">2</span>),\r\n","\t\t    options = <span class=\"code-keyword\">this</span>._locateOptions;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.setView) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> zoom = <span class=\"code-keyword\">this</span>.getBoundsZoom(bounds);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.setView(latlng, options.maxZoom ? <span class=\"code-built_in\">Math</span>.min(zoom, options.maxZoom) : zoom);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> data = {\r\n","\t\t\tlatlng: latlng,\r\n","\t\t\tbounds: bounds,\r\n","\t\t\ttimestamp: pos.timestamp\r\n","\t\t};\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> pos.coords) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> pos.coords[i] === <span class=\"code-string\">'number'</span>) {\r\n","\t\t\t\tdata[i] = pos.coords[i];\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @event locationfound: LocationEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when geolocation (using the [`locate`](#map-locate) method)</span>\r\n","\t\t<span class=\"code-comment\">// went successfully.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'locationfound'</span>, data);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// TODO Appropriate docs section?</span>\r\n","\t<span class=\"code-comment\">// @section Other Methods</span>\r\n","\t<span class=\"code-comment\">// @method addHandler(name: String, HandlerClass: Function): this</span>\r\n","\t<span class=\"code-comment\">// Adds a new `Handler` to the map, given its name and constructor function.</span>\r\n","\taddHandler: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name, HandlerClass</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!HandlerClass) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> handler = <span class=\"code-keyword\">this</span>[name] = <span class=\"code-keyword\">new</span> HandlerClass(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._handlers.push(handler);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options[name]) {\r\n","\t\t\thandler.enable();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method remove(): this</span>\r\n","\t<span class=\"code-comment\">// Destroys the map and clears all related event listeners.</span>\r\n","\tremove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._initEvents(<span class=\"code-literal\">true</span>);\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.maxBounds) { <span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">'moveend'</span>, <span class=\"code-keyword\">this</span>._panInsideMaxBounds); }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._containerId !== <span class=\"code-keyword\">this</span>._container._leaflet_id) {\r\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Map container is being reused by another instance'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">try</span> {\r\n","\t\t\t<span class=\"code-comment\">// throws error in IE6-8</span>\r\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._container._leaflet_id;\r\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._containerId;\r\n","\t\t} <span class=\"code-keyword\">catch</span> (e) {\r\n","\t\t\t<span class=\"code-comment\">/*eslint-disable */</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._container._leaflet_id = <span class=\"code-literal\">undefined</span>;\r\n","\t\t\t<span class=\"code-comment\">/* eslint-enable */</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._containerId = <span class=\"code-literal\">undefined</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._locationWatchId !== <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.stopLocate();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._stop();\r\n","\r\n","\t\tremove(<span class=\"code-keyword\">this</span>._mapPane);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._clearControlPos) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._clearControlPos();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._resizeRequest) {\r\n","\t\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._resizeRequest);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._resizeRequest = <span class=\"code-literal\">null</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._clearHandlers();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded) {\r\n","\t\t\t<span class=\"code-comment\">// @section Map state change events</span>\r\n","\t\t\t<span class=\"code-comment\">// @event unload: Event</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired when the map is destroyed with [remove](#map-remove) method.</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'unload'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> i;\r\n","\t\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._layers[i].remove();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._panes) {\r\n","\t\t\tremove(<span class=\"code-keyword\">this</span>._panes[i]);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layers = [];\r\n","\t\t<span class=\"code-keyword\">this</span>._panes = [];\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._mapPane;\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._renderer;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Other Methods</span>\r\n","\t<span class=\"code-comment\">// @method createPane(name: String, container?: HTMLElement): HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,</span>\r\n","\t<span class=\"code-comment\">// then returns it. The pane is created as a child of `container`, or</span>\r\n","\t<span class=\"code-comment\">// as a child of the main map pane if not set.</span>\r\n","\tcreatePane: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name, container</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> className = <span class=\"code-string\">'leaflet-pane'</span> + (name ? <span class=\"code-string\">' leaflet-'</span> + name.replace(<span class=\"code-string\">'Pane'</span>, <span class=\"code-string\">''</span>) + <span class=\"code-string\">'-pane'</span> : <span class=\"code-string\">''</span>),\r\n","\t\t    pane = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className, container || <span class=\"code-keyword\">this</span>._mapPane);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (name) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._panes[name] = pane;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> pane;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Methods for Getting Map State</span>\r\n","\r\n","\t<span class=\"code-comment\">// @method getCenter(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the geographical center of the map view</span>\r\n","\tgetCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._checkIfLoaded();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._lastCenter &amp;&amp; !<span class=\"code-keyword\">this</span>._moved()) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._lastCenter;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.layerPointToLatLng(<span class=\"code-keyword\">this</span>._getCenterLayerPoint());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getZoom(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the current zoom level of the map view</span>\r\n","\tgetZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._zoom;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getBounds(): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Returns the geographical bounds visible in the current map view</span>\r\n","\tgetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">this</span>.getPixelBounds(),\r\n","\t\t    sw = <span class=\"code-keyword\">this</span>.unproject(bounds.getBottomLeft()),\r\n","\t\t    ne = <span class=\"code-keyword\">this</span>.unproject(bounds.getTopRight());\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLngBounds(sw, ne);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getMinZoom(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.</span>\r\n","\tgetMinZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.minZoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>._layersMinZoom || <span class=\"code-number\">0</span> : <span class=\"code-keyword\">this</span>.options.minZoom;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getMaxZoom(): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).</span>\r\n","\tgetMaxZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.maxZoom === <span class=\"code-literal\">undefined</span> ?\r\n","\t\t\t(<span class=\"code-keyword\">this</span>._layersMaxZoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-literal\">Infinity</span> : <span class=\"code-keyword\">this</span>._layersMaxZoom) :\r\n","\t\t\t<span class=\"code-keyword\">this</span>.options.maxZoom;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean, padding?: Point): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the maximum zoom level on which the given bounds fit to the map</span>\r\n","\t<span class=\"code-comment\">// view in its entirety. If `inside` (optional) is set to `true`, the method</span>\r\n","\t<span class=\"code-comment\">// instead returns the minimum zoom level on which the map view fits into</span>\r\n","\t<span class=\"code-comment\">// the given bounds in its entirety.</span>\r\n","\tgetBoundsZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds, inside, padding</span>) </span>{ <span class=\"code-comment\">// (LatLngBounds[, Boolean, Point]) -&gt; Number</span>\r\n","\t\tbounds = toLatLngBounds(bounds);\r\n","\t\tpadding = toPoint(padding || [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> zoom = <span class=\"code-keyword\">this</span>.getZoom() || <span class=\"code-number\">0</span>,\r\n","\t\t    min = <span class=\"code-keyword\">this</span>.getMinZoom(),\r\n","\t\t    max = <span class=\"code-keyword\">this</span>.getMaxZoom(),\r\n","\t\t    nw = bounds.getNorthWest(),\r\n","\t\t    se = bounds.getSouthEast(),\r\n","\t\t    size = <span class=\"code-keyword\">this</span>.getSize().subtract(padding),\r\n","\t\t    boundsSize = toBounds(<span class=\"code-keyword\">this</span>.project(se, zoom), <span class=\"code-keyword\">this</span>.project(nw, zoom)).getSize(),\r\n","\t\t    snap = Browser.any3d ? <span class=\"code-keyword\">this</span>.options.zoomSnap : <span class=\"code-number\">1</span>,\r\n","\t\t    scalex = size.x / boundsSize.x,\r\n","\t\t    scaley = size.y / boundsSize.y,\r\n","\t\t    scale = inside ? <span class=\"code-built_in\">Math</span>.max(scalex, scaley) : <span class=\"code-built_in\">Math</span>.min(scalex, scaley);\r\n","\r\n","\t\tzoom = <span class=\"code-keyword\">this</span>.getScaleZoom(scale, zoom);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (snap) {\r\n","\t\t\tzoom = <span class=\"code-built_in\">Math</span>.round(zoom / (snap / <span class=\"code-number\">100</span>)) * (snap / <span class=\"code-number\">100</span>); <span class=\"code-comment\">// don't jump if within 1% of a snap level</span>\r\n","\t\t\tzoom = inside ? <span class=\"code-built_in\">Math</span>.ceil(zoom / snap) * snap : <span class=\"code-built_in\">Math</span>.floor(zoom / snap) * snap;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(min, <span class=\"code-built_in\">Math</span>.min(max, zoom));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getSize(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the current size of the map container (in pixels).</span>\r\n","\tgetSize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._size || <span class=\"code-keyword\">this</span>._sizeChanged) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._size = <span class=\"code-keyword\">new</span> Point(\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._container.clientWidth || <span class=\"code-number\">0</span>,\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._container.clientHeight || <span class=\"code-number\">0</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>._sizeChanged = <span class=\"code-literal\">false</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._size.clone();\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getPixelBounds(): Bounds</span>\r\n","\t<span class=\"code-comment\">// Returns the bounds of the current map view in projected pixel</span>\r\n","\t<span class=\"code-comment\">// coordinates (sometimes useful in layer and overlay implementations).</span>\r\n","\tgetPixelBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> topLeftPoint = <span class=\"code-keyword\">this</span>._getTopLeftPoint(center, zoom);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Bounds(topLeftPoint, topLeftPoint.add(<span class=\"code-keyword\">this</span>.getSize()));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// <span class=\"code-doctag\">TODO:</span> Check semantics - isn't the pixel origin the 0,0 coord relative to</span>\r\n","\t<span class=\"code-comment\">// the map pane? \"left point of the map layer\" can be confusing, specially</span>\r\n","\t<span class=\"code-comment\">// since there can be negative offsets.</span>\r\n","\t<span class=\"code-comment\">// @method getPixelOrigin(): Point</span>\r\n","\t<span class=\"code-comment\">// Returns the projected pixel coordinates of the top left point of</span>\r\n","\t<span class=\"code-comment\">// the map layer (useful in custom layer and overlay implementations).</span>\r\n","\tgetPixelOrigin: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._checkIfLoaded();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._pixelOrigin;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getPixelWorldBounds(zoom?: Number): Bounds</span>\r\n","\t<span class=\"code-comment\">// Returns the world's bounds in pixel coordinates for zoom level `zoom`.</span>\r\n","\t<span class=\"code-comment\">// If `zoom` is omitted, the map's current zoom level is used.</span>\r\n","\tgetPixelWorldBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.crs.getProjectedBounds(zoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>.getZoom() : zoom);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Other Methods</span>\r\n","\r\n","\t<span class=\"code-comment\">// @method getPane(pane: String|HTMLElement): HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Returns a [map pane](#map-pane), given its name or its HTML element (its identity).</span>\r\n","\tgetPane: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">pane</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> pane === <span class=\"code-string\">'string'</span> ? <span class=\"code-keyword\">this</span>._panes[pane] : pane;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getPanes(): Object</span>\r\n","\t<span class=\"code-comment\">// Returns a plain object containing the names of all [panes](#map-pane) as keys and</span>\r\n","\t<span class=\"code-comment\">// the panes as values.</span>\r\n","\tgetPanes: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._panes;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getContainer: HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Returns the HTML element that contains the map.</span>\r\n","\tgetContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._container;\r\n","\t},\r\n","\r\n","\r\n","\t<span class=\"code-comment\">// @section Conversion Methods</span>\r\n","\r\n","\t<span class=\"code-comment\">// @method getZoomScale(toZoom: Number, fromZoom: Number): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the scale factor to be applied to a map transition from zoom level</span>\r\n","\t<span class=\"code-comment\">// `fromZoom` to `toZoom`. Used internally to help with zoom animations.</span>\r\n","\tgetZoomScale: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">toZoom, fromZoom</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// TODO replace with universal implementation after refactoring projections</span>\r\n","\t\t<span class=\"code-keyword\">var</span> crs = <span class=\"code-keyword\">this</span>.options.crs;\r\n","\t\tfromZoom = fromZoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>._zoom : fromZoom;\r\n","\t\t<span class=\"code-keyword\">return</span> crs.scale(toZoom) / crs.scale(fromZoom);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getScaleZoom(scale: Number, fromZoom: Number): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the zoom level that the map would end up at, if it is at `fromZoom`</span>\r\n","\t<span class=\"code-comment\">// level and everything is scaled by a factor of `scale`. Inverse of</span>\r\n","\t<span class=\"code-comment\">// [`getZoomScale`](#map-getZoomScale).</span>\r\n","\tgetScaleZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">scale, fromZoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> crs = <span class=\"code-keyword\">this</span>.options.crs;\r\n","\t\tfromZoom = fromZoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>._zoom : fromZoom;\r\n","\t\t<span class=\"code-keyword\">var</span> zoom = crs.zoom(scale * crs.scale(fromZoom));\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">isNaN</span>(zoom) ? <span class=\"code-literal\">Infinity</span> : zoom;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method project(latlng: LatLng, zoom: Number): Point</span>\r\n","\t<span class=\"code-comment\">// Projects a geographical coordinate `LatLng` according to the projection</span>\r\n","\t<span class=\"code-comment\">// of the map's CRS, then scales it according to `zoom` and the CRS's</span>\r\n","\t<span class=\"code-comment\">// `Transformation`. The result is pixel coordinate relative to</span>\r\n","\t<span class=\"code-comment\">// the CRS origin.</span>\r\n","\tproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, zoom</span>) </span>{\r\n","\t\tzoom = zoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>._zoom : zoom;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.crs.latLngToPoint(toLatLng(latlng), zoom);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method unproject(point: Point, zoom: Number): LatLng</span>\r\n","\t<span class=\"code-comment\">// Inverse of [`project`](#map-project).</span>\r\n","\tunproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point, zoom</span>) </span>{\r\n","\t\tzoom = zoom === <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>._zoom : zoom;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.crs.pointToLatLng(toPoint(point), zoom);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method layerPointToLatLng(point: Point): LatLng</span>\r\n","\t<span class=\"code-comment\">// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),</span>\r\n","\t<span class=\"code-comment\">// returns the corresponding geographical coordinate (for the current zoom level).</span>\r\n","\tlayerPointToLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> projectedPoint = toPoint(point).add(<span class=\"code-keyword\">this</span>.getPixelOrigin());\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unproject(projectedPoint);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method latLngToLayerPoint(latlng: LatLng): Point</span>\r\n","\t<span class=\"code-comment\">// Given a geographical coordinate, returns the corresponding pixel coordinate</span>\r\n","\t<span class=\"code-comment\">// relative to the [origin pixel](#map-getpixelorigin).</span>\r\n","\tlatLngToLayerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> projectedPoint = <span class=\"code-keyword\">this</span>.project(toLatLng(latlng))._round();\r\n","\t\t<span class=\"code-keyword\">return</span> projectedPoint._subtract(<span class=\"code-keyword\">this</span>.getPixelOrigin());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method wrapLatLng(latlng: LatLng): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns a `LatLng` where `lat` and `lng` has been wrapped according to the</span>\r\n","\t<span class=\"code-comment\">// map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the</span>\r\n","\t<span class=\"code-comment\">// CRS's bounds.</span>\r\n","\t<span class=\"code-comment\">// By default this means longitude is wrapped around the dateline so its</span>\r\n","\t<span class=\"code-comment\">// value is between -180 and +180 degrees.</span>\r\n","\twrapLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.crs.wrapLatLng(toLatLng(latlng));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Returns a `LatLngBounds` with the same size as the given one, ensuring that</span>\r\n","\t<span class=\"code-comment\">// its center is within the CRS's bounds.</span>\r\n","\t<span class=\"code-comment\">// By default this means the center longitude is wrapped around the dateline so its</span>\r\n","\t<span class=\"code-comment\">// value is between -180 and +180 degrees, and the majority of the bounds</span>\r\n","\t<span class=\"code-comment\">// overlaps the CRS's bounds.</span>\r\n","\twrapLatLngBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.crs.wrapLatLngBounds(toLatLngBounds(latlng));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method distance(latlng1: LatLng, latlng2: LatLng): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the distance between two geographical coordinates according to</span>\r\n","\t<span class=\"code-comment\">// the map's CRS. By default this measures distance in meters.</span>\r\n","\tdistance: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng1, latlng2</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.crs.distance(toLatLng(latlng1), toLatLng(latlng2));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method containerPointToLayerPoint(point: Point): Point</span>\r\n","\t<span class=\"code-comment\">// Given a pixel coordinate relative to the map container, returns the corresponding</span>\r\n","\t<span class=\"code-comment\">// pixel coordinate relative to the [origin pixel](#map-getpixelorigin).</span>\r\n","\tcontainerPointToLayerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{ <span class=\"code-comment\">// (Point)</span>\r\n","\t\t<span class=\"code-keyword\">return</span> toPoint(point).subtract(<span class=\"code-keyword\">this</span>._getMapPanePos());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method layerPointToContainerPoint(point: Point): Point</span>\r\n","\t<span class=\"code-comment\">// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),</span>\r\n","\t<span class=\"code-comment\">// returns the corresponding pixel coordinate relative to the map container.</span>\r\n","\tlayerPointToContainerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{ <span class=\"code-comment\">// (Point)</span>\r\n","\t\t<span class=\"code-keyword\">return</span> toPoint(point).add(<span class=\"code-keyword\">this</span>._getMapPanePos());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method containerPointToLatLng(point: Point): LatLng</span>\r\n","\t<span class=\"code-comment\">// Given a pixel coordinate relative to the map container, returns</span>\r\n","\t<span class=\"code-comment\">// the corresponding geographical coordinate (for the current zoom level).</span>\r\n","\tcontainerPointToLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> layerPoint = <span class=\"code-keyword\">this</span>.containerPointToLayerPoint(toPoint(point));\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.layerPointToLatLng(layerPoint);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method latLngToContainerPoint(latlng: LatLng): Point</span>\r\n","\t<span class=\"code-comment\">// Given a geographical coordinate, returns the corresponding pixel coordinate</span>\r\n","\t<span class=\"code-comment\">// relative to the map container.</span>\r\n","\tlatLngToContainerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.layerPointToContainerPoint(<span class=\"code-keyword\">this</span>.latLngToLayerPoint(toLatLng(latlng)));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method mouseEventToContainerPoint(ev: MouseEvent): Point</span>\r\n","\t<span class=\"code-comment\">// Given a MouseEvent object, returns the pixel coordinate relative to the</span>\r\n","\t<span class=\"code-comment\">// map container where the event took place.</span>\r\n","\tmouseEventToContainerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> getMousePosition(e, <span class=\"code-keyword\">this</span>._container);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method mouseEventToLayerPoint(ev: MouseEvent): Point</span>\r\n","\t<span class=\"code-comment\">// Given a MouseEvent object, returns the pixel coordinate relative to</span>\r\n","\t<span class=\"code-comment\">// the [origin pixel](#map-getpixelorigin) where the event took place.</span>\r\n","\tmouseEventToLayerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.containerPointToLayerPoint(<span class=\"code-keyword\">this</span>.mouseEventToContainerPoint(e));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method mouseEventToLatLng(ev: MouseEvent): LatLng</span>\r\n","\t<span class=\"code-comment\">// Given a MouseEvent object, returns geographical coordinate where the</span>\r\n","\t<span class=\"code-comment\">// event took place.</span>\r\n","\tmouseEventToLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{ <span class=\"code-comment\">// (MouseEvent)</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.layerPointToLatLng(<span class=\"code-keyword\">this</span>.mouseEventToLayerPoint(e));\r\n","\t},\r\n","\r\n","\r\n","\t<span class=\"code-comment\">// map initialization methods</span>\r\n","\r\n","\t_initContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">id</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> container = <span class=\"code-keyword\">this</span>._container = <span class=\"code-keyword\">get</span>(id);\r\n","\r\n","\t\tif (!container) {\r\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Map container not found.'</span>);\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (container._leaflet_id) {\r\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Map container is already initialized.'</span>);\r\n","\t\t}\r\n","\r\n","\t\ton(container, <span class=\"code-string\">'scroll'</span>, <span class=\"code-keyword\">this</span>._onScroll, <span class=\"code-keyword\">this</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>._containerId = stamp(container);\r\n","\t},\r\n","\r\n","\t_initLayout: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> container = <span class=\"code-keyword\">this</span>._container;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._fadeAnimated = <span class=\"code-keyword\">this</span>.options.fadeAnimation &amp;&amp; Browser.any3d;\r\n","\r\n","\t\taddClass(container, <span class=\"code-string\">'leaflet-container'</span> +\r\n","\t\t\t(Browser.touch ? <span class=\"code-string\">' leaflet-touch'</span> : <span class=\"code-string\">''</span>) +\r\n","\t\t\t(Browser.retina ? <span class=\"code-string\">' leaflet-retina'</span> : <span class=\"code-string\">''</span>) +\r\n","\t\t\t(Browser.ielt9 ? <span class=\"code-string\">' leaflet-oldie'</span> : <span class=\"code-string\">''</span>) +\r\n","\t\t\t(Browser.safari ? <span class=\"code-string\">' leaflet-safari'</span> : <span class=\"code-string\">''</span>) +\r\n","\t\t\t(<span class=\"code-keyword\">this</span>._fadeAnimated ? <span class=\"code-string\">' leaflet-fade-anim'</span> : <span class=\"code-string\">''</span>));\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> position = getStyle(container, <span class=\"code-string\">'position'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (position !== <span class=\"code-string\">'absolute'</span> &amp;&amp; position !== <span class=\"code-string\">'relative'</span> &amp;&amp; position !== <span class=\"code-string\">'fixed'</span>) {\r\n","\t\t\tcontainer.style.position = <span class=\"code-string\">'relative'</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._initPanes();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._initControlPos) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._initControlPos();\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_initPanes: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> panes = <span class=\"code-keyword\">this</span>._panes = {};\r\n","\t\t<span class=\"code-keyword\">this</span>._paneRenderers = {};\r\n","\r\n","\t\t<span class=\"code-comment\">// @section</span>\r\n","\t\t<span class=\"code-comment\">//</span>\r\n","\t\t<span class=\"code-comment\">// Panes are DOM elements used to control the ordering of layers on the map. You</span>\r\n","\t\t<span class=\"code-comment\">// can access panes with [`map.getPane`](#map-getpane) or</span>\r\n","\t\t<span class=\"code-comment\">// [`map.getPanes`](#map-getpanes) methods. New panes can be created with the</span>\r\n","\t\t<span class=\"code-comment\">// [`map.createPane`](#map-createpane) method.</span>\r\n","\t\t<span class=\"code-comment\">//</span>\r\n","\t\t<span class=\"code-comment\">// Every map has the following default panes that differ only in zIndex.</span>\r\n","\t\t<span class=\"code-comment\">//</span>\r\n","\t\t<span class=\"code-comment\">// @pane mapPane: HTMLElement = 'auto'</span>\r\n","\t\t<span class=\"code-comment\">// Pane that contains all other map panes</span>\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._mapPane = <span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'mapPane'</span>, <span class=\"code-keyword\">this</span>._container);\r\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-keyword\">new</span> Point(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>));\r\n","\r\n","\t\t<span class=\"code-comment\">// @pane tilePane: HTMLElement = 200</span>\r\n","\t\t<span class=\"code-comment\">// Pane for `GridLayer`s and `TileLayer`s</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'tilePane'</span>);\r\n","\t\t<span class=\"code-comment\">// @pane overlayPane: HTMLElement = 400</span>\r\n","\t\t<span class=\"code-comment\">// Pane for vectors (`Path`s, like `Polyline`s and `Polygon`s), `ImageOverlay`s and `VideoOverlay`s</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'overlayPane'</span>);\r\n","\t\t<span class=\"code-comment\">// @pane shadowPane: HTMLElement = 500</span>\r\n","\t\t<span class=\"code-comment\">// Pane for overlay shadows (e.g. `Marker` shadows)</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'shadowPane'</span>);\r\n","\t\t<span class=\"code-comment\">// @pane markerPane: HTMLElement = 600</span>\r\n","\t\t<span class=\"code-comment\">// Pane for `Icon`s of `Marker`s</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'markerPane'</span>);\r\n","\t\t<span class=\"code-comment\">// @pane tooltipPane: HTMLElement = 650</span>\r\n","\t\t<span class=\"code-comment\">// Pane for `Tooltip`s.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'tooltipPane'</span>);\r\n","\t\t<span class=\"code-comment\">// @pane popupPane: HTMLElement = 700</span>\r\n","\t\t<span class=\"code-comment\">// Pane for `Popup`s.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.createPane(<span class=\"code-string\">'popupPane'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.markerZoomAnimation) {\r\n","\t\t\taddClass(panes.markerPane, <span class=\"code-string\">'leaflet-zoom-hide'</span>);\r\n","\t\t\taddClass(panes.shadowPane, <span class=\"code-string\">'leaflet-zoom-hide'</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\r\n","\t<span class=\"code-comment\">// private methods that modify map state</span>\r\n","\r\n","\t<span class=\"code-comment\">// @section Map state change events</span>\r\n","\t_resetView: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom</span>) </span>{\r\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-keyword\">new</span> Point(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>));\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> loading = !<span class=\"code-keyword\">this</span>._loaded;\r\n","\t\t<span class=\"code-keyword\">this</span>._loaded = <span class=\"code-literal\">true</span>;\r\n","\t\tzoom = <span class=\"code-keyword\">this</span>._limitZoom(zoom);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'viewprereset'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> zoomChanged = <span class=\"code-keyword\">this</span>._zoom !== zoom;\r\n","\t\t<span class=\"code-keyword\">this</span>\r\n","\t\t\t._moveStart(zoomChanged, <span class=\"code-literal\">false</span>)\r\n","\t\t\t._move(center, zoom)\r\n","\t\t\t._moveEnd(zoomChanged);\r\n","\r\n","\t\t<span class=\"code-comment\">// @event viewreset: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the map needs to redraw its content (this usually happens</span>\r\n","\t\t<span class=\"code-comment\">// on map zoom or load). Very useful for creating custom overlays.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'viewreset'</span>);\r\n","\r\n","\t\t<span class=\"code-comment\">// @event load: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the map is initialized (when its center and zoom are set</span>\r\n","\t\t<span class=\"code-comment\">// for the first time).</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (loading) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'load'</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_moveStart: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoomChanged, noMoveStart</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// @event zoomstart: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the map zoom is about to change (e.g. before zoom animation).</span>\r\n","\t\t<span class=\"code-comment\">// @event movestart: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the view of the map starts changing (e.g. user starts dragging the map).</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (zoomChanged) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoomstart'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (!noMoveStart) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'movestart'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_move: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom, data, supressEvent</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (zoom === <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\tzoom = <span class=\"code-keyword\">this</span>._zoom;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">var</span> zoomChanged = <span class=\"code-keyword\">this</span>._zoom !== zoom;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._zoom = zoom;\r\n","\t\t<span class=\"code-keyword\">this</span>._lastCenter = center;\r\n","\t\t<span class=\"code-keyword\">this</span>._pixelOrigin = <span class=\"code-keyword\">this</span>._getNewPixelOrigin(center);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!supressEvent) {\r\n","\t\t\t<span class=\"code-comment\">// @event zoom: Event</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired repeatedly during any change in zoom level,</span>\r\n","\t\t\t<span class=\"code-comment\">// including zoom and fly animations.</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (zoomChanged || (data &amp;&amp; data.pinch)) {\t<span class=\"code-comment\">// Always fire 'zoom' if pinching because #3530</span>\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoom'</span>, data);\r\n","\t\t\t}\r\n","\r\n","\t\t\t<span class=\"code-comment\">// @event move: Event</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired repeatedly during any movement of the map,</span>\r\n","\t\t\t<span class=\"code-comment\">// including pan and fly animations.</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>, data);\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (data &amp;&amp; data.pinch) {\t<span class=\"code-comment\">// Always fire 'zoom' if pinching because #3530</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoom'</span>, data);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_moveEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoomChanged</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// @event zoomend: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the map zoom changed, after any animations.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (zoomChanged) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoomend'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @event moveend: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the center of the map stops changing</span>\r\n","\t\t<span class=\"code-comment\">// (e.g. user stopped dragging the map or after non-centered zoom).</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'moveend'</span>);\r\n","\t},\r\n","\r\n","\t_stop: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._flyToFrame);\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._panAnim) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._panAnim.stop();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_rawPanBy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">offset</span>) </span>{\r\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-keyword\">this</span>._getMapPanePos().subtract(offset));\r\n","\t},\r\n","\r\n","\t_getZoomSpan: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getMaxZoom() - <span class=\"code-keyword\">this</span>.getMinZoom();\r\n","\t},\r\n","\r\n","\t_panInsideMaxBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._enforcingBounds) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.panInsideBounds(<span class=\"code-keyword\">this</span>.options.maxBounds);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_checkIfLoaded: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._loaded) {\r\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Set map center and zoom first.'</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// DOM event handling</span>\r\n","\r\n","\t<span class=\"code-comment\">// @section Interaction events</span>\r\n","\t_initEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">remove</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._targets = {};\r\n","\t\t<span class=\"code-keyword\">this</span>._targets[stamp(<span class=\"code-keyword\">this</span>._container)] = <span class=\"code-keyword\">this</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> onOff = remove ? off : on;\r\n","\r\n","\t\t<span class=\"code-comment\">// @event click: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user clicks (or taps) the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event dblclick: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user double-clicks (or double-taps) the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event mousedown: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user pushes the mouse button on the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event mouseup: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user releases the mouse button on the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event mouseover: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the mouse enters the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event mouseout: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the mouse leaves the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event mousemove: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired while the mouse moves over the map.</span>\r\n","\t\t<span class=\"code-comment\">// @event contextmenu: MouseEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user pushes the right mouse button on the map, prevents</span>\r\n","\t\t<span class=\"code-comment\">// default browser context menu from showing if there are listeners on</span>\r\n","\t\t<span class=\"code-comment\">// this event. Also fired on mobile when the user holds a single touch</span>\r\n","\t\t<span class=\"code-comment\">// for a second (also called long press).</span>\r\n","\t\t<span class=\"code-comment\">// @event keypress: KeyboardEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user presses a key from the keyboard that produces a character value while the map is focused.</span>\r\n","\t\t<span class=\"code-comment\">// @event keydown: KeyboardEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user presses a key from the keyboard while the map is focused. Unlike the `keypress` event,</span>\r\n","\t\t<span class=\"code-comment\">// the `keydown` event is fired for keys that produce a character value and for keys</span>\r\n","\t\t<span class=\"code-comment\">// that do not produce a character value.</span>\r\n","\t\t<span class=\"code-comment\">// @event keyup: KeyboardEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the user releases a key from the keyboard while the map is focused.</span>\r\n","\t\tonOff(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'click dblclick mousedown mouseup '</span> +\r\n","\t\t\t<span class=\"code-string\">'mouseover mouseout mousemove contextmenu keypress keydown keyup'</span>, <span class=\"code-keyword\">this</span>._handleDOMEvent, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.trackResize) {\r\n","\t\t\tonOff(<span class=\"code-built_in\">window</span>, <span class=\"code-string\">'resize'</span>, <span class=\"code-keyword\">this</span>._onResize, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (Browser.any3d &amp;&amp; <span class=\"code-keyword\">this</span>.options.transform3DLimit) {\r\n","\t\t\t(remove ? <span class=\"code-keyword\">this</span>.off : <span class=\"code-keyword\">this</span>.on).call(<span class=\"code-keyword\">this</span>, <span class=\"code-string\">'moveend'</span>, <span class=\"code-keyword\">this</span>._onMoveEnd);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_onResize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._resizeRequest);\r\n","\t\t<span class=\"code-keyword\">this</span>._resizeRequest = requestAnimFrame(\r\n","\t\t        <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{ <span class=\"code-keyword\">this</span>.invalidateSize({<span class=\"code-attr\">debounceMoveend</span>: <span class=\"code-literal\">true</span>}); }, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t_onScroll: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._container.scrollTop  = <span class=\"code-number\">0</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._container.scrollLeft = <span class=\"code-number\">0</span>;\r\n","\t},\r\n","\r\n","\t_onMoveEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._getMapPanePos();\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.abs(pos.x), <span class=\"code-built_in\">Math</span>.abs(pos.y)) &gt;= <span class=\"code-keyword\">this</span>.options.transform3DLimit) {\r\n","\t\t\t<span class=\"code-comment\">// https://bugzilla.mozilla.org/show_bug.cgi?id=1203873 but Webkit also have</span>\r\n","\t\t\t<span class=\"code-comment\">// a pixel offset on very high values, see: https://jsfiddle.net/dg6r5hhb/</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._resetView(<span class=\"code-keyword\">this</span>.getCenter(), <span class=\"code-keyword\">this</span>.getZoom());\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_findEventTargets: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e, type</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> targets = [],\r\n","\t\t    target,\r\n","\t\t    isHover = type === <span class=\"code-string\">'mouseout'</span> || type === <span class=\"code-string\">'mouseover'</span>,\r\n","\t\t    src = e.target || e.srcElement,\r\n","\t\t    dragging = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">while</span> (src) {\r\n","\t\t\ttarget = <span class=\"code-keyword\">this</span>._targets[stamp(src)];\r\n","\t\t\t<span class=\"code-keyword\">if</span> (target &amp;&amp; (type === <span class=\"code-string\">'click'</span> || type === <span class=\"code-string\">'preclick'</span>) &amp;&amp; <span class=\"code-keyword\">this</span>._draggableMoved(target)) {\r\n","\t\t\t\t<span class=\"code-comment\">// Prevent firing click after you just dragged an object.</span>\r\n","\t\t\t\tdragging = <span class=\"code-literal\">true</span>;\r\n","\t\t\t\t<span class=\"code-keyword\">break</span>;\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">if</span> (target &amp;&amp; target.listens(type, <span class=\"code-literal\">true</span>)) {\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (isHover &amp;&amp; !isExternalTarget(src, e)) { <span class=\"code-keyword\">break</span>; }\r\n","\t\t\t\ttargets.push(target);\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (isHover) { <span class=\"code-keyword\">break</span>; }\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">if</span> (src === <span class=\"code-keyword\">this</span>._container) { <span class=\"code-keyword\">break</span>; }\r\n","\t\t\tsrc = src.parentNode;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (!targets.length &amp;&amp; !dragging &amp;&amp; !isHover &amp;&amp; <span class=\"code-keyword\">this</span>.listens(type, <span class=\"code-literal\">true</span>)) {\r\n","\t\t\ttargets = [<span class=\"code-keyword\">this</span>];\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> targets;\r\n","\t},\r\n","\r\n","\t_isClickDisabled: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">el</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">while</span> (el !== <span class=\"code-keyword\">this</span>._container) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (el[<span class=\"code-string\">'_leaflet_disable_click'</span>]) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>; }\r\n","\t\t\tel = el.parentNode;\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_handleDOMEvent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> el = (e.target || e.srcElement);\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._loaded || el[<span class=\"code-string\">'_leaflet_disable_events'</span>] || e.type === <span class=\"code-string\">'click'</span> &amp;&amp; <span class=\"code-keyword\">this</span>._isClickDisabled(el)) {\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> type = e.type;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (type === <span class=\"code-string\">'mousedown'</span>) {\r\n","\t\t\t<span class=\"code-comment\">// prevents outline when clicking on keyboard-focusable element</span>\r\n","\t\t\tpreventOutline(el);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._fireDOMEvent(e, type);\r\n","\t},\r\n","\r\n","\t_mouseEvents: [<span class=\"code-string\">'click'</span>, <span class=\"code-string\">'dblclick'</span>, <span class=\"code-string\">'mouseover'</span>, <span class=\"code-string\">'mouseout'</span>, <span class=\"code-string\">'contextmenu'</span>],\r\n","\r\n","\t_fireDOMEvent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e, type, canvasTargets</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (e.type === <span class=\"code-string\">'click'</span>) {\r\n","\t\t\t<span class=\"code-comment\">// Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).</span>\r\n","\t\t\t<span class=\"code-comment\">// @event preclick: MouseEvent</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired before mouse click on the map (sometimes useful when you</span>\r\n","\t\t\t<span class=\"code-comment\">// want something to happen on click before any existing click</span>\r\n","\t\t\t<span class=\"code-comment\">// handlers start running).</span>\r\n","\t\t\t<span class=\"code-keyword\">var</span> synth = extend({}, e);\r\n","\t\t\tsynth.type = <span class=\"code-string\">'preclick'</span>;\r\n","\t\t\t<span class=\"code-keyword\">this</span>._fireDOMEvent(synth, synth.type, canvasTargets);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// Find the layer the event is propagating from and its parents.</span>\r\n","\t\t<span class=\"code-keyword\">var</span> targets = <span class=\"code-keyword\">this</span>._findEventTargets(e, type);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (canvasTargets) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> filtered = []; <span class=\"code-comment\">// pick only targets with listeners</span>\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; canvasTargets.length; i++) {\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (canvasTargets[i].listens(type, <span class=\"code-literal\">true</span>)) {\r\n","\t\t\t\t\tfiltered.push(canvasTargets[i]);\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t\ttargets = filtered.concat(targets);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!targets.length) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (type === <span class=\"code-string\">'contextmenu'</span>) {\r\n","\t\t\tpreventDefault(e);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> target = targets[<span class=\"code-number\">0</span>];\r\n","\t\t<span class=\"code-keyword\">var</span> data = {\r\n","\t\t\toriginalEvent: e\r\n","\t\t};\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (e.type !== <span class=\"code-string\">'keypress'</span> &amp;&amp; e.type !== <span class=\"code-string\">'keydown'</span> &amp;&amp; e.type !== <span class=\"code-string\">'keyup'</span>) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> isMarker = target.getLatLng &amp;&amp; (!target._radius || target._radius &lt;= <span class=\"code-number\">10</span>);\r\n","\t\t\tdata.containerPoint = isMarker ?\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.latLngToContainerPoint(target.getLatLng()) : <span class=\"code-keyword\">this</span>.mouseEventToContainerPoint(e);\r\n","\t\t\tdata.layerPoint = <span class=\"code-keyword\">this</span>.containerPointToLayerPoint(data.containerPoint);\r\n","\t\t\tdata.latlng = isMarker ? target.getLatLng() : <span class=\"code-keyword\">this</span>.layerPointToLatLng(data.layerPoint);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; targets.length; i++) {\r\n","\t\t\ttargets[i].fire(type, data, <span class=\"code-literal\">true</span>);\r\n","\t\t\t<span class=\"code-keyword\">if</span> (data.originalEvent._stopped ||\r\n","\t\t\t\t(targets[i].options.bubblingMouseEvents === <span class=\"code-literal\">false</span> &amp;&amp; indexOf(<span class=\"code-keyword\">this</span>._mouseEvents, type) !== <span class=\"code-number\">-1</span>)) { <span class=\"code-keyword\">return</span>; }\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_draggableMoved: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t\tobj = obj.dragging &amp;&amp; obj.dragging.enabled() ? obj : <span class=\"code-keyword\">this</span>;\r\n","\t\t<span class=\"code-keyword\">return</span> (obj.dragging &amp;&amp; obj.dragging.moved()) || (<span class=\"code-keyword\">this</span>.boxZoom &amp;&amp; <span class=\"code-keyword\">this</span>.boxZoom.moved());\r\n","\t},\r\n","\r\n","\t_clearHandlers: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = <span class=\"code-keyword\">this</span>._handlers.length; i &lt; len; i++) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._handlers[i].disable();\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Other Methods</span>\r\n","\r\n","\t<span class=\"code-comment\">// @method whenReady(fn: Function, context?: Object): this</span>\r\n","\t<span class=\"code-comment\">// Runs the given function `fn` when the map gets initialized with</span>\r\n","\t<span class=\"code-comment\">// a view (center and zoom) and at least one layer, or immediately</span>\r\n","\t<span class=\"code-comment\">// if it's already initialized, optionally passing a function context.</span>\r\n","\twhenReady: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">callback, context</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded) {\r\n","\t\t\tcallback.call(context || <span class=\"code-keyword\">this</span>, {<span class=\"code-attr\">target</span>: <span class=\"code-keyword\">this</span>});\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">'load'</span>, callback, context);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\r\n","\t<span class=\"code-comment\">// private methods for getting map state</span>\r\n","\r\n","\t_getMapPanePos: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> getPosition(<span class=\"code-keyword\">this</span>._mapPane) || <span class=\"code-keyword\">new</span> Point(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>);\r\n","\t},\r\n","\r\n","\t_moved: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._getMapPanePos();\r\n","\t\t<span class=\"code-keyword\">return</span> pos &amp;&amp; !pos.equals([<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]);\r\n","\t},\r\n","\r\n","\t_getTopLeftPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> pixelOrigin = center &amp;&amp; zoom !== <span class=\"code-literal\">undefined</span> ?\r\n","\t\t\t<span class=\"code-keyword\">this</span>._getNewPixelOrigin(center, zoom) :\r\n","\t\t\t<span class=\"code-keyword\">this</span>.getPixelOrigin();\r\n","\t\t<span class=\"code-keyword\">return</span> pixelOrigin.subtract(<span class=\"code-keyword\">this</span>._getMapPanePos());\r\n","\t},\r\n","\r\n","\t_getNewPixelOrigin: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> viewHalf = <span class=\"code-keyword\">this</span>.getSize()._divideBy(<span class=\"code-number\">2</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.project(center, zoom)._subtract(viewHalf)._add(<span class=\"code-keyword\">this</span>._getMapPanePos())._round();\r\n","\t},\r\n","\r\n","\t_latLngToNewLayerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, zoom, center</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> topLeft = <span class=\"code-keyword\">this</span>._getNewPixelOrigin(center, zoom);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.project(latlng, zoom)._subtract(topLeft);\r\n","\t},\r\n","\r\n","\t_latLngBoundsToNewLayerBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latLngBounds, zoom, center</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> topLeft = <span class=\"code-keyword\">this</span>._getNewPixelOrigin(center, zoom);\r\n","\t\t<span class=\"code-keyword\">return</span> toBounds([\r\n","\t\t\t<span class=\"code-keyword\">this</span>.project(latLngBounds.getSouthWest(), zoom)._subtract(topLeft),\r\n","\t\t\t<span class=\"code-keyword\">this</span>.project(latLngBounds.getNorthWest(), zoom)._subtract(topLeft),\r\n","\t\t\t<span class=\"code-keyword\">this</span>.project(latLngBounds.getSouthEast(), zoom)._subtract(topLeft),\r\n","\t\t\t<span class=\"code-keyword\">this</span>.project(latLngBounds.getNorthEast(), zoom)._subtract(topLeft)\r\n","\t\t]);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// layer point of the current center</span>\r\n","\t_getCenterLayerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.containerPointToLayerPoint(<span class=\"code-keyword\">this</span>.getSize()._divideBy(<span class=\"code-number\">2</span>));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// offset of the specified place to the current center in pixels</span>\r\n","\t_getCenterOffset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.latLngToLayerPoint(latlng).subtract(<span class=\"code-keyword\">this</span>._getCenterLayerPoint());\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// adjust center for view to get inside bounds</span>\r\n","\t_limitCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom, bounds</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!bounds) { <span class=\"code-keyword\">return</span> center; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> centerPoint = <span class=\"code-keyword\">this</span>.project(center, zoom),\r\n","\t\t    viewHalf = <span class=\"code-keyword\">this</span>.getSize().divideBy(<span class=\"code-number\">2</span>),\r\n","\t\t    viewBounds = <span class=\"code-keyword\">new</span> Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\r\n","\t\t    offset = <span class=\"code-keyword\">this</span>._getBoundsOffset(viewBounds, bounds, zoom);\r\n","\r\n","\t\t<span class=\"code-comment\">// If offset is less than a pixel, ignore.</span>\r\n","\t\t<span class=\"code-comment\">// This prevents unstable projections from getting into</span>\r\n","\t\t<span class=\"code-comment\">// an infinite loop of tiny offsets.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (offset.round().equals([<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>])) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> center;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unproject(centerPoint.add(offset), zoom);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// adjust offset for view to get inside bounds</span>\r\n","\t_limitOffset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">offset, bounds</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!bounds) { <span class=\"code-keyword\">return</span> offset; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> viewBounds = <span class=\"code-keyword\">this</span>.getPixelBounds(),\r\n","\t\t    newBounds = <span class=\"code-keyword\">new</span> Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> offset.add(<span class=\"code-keyword\">this</span>._getBoundsOffset(newBounds, bounds));\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// returns offset needed for pxBounds to get inside maxBounds at a specified zoom</span>\r\n","\t_getBoundsOffset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">pxBounds, maxBounds, zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> projectedMaxBounds = toBounds(\r\n","\t\t        <span class=\"code-keyword\">this</span>.project(maxBounds.getNorthEast(), zoom),\r\n","\t\t        <span class=\"code-keyword\">this</span>.project(maxBounds.getSouthWest(), zoom)\r\n","\t\t    ),\r\n","\t\t    minOffset = projectedMaxBounds.min.subtract(pxBounds.min),\r\n","\t\t    maxOffset = projectedMaxBounds.max.subtract(pxBounds.max),\r\n","\r\n","\t\t    dx = <span class=\"code-keyword\">this</span>._rebound(minOffset.x, -maxOffset.x),\r\n","\t\t    dy = <span class=\"code-keyword\">this</span>._rebound(minOffset.y, -maxOffset.y);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(dx, dy);\r\n","\t},\r\n","\r\n","\t_rebound: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">left, right</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> left + right &gt; <span class=\"code-number\">0</span> ?\r\n","\t\t\t<span class=\"code-built_in\">Math</span>.round(left - right) / <span class=\"code-number\">2</span> :\r\n","\t\t\t<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>, <span class=\"code-built_in\">Math</span>.ceil(left)) - <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>, <span class=\"code-built_in\">Math</span>.floor(right));\r\n","\t},\r\n","\r\n","\t_limitZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> min = <span class=\"code-keyword\">this</span>.getMinZoom(),\r\n","\t\t    max = <span class=\"code-keyword\">this</span>.getMaxZoom(),\r\n","\t\t    snap = Browser.any3d ? <span class=\"code-keyword\">this</span>.options.zoomSnap : <span class=\"code-number\">1</span>;\r\n","\t\t<span class=\"code-keyword\">if</span> (snap) {\r\n","\t\t\tzoom = <span class=\"code-built_in\">Math</span>.round(zoom / snap) * snap;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(min, <span class=\"code-built_in\">Math</span>.min(max, zoom));\r\n","\t},\r\n","\r\n","\t_onPanTransitionStep: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>);\r\n","\t},\r\n","\r\n","\t_onPanTransitionEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-string\">'leaflet-pan-anim'</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'moveend'</span>);\r\n","\t},\r\n","\r\n","\t_tryAnimatedPan: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, options</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// difference between the new and current centers in pixels</span>\r\n","\t\t<span class=\"code-keyword\">var</span> offset = <span class=\"code-keyword\">this</span>._getCenterOffset(center)._trunc();\r\n","\r\n","\t\t<span class=\"code-comment\">// don't animate too far unless animate: true specified in options</span>\r\n","\t\t<span class=\"code-keyword\">if</span> ((options &amp;&amp; options.animate) !== <span class=\"code-literal\">true</span> &amp;&amp; !<span class=\"code-keyword\">this</span>.getSize().contains(offset)) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.panBy(offset, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\r\n","\t},\r\n","\r\n","\t_createAnimProxy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> proxy = <span class=\"code-keyword\">this</span>._proxy = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, <span class=\"code-string\">'leaflet-proxy leaflet-zoom-animated'</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>._panes.mapPane.appendChild(proxy);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">'zoomanim'</span>, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">var</span> prop = TRANSFORM,\r\n","\t\t\t    transform = <span class=\"code-keyword\">this</span>._proxy.style[prop];\r\n","\r\n","\t\t\tsetTransform(<span class=\"code-keyword\">this</span>._proxy, <span class=\"code-keyword\">this</span>.project(e.center, e.zoom), <span class=\"code-keyword\">this</span>.getZoomScale(e.zoom, <span class=\"code-number\">1</span>));\r\n","\r\n","\t\t\t<span class=\"code-comment\">// workaround for case when transform is the same and so transitionend event is not fired</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (transform === <span class=\"code-keyword\">this</span>._proxy.style[prop] &amp;&amp; <span class=\"code-keyword\">this</span>._animatingZoom) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._onZoomTransitionEnd();\r\n","\t\t\t}\r\n","\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">'load moveend'</span>, <span class=\"code-keyword\">this</span>._animMoveEnd, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._on(<span class=\"code-string\">'unload'</span>, <span class=\"code-keyword\">this</span>._destroyAnimProxy, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t_destroyAnimProxy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tremove(<span class=\"code-keyword\">this</span>._proxy);\r\n","\t\t<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">'load moveend'</span>, <span class=\"code-keyword\">this</span>._animMoveEnd, <span class=\"code-keyword\">this</span>);\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._proxy;\r\n","\t},\r\n","\r\n","\t_animMoveEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> c = <span class=\"code-keyword\">this</span>.getCenter(),\r\n","\t\t    z = <span class=\"code-keyword\">this</span>.getZoom();\r\n","\t\tsetTransform(<span class=\"code-keyword\">this</span>._proxy, <span class=\"code-keyword\">this</span>.project(c, z), <span class=\"code-keyword\">this</span>.getZoomScale(z, <span class=\"code-number\">1</span>));\r\n","\t},\r\n","\r\n","\t_catchTransitionEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._animatingZoom &amp;&amp; e.propertyName.indexOf(<span class=\"code-string\">'transform'</span>) &gt;= <span class=\"code-number\">0</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._onZoomTransitionEnd();\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_nothingToAnimate: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> !<span class=\"code-keyword\">this</span>._container.getElementsByClassName(<span class=\"code-string\">'leaflet-zoom-animated'</span>).length;\r\n","\t},\r\n","\r\n","\t_tryAnimatedZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom, options</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._animatingZoom) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>; }\r\n","\r\n","\t\toptions = options || {};\r\n","\r\n","\t\t<span class=\"code-comment\">// don't animate if disabled, not supported or zoom difference is too large</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._zoomAnimated || options.animate === <span class=\"code-literal\">false</span> || <span class=\"code-keyword\">this</span>._nothingToAnimate() ||\r\n","\t\t        <span class=\"code-built_in\">Math</span>.abs(zoom - <span class=\"code-keyword\">this</span>._zoom) &gt; <span class=\"code-keyword\">this</span>.options.zoomAnimationThreshold) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","\t\t<span class=\"code-comment\">// offset is the pixel coords of the zoom origin relative to the current center</span>\r\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-keyword\">this</span>.getZoomScale(zoom),\r\n","\t\t    offset = <span class=\"code-keyword\">this</span>._getCenterOffset(center)._divideBy(<span class=\"code-number\">1</span> - <span class=\"code-number\">1</span> / scale);\r\n","\r\n","\t\t<span class=\"code-comment\">// don't animate if the zoom origin isn't within one screen from the current center, unless forced</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (options.animate !== <span class=\"code-literal\">true</span> &amp;&amp; !<span class=\"code-keyword\">this</span>.getSize().contains(offset)) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","\t\trequestAnimFrame(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">this</span>\r\n","\t\t\t    ._moveStart(<span class=\"code-literal\">true</span>, <span class=\"code-literal\">false</span>)\r\n","\t\t\t    ._animateZoom(center, zoom, <span class=\"code-literal\">true</span>);\r\n","\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\r\n","\t},\r\n","\r\n","\t_animateZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom, startAnim, noUpdate</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._mapPane) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (startAnim) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._animatingZoom = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t\t<span class=\"code-comment\">// remember what center/zoom to set after animation</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._animateToCenter = center;\r\n","\t\t\t<span class=\"code-keyword\">this</span>._animateToZoom = zoom;\r\n","\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-string\">'leaflet-zoom-anim'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @section Other Events</span>\r\n","\t\t<span class=\"code-comment\">// @event zoomanim: ZoomAnimEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired at least once per zoom animation. For continuous zoom, like pinch zooming, fired once per frame during zoom.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoomanim'</span>, {\r\n","\t\t\tcenter: center,\r\n","\t\t\tzoom: zoom,\r\n","\t\t\tnoUpdate: noUpdate\r\n","\t\t});\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._tempFireZoomEvent) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._tempFireZoomEvent = <span class=\"code-keyword\">this</span>._zoom !== <span class=\"code-keyword\">this</span>._animateToZoom;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._move(<span class=\"code-keyword\">this</span>._animateToCenter, <span class=\"code-keyword\">this</span>._animateToZoom, <span class=\"code-literal\">undefined</span>, <span class=\"code-literal\">true</span>);\r\n","\r\n","\t\t<span class=\"code-comment\">// Work around webkit not firing 'transitionend', see https://github.com/Leaflet/Leaflet/issues/3689, 2693</span>\r\n","\t\tsetTimeout(bind(<span class=\"code-keyword\">this</span>._onZoomTransitionEnd, <span class=\"code-keyword\">this</span>), <span class=\"code-number\">250</span>);\r\n","\t},\r\n","\r\n","\t_onZoomTransitionEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._animatingZoom) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._mapPane) {\r\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._mapPane, <span class=\"code-string\">'leaflet-zoom-anim'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._animatingZoom = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._move(<span class=\"code-keyword\">this</span>._animateToCenter, <span class=\"code-keyword\">this</span>._animateToZoom, <span class=\"code-literal\">undefined</span>, <span class=\"code-literal\">true</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tempFireZoomEvent) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoom'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._tempFireZoomEvent;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>);\r\n","\r\n","\t\t<span class=\"code-comment\">// This anim frame should prevent an obscure iOS webkit tile loading race condition.</span>\r\n","\t\trequestAnimFrame(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">this</span>._moveEnd(<span class=\"code-literal\">true</span>);\r\n","\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @section</span>\r\n","\r\n","<span class=\"code-comment\">// @factory L.map(id: String, options?: Map options)</span>\r\n","<span class=\"code-comment\">// Instantiates a map object given the DOM ID of a `&lt;div&gt;` element</span>\r\n","<span class=\"code-comment\">// and optionally an object literal with `Map options`.</span>\r\n","<span class=\"code-comment\">//</span>\r\n","<span class=\"code-comment\">// @alternative</span>\r\n","<span class=\"code-comment\">// @factory L.map(el: HTMLElement, options?: Map options)</span>\r\n","<span class=\"code-comment\">// Instantiates a map object given an instance of a `&lt;div&gt;` HTML element</span>\r\n","<span class=\"code-comment\">// and optionally an object literal with `Map options`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createMap</span>(<span class=\"code-params\">id, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>(id, options);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Control\r\n</span>","<span class=\"code-comment\"> * @aka L.Control\r\n</span>","<span class=\"code-comment\"> * @inherits Class\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * L.Control is a base class for implementing map controls. Handles positioning.\r\n</span>","<span class=\"code-comment\"> * All other controls extend from this class.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Control = Class.extend({\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka Control Options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option position: String = 'topright'</span>\r\n","\t\t<span class=\"code-comment\">// The position of the control (one of the map corners). Possible values are `'topleft'`,</span>\r\n","\t\t<span class=\"code-comment\">// `'topright'`, `'bottomleft'` or `'bottomright'`</span>\r\n","\t\tposition: <span class=\"code-string\">'topright'</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">/* @section\r\n</span>","<span class=\"code-comment\">\t * Classes extending L.Control will inherit the following methods:\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @method getPosition: string\r\n</span>","<span class=\"code-comment\">\t * Returns the position of the control.\r\n</span>","<span class=\"code-comment\">\t */</span>\r\n","\tgetPosition: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.position;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setPosition(position: string): this</span>\r\n","\t<span class=\"code-comment\">// Sets the position of the control.</span>\r\n","\tsetPosition: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">position</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (map) {\r\n","\t\t\tmap.removeControl(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.options.position = position;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (map) {\r\n","\t\t\tmap.addControl(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getContainer: HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Returns the HTMLElement that contains the control.</span>\r\n","\tgetContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._container;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addTo(map: Map): this</span>\r\n","\t<span class=\"code-comment\">// Adds the control to the given map.</span>\r\n","\taddTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.remove();\r\n","\t\t<span class=\"code-keyword\">this</span>._map = map;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> container = <span class=\"code-keyword\">this</span>._container = <span class=\"code-keyword\">this</span>.onAdd(map),\r\n","\t\t    pos = <span class=\"code-keyword\">this</span>.getPosition(),\r\n","\t\t    corner = map._controlCorners[pos];\r\n","\r\n","\t\taddClass(container, <span class=\"code-string\">'leaflet-control'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (pos.indexOf(<span class=\"code-string\">'bottom'</span>) !== <span class=\"code-number\">-1</span>) {\r\n","\t\t\tcorner.insertBefore(container, corner.firstChild);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tcorner.appendChild(container);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._map.on(<span class=\"code-string\">'unload'</span>, <span class=\"code-keyword\">this</span>.remove, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method remove: this</span>\r\n","\t<span class=\"code-comment\">// Removes the control from the map it is currently active on.</span>\r\n","\tremove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\tremove(<span class=\"code-keyword\">this</span>._container);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.onRemove) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.onRemove(<span class=\"code-keyword\">this</span>._map);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._map.off(<span class=\"code-string\">'unload'</span>, <span class=\"code-keyword\">this</span>.remove, <span class=\"code-keyword\">this</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>._map = <span class=\"code-literal\">null</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_refocusOnMap: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// if map exists and event is not a keyboard event</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map &amp;&amp; e &amp;&amp; e.screenX &gt; <span class=\"code-number\">0</span> &amp;&amp; e.screenY &gt; <span class=\"code-number\">0</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.getContainer().focus();\r\n","\t\t}\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-keyword\">var</span> control = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Control(options);\r\n","};\r\n","\r\n","<span class=\"code-comment\">/* @section Extension methods\r\n</span>","<span class=\"code-comment\"> * @uninheritable\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Every control should extend from `L.Control` and (re-)implement the following methods.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @method onAdd(map: Map): HTMLElement\r\n</span>","<span class=\"code-comment\"> * Should return the container DOM element for the control and add listeners on relevant map events. Called on [`control.addTo(map)`](#control-addTo).\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @method onRemove(map: Map)\r\n</span>","<span class=\"code-comment\"> * Optional method. Should contain all clean up code that removes the listeners previously added in [`onAdd`](#control-onadd). Called on [`control.remove()`](#control-remove).\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">/* @namespace Map\r\n</span>","<span class=\"code-comment\"> * @section Methods for Layers and Controls\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","<span class=\"code-built_in\">Map</span>.include({\r\n","\t<span class=\"code-comment\">// @method addControl(control: Control): this</span>\r\n","\t<span class=\"code-comment\">// Adds the given control to the map</span>\r\n","\taddControl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">control</span>) </span>{\r\n","\t\tcontrol.addTo(<span class=\"code-keyword\">this</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method removeControl(control: Control): this</span>\r\n","\t<span class=\"code-comment\">// Removes the given control from the map</span>\r\n","\tremoveControl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">control</span>) </span>{\r\n","\t\tcontrol.remove();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_initControlPos: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> corners = <span class=\"code-keyword\">this</span>._controlCorners = {},\r\n","\t\t    l = <span class=\"code-string\">'leaflet-'</span>,\r\n","\t\t    container = <span class=\"code-keyword\">this</span>._controlContainer =\r\n","\t\t            create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, l + <span class=\"code-string\">'control-container'</span>, <span class=\"code-keyword\">this</span>._container);\r\n","\r\n","\t\t<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">createCorner</span>(<span class=\"code-params\">vSide, hSide</span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">var</span> className = l + vSide + <span class=\"code-string\">' '</span> + l + hSide;\r\n","\r\n","\t\t\tcorners[vSide + hSide] = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className, container);\r\n","\t\t}\r\n","\r\n","\t\tcreateCorner(<span class=\"code-string\">'top'</span>, <span class=\"code-string\">'left'</span>);\r\n","\t\tcreateCorner(<span class=\"code-string\">'top'</span>, <span class=\"code-string\">'right'</span>);\r\n","\t\tcreateCorner(<span class=\"code-string\">'bottom'</span>, <span class=\"code-string\">'left'</span>);\r\n","\t\tcreateCorner(<span class=\"code-string\">'bottom'</span>, <span class=\"code-string\">'right'</span>);\r\n","\t},\r\n","\r\n","\t_clearControlPos: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._controlCorners) {\r\n","\t\t\tremove(<span class=\"code-keyword\">this</span>._controlCorners[i]);\r\n","\t\t}\r\n","\t\tremove(<span class=\"code-keyword\">this</span>._controlContainer);\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._controlCorners;\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._controlContainer;\r\n","\t}\r\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Control.Layers\r\n</span>","<span class=\"code-comment\"> * @aka L.Control.Layers\r\n</span>","<span class=\"code-comment\"> * @inherits Control\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * The layers control gives users the ability to switch between different base layers and switch overlays on/off (check out the [detailed example](https://leafletjs.com/examples/layers-control/)). Extends `Control`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var baseLayers = {\r\n</span>","<span class=\"code-comment\"> * \t\"Mapbox\": mapbox,\r\n</span>","<span class=\"code-comment\"> * \t\"OpenStreetMap\": osm\r\n</span>","<span class=\"code-comment\"> * };\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * var overlays = {\r\n</span>","<span class=\"code-comment\"> * \t\"Marker\": marker,\r\n</span>","<span class=\"code-comment\"> * \t\"Roads\": roadsLayer\r\n</span>","<span class=\"code-comment\"> * };\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * L.control.layers(baseLayers, overlays).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * The `baseLayers` and `overlays` parameters are object literals with layer names as keys and `Layer` objects as values:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * {\r\n</span>","<span class=\"code-comment\"> *     \"&lt;someName1&gt;\": layer1,\r\n</span>","<span class=\"code-comment\"> *     \"&lt;someName2&gt;\": layer2\r\n</span>","<span class=\"code-comment\"> * }\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * The layer names can contain HTML, which allows you to add additional styling to the items:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * {\"&lt;img src='my-layer-icon' /&gt; &lt;span class='my-layer-item'&gt;My Layer&lt;/span&gt;\": myLayer}\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Layers = Control.extend({\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka Control.Layers options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option collapsed: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, the control will be collapsed into an icon and expanded on mouse hover, touch, or keyboard activation.</span>\r\n","\t\tcollapsed: <span class=\"code-literal\">true</span>,\r\n","\t\tposition: <span class=\"code-string\">'topright'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoZIndex: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.</span>\r\n","\t\tautoZIndex: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option hideSingleBase: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, the base layers in the control will be hidden when there is only one.</span>\r\n","\t\thideSingleBase: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option sortLayers: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether to sort the layers. When `false`, layers will keep the order</span>\r\n","\t\t<span class=\"code-comment\">// in which they were added to the control.</span>\r\n","\t\tsortLayers: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option sortFunction: Function = *</span>\r\n","\t\t<span class=\"code-comment\">// A [compare function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)</span>\r\n","\t\t<span class=\"code-comment\">// that will be used for sorting the layers, when `sortLayers` is `true`.</span>\r\n","\t\t<span class=\"code-comment\">// The function receives both the `L.Layer` instances and their names, as in</span>\r\n","\t\t<span class=\"code-comment\">// `sortFunction(layerA, layerB, nameA, nameB)`.</span>\r\n","\t\t<span class=\"code-comment\">// By default, it sorts layers alphabetically by their name.</span>\r\n","\t\tsortFunction: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layerA, layerB, nameA, nameB</span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">return</span> nameA &lt; nameB ? <span class=\"code-number\">-1</span> : (nameB &lt; nameA ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">baseLayers, overlays, options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layerControlInputs = [];\r\n","\t\t<span class=\"code-keyword\">this</span>._layers = [];\r\n","\t\t<span class=\"code-keyword\">this</span>._lastZIndex = <span class=\"code-number\">0</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._handlingClick = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> baseLayers) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._addLayer(baseLayers[i], i);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> overlays) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._addLayer(overlays[i], i, <span class=\"code-literal\">true</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._initLayout();\r\n","\t\t<span class=\"code-keyword\">this</span>._update();\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._map = map;\r\n","\t\tmap.on(<span class=\"code-string\">'zoomend'</span>, <span class=\"code-keyword\">this</span>._checkDisabledLayers, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; <span class=\"code-keyword\">this</span>._layers.length; i++) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._layers[i].layer.on(<span class=\"code-string\">'add remove'</span>, <span class=\"code-keyword\">this</span>._onLayerChange, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._container;\r\n","\t},\r\n","\r\n","\taddTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tControl.prototype.addTo.call(<span class=\"code-keyword\">this</span>, map);\r\n","\t\t<span class=\"code-comment\">// Trigger expand after Layers Control has been inserted into DOM so that is now has an actual height.</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._expandIfNotCollapsed();\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._map.off(<span class=\"code-string\">'zoomend'</span>, <span class=\"code-keyword\">this</span>._checkDisabledLayers, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; <span class=\"code-keyword\">this</span>._layers.length; i++) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._layers[i].layer.off(<span class=\"code-string\">'add remove'</span>, <span class=\"code-keyword\">this</span>._onLayerChange, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addBaseLayer(layer: Layer, name: String): this</span>\r\n","\t<span class=\"code-comment\">// Adds a base layer (radio button entry) with the given name to the control.</span>\r\n","\taddBaseLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, name</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._addLayer(layer, name);\r\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>._map) ? <span class=\"code-keyword\">this</span>._update() : <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addOverlay(layer: Layer, name: String): this</span>\r\n","\t<span class=\"code-comment\">// Adds an overlay (checkbox entry) with the given name to the control.</span>\r\n","\taddOverlay: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, name</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._addLayer(layer, name, <span class=\"code-literal\">true</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>._map) ? <span class=\"code-keyword\">this</span>._update() : <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method removeLayer(layer: Layer): this</span>\r\n","\t<span class=\"code-comment\">// Remove the given layer from the control.</span>\r\n","\tremoveLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\tlayer.off(<span class=\"code-string\">'add remove'</span>, <span class=\"code-keyword\">this</span>._onLayerChange, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> obj = <span class=\"code-keyword\">this</span>._getLayer(stamp(layer));\r\n","\t\t<span class=\"code-keyword\">if</span> (obj) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._layers.splice(<span class=\"code-keyword\">this</span>._layers.indexOf(obj), <span class=\"code-number\">1</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>._map) ? <span class=\"code-keyword\">this</span>._update() : <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method expand(): this</span>\r\n","\t<span class=\"code-comment\">// Expand the control container if collapsed.</span>\r\n","\texpand: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\taddClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-control-layers-expanded'</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>._section.style.height = <span class=\"code-literal\">null</span>;\r\n","\t\t<span class=\"code-keyword\">var</span> acceptableHeight = <span class=\"code-keyword\">this</span>._map.getSize().y - (<span class=\"code-keyword\">this</span>._container.offsetTop + <span class=\"code-number\">50</span>);\r\n","\t\t<span class=\"code-keyword\">if</span> (acceptableHeight &lt; <span class=\"code-keyword\">this</span>._section.clientHeight) {\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._section, <span class=\"code-string\">'leaflet-control-layers-scrollbar'</span>);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._section.style.height = acceptableHeight + <span class=\"code-string\">'px'</span>;\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._section, <span class=\"code-string\">'leaflet-control-layers-scrollbar'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._checkDisabledLayers();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method collapse(): this</span>\r\n","\t<span class=\"code-comment\">// Collapse the control container if expanded.</span>\r\n","\tcollapse: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-control-layers-expanded'</span>);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_initLayout: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> className = <span class=\"code-string\">'leaflet-control-layers'</span>,\r\n","\t\t    container = <span class=\"code-keyword\">this</span>._container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className),\r\n","\t\t    collapsed = <span class=\"code-keyword\">this</span>.options.collapsed;\r\n","\r\n","\t\t<span class=\"code-comment\">// makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released</span>\r\n","\t\tcontainer.setAttribute(<span class=\"code-string\">'aria-haspopup'</span>, <span class=\"code-literal\">true</span>);\r\n","\r\n","\t\tdisableClickPropagation(container);\r\n","\t\tdisableScrollPropagation(container);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> section = <span class=\"code-keyword\">this</span>._section = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'section'</span>, className + <span class=\"code-string\">'-list'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (collapsed) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.on(<span class=\"code-string\">'click'</span>, <span class=\"code-keyword\">this</span>.collapse, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t\ton(container, {\r\n","\t\t\t\tmouseenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t\t\ton(section, <span class=\"code-string\">'click'</span>, preventDefault);\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>.expand();\r\n","\t\t\t\t\tsetTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t\t\t\toff(section, <span class=\"code-string\">'click'</span>, preventDefault);\r\n","\t\t\t\t\t});\r\n","\t\t\t\t},\r\n","\t\t\t\tmouseleave: <span class=\"code-keyword\">this</span>.collapse\r\n","\t\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> link = <span class=\"code-keyword\">this</span>._layersLink = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'a'</span>, className + <span class=\"code-string\">'-toggle'</span>, container);\r\n","\t\tlink.href = <span class=\"code-string\">'#'</span>;\r\n","\t\tlink.title = <span class=\"code-string\">'Layers'</span>;\r\n","\t\tlink.setAttribute(<span class=\"code-string\">'role'</span>, <span class=\"code-string\">'button'</span>);\r\n","\r\n","\t\ton(link, <span class=\"code-string\">'click'</span>, preventDefault); <span class=\"code-comment\">// prevent link function</span>\r\n","\t\ton(link, <span class=\"code-string\">'focus'</span>, <span class=\"code-keyword\">this</span>.expand, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!collapsed) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.expand();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._baseLayersList = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className + <span class=\"code-string\">'-base'</span>, section);\r\n","\t\t<span class=\"code-keyword\">this</span>._separator = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className + <span class=\"code-string\">'-separator'</span>, section);\r\n","\t\t<span class=\"code-keyword\">this</span>._overlaysList = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className + <span class=\"code-string\">'-overlays'</span>, section);\r\n","\r\n","\t\tcontainer.appendChild(section);\r\n","\t},\r\n","\r\n","\t_getLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">id</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; <span class=\"code-keyword\">this</span>._layers.length; i++) {\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._layers[i] &amp;&amp; stamp(<span class=\"code-keyword\">this</span>._layers[i].layer) === id) {\r\n","\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._layers[i];\r\n","\t\t\t}\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_addLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, name, overlay</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\tlayer.on(<span class=\"code-string\">'add remove'</span>, <span class=\"code-keyword\">this</span>._onLayerChange, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layers.push({\r\n","\t\t\tlayer: layer,\r\n","\t\t\tname: name,\r\n","\t\t\toverlay: overlay\r\n","\t\t});\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.sortLayers) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._layers.sort(bind(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">a, b</span>) </span>{\r\n","\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.sortFunction(a.layer, b.layer, a.name, b.name);\r\n","\t\t\t}, <span class=\"code-keyword\">this</span>));\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.autoZIndex &amp;&amp; layer.setZIndex) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._lastZIndex++;\r\n","\t\t\tlayer.setZIndex(<span class=\"code-keyword\">this</span>._lastZIndex);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._expandIfNotCollapsed();\r\n","\t},\r\n","\r\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._container) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\tempty(<span class=\"code-keyword\">this</span>._baseLayersList);\r\n","\t\tempty(<span class=\"code-keyword\">this</span>._overlaysList);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layerControlInputs = [];\r\n","\t\t<span class=\"code-keyword\">var</span> baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = <span class=\"code-number\">0</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; <span class=\"code-keyword\">this</span>._layers.length; i++) {\r\n","\t\t\tobj = <span class=\"code-keyword\">this</span>._layers[i];\r\n","\t\t\t<span class=\"code-keyword\">this</span>._addItem(obj);\r\n","\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\r\n","\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\r\n","\t\t\tbaseLayersCount += !obj.overlay ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// Hide base layers section if there's only one layer.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.hideSingleBase) {\r\n","\t\t\tbaseLayersPresent = baseLayersPresent &amp;&amp; baseLayersCount &gt; <span class=\"code-number\">1</span>;\r\n","\t\t\t<span class=\"code-keyword\">this</span>._baseLayersList.style.display = baseLayersPresent ? <span class=\"code-string\">''</span> : <span class=\"code-string\">'none'</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._separator.style.display = overlaysPresent &amp;&amp; baseLayersPresent ? <span class=\"code-string\">''</span> : <span class=\"code-string\">'none'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_onLayerChange: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._handlingClick) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._update();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> obj = <span class=\"code-keyword\">this</span>._getLayer(stamp(e.target));\r\n","\r\n","\t\t<span class=\"code-comment\">// @namespace Map</span>\r\n","\t\t<span class=\"code-comment\">// @section Layer events</span>\r\n","\t\t<span class=\"code-comment\">// @event baselayerchange: LayersControlEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the base layer is changed through the [layers control](#control-layers).</span>\r\n","\t\t<span class=\"code-comment\">// @event overlayadd: LayersControlEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when an overlay is selected through the [layers control](#control-layers).</span>\r\n","\t\t<span class=\"code-comment\">// @event overlayremove: LayersControlEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when an overlay is deselected through the [layers control](#control-layers).</span>\r\n","\t\t<span class=\"code-comment\">// @namespace Control.Layers</span>\r\n","\t\t<span class=\"code-keyword\">var</span> type = obj.overlay ?\r\n","\t\t\t(e.type === <span class=\"code-string\">'add'</span> ? <span class=\"code-string\">'overlayadd'</span> : <span class=\"code-string\">'overlayremove'</span>) :\r\n","\t\t\t(e.type === <span class=\"code-string\">'add'</span> ? <span class=\"code-string\">'baselayerchange'</span> : <span class=\"code-literal\">null</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (type) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.fire(type, obj);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see https://stackoverflow.com/a/119079)</span>\r\n","\t_createRadioElement: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name, checked</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> radioHtml = <span class=\"code-string\">'&lt;input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"'</span> +\r\n","\t\t\t\tname + <span class=\"code-string\">'\"'</span> + (checked ? <span class=\"code-string\">' checked=\"checked\"'</span> : <span class=\"code-string\">''</span>) + <span class=\"code-string\">'/&gt;'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> radioFragment = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'div'</span>);\r\n","\t\tradioFragment.innerHTML = radioHtml;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> radioFragment.firstChild;\r\n","\t},\r\n","\r\n","\t_addItem: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> label = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'label'</span>),\r\n","\t\t    checked = <span class=\"code-keyword\">this</span>._map.hasLayer(obj.layer),\r\n","\t\t    input;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (obj.overlay) {\r\n","\t\t\tinput = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'input'</span>);\r\n","\t\t\tinput.type = <span class=\"code-string\">'checkbox'</span>;\r\n","\t\t\tinput.className = <span class=\"code-string\">'leaflet-control-layers-selector'</span>;\r\n","\t\t\tinput.defaultChecked = checked;\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tinput = <span class=\"code-keyword\">this</span>._createRadioElement(<span class=\"code-string\">'leaflet-base-layers_'</span> + stamp(<span class=\"code-keyword\">this</span>), checked);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layerControlInputs.push(input);\r\n","\t\tinput.layerId = stamp(obj.layer);\r\n","\r\n","\t\ton(input, <span class=\"code-string\">'click'</span>, <span class=\"code-keyword\">this</span>._onInputClick, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> name = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'span'</span>);\r\n","\t\tname.innerHTML = <span class=\"code-string\">' '</span> + obj.name;\r\n","\r\n","\t\t<span class=\"code-comment\">// Helps from preventing layer control flicker when checkboxes are disabled</span>\r\n","\t\t<span class=\"code-comment\">// https://github.com/Leaflet/Leaflet/issues/2771</span>\r\n","\t\t<span class=\"code-keyword\">var</span> holder = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'span'</span>);\r\n","\r\n","\t\tlabel.appendChild(holder);\r\n","\t\tholder.appendChild(input);\r\n","\t\tholder.appendChild(name);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> container = obj.overlay ? <span class=\"code-keyword\">this</span>._overlaysList : <span class=\"code-keyword\">this</span>._baseLayersList;\r\n","\t\tcontainer.appendChild(label);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._checkDisabledLayers();\r\n","\t\t<span class=\"code-keyword\">return</span> label;\r\n","\t},\r\n","\r\n","\t_onInputClick: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> inputs = <span class=\"code-keyword\">this</span>._layerControlInputs,\r\n","\t\t    input, layer;\r\n","\t\t<span class=\"code-keyword\">var</span> addedLayers = [],\r\n","\t\t    removedLayers = [];\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._handlingClick = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = inputs.length - <span class=\"code-number\">1</span>; i &gt;= <span class=\"code-number\">0</span>; i--) {\r\n","\t\t\tinput = inputs[i];\r\n","\t\t\tlayer = <span class=\"code-keyword\">this</span>._getLayer(input.layerId).layer;\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (input.checked) {\r\n","\t\t\t\taddedLayers.push(layer);\r\n","\t\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (!input.checked) {\r\n","\t\t\t\tremovedLayers.push(layer);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// Bugfix issue 2318: Should remove all old layers before readding new ones</span>\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; removedLayers.length; i++) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map.hasLayer(removedLayers[i])) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._map.removeLayer(removedLayers[i]);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; addedLayers.length; i++) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map.hasLayer(addedLayers[i])) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._map.addLayer(addedLayers[i]);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._handlingClick = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._refocusOnMap();\r\n","\t},\r\n","\r\n","\t_checkDisabledLayers: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> inputs = <span class=\"code-keyword\">this</span>._layerControlInputs,\r\n","\t\t    input,\r\n","\t\t    layer,\r\n","\t\t    zoom = <span class=\"code-keyword\">this</span>._map.getZoom();\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = inputs.length - <span class=\"code-number\">1</span>; i &gt;= <span class=\"code-number\">0</span>; i--) {\r\n","\t\t\tinput = inputs[i];\r\n","\t\t\tlayer = <span class=\"code-keyword\">this</span>._getLayer(input.layerId).layer;\r\n","\t\t\tinput.disabled = (layer.options.minZoom !== <span class=\"code-literal\">undefined</span> &amp;&amp; zoom &lt; layer.options.minZoom) ||\r\n","\t\t\t                 (layer.options.maxZoom !== <span class=\"code-literal\">undefined</span> &amp;&amp; zoom &gt; layer.options.maxZoom);\r\n","\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_expandIfNotCollapsed: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map &amp;&amp; !<span class=\"code-keyword\">this</span>.options.collapsed) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.expand();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t}\r\n","\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.control.layers(baselayers?: Object, overlays?: Object, options?: Control.Layers options)</span>\r\n","<span class=\"code-comment\">// Creates a layers control with the given layers. Base layers will be switched with radio buttons, while overlays will be switched with checkboxes. Note that all base layers should be passed in the base layers object, but only one should be added to the map during map instantiation.</span>\r\n","<span class=\"code-keyword\">var</span> layers = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">baseLayers, overlays, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Layers(baseLayers, overlays, options);\r\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Control.Zoom\r\n</span>","<span class=\"code-comment\"> * @aka L.Control.Zoom\r\n</span>","<span class=\"code-comment\"> * @inherits Control\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A basic zoom control with two buttons (zoom in and zoom out). It is put on the map by default unless you set its [`zoomControl` option](#map-zoomcontrol) to `false`. Extends `Control`.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Zoom = Control.extend({\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka Control.Zoom options</span>\r\n","\toptions: {\r\n","\t\tposition: <span class=\"code-string\">'topleft'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomInText: String = '&lt;span aria-hidden=\"true\"&gt;+&lt;/span&gt;'</span>\r\n","\t\t<span class=\"code-comment\">// The text set on the 'zoom in' button.</span>\r\n","\t\tzoomInText: <span class=\"code-string\">'&lt;span aria-hidden=\"true\"&gt;+&lt;/span&gt;'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomInTitle: String = 'Zoom in'</span>\r\n","\t\t<span class=\"code-comment\">// The title set on the 'zoom in' button.</span>\r\n","\t\tzoomInTitle: <span class=\"code-string\">'Zoom in'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomOutText: String = '&lt;span aria-hidden=\"true\"&gt;&amp;#x2212;&lt;/span&gt;'</span>\r\n","\t\t<span class=\"code-comment\">// The text set on the 'zoom out' button.</span>\r\n","\t\tzoomOutText: <span class=\"code-string\">'&lt;span aria-hidden=\"true\"&gt;&amp;#x2212;&lt;/span&gt;'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomOutTitle: String = 'Zoom out'</span>\r\n","\t\t<span class=\"code-comment\">// The title set on the 'zoom out' button.</span>\r\n","\t\tzoomOutTitle: <span class=\"code-string\">'Zoom out'</span>\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> zoomName = <span class=\"code-string\">'leaflet-control-zoom'</span>,\r\n","\t\t    container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, zoomName + <span class=\"code-string\">' leaflet-bar'</span>),\r\n","\t\t    options = <span class=\"code-keyword\">this</span>.options;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomInButton  = <span class=\"code-keyword\">this</span>._createButton(options.zoomInText, options.zoomInTitle,\r\n","\t\t        zoomName + <span class=\"code-string\">'-in'</span>,  container, <span class=\"code-keyword\">this</span>._zoomIn);\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomOutButton = <span class=\"code-keyword\">this</span>._createButton(options.zoomOutText, options.zoomOutTitle,\r\n","\t\t        zoomName + <span class=\"code-string\">'-out'</span>, container, <span class=\"code-keyword\">this</span>._zoomOut);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._updateDisabled();\r\n","\t\tmap.on(<span class=\"code-string\">'zoomend zoomlevelschange'</span>, <span class=\"code-keyword\">this</span>._updateDisabled, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> container;\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tmap.off(<span class=\"code-string\">'zoomend zoomlevelschange'</span>, <span class=\"code-keyword\">this</span>._updateDisabled, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\tdisable: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._disabled = <span class=\"code-literal\">true</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._updateDisabled();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\tenable: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._disabled = <span class=\"code-literal\">false</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._updateDisabled();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_zoomIn: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._disabled &amp;&amp; <span class=\"code-keyword\">this</span>._map._zoom &lt; <span class=\"code-keyword\">this</span>._map.getMaxZoom()) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.zoomIn(<span class=\"code-keyword\">this</span>._map.options.zoomDelta * (e.shiftKey ? <span class=\"code-number\">3</span> : <span class=\"code-number\">1</span>));\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_zoomOut: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._disabled &amp;&amp; <span class=\"code-keyword\">this</span>._map._zoom &gt; <span class=\"code-keyword\">this</span>._map.getMinZoom()) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.zoomOut(<span class=\"code-keyword\">this</span>._map.options.zoomDelta * (e.shiftKey ? <span class=\"code-number\">3</span> : <span class=\"code-number\">1</span>));\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_createButton: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">html, title, className, container, fn</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> link = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'a'</span>, className, container);\r\n","\t\tlink.innerHTML = html;\r\n","\t\tlink.href = <span class=\"code-string\">'#'</span>;\r\n","\t\tlink.title = title;\r\n","\r\n","\t\t<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\">\t\t * Will force screen readers like VoiceOver to read this as \"Zoom in - button\"\r\n</span>","<span class=\"code-comment\">\t\t */</span>\r\n","\t\tlink.setAttribute(<span class=\"code-string\">'role'</span>, <span class=\"code-string\">'button'</span>);\r\n","\t\tlink.setAttribute(<span class=\"code-string\">'aria-label'</span>, title);\r\n","\r\n","\t\tdisableClickPropagation(link);\r\n","\t\ton(link, <span class=\"code-string\">'click'</span>, stop);\r\n","\t\ton(link, <span class=\"code-string\">'click'</span>, fn, <span class=\"code-keyword\">this</span>);\r\n","\t\ton(link, <span class=\"code-string\">'click'</span>, <span class=\"code-keyword\">this</span>._refocusOnMap, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> link;\r\n","\t},\r\n","\r\n","\t_updateDisabled: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\r\n","\t\t    className = <span class=\"code-string\">'leaflet-disabled'</span>;\r\n","\r\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._zoomInButton, className);\r\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._zoomOutButton, className);\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomInButton.setAttribute(<span class=\"code-string\">'aria-disabled'</span>, <span class=\"code-string\">'false'</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomOutButton.setAttribute(<span class=\"code-string\">'aria-disabled'</span>, <span class=\"code-string\">'false'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._disabled || map._zoom === map.getMinZoom()) {\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._zoomOutButton, className);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._zoomOutButton.setAttribute(<span class=\"code-string\">'aria-disabled'</span>, <span class=\"code-string\">'true'</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._disabled || map._zoom === map.getMaxZoom()) {\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._zoomInButton, className);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._zoomInButton.setAttribute(<span class=\"code-string\">'aria-disabled'</span>, <span class=\"code-string\">'true'</span>);\r\n","\t\t}\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace Map</span>\r\n","<span class=\"code-comment\">// @section Control options</span>\r\n","<span class=\"code-comment\">// @option zoomControl: Boolean = true</span>\r\n","<span class=\"code-comment\">// Whether a [zoom control](#control-zoom) is added to the map by default.</span>\r\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\r\n","\tzoomControl: <span class=\"code-literal\">true</span>\r\n","});\r\n","\r\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.zoomControl) {\r\n","\t\t<span class=\"code-comment\">// @section Controls</span>\r\n","\t\t<span class=\"code-comment\">// @property zoomControl: Control.Zoom</span>\r\n","\t\t<span class=\"code-comment\">// The default zoom control (only available if the</span>\r\n","\t\t<span class=\"code-comment\">// [`zoomControl` option](#map-zoomcontrol) was `true` when creating the map).</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.zoomControl = <span class=\"code-keyword\">new</span> Zoom();\r\n","\t\t<span class=\"code-keyword\">this</span>.addControl(<span class=\"code-keyword\">this</span>.zoomControl);\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace Control.Zoom</span>\r\n","<span class=\"code-comment\">// @factory L.control.zoom(options: Control.Zoom options)</span>\r\n","<span class=\"code-comment\">// Creates a zoom control</span>\r\n","<span class=\"code-keyword\">var</span> zoom = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Zoom(options);\r\n","};\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Control.Scale\n</span>","<span class=\"code-comment\"> * @aka L.Control.Scale\n</span>","<span class=\"code-comment\"> * @inherits Control\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A simple scale control that shows the scale of the current center of screen in metric (m/km) and imperial (mi/ft) systems. Extends `Control`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * L.control.scale().addTo(map);\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Scale = Control.extend({\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka Control.Scale options</span>\n","\toptions: {\n","\t\tposition: <span class=\"code-string\">'bottomleft'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option maxWidth: Number = 100</span>\n","\t\t<span class=\"code-comment\">// Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).</span>\n","\t\tmaxWidth: <span class=\"code-number\">100</span>,\n","\n","\t\t<span class=\"code-comment\">// @option metric: Boolean = True</span>\n","\t\t<span class=\"code-comment\">// Whether to show the metric scale line (m/km).</span>\n","\t\tmetric: <span class=\"code-literal\">true</span>,\n","\n","\t\t<span class=\"code-comment\">// @option imperial: Boolean = True</span>\n","\t\t<span class=\"code-comment\">// Whether to show the imperial scale line (mi/ft).</span>\n","\t\timperial: <span class=\"code-literal\">true</span>\n","\n","\t\t<span class=\"code-comment\">// @option updateWhenIdle: Boolean = false</span>\n","\t\t<span class=\"code-comment\">// If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).</span>\n","\t},\n","\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> className = <span class=\"code-string\">'leaflet-control-scale'</span>,\n","\t\t    container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className),\n","\t\t    options = <span class=\"code-keyword\">this</span>.options;\n","\n","\t\t<span class=\"code-keyword\">this</span>._addScales(options, className + <span class=\"code-string\">'-line'</span>, container);\n","\n","\t\tmap.on(options.updateWhenIdle ? <span class=\"code-string\">'moveend'</span> : <span class=\"code-string\">'move'</span>, <span class=\"code-keyword\">this</span>._update, <span class=\"code-keyword\">this</span>);\n","\t\tmap.whenReady(<span class=\"code-keyword\">this</span>._update, <span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">return</span> container;\n","\t},\n","\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\tmap.off(<span class=\"code-keyword\">this</span>.options.updateWhenIdle ? <span class=\"code-string\">'moveend'</span> : <span class=\"code-string\">'move'</span>, <span class=\"code-keyword\">this</span>._update, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_addScales: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options, className, container</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (options.metric) {\n","\t\t\t<span class=\"code-keyword\">this</span>._mScale = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className, container);\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (options.imperial) {\n","\t\t\t<span class=\"code-keyword\">this</span>._iScale = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className, container);\n","\t\t}\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    y = map.getSize().y / <span class=\"code-number\">2</span>;\n","\n","\t\t<span class=\"code-keyword\">var</span> maxMeters = map.distance(\n","\t\t\tmap.containerPointToLatLng([<span class=\"code-number\">0</span>, y]),\n","\t\t\tmap.containerPointToLatLng([<span class=\"code-keyword\">this</span>.options.maxWidth, y]));\n","\n","\t\t<span class=\"code-keyword\">this</span>._updateScales(maxMeters);\n","\t},\n","\n","\t_updateScales: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">maxMeters</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.metric &amp;&amp; maxMeters) {\n","\t\t\t<span class=\"code-keyword\">this</span>._updateMetric(maxMeters);\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.imperial &amp;&amp; maxMeters) {\n","\t\t\t<span class=\"code-keyword\">this</span>._updateImperial(maxMeters);\n","\t\t}\n","\t},\n","\n","\t_updateMetric: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">maxMeters</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> meters = <span class=\"code-keyword\">this</span>._getRoundNum(maxMeters),\n","\t\t    label = meters &lt; <span class=\"code-number\">1000</span> ? meters + <span class=\"code-string\">' m'</span> : (meters / <span class=\"code-number\">1000</span>) + <span class=\"code-string\">' km'</span>;\n","\n","\t\t<span class=\"code-keyword\">this</span>._updateScale(<span class=\"code-keyword\">this</span>._mScale, label, meters / maxMeters);\n","\t},\n","\n","\t_updateImperial: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">maxMeters</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> maxFeet = maxMeters * <span class=\"code-number\">3.2808399</span>,\n","\t\t    maxMiles, miles, feet;\n","\n","\t\t<span class=\"code-keyword\">if</span> (maxFeet &gt; <span class=\"code-number\">5280</span>) {\n","\t\t\tmaxMiles = maxFeet / <span class=\"code-number\">5280</span>;\n","\t\t\tmiles = <span class=\"code-keyword\">this</span>._getRoundNum(maxMiles);\n","\t\t\t<span class=\"code-keyword\">this</span>._updateScale(<span class=\"code-keyword\">this</span>._iScale, miles + <span class=\"code-string\">' mi'</span>, miles / maxMiles);\n","\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tfeet = <span class=\"code-keyword\">this</span>._getRoundNum(maxFeet);\n","\t\t\t<span class=\"code-keyword\">this</span>._updateScale(<span class=\"code-keyword\">this</span>._iScale, feet + <span class=\"code-string\">' ft'</span>, feet / maxFeet);\n","\t\t}\n","\t},\n","\n","\t_updateScale: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">scale, text, ratio</span>) </span>{\n","\t\tscale.style.width = <span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.options.maxWidth * ratio) + <span class=\"code-string\">'px'</span>;\n","\t\tscale.innerHTML = text;\n","\t},\n","\n","\t_getRoundNum: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">num</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> pow10 = <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">10</span>, (<span class=\"code-built_in\">Math</span>.floor(num) + <span class=\"code-string\">''</span>).length - <span class=\"code-number\">1</span>),\n","\t\t    d = num / pow10;\n","\n","\t\td = d &gt;= <span class=\"code-number\">10</span> ? <span class=\"code-number\">10</span> :\n","\t\t    d &gt;= <span class=\"code-number\">5</span> ? <span class=\"code-number\">5</span> :\n","\t\t    d &gt;= <span class=\"code-number\">3</span> ? <span class=\"code-number\">3</span> :\n","\t\t    d &gt;= <span class=\"code-number\">2</span> ? <span class=\"code-number\">2</span> : <span class=\"code-number\">1</span>;\n","\n","\t\t<span class=\"code-keyword\">return</span> pow10 * d;\n","\t}\n","});\n","\n","\n","<span class=\"code-comment\">// @factory L.control.scale(options?: Control.Scale options)</span>\n","<span class=\"code-comment\">// Creates an scale control with the given options.</span>\n","<span class=\"code-keyword\">var</span> scale = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Scale(options);\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Control.Attribution\r\n</span>","<span class=\"code-comment\"> * @aka L.Control.Attribution\r\n</span>","<span class=\"code-comment\"> * @inherits Control\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * The attribution control allows you to display attribution data in a small text box on a map. It is put on the map by default unless you set its [`attributionControl` option](#map-attributioncontrol) to `false`, and it fetches attribution texts from layers with the [`getAttribution` method](#layer-getattribution) automatically. Extends Control.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Attribution = Control.extend({\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka Control.Attribution options</span>\r\n","\toptions: {\r\n","\t\tposition: <span class=\"code-string\">'bottomright'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option prefix: String|false = 'Leaflet'</span>\r\n","\t\t<span class=\"code-comment\">// The HTML text shown before the attributions. Pass `false` to disable.</span>\r\n","\t\tprefix: <span class=\"code-string\">'&lt;a href=\"https://leafletjs.com\" title=\"A JavaScript library for interactive maps\"&gt;Leaflet&lt;/a&gt;'</span>\r\n","\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._attributions = {};\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tmap.attributionControl = <span class=\"code-keyword\">this</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, <span class=\"code-string\">'leaflet-control-attribution'</span>);\r\n","\t\tdisableClickPropagation(<span class=\"code-keyword\">this</span>._container);\r\n","\r\n","\t\t<span class=\"code-comment\">// TODO ugly, refactor</span>\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> map._layers) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (map._layers[i].getAttribution) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.addAttribution(map._layers[i].getAttribution());\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._update();\r\n","\r\n","\t\tmap.on(<span class=\"code-string\">'layeradd'</span>, <span class=\"code-keyword\">this</span>._addAttribution, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._container;\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tmap.off(<span class=\"code-string\">'layeradd'</span>, <span class=\"code-keyword\">this</span>._addAttribution, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t_addAttribution: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">ev</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (ev.layer.getAttribution) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.addAttribution(ev.layer.getAttribution());\r\n","\t\t\tev.layer.once(<span class=\"code-string\">'remove'</span>, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.removeAttribution(ev.layer.getAttribution());\r\n","\t\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setPrefix(prefix: String|false): this</span>\r\n","\t<span class=\"code-comment\">// The HTML text shown before the attributions. Pass `false` to disable.</span>\r\n","\tsetPrefix: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">prefix</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.options.prefix = prefix;\r\n","\t\t<span class=\"code-keyword\">this</span>._update();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addAttribution(text: String): this</span>\r\n","\t<span class=\"code-comment\">// Adds an attribution text (e.g. `'Vector data &amp;copy; Mapbox'`).</span>\r\n","\taddAttribution: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">text</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!text) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._attributions[text]) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._attributions[text] = <span class=\"code-number\">0</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._attributions[text]++;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._update();\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method removeAttribution(text: String): this</span>\r\n","\t<span class=\"code-comment\">// Removes an attribution text.</span>\r\n","\tremoveAttribution: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">text</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!text) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._attributions[text]) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._attributions[text]--;\r\n","\t\t\t<span class=\"code-keyword\">this</span>._update();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> attribs = [];\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._attributions) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._attributions[i]) {\r\n","\t\t\t\tattribs.push(i);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> prefixAndAttribs = [];\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.prefix) {\r\n","\t\t\tprefixAndAttribs.push(<span class=\"code-keyword\">this</span>.options.prefix);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (attribs.length) {\r\n","\t\t\tprefixAndAttribs.push(attribs.join(<span class=\"code-string\">', '</span>));\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._container.innerHTML = prefixAndAttribs.join(<span class=\"code-string\">' &lt;span aria-hidden=\"true\"&gt;|&lt;/span&gt; '</span>);\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace Map</span>\r\n","<span class=\"code-comment\">// @section Control options</span>\r\n","<span class=\"code-comment\">// @option attributionControl: Boolean = true</span>\r\n","<span class=\"code-comment\">// Whether a [attribution control](#control-attribution) is added to the map by default.</span>\r\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\r\n","\tattributionControl: <span class=\"code-literal\">true</span>\r\n","});\r\n","\r\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.attributionControl) {\r\n","\t\t<span class=\"code-keyword\">new</span> Attribution().addTo(<span class=\"code-keyword\">this</span>);\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace Control.Attribution</span>\r\n","<span class=\"code-comment\">// @factory L.control.attribution(options: Control.Attribution options)</span>\r\n","<span class=\"code-comment\">// Creates an attribution control.</span>\r\n","<span class=\"code-keyword\">var</span> attribution = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Attribution(options);\r\n","};\n","\n","Control.Layers = Layers;\n","Control.Zoom = Zoom;\n","Control.Scale = Scale;\n","Control.Attribution = Attribution;\n","\n","control.layers = layers;\n","control.zoom = zoom;\n","control.scale = scale;\n","control.attribution = attribution;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\">\tL.Handler is a base class for handler classes that are used internally to inject\n</span>","<span class=\"code-comment\">\tinteraction features like dragging to classes like Map and Marker.\n</span>","<span class=\"code-comment\">*/</span>\n","\n","<span class=\"code-comment\">// @class Handler</span>\n","<span class=\"code-comment\">// @aka L.Handler</span>\n","<span class=\"code-comment\">// Abstract class for map interaction handlers</span>\n","\n","<span class=\"code-keyword\">var</span> Handler = Class.extend({\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map = map;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method enable(): this</span>\n","\t<span class=\"code-comment\">// Enables the handler</span>\n","\tenable: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._enabled = <span class=\"code-literal\">true</span>;\n","\t\t<span class=\"code-keyword\">this</span>.addHooks();\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method disable(): this</span>\n","\t<span class=\"code-comment\">// Disables the handler</span>\n","\tdisable: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._enabled = <span class=\"code-literal\">false</span>;\n","\t\t<span class=\"code-keyword\">this</span>.removeHooks();\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method enabled(): Boolean</span>\n","\t<span class=\"code-comment\">// Returns `true` if the handler is enabled</span>\n","\tenabled: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> !!<span class=\"code-keyword\">this</span>._enabled;\n","\t}\n","\n","\t<span class=\"code-comment\">// @section Extension methods</span>\n","\t<span class=\"code-comment\">// Classes inheriting from `Handler` must implement the two following methods:</span>\n","\t<span class=\"code-comment\">// @method addHooks()</span>\n","\t<span class=\"code-comment\">// Called when the handler is enabled, should add event hooks.</span>\n","\t<span class=\"code-comment\">// @method removeHooks()</span>\n","\t<span class=\"code-comment\">// Called when the handler is disabled, should remove the event hooks added previously.</span>\n","});\n","\n","<span class=\"code-comment\">// @section There is static function which can be called without instantiating L.Handler:</span>\n","<span class=\"code-comment\">// @function addTo(map: Map, name: String): this</span>\n","<span class=\"code-comment\">// Adds a new Handler to the given map with the given name.</span>\n","Handler.addTo = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map, name</span>) </span>{\n","\tmap.addHandler(name, <span class=\"code-keyword\">this</span>);\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","};\n","\n","<span class=\"code-keyword\">var</span> Mixin = {<span class=\"code-attr\">Events</span>: Events};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Draggable\r\n</span>","<span class=\"code-comment\"> * @aka L.Draggable\r\n</span>","<span class=\"code-comment\"> * @inherits Evented\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A class for making DOM elements draggable (including touch support).\r\n</span>","<span class=\"code-comment\"> * Used internally for map and marker dragging. Only works for elements\r\n</span>","<span class=\"code-comment\"> * that were positioned with [`L.DomUtil.setPosition`](#domutil-setposition).\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var draggable = new L.Draggable(elementToDrag);\r\n</span>","<span class=\"code-comment\"> * draggable.enable();\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> START = Browser.touch ? <span class=\"code-string\">'touchstart mousedown'</span> : <span class=\"code-string\">'mousedown'</span>;\r\n","\r\n","<span class=\"code-keyword\">var</span> Draggable = Evented.extend({\r\n","\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @section</span>\r\n","\t\t<span class=\"code-comment\">// @aka Draggable options</span>\r\n","\t\t<span class=\"code-comment\">// @option clickTolerance: Number = 3</span>\r\n","\t\t<span class=\"code-comment\">// The max number of pixels a user can shift the mouse pointer during a click</span>\r\n","\t\t<span class=\"code-comment\">// for it to be considered a valid click (as opposed to a mouse drag).</span>\r\n","\t\tclickTolerance: <span class=\"code-number\">3</span>\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline?: Boolean, options?: Draggable options)</span>\r\n","\t<span class=\"code-comment\">// Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).</span>\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">element, dragStartTarget, preventOutline, options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._element = element;\r\n","\t\t<span class=\"code-keyword\">this</span>._dragStartTarget = dragStartTarget || element;\r\n","\t\t<span class=\"code-keyword\">this</span>._preventOutline = preventOutline;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method enable()</span>\r\n","\t<span class=\"code-comment\">// Enables the dragging ability</span>\r\n","\tenable: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\ton(<span class=\"code-keyword\">this</span>._dragStartTarget, START, <span class=\"code-keyword\">this</span>._onDown, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._enabled = <span class=\"code-literal\">true</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method disable()</span>\r\n","\t<span class=\"code-comment\">// Disables the dragging ability</span>\r\n","\tdisable: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-comment\">// If we're currently dragging this draggable,</span>\r\n","\t\t<span class=\"code-comment\">// disabling it counts as first ending the drag.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (Draggable._dragging === <span class=\"code-keyword\">this</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.finishDrag();\r\n","\t\t}\r\n","\r\n","\t\toff(<span class=\"code-keyword\">this</span>._dragStartTarget, START, <span class=\"code-keyword\">this</span>._onDown, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._enabled = <span class=\"code-literal\">false</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">false</span>;\r\n","\t},\r\n","\r\n","\t_onDown: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// Ignore the event if disabled; this happens in IE11</span>\r\n","\t\t<span class=\"code-comment\">// under some circumstances, see #3666.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (hasClass(<span class=\"code-keyword\">this</span>._element, <span class=\"code-string\">'leaflet-zoom-anim'</span>)) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (Draggable._dragging || e.shiftKey || ((e.which !== <span class=\"code-number\">1</span>) &amp;&amp; (e.button !== <span class=\"code-number\">1</span>) &amp;&amp; !e.touches)) { <span class=\"code-keyword\">return</span>; }\r\n","\t\tDraggable._dragging = <span class=\"code-keyword\">this</span>;  <span class=\"code-comment\">// Prevent dragging multiple objects at once.</span>\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._preventOutline) {\r\n","\t\t\tpreventOutline(<span class=\"code-keyword\">this</span>._element);\r\n","\t\t}\r\n","\r\n","\t\tdisableImageDrag();\r\n","\t\tdisableTextSelection();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._moving) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-comment\">// @event down: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when a drag is about to start.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'down'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> first = e.touches ? e.touches[<span class=\"code-number\">0</span>] : e,\r\n","\t\t    sizedParent = getSizedParentNode(<span class=\"code-keyword\">this</span>._element);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._startPoint = <span class=\"code-keyword\">new</span> Point(first.clientX, first.clientY);\r\n","\t\t<span class=\"code-keyword\">this</span>._startPos = getPosition(<span class=\"code-keyword\">this</span>._element);\r\n","\r\n","\t\t<span class=\"code-comment\">// Cache the scale, so that we can continuously compensate for it during drag (_onMove).</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._parentScale = getScale(sizedParent);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> mouseevent = e.type === <span class=\"code-string\">'mousedown'</span>;\r\n","\t\ton(<span class=\"code-built_in\">document</span>, mouseevent ? <span class=\"code-string\">'mousemove'</span> : <span class=\"code-string\">'touchmove'</span>, <span class=\"code-keyword\">this</span>._onMove, <span class=\"code-keyword\">this</span>);\r\n","\t\ton(<span class=\"code-built_in\">document</span>, mouseevent ? <span class=\"code-string\">'mouseup'</span> : <span class=\"code-string\">'touchend touchcancel'</span>, <span class=\"code-keyword\">this</span>._onUp, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t_onMove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// Ignore the event if disabled; this happens in IE11</span>\r\n","\t\t<span class=\"code-comment\">// under some circumstances, see #3666.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (e.touches &amp;&amp; e.touches.length &gt; <span class=\"code-number\">1</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">true</span>;\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> first = (e.touches &amp;&amp; e.touches.length === <span class=\"code-number\">1</span> ? e.touches[<span class=\"code-number\">0</span>] : e),\r\n","\t\t    offset = <span class=\"code-keyword\">new</span> Point(first.clientX, first.clientY)._subtract(<span class=\"code-keyword\">this</span>._startPoint);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!offset.x &amp;&amp; !offset.y) { <span class=\"code-keyword\">return</span>; }\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Math</span>.abs(offset.x) + <span class=\"code-built_in\">Math</span>.abs(offset.y) &lt; <span class=\"code-keyword\">this</span>.options.clickTolerance) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-comment\">// We assume that the parent container's position, border and scale do not change for the duration of the drag.</span>\r\n","\t\t<span class=\"code-comment\">// Therefore there is no need to account for the position and border (they are eliminated by the subtraction)</span>\r\n","\t\t<span class=\"code-comment\">// and we can use the cached value for the scale.</span>\r\n","\t\toffset.x /= <span class=\"code-keyword\">this</span>._parentScale.x;\r\n","\t\toffset.y /= <span class=\"code-keyword\">this</span>._parentScale.y;\r\n","\r\n","\t\tpreventDefault(e);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._moved) {\r\n","\t\t\t<span class=\"code-comment\">// @event dragstart: Event</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired when a drag starts</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'dragstart'</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t\taddClass(<span class=\"code-built_in\">document</span>.body, <span class=\"code-string\">'leaflet-dragging'</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>._lastTarget = e.target || e.srcElement;\r\n","\t\t\t<span class=\"code-comment\">// IE and Edge do not give the &lt;use&gt; element, so fetch it</span>\r\n","\t\t\t<span class=\"code-comment\">// if necessary</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">window</span>.SVGElementInstance &amp;&amp; <span class=\"code-keyword\">this</span>._lastTarget <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.SVGElementInstance) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._lastTarget = <span class=\"code-keyword\">this</span>._lastTarget.correspondingUseElement;\r\n","\t\t\t}\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._lastTarget, <span class=\"code-string\">'leaflet-drag-target'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._newPos = <span class=\"code-keyword\">this</span>._startPos.add(offset);\r\n","\t\t<span class=\"code-keyword\">this</span>._moving = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._lastEvent = e;\r\n","\t\t<span class=\"code-keyword\">this</span>._updatePosition();\r\n","\t},\r\n","\r\n","\t_updatePosition: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> e = {<span class=\"code-attr\">originalEvent</span>: <span class=\"code-keyword\">this</span>._lastEvent};\r\n","\r\n","\t\t<span class=\"code-comment\">// @event predrag: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired continuously during dragging *before* each corresponding</span>\r\n","\t\t<span class=\"code-comment\">// update of the element's position.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'predrag'</span>, e);\r\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._element, <span class=\"code-keyword\">this</span>._newPos);\r\n","\r\n","\t\t<span class=\"code-comment\">// @event drag: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired continuously during dragging.</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'drag'</span>, e);\r\n","\t},\r\n","\r\n","\t_onUp: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-comment\">// Ignore the event if disabled; this happens in IE11</span>\r\n","\t\t<span class=\"code-comment\">// under some circumstances, see #3666.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._enabled) { <span class=\"code-keyword\">return</span>; }\r\n","\t\t<span class=\"code-keyword\">this</span>.finishDrag();\r\n","\t},\r\n","\r\n","\tfinishDrag: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tremoveClass(<span class=\"code-built_in\">document</span>.body, <span class=\"code-string\">'leaflet-dragging'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._lastTarget) {\r\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._lastTarget, <span class=\"code-string\">'leaflet-drag-target'</span>);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._lastTarget = <span class=\"code-literal\">null</span>;\r\n","\t\t}\r\n","\r\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'mousemove touchmove'</span>, <span class=\"code-keyword\">this</span>._onMove, <span class=\"code-keyword\">this</span>);\r\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'mouseup touchend touchcancel'</span>, <span class=\"code-keyword\">this</span>._onUp, <span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\tenableImageDrag();\r\n","\t\tenableTextSelection();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._moved &amp;&amp; <span class=\"code-keyword\">this</span>._moving) {\r\n","\r\n","\t\t\t<span class=\"code-comment\">// @event dragend: DragEndEvent</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired when the drag ends.</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'dragend'</span>, {\r\n","\t\t\t\tdistance: <span class=\"code-keyword\">this</span>._newPos.distanceTo(<span class=\"code-keyword\">this</span>._startPos)\r\n","\t\t\t});\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._moving = <span class=\"code-literal\">false</span>;\r\n","\t\tDraggable._dragging = <span class=\"code-literal\">false</span>;\r\n","\t}\r\n","\r\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace LineUtil\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Various utility functions for polyline points processing, used by Leaflet internally to make polylines lightning-fast.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">// Simplify polyline with vertex reduction and Douglas-Peucker simplification.</span>\r\n","<span class=\"code-comment\">// Improves rendering performance dramatically by lessening the number of points to draw.</span>\r\n","\r\n","<span class=\"code-comment\">// @function simplify(points: Point[], tolerance: Number): Point[]</span>\r\n","<span class=\"code-comment\">// Dramatically reduces the number of points in a polyline while retaining</span>\r\n","<span class=\"code-comment\">// its shape and returns a new array of simplified points, using the</span>\r\n","<span class=\"code-comment\">// [Ramer-Douglas-Peucker algorithm](https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm).</span>\r\n","<span class=\"code-comment\">// Used for a huge performance boost when processing/displaying Leaflet polylines for</span>\r\n","<span class=\"code-comment\">// each zoom level and also reducing visual noise. tolerance affects the amount of</span>\r\n","<span class=\"code-comment\">// simplification (lesser value means higher quality but slower and with more points).</span>\r\n","<span class=\"code-comment\">// Also released as a separated micro-library [Simplify.js](https://mourner.github.io/simplify-js/).</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">simplify</span>(<span class=\"code-params\">points, tolerance</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (!tolerance || !points.length) {\r\n","\t\t<span class=\"code-keyword\">return</span> points.slice();\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">var</span> sqTolerance = tolerance * tolerance;\r\n","\r\n","\t    <span class=\"code-comment\">// stage 1: vertex reduction</span>\r\n","\t    points = _reducePoints(points, sqTolerance);\r\n","\r\n","\t    <span class=\"code-comment\">// stage 2: Douglas-Peucker simplification</span>\r\n","\t    points = _simplifyDP(points, sqTolerance);\r\n","\r\n","\t<span class=\"code-keyword\">return</span> points;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function pointToSegmentDistance(p: Point, p1: Point, p2: Point): Number</span>\r\n","<span class=\"code-comment\">// Returns the distance between point `p` and segment `p1` to `p2`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pointToSegmentDistance</span>(<span class=\"code-params\">p, p1, p2</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(_sqClosestPointOnSegment(p, p1, p2, <span class=\"code-literal\">true</span>));\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function closestPointOnSegment(p: Point, p1: Point, p2: Point): Number</span>\r\n","<span class=\"code-comment\">// Returns the closest point from a point `p` on a segment `p1` to `p2`.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">closestPointOnSegment</span>(<span class=\"code-params\">p, p1, p2</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> _sqClosestPointOnSegment(p, p1, p2);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// Ramer-Douglas-Peucker simplification, see https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_simplifyDP</span>(<span class=\"code-params\">points, sqTolerance</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">var</span> len = points.length,\r\n","\t    ArrayConstructor = <span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Uint8Array</span> !== <span class=\"code-literal\">undefined</span> + <span class=\"code-string\">''</span> ? <span class=\"code-built_in\">Uint8Array</span> : <span class=\"code-built_in\">Array</span>,\r\n","\t    markers = <span class=\"code-keyword\">new</span> ArrayConstructor(len);\r\n","\r\n","\t    markers[<span class=\"code-number\">0</span>] = markers[len - <span class=\"code-number\">1</span>] = <span class=\"code-number\">1</span>;\r\n","\r\n","\t_simplifyDPStep(points, markers, sqTolerance, <span class=\"code-number\">0</span>, len - <span class=\"code-number\">1</span>);\r\n","\r\n","\t<span class=\"code-keyword\">var</span> i,\r\n","\t    newPoints = [];\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; len; i++) {\r\n","\t\t<span class=\"code-keyword\">if</span> (markers[i]) {\r\n","\t\t\tnewPoints.push(points[i]);\r\n","\t\t}\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> newPoints;\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_simplifyDPStep</span>(<span class=\"code-params\">points, markers, sqTolerance, first, last</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">var</span> maxSqDist = <span class=\"code-number\">0</span>,\r\n","\tindex, i, sqDist;\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (i = first + <span class=\"code-number\">1</span>; i &lt;= last - <span class=\"code-number\">1</span>; i++) {\r\n","\t\tsqDist = _sqClosestPointOnSegment(points[i], points[first], points[last], <span class=\"code-literal\">true</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (sqDist &gt; maxSqDist) {\r\n","\t\t\tindex = i;\r\n","\t\t\tmaxSqDist = sqDist;\r\n","\t\t}\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (maxSqDist &gt; sqTolerance) {\r\n","\t\tmarkers[index] = <span class=\"code-number\">1</span>;\r\n","\r\n","\t\t_simplifyDPStep(points, markers, sqTolerance, first, index);\r\n","\t\t_simplifyDPStep(points, markers, sqTolerance, index, last);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-comment\">// reduce points that are too close to each other to a single point</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_reducePoints</span>(<span class=\"code-params\">points, sqTolerance</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> reducedPoints = [points[<span class=\"code-number\">0</span>]];\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">1</span>, prev = <span class=\"code-number\">0</span>, len = points.length; i &lt; len; i++) {\r\n","\t\t<span class=\"code-keyword\">if</span> (_sqDist(points[i], points[prev]) &gt; sqTolerance) {\r\n","\t\t\treducedPoints.push(points[i]);\r\n","\t\t\tprev = i;\r\n","\t\t}\r\n","\t}\r\n","\t<span class=\"code-keyword\">if</span> (prev &lt; len - <span class=\"code-number\">1</span>) {\r\n","\t\treducedPoints.push(points[len - <span class=\"code-number\">1</span>]);\r\n","\t}\r\n","\t<span class=\"code-keyword\">return</span> reducedPoints;\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> _lastCode;\r\n","\r\n","<span class=\"code-comment\">// @function clipSegment(a: Point, b: Point, bounds: Bounds, useLastCode?: Boolean, round?: Boolean): Point[]|Boolean</span>\r\n","<span class=\"code-comment\">// Clips the segment a to b by rectangular bounds with the</span>\r\n","<span class=\"code-comment\">// [Cohen-Sutherland algorithm](https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm)</span>\r\n","<span class=\"code-comment\">// (modifying the segment points directly!). Used by Leaflet to only show polyline</span>\r\n","<span class=\"code-comment\">// points that are on the screen or near, increasing performance.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">clipSegment</span>(<span class=\"code-params\">a, b, bounds, useLastCode, round</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> codeA = useLastCode ? _lastCode : _getBitCode(a, bounds),\r\n","\t    codeB = _getBitCode(b, bounds),\r\n","\r\n","\t    codeOut, p, newCode;\r\n","\r\n","\t    <span class=\"code-comment\">// save 2nd code to avoid calculating it on the next segment</span>\r\n","\t    _lastCode = codeB;\r\n","\r\n","\t<span class=\"code-keyword\">while</span> (<span class=\"code-literal\">true</span>) {\r\n","\t\t<span class=\"code-comment\">// if a,b is inside the clip window (trivial accept)</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!(codeA | codeB)) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> [a, b];\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// if a,b is outside the clip window (trivial reject)</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (codeA &amp; codeB) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// other cases</span>\r\n","\t\tcodeOut = codeA || codeB;\r\n","\t\tp = _getEdgeIntersection(a, b, codeOut, bounds, round);\r\n","\t\tnewCode = _getBitCode(p, bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (codeOut === codeA) {\r\n","\t\t\ta = p;\r\n","\t\t\tcodeA = newCode;\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tb = p;\r\n","\t\t\tcodeB = newCode;\r\n","\t\t}\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_getEdgeIntersection</span>(<span class=\"code-params\">a, b, code, bounds, round</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> dx = b.x - a.x,\r\n","\t    dy = b.y - a.y,\r\n","\t    min = bounds.min,\r\n","\t    max = bounds.max,\r\n","\t    x, y;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (code &amp; <span class=\"code-number\">8</span>) { <span class=\"code-comment\">// top</span>\r\n","\t\tx = a.x + dx * (max.y - a.y) / dy;\r\n","\t\ty = max.y;\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (code &amp; <span class=\"code-number\">4</span>) { <span class=\"code-comment\">// bottom</span>\r\n","\t\tx = a.x + dx * (min.y - a.y) / dy;\r\n","\t\ty = min.y;\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (code &amp; <span class=\"code-number\">2</span>) { <span class=\"code-comment\">// right</span>\r\n","\t\tx = max.x;\r\n","\t\ty = a.y + dy * (max.x - a.x) / dx;\r\n","\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (code &amp; <span class=\"code-number\">1</span>) { <span class=\"code-comment\">// left</span>\r\n","\t\tx = min.x;\r\n","\t\ty = a.y + dy * (min.x - a.x) / dx;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(x, y, round);\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_getBitCode</span>(<span class=\"code-params\">p, bounds</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> code = <span class=\"code-number\">0</span>;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (p.x &lt; bounds.min.x) { <span class=\"code-comment\">// left</span>\r\n","\t\tcode |= <span class=\"code-number\">1</span>;\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (p.x &gt; bounds.max.x) { <span class=\"code-comment\">// right</span>\r\n","\t\tcode |= <span class=\"code-number\">2</span>;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (p.y &lt; bounds.min.y) { <span class=\"code-comment\">// bottom</span>\r\n","\t\tcode |= <span class=\"code-number\">4</span>;\r\n","\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (p.y &gt; bounds.max.y) { <span class=\"code-comment\">// top</span>\r\n","\t\tcode |= <span class=\"code-number\">8</span>;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> code;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// square distance (to avoid unnecessary Math.sqrt calls)</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_sqDist</span>(<span class=\"code-params\">p1, p2</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> dx = p2.x - p1.x,\r\n","\t    dy = p2.y - p1.y;\r\n","\t<span class=\"code-keyword\">return</span> dx * dx + dy * dy;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// return closest point on segment or distance to that point</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_sqClosestPointOnSegment</span>(<span class=\"code-params\">p, p1, p2, sqDist</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> x = p1.x,\r\n","\t    y = p1.y,\r\n","\t    dx = p2.x - x,\r\n","\t    dy = p2.y - y,\r\n","\t    dot = dx * dx + dy * dy,\r\n","\t    t;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (dot &gt; <span class=\"code-number\">0</span>) {\r\n","\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (t &gt; <span class=\"code-number\">1</span>) {\r\n","\t\t\tx = p2.x;\r\n","\t\t\ty = p2.y;\r\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (t &gt; <span class=\"code-number\">0</span>) {\r\n","\t\t\tx += dx * t;\r\n","\t\t\ty += dy * t;\r\n","\t\t}\r\n","\t}\r\n","\r\n","\tdx = p.x - x;\r\n","\tdy = p.y - y;\r\n","\r\n","\t<span class=\"code-keyword\">return</span> sqDist ? dx * dx + dy * dy : <span class=\"code-keyword\">new</span> Point(x, y);\r\n","}\r\n","\r\n","\r\n","<span class=\"code-comment\">// @function isFlat(latlngs: LatLng[]): Boolean</span>\r\n","<span class=\"code-comment\">// Returns true if `latlngs` is a flat array, false is nested.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">isFlat</span>(<span class=\"code-params\">latlngs</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> !isArray(latlngs[<span class=\"code-number\">0</span>]) || (<span class=\"code-keyword\">typeof</span> latlngs[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>] !== <span class=\"code-string\">'object'</span> &amp;&amp; <span class=\"code-keyword\">typeof</span> latlngs[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>] !== <span class=\"code-string\">'undefined'</span>);\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_flat</span>(<span class=\"code-params\">latlngs</span>) </span>{\r\n","\t<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'Deprecated use of _flat, please use L.LineUtil.isFlat instead.'</span>);\r\n","\t<span class=\"code-keyword\">return</span> isFlat(latlngs);\r\n","}\n","\n","<span class=\"code-keyword\">var</span> LineUtil = {\n","  __proto__: <span class=\"code-literal\">null</span>,\n","  simplify: simplify,\n","  pointToSegmentDistance: pointToSegmentDistance,\n","  closestPointOnSegment: closestPointOnSegment,\n","  clipSegment: clipSegment,\n","  _getEdgeIntersection: _getEdgeIntersection,\n","  _getBitCode: _getBitCode,\n","  _sqClosestPointOnSegment: _sqClosestPointOnSegment,\n","  isFlat: isFlat,\n","  _flat: _flat\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace PolyUtil\r\n</span>","<span class=\"code-comment\"> * Various utility functions for polygon geometries.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">/* @function clipPolygon(points: Point[], bounds: Bounds, round?: Boolean): Point[]\r\n</span>","<span class=\"code-comment\"> * Clips the polygon geometry defined by the given `points` by the given bounds (using the [Sutherland-Hodgman algorithm](https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm)).\r\n</span>","<span class=\"code-comment\"> * Used by Leaflet to only show polygon points that are on the screen or near, increasing\r\n</span>","<span class=\"code-comment\"> * performance. Note that polygon points needs different algorithm for clipping\r\n</span>","<span class=\"code-comment\"> * than polyline, so there's a separate method for it.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">clipPolygon</span>(<span class=\"code-params\">points, bounds, round</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> clippedPoints,\r\n","\t    edges = [<span class=\"code-number\">1</span>, <span class=\"code-number\">4</span>, <span class=\"code-number\">2</span>, <span class=\"code-number\">8</span>],\r\n","\t    i, j, k,\r\n","\t    a, b,\r\n","\t    len, edge, p;\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = points.length; i &lt; len; i++) {\r\n","\t\tpoints[i]._code = _getBitCode(points[i], bounds);\r\n","\t}\r\n","\r\n","\t<span class=\"code-comment\">// for each edge (left, bottom, right, top)</span>\r\n","\t<span class=\"code-keyword\">for</span> (k = <span class=\"code-number\">0</span>; k &lt; <span class=\"code-number\">4</span>; k++) {\r\n","\t\tedge = edges[k];\r\n","\t\tclippedPoints = [];\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = points.length, j = len - <span class=\"code-number\">1</span>; i &lt; len; j = i++) {\r\n","\t\t\ta = points[i];\r\n","\t\t\tb = points[j];\r\n","\r\n","\t\t\t<span class=\"code-comment\">// if a is inside the clip window</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!(a._code &amp; edge)) {\r\n","\t\t\t\t<span class=\"code-comment\">// if b is outside the clip window (a-&gt;b goes out of screen)</span>\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (b._code &amp; edge) {\r\n","\t\t\t\t\tp = _getEdgeIntersection(b, a, edge, bounds, round);\r\n","\t\t\t\t\tp._code = _getBitCode(p, bounds);\r\n","\t\t\t\t\tclippedPoints.push(p);\r\n","\t\t\t\t}\r\n","\t\t\t\tclippedPoints.push(a);\r\n","\r\n","\t\t\t<span class=\"code-comment\">// else if b is inside the clip window (a-&gt;b enters the screen)</span>\r\n","\t\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (!(b._code &amp; edge)) {\r\n","\t\t\t\tp = _getEdgeIntersection(b, a, edge, bounds, round);\r\n","\t\t\t\tp._code = _getBitCode(p, bounds);\r\n","\t\t\t\tclippedPoints.push(p);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t\tpoints = clippedPoints;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> points;\r\n","}\n","\n","<span class=\"code-keyword\">var</span> PolyUtil = {\n","  __proto__: <span class=\"code-literal\">null</span>,\n","  clipPolygon: clipPolygon\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace Projection\r\n</span>","<span class=\"code-comment\"> * @section\r\n</span>","<span class=\"code-comment\"> * Leaflet comes with a set of already defined Projections out of the box:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @projection L.Projection.LonLat\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Equirectangular, or Plate Carree projection \u2014 the most simple projection,\r\n</span>","<span class=\"code-comment\"> * mostly used by GIS enthusiasts. Directly maps `x` as longitude, and `y` as\r\n</span>","<span class=\"code-comment\"> * latitude. Also suitable for flat worlds, e.g. game maps. Used by the\r\n</span>","<span class=\"code-comment\"> * `EPSG:4326` and `Simple` CRS.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> LonLat = {\r\n","\tproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(latlng.lng, latlng.lat);\r\n","\t},\r\n","\r\n","\tunproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(point.y, point.x);\r\n","\t},\r\n","\r\n","\tbounds: <span class=\"code-keyword\">new</span> Bounds([<span class=\"code-number\">-180</span>, <span class=\"code-number\">-90</span>], [<span class=\"code-number\">180</span>, <span class=\"code-number\">90</span>])\r\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace Projection\r\n</span>","<span class=\"code-comment\"> * @projection L.Projection.Mercator\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Elliptical Mercator projection \u2014 more complex than Spherical Mercator. Assumes that Earth is an ellipsoid. Used by the EPSG:3395 CRS.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Mercator = {\r\n","\tR: <span class=\"code-number\">6378137</span>,\r\n","\tR_MINOR: <span class=\"code-number\">6356752.314245179</span>,\r\n","\r\n","\tbounds: <span class=\"code-keyword\">new</span> Bounds([<span class=\"code-number\">-20037508.34279</span>, <span class=\"code-number\">-15496570.73972</span>], [<span class=\"code-number\">20037508.34279</span>, <span class=\"code-number\">18764656.23138</span>]),\r\n","\r\n","\tproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> d = <span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">180</span>,\r\n","\t\t    r = <span class=\"code-keyword\">this</span>.R,\r\n","\t\t    y = latlng.lat * d,\r\n","\t\t    tmp = <span class=\"code-keyword\">this</span>.R_MINOR / r,\r\n","\t\t    e = <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span> - tmp * tmp),\r\n","\t\t    con = e * <span class=\"code-built_in\">Math</span>.sin(y);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> ts = <span class=\"code-built_in\">Math</span>.tan(<span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">4</span> - y / <span class=\"code-number\">2</span>) / <span class=\"code-built_in\">Math</span>.pow((<span class=\"code-number\">1</span> - con) / (<span class=\"code-number\">1</span> + con), e / <span class=\"code-number\">2</span>);\r\n","\t\ty = -r * <span class=\"code-built_in\">Math</span>.log(<span class=\"code-built_in\">Math</span>.max(ts, <span class=\"code-number\">1E-10</span>));\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Point(latlng.lng * d * r, y);\r\n","\t},\r\n","\r\n","\tunproject: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">point</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> d = <span class=\"code-number\">180</span> / <span class=\"code-built_in\">Math</span>.PI,\r\n","\t\t    r = <span class=\"code-keyword\">this</span>.R,\r\n","\t\t    tmp = <span class=\"code-keyword\">this</span>.R_MINOR / r,\r\n","\t\t    e = <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span> - tmp * tmp),\r\n","\t\t    ts = <span class=\"code-built_in\">Math</span>.exp(-point.y / r),\r\n","\t\t    phi = <span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">2</span> - <span class=\"code-number\">2</span> * <span class=\"code-built_in\">Math</span>.atan(ts);\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, dphi = <span class=\"code-number\">0.1</span>, con; i &lt; <span class=\"code-number\">15</span> &amp;&amp; <span class=\"code-built_in\">Math</span>.abs(dphi) &gt; <span class=\"code-number\">1e-7</span>; i++) {\r\n","\t\t\tcon = e * <span class=\"code-built_in\">Math</span>.sin(phi);\r\n","\t\t\tcon = <span class=\"code-built_in\">Math</span>.pow((<span class=\"code-number\">1</span> - con) / (<span class=\"code-number\">1</span> + con), e / <span class=\"code-number\">2</span>);\r\n","\t\t\tdphi = <span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">2</span> - <span class=\"code-number\">2</span> * <span class=\"code-built_in\">Math</span>.atan(ts * con) - phi;\r\n","\t\t\tphi += dphi;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(phi * d, point.x * d / r);\r\n","\t}\r\n","};\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Projection\n</span>","<span class=\"code-comment\">\n</span>","<span class=\"code-comment\"> * An object with methods for projecting geographical coordinates of the world onto\n</span>","<span class=\"code-comment\"> * a flat surface (and back). See [Map projection](https://en.wikipedia.org/wiki/Map_projection).\n</span>","<span class=\"code-comment\">\n</span>","<span class=\"code-comment\"> * @property bounds: Bounds\n</span>","<span class=\"code-comment\"> * The bounds (specified in CRS units) where the projection is valid\n</span>","<span class=\"code-comment\">\n</span>","<span class=\"code-comment\"> * @method project(latlng: LatLng): Point\n</span>","<span class=\"code-comment\"> * Projects geographical coordinates into a 2D point.\n</span>","<span class=\"code-comment\"> * Only accepts actual `L.LatLng` instances, not arrays.\n</span>","<span class=\"code-comment\">\n</span>","<span class=\"code-comment\"> * @method unproject(point: Point): LatLng\n</span>","<span class=\"code-comment\"> * The inverse of `project`. Projects a 2D point into a geographical location.\n</span>","<span class=\"code-comment\"> * Only accepts actual `L.Point` instances, not arrays.\n</span>","<span class=\"code-comment\">\n</span>","<span class=\"code-comment\"> * Note that the projection instances do not inherit from Leaflet's `Class` object,\n</span>","<span class=\"code-comment\"> * and can't be instantiated. Also, new classes can't inherit from them,\n</span>","<span class=\"code-comment\"> * and methods can't be added to them with the `include` function.\n</span>","<span class=\"code-comment\">\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> index = {\n","  __proto__: <span class=\"code-literal\">null</span>,\n","  LonLat: LonLat,\n","  Mercator: Mercator,\n","  SphericalMercator: SphericalMercator\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace CRS\r\n</span>","<span class=\"code-comment\"> * @crs L.CRS.EPSG3395\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Rarely used by some commercial tile providers. Uses Elliptical Mercator projection.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","<span class=\"code-keyword\">var</span> EPSG3395 = extend({}, Earth, {\r\n","\tcode: <span class=\"code-string\">'EPSG:3395'</span>,\r\n","\tprojection: Mercator,\r\n","\r\n","\ttransformation: (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-number\">0.5</span> / (<span class=\"code-built_in\">Math</span>.PI * Mercator.R);\r\n","\t\t<span class=\"code-keyword\">return</span> toTransformation(scale, <span class=\"code-number\">0.5</span>, -scale, <span class=\"code-number\">0.5</span>);\r\n","\t}())\r\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace CRS\r\n</span>","<span class=\"code-comment\"> * @crs L.CRS.EPSG4326\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A common CRS among GIS enthusiasts. Uses simple Equirectangular projection.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Leaflet 1.0.x complies with the [TMS coordinate scheme for EPSG:4326](https://wiki.osgeo.org/wiki/Tile_Map_Service_Specification#global-geodetic),\r\n</span>","<span class=\"code-comment\"> * which is a breaking change from 0.7.x behaviour.  If you are using a `TileLayer`\r\n</span>","<span class=\"code-comment\"> * with this CRS, ensure that there are two 256x256 pixel tiles covering the\r\n</span>","<span class=\"code-comment\"> * whole earth at zoom level zero, and that the tile coordinate origin is (-180,+90),\r\n</span>","<span class=\"code-comment\"> * or (-180,-90) for `TileLayer`s with [the `tms` option](#tilelayer-tms) set.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> EPSG4326 = extend({}, Earth, {\r\n","\tcode: <span class=\"code-string\">'EPSG:4326'</span>,\r\n","\tprojection: LonLat,\r\n","\ttransformation: toTransformation(<span class=\"code-number\">1</span> / <span class=\"code-number\">180</span>, <span class=\"code-number\">1</span>, <span class=\"code-number\">-1</span> / <span class=\"code-number\">180</span>, <span class=\"code-number\">0.5</span>)\r\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @namespace CRS\n</span>","<span class=\"code-comment\"> * @crs L.CRS.Simple\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A simple CRS that maps longitude and latitude into `x` and `y` directly.\n</span>","<span class=\"code-comment\"> * May be used for maps of flat surfaces (e.g. game maps). Note that the `y`\n</span>","<span class=\"code-comment\"> * axis should still be inverted (going from bottom to top). `distance()` returns\n</span>","<span class=\"code-comment\"> * simple euclidean distance.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Simple = extend({}, CRS, {\n","\tprojection: LonLat,\n","\ttransformation: toTransformation(<span class=\"code-number\">1</span>, <span class=\"code-number\">0</span>, <span class=\"code-number\">-1</span>, <span class=\"code-number\">0</span>),\n","\n","\tscale: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>, zoom);\n","\t},\n","\n","\tzoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">scale</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.log(scale) / <span class=\"code-built_in\">Math</span>.LN2;\n","\t},\n","\n","\tdistance: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng1, latlng2</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> dx = latlng2.lng - latlng1.lng,\n","\t\t    dy = latlng2.lat - latlng1.lat;\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(dx * dx + dy * dy);\n","\t},\n","\n","\tinfinite: <span class=\"code-literal\">true</span>\n","});\n","\n","CRS.Earth = Earth;\n","CRS.EPSG3395 = EPSG3395;\n","CRS.EPSG3857 = EPSG3857;\n","CRS.EPSG900913 = EPSG900913;\n","CRS.EPSG4326 = EPSG4326;\n","CRS.Simple = Simple;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Layer\n</span>","<span class=\"code-comment\"> * @inherits Evented\n</span>","<span class=\"code-comment\"> * @aka L.Layer\n</span>","<span class=\"code-comment\"> * @aka ILayer\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A set of methods from the Layer base class that all Leaflet layers use.\n</span>","<span class=\"code-comment\"> * Inherits all methods, options and events from `L.Evented`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var layer = L.marker(latlng).addTo(map);\n</span>","<span class=\"code-comment\"> * layer.addTo(map);\n</span>","<span class=\"code-comment\"> * layer.remove();\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @event add: Event\n</span>","<span class=\"code-comment\"> * Fired after the layer is added to a map\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @event remove: Event\n</span>","<span class=\"code-comment\"> * Fired after the layer is removed from a map\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-keyword\">var</span> Layer = Evented.extend({\n","\n","\t<span class=\"code-comment\">// Classes extending `L.Layer` will inherit the following options:</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option pane: String = 'overlayPane'</span>\n","\t\t<span class=\"code-comment\">// By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.</span>\n","\t\tpane: <span class=\"code-string\">'overlayPane'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option attribution: String = null</span>\n","\t\t<span class=\"code-comment\">// String to be shown in the attribution control, e.g. \"\u00A9 OpenStreetMap contributors\". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.</span>\n","\t\tattribution: <span class=\"code-literal\">null</span>,\n","\n","\t\tbubblingMouseEvents: <span class=\"code-literal\">true</span>\n","\t},\n","\n","\t<span class=\"code-comment\">/* @section\n</span>","<span class=\"code-comment\">\t * Classes extending `L.Layer` will inherit the following methods:\n</span>","<span class=\"code-comment\">\t *\n</span>","<span class=\"code-comment\">\t * @method addTo(map: Map|LayerGroup): this\n</span>","<span class=\"code-comment\">\t * Adds the layer to the given map or layer group.\n</span>","<span class=\"code-comment\">\t */</span>\n","\taddTo: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\tmap.addLayer(<span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method remove: this</span>\n","\t<span class=\"code-comment\">// Removes the layer from the map it is currently active on.</span>\n","\tremove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.removeFrom(<span class=\"code-keyword\">this</span>._map || <span class=\"code-keyword\">this</span>._mapToAdd);\n","\t},\n","\n","\t<span class=\"code-comment\">// @method removeFrom(map: Map): this</span>\n","\t<span class=\"code-comment\">// Removes the layer from the given map</span>\n","\t<span class=\"code-comment\">//</span>\n","\t<span class=\"code-comment\">// @alternative</span>\n","\t<span class=\"code-comment\">// @method removeFrom(group: LayerGroup): this</span>\n","\t<span class=\"code-comment\">// Removes the layer from the given `LayerGroup`</span>\n","\tremoveFrom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">obj</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (obj) {\n","\t\t\tobj.removeLayer(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getPane(name? : String): HTMLElement</span>\n","\t<span class=\"code-comment\">// Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.</span>\n","\tgetPane: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._map.getPane(name ? (<span class=\"code-keyword\">this</span>.options[name] || name) : <span class=\"code-keyword\">this</span>.options.pane);\n","\t},\n","\n","\taddInteractiveTarget: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">targetEl</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map._targets[stamp(targetEl)] = <span class=\"code-keyword\">this</span>;\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\tremoveInteractiveTarget: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">targetEl</span>) </span>{\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._map._targets[stamp(targetEl)];\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getAttribution: String</span>\n","\t<span class=\"code-comment\">// Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).</span>\n","\tgetAttribution: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.attribution;\n","\t},\n","\n","\t_layerAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = e.target;\n","\n","\t\t<span class=\"code-comment\">// check in case layer gets added and then removed before the map is ready</span>\n","\t\t<span class=\"code-keyword\">if</span> (!map.hasLayer(<span class=\"code-keyword\">this</span>)) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._map = map;\n","\t\t<span class=\"code-keyword\">this</span>._zoomAnimated = map._zoomAnimated;\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.getEvents) {\n","\t\t\t<span class=\"code-keyword\">var</span> events = <span class=\"code-keyword\">this</span>.getEvents();\n","\t\t\tmap.on(events, <span class=\"code-keyword\">this</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>.once(<span class=\"code-string\">'remove'</span>, <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t\t\tmap.off(events, <span class=\"code-keyword\">this</span>);\n","\t\t\t}, <span class=\"code-keyword\">this</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>.onAdd(map);\n","\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'add'</span>);\n","\t\tmap.fire(<span class=\"code-string\">'layeradd'</span>, {<span class=\"code-attr\">layer</span>: <span class=\"code-keyword\">this</span>});\n","\t}\n","});\n","\n","<span class=\"code-comment\">/* @section Extension methods\n</span>","<span class=\"code-comment\"> * @uninheritable\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Every layer should extend from `L.Layer` and (re-)implement the following methods.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @method onAdd(map: Map): this\n</span>","<span class=\"code-comment\"> * Should contain code that creates DOM elements for the layer, adds them to `map panes` where they should belong and puts listeners on relevant map events. Called on [`map.addLayer(layer)`](#map-addlayer).\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @method onRemove(map: Map): this\n</span>","<span class=\"code-comment\"> * Should contain all clean up code that removes the layer's elements from the DOM and removes listeners previously added in [`onAdd`](#layer-onadd). Called on [`map.removeLayer(layer)`](#map-removelayer).\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @method getEvents(): Object\n</span>","<span class=\"code-comment\"> * This optional method should return an object like `{ viewreset: this._reset }` for [`addEventListener`](#evented-addeventlistener). The event handlers in this object will be automatically added and removed from the map with your layer.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @method getAttribution(): String\n</span>","<span class=\"code-comment\"> * This optional method should return a string containing HTML to be shown on the `Attribution control` whenever the layer is visible.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @method beforeAdd(map: Map): this\n</span>","<span class=\"code-comment\"> * Optional method. Called on [`map.addLayer(layer)`](#map-addlayer), before the layer is added to the map, before events are initialized, without waiting until the map is in a usable state. Use for early initialization only.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-comment\">/* @namespace Map\n</span>","<span class=\"code-comment\"> * @section Layer events\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @event layeradd: LayerEvent\n</span>","<span class=\"code-comment\"> * Fired when a new layer is added to the map.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @event layerremove: LayerEvent\n</span>","<span class=\"code-comment\"> * Fired when some layer is removed from the map\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @section Methods for Layers and Controls\n</span>","<span class=\"code-comment\"> */</span>\n","<span class=\"code-built_in\">Map</span>.include({\n","\t<span class=\"code-comment\">// @method addLayer(layer: Layer): this</span>\n","\t<span class=\"code-comment\">// Adds the given layer to the map</span>\n","\taddLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!layer._layerAdd) {\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'The provided object is not a Layer.'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> id = stamp(layer);\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._layers[id]) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\n","\t\t<span class=\"code-keyword\">this</span>._layers[id] = layer;\n","\n","\t\tlayer._mapToAdd = <span class=\"code-keyword\">this</span>;\n","\n","\t\t<span class=\"code-keyword\">if</span> (layer.beforeAdd) {\n","\t\t\tlayer.beforeAdd(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>.whenReady(layer._layerAdd, layer);\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method removeLayer(layer: Layer): this</span>\n","\t<span class=\"code-comment\">// Removes the given layer from the map.</span>\n","\tremoveLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> id = stamp(layer);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._layers[id]) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded) {\n","\t\t\tlayer.onRemove(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._layers[id];\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._loaded) {\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'layerremove'</span>, {<span class=\"code-attr\">layer</span>: layer});\n","\t\t\tlayer.fire(<span class=\"code-string\">'remove'</span>);\n","\t\t}\n","\n","\t\tlayer._map = layer._mapToAdd = <span class=\"code-literal\">null</span>;\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method hasLayer(layer: Layer): Boolean</span>\n","\t<span class=\"code-comment\">// Returns `true` if the given layer is currently added to the map</span>\n","\thasLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> stamp(layer) <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers;\n","\t},\n","\n","\t<span class=\"code-comment\">/* @method eachLayer(fn: Function, context?: Object): this\n</span>","<span class=\"code-comment\">\t * Iterates over the layers of the map, optionally specifying context of the iterator function.\n</span>","<span class=\"code-comment\">\t * ```\n</span>","<span class=\"code-comment\">\t * map.eachLayer(function(layer){\n</span>","<span class=\"code-comment\">\t *     layer.bindPopup('Hello');\n</span>","<span class=\"code-comment\">\t * });\n</span>","<span class=\"code-comment\">\t * ```\n</span>","<span class=\"code-comment\">\t */</span>\n","\teachLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">method, context</span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\n","\t\t\tmethod.call(context, <span class=\"code-keyword\">this</span>._layers[i]);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t_addLayers: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layers</span>) </span>{\n","\t\tlayers = layers ? (isArray(layers) ? layers : [layers]) : [];\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = layers.length; i &lt; len; i++) {\n","\t\t\t<span class=\"code-keyword\">this</span>.addLayer(layers[i]);\n","\t\t}\n","\t},\n","\n","\t_addZoomLimit: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-built_in\">isNaN</span>(layer.options.maxZoom) || !<span class=\"code-built_in\">isNaN</span>(layer.options.minZoom)) {\n","\t\t\t<span class=\"code-keyword\">this</span>._zoomBoundLayers[stamp(layer)] = layer;\n","\t\t\t<span class=\"code-keyword\">this</span>._updateZoomLevels();\n","\t\t}\n","\t},\n","\n","\t_removeZoomLimit: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> id = stamp(layer);\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomBoundLayers[id]) {\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._zoomBoundLayers[id];\n","\t\t\t<span class=\"code-keyword\">this</span>._updateZoomLevels();\n","\t\t}\n","\t},\n","\n","\t_updateZoomLevels: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> minZoom = <span class=\"code-literal\">Infinity</span>,\n","\t\t    maxZoom = -<span class=\"code-literal\">Infinity</span>,\n","\t\t    oldZoomSpan = <span class=\"code-keyword\">this</span>._getZoomSpan();\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._zoomBoundLayers) {\n","\t\t\t<span class=\"code-keyword\">var</span> options = <span class=\"code-keyword\">this</span>._zoomBoundLayers[i].options;\n","\n","\t\t\tminZoom = options.minZoom === <span class=\"code-literal\">undefined</span> ? minZoom : <span class=\"code-built_in\">Math</span>.min(minZoom, options.minZoom);\n","\t\t\tmaxZoom = options.maxZoom === <span class=\"code-literal\">undefined</span> ? maxZoom : <span class=\"code-built_in\">Math</span>.max(maxZoom, options.maxZoom);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._layersMaxZoom = maxZoom === -<span class=\"code-literal\">Infinity</span> ? <span class=\"code-literal\">undefined</span> : maxZoom;\n","\t\t<span class=\"code-keyword\">this</span>._layersMinZoom = minZoom === <span class=\"code-literal\">Infinity</span> ? <span class=\"code-literal\">undefined</span> : minZoom;\n","\n","\t\t<span class=\"code-comment\">// @section Map state change events</span>\n","\t\t<span class=\"code-comment\">// @event zoomlevelschange: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the number of zoomlevels on the map is changed due</span>\n","\t\t<span class=\"code-comment\">// to adding or removing a layer.</span>\n","\t\t<span class=\"code-keyword\">if</span> (oldZoomSpan !== <span class=\"code-keyword\">this</span>._getZoomSpan()) {\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'zoomlevelschange'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.maxZoom === <span class=\"code-literal\">undefined</span> &amp;&amp; <span class=\"code-keyword\">this</span>._layersMaxZoom &amp;&amp; <span class=\"code-keyword\">this</span>.getZoom() &gt; <span class=\"code-keyword\">this</span>._layersMaxZoom) {\n","\t\t\t<span class=\"code-keyword\">this</span>.setZoom(<span class=\"code-keyword\">this</span>._layersMaxZoom);\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.minZoom === <span class=\"code-literal\">undefined</span> &amp;&amp; <span class=\"code-keyword\">this</span>._layersMinZoom &amp;&amp; <span class=\"code-keyword\">this</span>.getZoom() &lt; <span class=\"code-keyword\">this</span>._layersMinZoom) {\n","\t\t\t<span class=\"code-keyword\">this</span>.setZoom(<span class=\"code-keyword\">this</span>._layersMinZoom);\n","\t\t}\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class LayerGroup\r\n</span>","<span class=\"code-comment\"> * @aka L.LayerGroup\r\n</span>","<span class=\"code-comment\"> * @inherits Interactive layer\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Used to group several layers and handle them as one. If you add it to the map,\r\n</span>","<span class=\"code-comment\"> * any layers added or removed from the group will be added/removed on the map as\r\n</span>","<span class=\"code-comment\"> * well. Extends `Layer`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * L.layerGroup([marker1, marker2])\r\n</span>","<span class=\"code-comment\"> * \t.addLayer(polyline)\r\n</span>","<span class=\"code-comment\"> * \t.addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> LayerGroup = Layer.extend({\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layers, options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layers = {};\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> i, len;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (layers) {\r\n","\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = layers.length; i &lt; len; i++) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.addLayer(layers[i]);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addLayer(layer: Layer): this</span>\r\n","\t<span class=\"code-comment\">// Adds the given layer to the group.</span>\r\n","\taddLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> id = <span class=\"code-keyword\">this</span>.getLayerId(layer);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layers[id] = layer;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.addLayer(layer);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method removeLayer(layer: Layer): this</span>\r\n","\t<span class=\"code-comment\">// Removes the given layer from the group.</span>\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method removeLayer(id: Number): this</span>\r\n","\t<span class=\"code-comment\">// Removes the layer with the given internal ID from the group.</span>\r\n","\tremoveLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> id = layer <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers ? layer : <span class=\"code-keyword\">this</span>.getLayerId(layer);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map &amp;&amp; <span class=\"code-keyword\">this</span>._layers[id]) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.removeLayer(<span class=\"code-keyword\">this</span>._layers[id]);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._layers[id];\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method hasLayer(layer: Layer): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the given layer is currently added to the group.</span>\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method hasLayer(id: Number): Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the given internal ID is currently added to the group.</span>\r\n","\thasLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> layerId = <span class=\"code-keyword\">typeof</span> layer === <span class=\"code-string\">'number'</span> ? layer : <span class=\"code-keyword\">this</span>.getLayerId(layer);\r\n","\t\t<span class=\"code-keyword\">return</span> layerId <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method clearLayers(): this</span>\r\n","\t<span class=\"code-comment\">// Removes all the layers from the group.</span>\r\n","\tclearLayers: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.eachLayer(<span class=\"code-keyword\">this</span>.removeLayer, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method invoke(methodName: String, \u2026): this</span>\r\n","\t<span class=\"code-comment\">// Calls `methodName` on every layer contained in this group, passing any</span>\r\n","\t<span class=\"code-comment\">// additional parameters. Has no effect if the layers contained do not</span>\r\n","\t<span class=\"code-comment\">// implement `methodName`.</span>\r\n","\tinvoke: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">methodName</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> args = <span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>, <span class=\"code-number\">1</span>),\r\n","\t\t    i, layer;\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\r\n","\t\t\tlayer = <span class=\"code-keyword\">this</span>._layers[i];\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (layer[methodName]) {\r\n","\t\t\t\tlayer[methodName].apply(layer, args);\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.eachLayer(map.addLayer, map);\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.eachLayer(map.removeLayer, map);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method eachLayer(fn: Function, context?: Object): this</span>\r\n","\t<span class=\"code-comment\">// Iterates over the layers of the group, optionally specifying context of the iterator function.</span>\r\n","\t<span class=\"code-comment\">// ```js</span>\r\n","\t<span class=\"code-comment\">// group.eachLayer(function (layer) {</span>\r\n","\t<span class=\"code-comment\">// \tlayer.bindPopup('Hello');</span>\r\n","\t<span class=\"code-comment\">// });</span>\r\n","\t<span class=\"code-comment\">// ```</span>\r\n","\teachLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">method, context</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\r\n","\t\t\tmethod.call(context, <span class=\"code-keyword\">this</span>._layers[i]);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getLayer(id: Number): Layer</span>\r\n","\t<span class=\"code-comment\">// Returns the layer with the given internal ID.</span>\r\n","\tgetLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">id</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._layers[id];\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getLayers(): Layer[]</span>\r\n","\t<span class=\"code-comment\">// Returns an array of all the layers added to the group.</span>\r\n","\tgetLayers: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> layers = [];\r\n","\t\t<span class=\"code-keyword\">this</span>.eachLayer(layers.push, layers);\r\n","\t\t<span class=\"code-keyword\">return</span> layers;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setZIndex(zIndex: Number): this</span>\r\n","\t<span class=\"code-comment\">// Calls `setZIndex` on every layer contained in this group, passing the z-index.</span>\r\n","\tsetZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zIndex</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.invoke(<span class=\"code-string\">'setZIndex'</span>, zIndex);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getLayerId(layer: Layer): Number</span>\r\n","\t<span class=\"code-comment\">// Returns the internal ID for a layer</span>\r\n","\tgetLayerId: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> stamp(layer);\r\n","\t}\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.layerGroup(layers?: Layer[], options?: Object)</span>\r\n","<span class=\"code-comment\">// Create a layer group, optionally given an initial set of layers and an `options` object.</span>\r\n","<span class=\"code-keyword\">var</span> layerGroup = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layers, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LayerGroup(layers, options);\r\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class FeatureGroup\r\n</span>","<span class=\"code-comment\"> * @aka L.FeatureGroup\r\n</span>","<span class=\"code-comment\"> * @inherits LayerGroup\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Extended `LayerGroup` that makes it easier to do the same thing to all its member layers:\r\n</span>","<span class=\"code-comment\"> *  * [`bindPopup`](#layer-bindpopup) binds a popup to all of the layers at once (likewise with [`bindTooltip`](#layer-bindtooltip))\r\n</span>","<span class=\"code-comment\"> *  * Events are propagated to the `FeatureGroup`, so if the group has an event\r\n</span>","<span class=\"code-comment\"> * handler, it will handle events from any of the layers. This includes mouse events\r\n</span>","<span class=\"code-comment\"> * and custom events.\r\n</span>","<span class=\"code-comment\"> *  * Has `layeradd` and `layerremove` events\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * L.featureGroup([marker1, marker2, polyline])\r\n</span>","<span class=\"code-comment\"> * \t.bindPopup('Hello world!')\r\n</span>","<span class=\"code-comment\"> * \t.on('click', function() { alert('Clicked on a member of the group!'); })\r\n</span>","<span class=\"code-comment\"> * \t.addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> FeatureGroup = LayerGroup.extend({\r\n","\r\n","\taddLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.hasLayer(layer)) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\tlayer.addEventParent(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\tLayerGroup.prototype.addLayer.call(<span class=\"code-keyword\">this</span>, layer);\r\n","\r\n","\t\t<span class=\"code-comment\">// @event layeradd: LayerEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when a layer is added to this `FeatureGroup`</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'layeradd'</span>, {<span class=\"code-attr\">layer</span>: layer});\r\n","\t},\r\n","\r\n","\tremoveLayer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.hasLayer(layer)) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (layer <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\r\n","\t\t\tlayer = <span class=\"code-keyword\">this</span>._layers[layer];\r\n","\t\t}\r\n","\r\n","\t\tlayer.removeEventParent(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\tLayerGroup.prototype.removeLayer.call(<span class=\"code-keyword\">this</span>, layer);\r\n","\r\n","\t\t<span class=\"code-comment\">// @event layerremove: LayerEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when a layer is removed from this `FeatureGroup`</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'layerremove'</span>, {<span class=\"code-attr\">layer</span>: layer});\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setStyle(style: Path options): this</span>\r\n","\t<span class=\"code-comment\">// Sets the given path options to each layer of the group that has a `setStyle` method.</span>\r\n","\tsetStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">style</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.invoke(<span class=\"code-string\">'setStyle'</span>, style);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method bringToFront(): this</span>\r\n","\t<span class=\"code-comment\">// Brings the layer group to the top of all other layers</span>\r\n","\tbringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.invoke(<span class=\"code-string\">'bringToFront'</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method bringToBack(): this</span>\r\n","\t<span class=\"code-comment\">// Brings the layer group to the back of all other layers</span>\r\n","\tbringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.invoke(<span class=\"code-string\">'bringToBack'</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getBounds(): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).</span>\r\n","\tgetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">new</span> LatLngBounds();\r\n","\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> layer = <span class=\"code-keyword\">this</span>._layers[id];\r\n","\t\t\tbounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> bounds;\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @factory L.featureGroup(layers?: Layer[], options?: Object)</span>\r\n","<span class=\"code-comment\">// Create a feature group, optionally given an initial set of layers and an `options` object.</span>\r\n","<span class=\"code-keyword\">var</span> featureGroup = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layers, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> FeatureGroup(layers, options);\r\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Icon\r\n</span>","<span class=\"code-comment\"> * @aka L.Icon\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents an icon to provide when creating a marker.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var myIcon = L.icon({\r\n</span>","<span class=\"code-comment\"> *     iconUrl: 'my-icon.png',\r\n</span>","<span class=\"code-comment\"> *     iconRetinaUrl: 'my-icon@2x.png',\r\n</span>","<span class=\"code-comment\"> *     iconSize: [38, 95],\r\n</span>","<span class=\"code-comment\"> *     iconAnchor: [22, 94],\r\n</span>","<span class=\"code-comment\"> *     popupAnchor: [-3, -76],\r\n</span>","<span class=\"code-comment\"> *     shadowUrl: 'my-icon-shadow.png',\r\n</span>","<span class=\"code-comment\"> *     shadowRetinaUrl: 'my-icon-shadow@2x.png',\r\n</span>","<span class=\"code-comment\"> *     shadowSize: [68, 95],\r\n</span>","<span class=\"code-comment\"> *     shadowAnchor: [22, 94]\r\n</span>","<span class=\"code-comment\"> * });\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * `L.Icon.Default` extends `L.Icon` and is the blue icon Leaflet uses for markers by default.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Icon = Class.extend({\r\n","\r\n","\t<span class=\"code-comment\">/* @section\r\n</span>","<span class=\"code-comment\">\t * @aka Icon options\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option iconUrl: String = null\r\n</span>","<span class=\"code-comment\">\t * **(required)** The URL to the icon image (absolute or relative to your script path).\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option iconRetinaUrl: String = null\r\n</span>","<span class=\"code-comment\">\t * The URL to a retina sized version of the icon image (absolute or relative to your\r\n</span>","<span class=\"code-comment\">\t * script path). Used for Retina screen devices.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option iconSize: Point = null\r\n</span>","<span class=\"code-comment\">\t * Size of the icon image in pixels.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option iconAnchor: Point = null\r\n</span>","<span class=\"code-comment\">\t * The coordinates of the \"tip\" of the icon (relative to its top left corner). The icon\r\n</span>","<span class=\"code-comment\">\t * will be aligned so that this point is at the marker's geographical location. Centered\r\n</span>","<span class=\"code-comment\">\t * by default if size is specified, also can be set in CSS with negative margins.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option popupAnchor: Point = [0, 0]\r\n</span>","<span class=\"code-comment\">\t * The coordinates of the point from which popups will \"open\", relative to the icon anchor.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option tooltipAnchor: Point = [0, 0]\r\n</span>","<span class=\"code-comment\">\t * The coordinates of the point from which tooltips will \"open\", relative to the icon anchor.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option shadowUrl: String = null\r\n</span>","<span class=\"code-comment\">\t * The URL to the icon shadow image. If not specified, no shadow image will be created.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option shadowRetinaUrl: String = null\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option shadowSize: Point = null\r\n</span>","<span class=\"code-comment\">\t * Size of the shadow image in pixels.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option shadowAnchor: Point = null\r\n</span>","<span class=\"code-comment\">\t * The coordinates of the \"tip\" of the shadow (relative to its top left corner) (the same\r\n</span>","<span class=\"code-comment\">\t * as iconAnchor if not specified).\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option className: String = ''\r\n</span>","<span class=\"code-comment\">\t * A custom class name to assign to both icon and shadow images. Empty by default.\r\n</span>","<span class=\"code-comment\">\t */</span>\r\n","\r\n","\toptions: {\r\n","\t\tpopupAnchor: [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>],\r\n","\t\ttooltipAnchor: [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>],\r\n","\r\n","\t\t<span class=\"code-comment\">// @option crossOrigin: Boolean|String = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether the crossOrigin attribute will be added to the tiles.</span>\r\n","\t\t<span class=\"code-comment\">// If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.</span>\r\n","\t\t<span class=\"code-comment\">// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.</span>\r\n","\t\tcrossOrigin: <span class=\"code-literal\">false</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method createIcon(oldIcon?: HTMLElement): HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Called internally when the icon has to be shown, returns a `&lt;img&gt;` HTML element</span>\r\n","\t<span class=\"code-comment\">// styled according to the options.</span>\r\n","\tcreateIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">oldIcon</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._createIcon(<span class=\"code-string\">'icon'</span>, oldIcon);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method createShadow(oldIcon?: HTMLElement): HTMLElement</span>\r\n","\t<span class=\"code-comment\">// As `createIcon`, but for the shadow beneath it.</span>\r\n","\tcreateShadow: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">oldIcon</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._createIcon(<span class=\"code-string\">'shadow'</span>, oldIcon);\r\n","\t},\r\n","\r\n","\t_createIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name, oldIcon</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> src = <span class=\"code-keyword\">this</span>._getIconUrl(name);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!src) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (name === <span class=\"code-string\">'icon'</span>) {\r\n","\t\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'iconUrl not set in Icon options (see the docs).'</span>);\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> img = <span class=\"code-keyword\">this</span>._createImg(src, oldIcon &amp;&amp; oldIcon.tagName === <span class=\"code-string\">'IMG'</span> ? oldIcon : <span class=\"code-literal\">null</span>);\r\n","\t\t<span class=\"code-keyword\">this</span>._setIconStyles(img, name);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.crossOrigin || <span class=\"code-keyword\">this</span>.options.crossOrigin === <span class=\"code-string\">''</span>) {\r\n","\t\t\timg.crossOrigin = <span class=\"code-keyword\">this</span>.options.crossOrigin === <span class=\"code-literal\">true</span> ? <span class=\"code-string\">''</span> : <span class=\"code-keyword\">this</span>.options.crossOrigin;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> img;\r\n","\t},\r\n","\r\n","\t_setIconStyles: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">img, name</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> options = <span class=\"code-keyword\">this</span>.options;\r\n","\t\t<span class=\"code-keyword\">var</span> sizeOption = options[name + <span class=\"code-string\">'Size'</span>];\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> sizeOption === <span class=\"code-string\">'number'</span>) {\r\n","\t\t\tsizeOption = [sizeOption, sizeOption];\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> size = toPoint(sizeOption),\r\n","\t\t    anchor = toPoint(name === <span class=\"code-string\">'shadow'</span> &amp;&amp; options.shadowAnchor || options.iconAnchor ||\r\n","\t\t            size &amp;&amp; size.divideBy(<span class=\"code-number\">2</span>, <span class=\"code-literal\">true</span>));\r\n","\r\n","\t\timg.className = <span class=\"code-string\">'leaflet-marker-'</span> + name + <span class=\"code-string\">' '</span> + (options.className || <span class=\"code-string\">''</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (anchor) {\r\n","\t\t\timg.style.marginLeft = (-anchor.x) + <span class=\"code-string\">'px'</span>;\r\n","\t\t\timg.style.marginTop  = (-anchor.y) + <span class=\"code-string\">'px'</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (size) {\r\n","\t\t\timg.style.width  = size.x + <span class=\"code-string\">'px'</span>;\r\n","\t\t\timg.style.height = size.y + <span class=\"code-string\">'px'</span>;\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_createImg: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">src, el</span>) </span>{\r\n","\t\tel = el || <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'img'</span>);\r\n","\t\tel.src = src;\r\n","\t\t<span class=\"code-keyword\">return</span> el;\r\n","\t},\r\n","\r\n","\t_getIconUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> Browser.retina &amp;&amp; <span class=\"code-keyword\">this</span>.options[name + <span class=\"code-string\">'RetinaUrl'</span>] || <span class=\"code-keyword\">this</span>.options[name + <span class=\"code-string\">'Url'</span>];\r\n","\t}\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.icon(options: Icon options)</span>\r\n","<span class=\"code-comment\">// Creates an icon instance with the given options.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">icon</span>(<span class=\"code-params\">options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Icon(options);\r\n","}\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @miniclass Icon.Default (Icon)\n</span>","<span class=\"code-comment\"> * @aka L.Icon.Default\n</span>","<span class=\"code-comment\"> * @section\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A trivial subclass of `Icon`, represents the icon to use in `Marker`s when\n</span>","<span class=\"code-comment\"> * no icon is specified. Points to the blue marker image distributed with Leaflet\n</span>","<span class=\"code-comment\"> * releases.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * In order to customize the default icon, just change the properties of `L.Icon.Default.prototype.options`\n</span>","<span class=\"code-comment\"> * (which is a set of `Icon options`).\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * If you want to _completely_ replace the default icon, override the\n</span>","<span class=\"code-comment\"> * `L.Marker.prototype.options.icon` with your own icon instead.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> IconDefault = Icon.extend({\n","\n","\toptions: {\n","\t\ticonUrl:       <span class=\"code-string\">'marker-icon.png'</span>,\n","\t\ticonRetinaUrl: <span class=\"code-string\">'marker-icon-2x.png'</span>,\n","\t\tshadowUrl:     <span class=\"code-string\">'marker-shadow.png'</span>,\n","\t\ticonSize:    [<span class=\"code-number\">25</span>, <span class=\"code-number\">41</span>],\n","\t\ticonAnchor:  [<span class=\"code-number\">12</span>, <span class=\"code-number\">41</span>],\n","\t\tpopupAnchor: [<span class=\"code-number\">1</span>, <span class=\"code-number\">-34</span>],\n","\t\ttooltipAnchor: [<span class=\"code-number\">16</span>, <span class=\"code-number\">-28</span>],\n","\t\tshadowSize:  [<span class=\"code-number\">41</span>, <span class=\"code-number\">41</span>]\n","\t},\n","\n","\t_getIconUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> IconDefault.imagePath !== <span class=\"code-string\">'string'</span>) {\t<span class=\"code-comment\">// Deprecated, backwards-compatibility only</span>\n","\t\t\tIconDefault.imagePath = <span class=\"code-keyword\">this</span>._detectIconPath();\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// @option imagePath: String</span>\n","\t\t<span class=\"code-comment\">// `Icon.Default` will try to auto-detect the location of the</span>\n","\t\t<span class=\"code-comment\">// blue icon images. If you are placing these images in a non-standard</span>\n","\t\t<span class=\"code-comment\">// way, set this option to point to the right path.</span>\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>.options.imagePath || IconDefault.imagePath) + Icon.prototype._getIconUrl.call(<span class=\"code-keyword\">this</span>, name);\n","\t},\n","\n","\t_stripUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">path</span>) </span>{\t<span class=\"code-comment\">// separate function to use in tests</span>\n","\t\t<span class=\"code-keyword\">var</span> strip = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">str, re, idx</span>) </span>{\n","\t\t\t<span class=\"code-keyword\">var</span> match = re.exec(str);\n","\t\t\t<span class=\"code-keyword\">return</span> match &amp;&amp; match[idx];\n","\t\t};\n","\t\tpath = strip(path, /^url\\((['\"])?(.+)\\1\\)$/, 2);\n","\t\t<span class=\"code-keyword\">return</span> path &amp;&amp; strip(path, /^(.*)marker-icon\\.png$/, <span class=\"code-number\">1</span>);\n","\t},\n","\n","\t_detectIconPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> el = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>,  <span class=\"code-string\">'leaflet-default-icon-path'</span>, <span class=\"code-built_in\">document</span>.body);\n","\t\t<span class=\"code-keyword\">var</span> path = getStyle(el, <span class=\"code-string\">'background-image'</span>) ||\n","\t\t           getStyle(el, <span class=\"code-string\">'backgroundImage'</span>);\t<span class=\"code-comment\">// IE8</span>\n","\n","\t\t<span class=\"code-built_in\">document</span>.body.removeChild(el);\n","\t\tpath = <span class=\"code-keyword\">this</span>._stripUrl(path);\n","\t\t<span class=\"code-keyword\">if</span> (path) { <span class=\"code-keyword\">return</span> path; }\n","\t\t<span class=\"code-keyword\">var</span> link = <span class=\"code-built_in\">document</span>.querySelector(<span class=\"code-string\">'link[href$=\"leaflet.css\"]'</span>);\n","\t\t<span class=\"code-keyword\">if</span> (!link) { <span class=\"code-keyword\">return</span> <span class=\"code-string\">''</span>; }\n","\t\t<span class=\"code-keyword\">return</span> link.href.substring(<span class=\"code-number\">0</span>, link.href.length - <span class=\"code-string\">'leaflet.css'</span>.length - <span class=\"code-number\">1</span>);\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-comment\">/* @namespace Marker\n</span>","<span class=\"code-comment\"> * @section Interaction handlers\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * marker.dragging.disable();\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @property dragging: Handler\n</span>","<span class=\"code-comment\"> * Marker dragging handler (by both mouse and touch). Only valid when the marker is on the map (Otherwise set [`marker.options.draggable`](#marker-draggable)).\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> MarkerDrag = Handler.extend({\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">marker</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._marker = marker;\n","\t},\n","\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> icon = <span class=\"code-keyword\">this</span>._marker._icon;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._draggable) {\n","\t\t\t<span class=\"code-keyword\">this</span>._draggable = <span class=\"code-keyword\">new</span> Draggable(icon, icon, <span class=\"code-literal\">true</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._draggable.on({\n","\t\t\tdragstart: <span class=\"code-keyword\">this</span>._onDragStart,\n","\t\t\tpredrag: <span class=\"code-keyword\">this</span>._onPreDrag,\n","\t\t\tdrag: <span class=\"code-keyword\">this</span>._onDrag,\n","\t\t\tdragend: <span class=\"code-keyword\">this</span>._onDragEnd\n","\t\t}, <span class=\"code-keyword\">this</span>).enable();\n","\n","\t\taddClass(icon, <span class=\"code-string\">'leaflet-marker-draggable'</span>);\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._draggable.off({\n","\t\t\tdragstart: <span class=\"code-keyword\">this</span>._onDragStart,\n","\t\t\tpredrag: <span class=\"code-keyword\">this</span>._onPreDrag,\n","\t\t\tdrag: <span class=\"code-keyword\">this</span>._onDrag,\n","\t\t\tdragend: <span class=\"code-keyword\">this</span>._onDragEnd\n","\t\t}, <span class=\"code-keyword\">this</span>).disable();\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._marker._icon) {\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._marker._icon, <span class=\"code-string\">'leaflet-marker-draggable'</span>);\n","\t\t}\n","\t},\n","\n","\tmoved: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._draggable &amp;&amp; <span class=\"code-keyword\">this</span>._draggable._moved;\n","\t},\n","\n","\t_adjustPan: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> marker = <span class=\"code-keyword\">this</span>._marker,\n","\t\t    map = marker._map,\n","\t\t    speed = <span class=\"code-keyword\">this</span>._marker.options.autoPanSpeed,\n","\t\t    padding = <span class=\"code-keyword\">this</span>._marker.options.autoPanPadding,\n","\t\t    iconPos = getPosition(marker._icon),\n","\t\t    bounds = map.getPixelBounds(),\n","\t\t    origin = map.getPixelOrigin();\n","\n","\t\t<span class=\"code-keyword\">var</span> panBounds = toBounds(\n","\t\t\tbounds.min._subtract(origin).add(padding),\n","\t\t\tbounds.max._subtract(origin).subtract(padding)\n","\t\t);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!panBounds.contains(iconPos)) {\n","\t\t\t<span class=\"code-comment\">// Compute incremental movement</span>\n","\t\t\t<span class=\"code-keyword\">var</span> movement = toPoint(\n","\t\t\t\t(<span class=\"code-built_in\">Math</span>.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) -\n","\t\t\t\t(<span class=\"code-built_in\">Math</span>.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),\n","\n","\t\t\t\t(<span class=\"code-built_in\">Math</span>.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) -\n","\t\t\t\t(<span class=\"code-built_in\">Math</span>.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)\n","\t\t\t).multiplyBy(speed);\n","\n","\t\t\tmap.panBy(movement, {<span class=\"code-attr\">animate</span>: <span class=\"code-literal\">false</span>});\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._draggable._newPos._add(movement);\n","\t\t\t<span class=\"code-keyword\">this</span>._draggable._startPos._add(movement);\n","\n","\t\t\tsetPosition(marker._icon, <span class=\"code-keyword\">this</span>._draggable._newPos);\n","\t\t\t<span class=\"code-keyword\">this</span>._onDrag(e);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._panRequest = requestAnimFrame(<span class=\"code-keyword\">this</span>._adjustPan.bind(<span class=\"code-keyword\">this</span>, e));\n","\t\t}\n","\t},\n","\n","\t_onDragStart: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// @section Dragging events</span>\n","\t\t<span class=\"code-comment\">// @event dragstart: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the user starts dragging the marker.</span>\n","\n","\t\t<span class=\"code-comment\">// @event movestart: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the marker starts moving (because of dragging).</span>\n","\n","\t\t<span class=\"code-keyword\">this</span>._oldLatLng = <span class=\"code-keyword\">this</span>._marker.getLatLng();\n","\n","\t\t<span class=\"code-comment\">// When using ES6 imports it could not be set when `Popup` was not imported as well</span>\n","\t\t<span class=\"code-keyword\">this</span>._marker.closePopup &amp;&amp; <span class=\"code-keyword\">this</span>._marker.closePopup();\n","\n","\t\t<span class=\"code-keyword\">this</span>._marker\n","\t\t\t.fire(<span class=\"code-string\">'movestart'</span>)\n","\t\t\t.fire(<span class=\"code-string\">'dragstart'</span>);\n","\t},\n","\n","\t_onPreDrag: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._marker.options.autoPan) {\n","\t\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._panRequest);\n","\t\t\t<span class=\"code-keyword\">this</span>._panRequest = requestAnimFrame(<span class=\"code-keyword\">this</span>._adjustPan.bind(<span class=\"code-keyword\">this</span>, e));\n","\t\t}\n","\t},\n","\n","\t_onDrag: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> marker = <span class=\"code-keyword\">this</span>._marker,\n","\t\t    shadow = marker._shadow,\n","\t\t    iconPos = getPosition(marker._icon),\n","\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n","\n","\t\t<span class=\"code-comment\">// update shadow position</span>\n","\t\t<span class=\"code-keyword\">if</span> (shadow) {\n","\t\t\tsetPosition(shadow, iconPos);\n","\t\t}\n","\n","\t\tmarker._latlng = latlng;\n","\t\te.latlng = latlng;\n","\t\te.oldLatLng = <span class=\"code-keyword\">this</span>._oldLatLng;\n","\n","\t\t<span class=\"code-comment\">// @event drag: Event</span>\n","\t\t<span class=\"code-comment\">// Fired repeatedly while the user drags the marker.</span>\n","\t\tmarker\n","\t\t    .fire(<span class=\"code-string\">'move'</span>, e)\n","\t\t    .fire(<span class=\"code-string\">'drag'</span>, e);\n","\t},\n","\n","\t_onDragEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-comment\">// @event dragend: DragEndEvent</span>\n","\t\t<span class=\"code-comment\">// Fired when the user stops dragging the marker.</span>\n","\n","\t\t cancelAnimFrame(<span class=\"code-keyword\">this</span>._panRequest);\n","\n","\t\t<span class=\"code-comment\">// @event moveend: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the marker stops moving (because of dragging).</span>\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._oldLatLng;\n","\t\t<span class=\"code-keyword\">this</span>._marker\n","\t\t    .fire(<span class=\"code-string\">'moveend'</span>)\n","\t\t    .fire(<span class=\"code-string\">'dragend'</span>, e);\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Marker\r\n</span>","<span class=\"code-comment\"> * @inherits Interactive layer\r\n</span>","<span class=\"code-comment\"> * @aka L.Marker\r\n</span>","<span class=\"code-comment\"> * L.Marker is used to display clickable/draggable icons on the map. Extends `Layer`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * L.marker([50.5, 30.5]).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> Marker = Layer.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka Marker options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option icon: Icon = *</span>\r\n","\t\t<span class=\"code-comment\">// Icon instance to use for rendering the marker.</span>\r\n","\t\t<span class=\"code-comment\">// See [Icon documentation](#L.Icon) for details on how to customize the marker icon.</span>\r\n","\t\t<span class=\"code-comment\">// If not specified, a common instance of `L.Icon.Default` is used.</span>\r\n","\t\ticon: <span class=\"code-keyword\">new</span> IconDefault(),\r\n","\r\n","\t\t<span class=\"code-comment\">// Option inherited from \"Interactive layer\" abstract class</span>\r\n","\t\tinteractive: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option keyboard: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.</span>\r\n","\t\tkeyboard: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option title: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// Text for the browser tooltip that appear on marker hover (no tooltip by default).</span>\r\n","\t\ttitle: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option alt: String = 'Marker'</span>\r\n","\t\t<span class=\"code-comment\">// Text for the `alt` attribute of the icon image (useful for accessibility).</span>\r\n","\t\talt: <span class=\"code-string\">'Marker'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zIndexOffset: Number = 0</span>\r\n","\t\t<span class=\"code-comment\">// By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).</span>\r\n","\t\tzIndexOffset: <span class=\"code-number\">0</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option opacity: Number = 1.0</span>\r\n","\t\t<span class=\"code-comment\">// The opacity of the marker.</span>\r\n","\t\topacity: <span class=\"code-number\">1</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option riseOnHover: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, the marker will get on top of others when you hover the mouse over it.</span>\r\n","\t\triseOnHover: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option riseOffset: Number = 250</span>\r\n","\t\t<span class=\"code-comment\">// The z-index offset used for the `riseOnHover` feature.</span>\r\n","\t\triseOffset: <span class=\"code-number\">250</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option pane: String = 'markerPane'</span>\r\n","\t\t<span class=\"code-comment\">// `Map pane` where the markers icon will be added.</span>\r\n","\t\tpane: <span class=\"code-string\">'markerPane'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option shadowPane: String = 'shadowPane'</span>\r\n","\t\t<span class=\"code-comment\">// `Map pane` where the markers shadow will be added.</span>\r\n","\t\tshadowPane: <span class=\"code-string\">'shadowPane'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option bubblingMouseEvents: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// When `true`, a mouse event on this marker will trigger the same event on the map</span>\r\n","\t\t<span class=\"code-comment\">// (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).</span>\r\n","\t\tbubblingMouseEvents: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPanOnFocus: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// When `true`, the map will pan whenever the marker is focused (via</span>\r\n","\t\t<span class=\"code-comment\">// e.g. pressing `tab` on the keyboard) to ensure the marker is</span>\r\n","\t\t<span class=\"code-comment\">// visible within the map's bounds</span>\r\n","\t\tautoPanOnFocus: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @section Draggable marker options</span>\r\n","\t\t<span class=\"code-comment\">// @option draggable: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether the marker is draggable with mouse/touch or not.</span>\r\n","\t\tdraggable: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPan: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether to pan the map when dragging this marker near its edge or not.</span>\r\n","\t\tautoPan: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPanPadding: Point = Point(50, 50)</span>\r\n","\t\t<span class=\"code-comment\">// Distance (in pixels to the left/right and to the top/bottom) of the</span>\r\n","\t\t<span class=\"code-comment\">// map edge to start panning the map.</span>\r\n","\t\tautoPanPadding: [<span class=\"code-number\">50</span>, <span class=\"code-number\">50</span>],\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPanSpeed: Number = 10</span>\r\n","\t\t<span class=\"code-comment\">// Number of pixels the map should pan by.</span>\r\n","\t\tautoPanSpeed: <span class=\"code-number\">10</span>\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">/* @section\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:\r\n</span>","<span class=\"code-comment\">\t */</span>\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\t\t<span class=\"code-keyword\">this</span>._latlng = toLatLng(latlng);\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomAnimated = <span class=\"code-keyword\">this</span>._zoomAnimated &amp;&amp; map.options.markerZoomAnimation;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\r\n","\t\t\tmap.on(<span class=\"code-string\">'zoomanim'</span>, <span class=\"code-keyword\">this</span>._animateZoom, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._initIcon();\r\n","\t\t<span class=\"code-keyword\">this</span>.update();\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dragging &amp;&amp; <span class=\"code-keyword\">this</span>.dragging.enabled()) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.options.draggable = <span class=\"code-literal\">true</span>;\r\n","\t\t\t<span class=\"code-keyword\">this</span>.dragging.removeHooks();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.dragging;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\r\n","\t\t\tmap.off(<span class=\"code-string\">'zoomanim'</span>, <span class=\"code-keyword\">this</span>._animateZoom, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._removeIcon();\r\n","\t\t<span class=\"code-keyword\">this</span>._removeShadow();\r\n","\t},\r\n","\r\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> {\r\n","\t\t\tzoom: <span class=\"code-keyword\">this</span>.update,\r\n","\t\t\tviewreset: <span class=\"code-keyword\">this</span>.update\r\n","\t\t};\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getLatLng: LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the current geographical position of the marker.</span>\r\n","\tgetLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._latlng;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setLatLng(latlng: LatLng): this</span>\r\n","\t<span class=\"code-comment\">// Changes the marker position to the given point.</span>\r\n","\tsetLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> oldLatLng = <span class=\"code-keyword\">this</span>._latlng;\r\n","\t\t<span class=\"code-keyword\">this</span>._latlng = toLatLng(latlng);\r\n","\t\t<span class=\"code-keyword\">this</span>.update();\r\n","\r\n","\t\t<span class=\"code-comment\">// @event move: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the marker is moved via [`setLatLng`](#marker-setlatlng) or by [dragging](#marker-dragging). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.</span>\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>, {<span class=\"code-attr\">oldLatLng</span>: oldLatLng, <span class=\"code-attr\">latlng</span>: <span class=\"code-keyword\">this</span>._latlng});\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setZIndexOffset(offset: Number): this</span>\r\n","\t<span class=\"code-comment\">// Changes the [zIndex offset](#marker-zindexoffset) of the marker.</span>\r\n","\tsetZIndexOffset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">offset</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.options.zIndexOffset = offset;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.update();\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getIcon: Icon</span>\r\n","\t<span class=\"code-comment\">// Returns the current icon used by the marker</span>\r\n","\tgetIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.icon;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setIcon(icon: Icon): this</span>\r\n","\t<span class=\"code-comment\">// Changes the marker icon.</span>\r\n","\tsetIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">icon</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.options.icon = icon;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._initIcon();\r\n","\t\t\t<span class=\"code-keyword\">this</span>.update();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.bindPopup(<span class=\"code-keyword\">this</span>._popup, <span class=\"code-keyword\">this</span>._popup.options);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\tgetElement: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._icon;\r\n","\t},\r\n","\r\n","\tupdate: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._icon &amp;&amp; <span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._latlng).round();\r\n","\t\t\t<span class=\"code-keyword\">this</span>._setPos(pos);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_initIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> options = <span class=\"code-keyword\">this</span>.options,\r\n","\t\t    classToAdd = <span class=\"code-string\">'leaflet-zoom-'</span> + (<span class=\"code-keyword\">this</span>._zoomAnimated ? <span class=\"code-string\">'animated'</span> : <span class=\"code-string\">'hide'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> icon = options.icon.createIcon(<span class=\"code-keyword\">this</span>._icon),\r\n","\t\t    addIcon = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-comment\">// if we're not reusing the icon, remove the old one and init new one</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (icon !== <span class=\"code-keyword\">this</span>._icon) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._icon) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._removeIcon();\r\n","\t\t\t}\r\n","\t\t\taddIcon = <span class=\"code-literal\">true</span>;\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (options.title) {\r\n","\t\t\t\ticon.title = options.title;\r\n","\t\t\t}\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (icon.tagName === <span class=\"code-string\">'IMG'</span>) {\r\n","\t\t\t\ticon.alt = options.alt || <span class=\"code-string\">''</span>;\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\taddClass(icon, classToAdd);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.keyboard) {\r\n","\t\t\ticon.tabIndex = <span class=\"code-string\">'0'</span>;\r\n","\t\t\ticon.setAttribute(<span class=\"code-string\">'role'</span>, <span class=\"code-string\">'button'</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._icon = icon;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.riseOnHover) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.on({\r\n","\t\t\t\tmouseover: <span class=\"code-keyword\">this</span>._bringToFront,\r\n","\t\t\t\tmouseout: <span class=\"code-keyword\">this</span>._resetZIndex\r\n","\t\t\t});\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.autoPanOnFocus) {\r\n","\t\t\ton(icon, <span class=\"code-string\">'focus'</span>, <span class=\"code-keyword\">this</span>._panOnFocus, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> newShadow = options.icon.createShadow(<span class=\"code-keyword\">this</span>._shadow),\r\n","\t\t    addShadow = <span class=\"code-literal\">false</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (newShadow !== <span class=\"code-keyword\">this</span>._shadow) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._removeShadow();\r\n","\t\t\taddShadow = <span class=\"code-literal\">true</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (newShadow) {\r\n","\t\t\taddClass(newShadow, classToAdd);\r\n","\t\t\tnewShadow.alt = <span class=\"code-string\">''</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._shadow = newShadow;\r\n","\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.opacity &lt; <span class=\"code-number\">1</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._updateOpacity();\r\n","\t\t}\r\n","\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (addIcon) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.getPane().appendChild(<span class=\"code-keyword\">this</span>._icon);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._initInteraction();\r\n","\t\t<span class=\"code-keyword\">if</span> (newShadow &amp;&amp; addShadow) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.getPane(options.shadowPane).appendChild(<span class=\"code-keyword\">this</span>._shadow);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_removeIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.riseOnHover) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.off({\r\n","\t\t\t\tmouseover: <span class=\"code-keyword\">this</span>._bringToFront,\r\n","\t\t\t\tmouseout: <span class=\"code-keyword\">this</span>._resetZIndex\r\n","\t\t\t});\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.autoPanOnFocus) {\r\n","\t\t\toff(<span class=\"code-keyword\">this</span>._icon, <span class=\"code-string\">'focus'</span>, <span class=\"code-keyword\">this</span>._panOnFocus, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\r\n","\t\tremove(<span class=\"code-keyword\">this</span>._icon);\r\n","\t\t<span class=\"code-keyword\">this</span>.removeInteractiveTarget(<span class=\"code-keyword\">this</span>._icon);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._icon = <span class=\"code-literal\">null</span>;\r\n","\t},\r\n","\r\n","\t_removeShadow: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._shadow) {\r\n","\t\t\tremove(<span class=\"code-keyword\">this</span>._shadow);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._shadow = <span class=\"code-literal\">null</span>;\r\n","\t},\r\n","\r\n","\t_setPos: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">pos</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._icon) {\r\n","\t\t\tsetPosition(<span class=\"code-keyword\">this</span>._icon, pos);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._shadow) {\r\n","\t\t\tsetPosition(<span class=\"code-keyword\">this</span>._shadow, pos);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._zIndex = pos.y + <span class=\"code-keyword\">this</span>.options.zIndexOffset;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._resetZIndex();\r\n","\t},\r\n","\r\n","\t_updateZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">offset</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._icon) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._icon.style.zIndex = <span class=\"code-keyword\">this</span>._zIndex + offset;\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_animateZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">opt</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._map._latLngToNewLayerPoint(<span class=\"code-keyword\">this</span>._latlng, opt.zoom, opt.center).round();\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._setPos(pos);\r\n","\t},\r\n","\r\n","\t_initInteraction: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.interactive) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\taddClass(<span class=\"code-keyword\">this</span>._icon, <span class=\"code-string\">'leaflet-interactive'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.addInteractiveTarget(<span class=\"code-keyword\">this</span>._icon);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (MarkerDrag) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> draggable = <span class=\"code-keyword\">this</span>.options.draggable;\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.dragging) {\r\n","\t\t\t\tdraggable = <span class=\"code-keyword\">this</span>.dragging.enabled();\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.dragging.disable();\r\n","\t\t\t}\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>.dragging = <span class=\"code-keyword\">new</span> MarkerDrag(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (draggable) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.dragging.enable();\r\n","\t\t\t}\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setOpacity(opacity: Number): this</span>\r\n","\t<span class=\"code-comment\">// Changes the opacity of the marker.</span>\r\n","\tsetOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">opacity</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.options.opacity = opacity;\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._updateOpacity();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t_updateOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> opacity = <span class=\"code-keyword\">this</span>.options.opacity;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._icon) {\r\n","\t\t\tsetOpacity(<span class=\"code-keyword\">this</span>._icon, opacity);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._shadow) {\r\n","\t\t\tsetOpacity(<span class=\"code-keyword\">this</span>._shadow, opacity);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_bringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._updateZIndex(<span class=\"code-keyword\">this</span>.options.riseOffset);\r\n","\t},\r\n","\r\n","\t_resetZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._updateZIndex(<span class=\"code-number\">0</span>);\r\n","\t},\r\n","\r\n","\t_panOnFocus: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map;\r\n","\t\t<span class=\"code-keyword\">if</span> (!map) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> iconOpts = <span class=\"code-keyword\">this</span>.options.icon.options;\r\n","\t\t<span class=\"code-keyword\">var</span> size = toPoint(iconOpts.iconSize);\r\n","\t\t<span class=\"code-keyword\">var</span> anchor = toPoint(iconOpts.iconAnchor);\r\n","\r\n","\t\tmap.panInside(<span class=\"code-keyword\">this</span>._latlng, {\r\n","\t\t\tpaddingTopLeft: anchor,\r\n","\t\t\tpaddingBottomRight: size.subtract(anchor)\r\n","\t\t});\r\n","\t},\r\n","\r\n","\t_getPopupAnchor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.icon.options.popupAnchor;\r\n","\t},\r\n","\r\n","\t_getTooltipAnchor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.icon.options.tooltipAnchor;\r\n","\t}\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// factory L.marker(latlng: LatLng, options? : Marker options)</span>\r\n","\r\n","<span class=\"code-comment\">// @factory L.marker(latlng: LatLng, options? : Marker options)</span>\r\n","<span class=\"code-comment\">// Instantiates a Marker object given a geographical point and optionally an options object.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">marker</span>(<span class=\"code-params\">latlng, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Marker(latlng, options);\r\n","}\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Path\n</span>","<span class=\"code-comment\"> * @aka L.Path\n</span>","<span class=\"code-comment\"> * @inherits Interactive layer\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * An abstract class that contains options and constants shared between vector\n</span>","<span class=\"code-comment\"> * overlays (Polygon, Polyline, Circle). Do not use it directly. Extends `Layer`.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Path = Layer.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka Path options</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option stroke: Boolean = true</span>\n","\t\t<span class=\"code-comment\">// Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.</span>\n","\t\tstroke: <span class=\"code-literal\">true</span>,\n","\n","\t\t<span class=\"code-comment\">// @option color: String = '#3388ff'</span>\n","\t\t<span class=\"code-comment\">// Stroke color</span>\n","\t\tcolor: <span class=\"code-string\">'#3388ff'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option weight: Number = 3</span>\n","\t\t<span class=\"code-comment\">// Stroke width in pixels</span>\n","\t\tweight: <span class=\"code-number\">3</span>,\n","\n","\t\t<span class=\"code-comment\">// @option opacity: Number = 1.0</span>\n","\t\t<span class=\"code-comment\">// Stroke opacity</span>\n","\t\topacity: <span class=\"code-number\">1</span>,\n","\n","\t\t<span class=\"code-comment\">// @option lineCap: String= 'round'</span>\n","\t\t<span class=\"code-comment\">// A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.</span>\n","\t\tlineCap: <span class=\"code-string\">'round'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option lineJoin: String = 'round'</span>\n","\t\t<span class=\"code-comment\">// A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.</span>\n","\t\tlineJoin: <span class=\"code-string\">'round'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option dashArray: String = null</span>\n","\t\t<span class=\"code-comment\">// A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).</span>\n","\t\tdashArray: <span class=\"code-literal\">null</span>,\n","\n","\t\t<span class=\"code-comment\">// @option dashOffset: String = null</span>\n","\t\t<span class=\"code-comment\">// A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).</span>\n","\t\tdashOffset: <span class=\"code-literal\">null</span>,\n","\n","\t\t<span class=\"code-comment\">// @option fill: Boolean = depends</span>\n","\t\t<span class=\"code-comment\">// Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.</span>\n","\t\tfill: <span class=\"code-literal\">false</span>,\n","\n","\t\t<span class=\"code-comment\">// @option fillColor: String = *</span>\n","\t\t<span class=\"code-comment\">// Fill color. Defaults to the value of the [`color`](#path-color) option</span>\n","\t\tfillColor: <span class=\"code-literal\">null</span>,\n","\n","\t\t<span class=\"code-comment\">// @option fillOpacity: Number = 0.2</span>\n","\t\t<span class=\"code-comment\">// Fill opacity.</span>\n","\t\tfillOpacity: <span class=\"code-number\">0.2</span>,\n","\n","\t\t<span class=\"code-comment\">// @option fillRule: String = 'evenodd'</span>\n","\t\t<span class=\"code-comment\">// A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.</span>\n","\t\tfillRule: <span class=\"code-string\">'evenodd'</span>,\n","\n","\t\t<span class=\"code-comment\">// className: '',</span>\n","\n","\t\t<span class=\"code-comment\">// Option inherited from \"Interactive layer\" abstract class</span>\n","\t\tinteractive: <span class=\"code-literal\">true</span>,\n","\n","\t\t<span class=\"code-comment\">// @option bubblingMouseEvents: Boolean = true</span>\n","\t\t<span class=\"code-comment\">// When `true`, a mouse event on this path will trigger the same event on the map</span>\n","\t\t<span class=\"code-comment\">// (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).</span>\n","\t\tbubblingMouseEvents: <span class=\"code-literal\">true</span>\n","\t},\n","\n","\tbeforeAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\t<span class=\"code-comment\">// Renderer is set here because we need to call renderer.getEvents</span>\n","\t\t<span class=\"code-comment\">// before this.getEvents.</span>\n","\t\t<span class=\"code-keyword\">this</span>._renderer = map.getRenderer(<span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._renderer._initPath(<span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">this</span>._reset();\n","\t\t<span class=\"code-keyword\">this</span>._renderer._addPath(<span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._renderer._removePath(<span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t<span class=\"code-comment\">// @method redraw(): this</span>\n","\t<span class=\"code-comment\">// Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.</span>\n","\tredraw: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\n","\t\t\t<span class=\"code-keyword\">this</span>._renderer._updatePath(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setStyle(style: Path options): this</span>\n","\t<span class=\"code-comment\">// Changes the appearance of a Path based on the options in the `Path options` object.</span>\n","\tsetStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">style</span>) </span>{\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, style);\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._renderer) {\n","\t\t\t<span class=\"code-keyword\">this</span>._renderer._updateStyle(<span class=\"code-keyword\">this</span>);\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.stroke &amp;&amp; style &amp;&amp; <span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(style, <span class=\"code-string\">'weight'</span>)) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._updateBounds();\n","\t\t\t}\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method bringToFront(): this</span>\n","\t<span class=\"code-comment\">// Brings the layer to the top of all path layers.</span>\n","\tbringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._renderer) {\n","\t\t\t<span class=\"code-keyword\">this</span>._renderer._bringToFront(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method bringToBack(): this</span>\n","\t<span class=\"code-comment\">// Brings the layer to the bottom of all path layers.</span>\n","\tbringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._renderer) {\n","\t\t\t<span class=\"code-keyword\">this</span>._renderer._bringToBack(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\tgetElement: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._path;\n","\t},\n","\n","\t_reset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// defined in child classes</span>\n","\t\t<span class=\"code-keyword\">this</span>._project();\n","\t\t<span class=\"code-keyword\">this</span>._update();\n","\t},\n","\n","\t_clickTolerance: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// used when doing hit detection for Canvas layers</span>\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>.options.stroke ? <span class=\"code-keyword\">this</span>.options.weight / <span class=\"code-number\">2</span> : <span class=\"code-number\">0</span>) +\n","\t\t  (<span class=\"code-keyword\">this</span>._renderer.options.tolerance || <span class=\"code-number\">0</span>);\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class CircleMarker\n</span>","<span class=\"code-comment\"> * @aka L.CircleMarker\n</span>","<span class=\"code-comment\"> * @inherits Path\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A circle of a fixed size with radius specified in pixels. Extends `Path`.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> CircleMarker = Path.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka CircleMarker options</span>\n","\toptions: {\n","\t\tfill: <span class=\"code-literal\">true</span>,\n","\n","\t\t<span class=\"code-comment\">// @option radius: Number = 10</span>\n","\t\t<span class=\"code-comment\">// Radius of the circle marker, in pixels</span>\n","\t\tradius: <span class=\"code-number\">10</span>\n","\t},\n","\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, options</span>) </span>{\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\n","\t\t<span class=\"code-keyword\">this</span>._latlng = toLatLng(latlng);\n","\t\t<span class=\"code-keyword\">this</span>._radius = <span class=\"code-keyword\">this</span>.options.radius;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setLatLng(latLng: LatLng): this</span>\n","\t<span class=\"code-comment\">// Sets the position of a circle marker to a new location.</span>\n","\tsetLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> oldLatLng = <span class=\"code-keyword\">this</span>._latlng;\n","\t\t<span class=\"code-keyword\">this</span>._latlng = toLatLng(latlng);\n","\t\t<span class=\"code-keyword\">this</span>.redraw();\n","\n","\t\t<span class=\"code-comment\">// @event move: Event</span>\n","\t\t<span class=\"code-comment\">// Fired when the marker is moved via [`setLatLng`](#circlemarker-setlatlng). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.</span>\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'move'</span>, {<span class=\"code-attr\">oldLatLng</span>: oldLatLng, <span class=\"code-attr\">latlng</span>: <span class=\"code-keyword\">this</span>._latlng});\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getLatLng(): LatLng</span>\n","\t<span class=\"code-comment\">// Returns the current geographical position of the circle marker</span>\n","\tgetLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._latlng;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setRadius(radius: Number): this</span>\n","\t<span class=\"code-comment\">// Sets the radius of a circle marker. Units are in pixels.</span>\n","\tsetRadius: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">radius</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>.options.radius = <span class=\"code-keyword\">this</span>._radius = radius;\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.redraw();\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getRadius(): Number</span>\n","\t<span class=\"code-comment\">// Returns the current radius of the circle</span>\n","\tgetRadius: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._radius;\n","\t},\n","\n","\tsetStyle : <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> radius = options &amp;&amp; options.radius || <span class=\"code-keyword\">this</span>._radius;\n","\t\tPath.prototype.setStyle.call(<span class=\"code-keyword\">this</span>, options);\n","\t\t<span class=\"code-keyword\">this</span>.setRadius(radius);\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t_project: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._point = <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._latlng);\n","\t\t<span class=\"code-keyword\">this</span>._updateBounds();\n","\t},\n","\n","\t_updateBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> r = <span class=\"code-keyword\">this</span>._radius,\n","\t\t    r2 = <span class=\"code-keyword\">this</span>._radiusY || r,\n","\t\t    w = <span class=\"code-keyword\">this</span>._clickTolerance(),\n","\t\t    p = [r + w, r2 + w];\n","\t\t<span class=\"code-keyword\">this</span>._pxBounds = <span class=\"code-keyword\">new</span> Bounds(<span class=\"code-keyword\">this</span>._point.subtract(p), <span class=\"code-keyword\">this</span>._point.add(p));\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\n","\t\t\t<span class=\"code-keyword\">this</span>._updatePath();\n","\t\t}\n","\t},\n","\n","\t_updatePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._renderer._updateCircle(<span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_empty: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._radius &amp;&amp; !<span class=\"code-keyword\">this</span>._renderer._bounds.intersects(<span class=\"code-keyword\">this</span>._pxBounds);\n","\t},\n","\n","\t<span class=\"code-comment\">// Needed by the `Canvas` renderer for interactivity</span>\n","\t_containsPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">p</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> p.distanceTo(<span class=\"code-keyword\">this</span>._point) &lt;= <span class=\"code-keyword\">this</span>._radius + <span class=\"code-keyword\">this</span>._clickTolerance();\n","\t}\n","});\n","\n","\n","<span class=\"code-comment\">// @factory L.circleMarker(latlng: LatLng, options?: CircleMarker options)</span>\n","<span class=\"code-comment\">// Instantiates a circle marker object given a geographical point, and an optional options object.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">circleMarker</span>(<span class=\"code-params\">latlng, options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> CircleMarker(latlng, options);\n","}\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Circle\n</span>","<span class=\"code-comment\"> * @aka L.Circle\n</span>","<span class=\"code-comment\"> * @inherits CircleMarker\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A class for drawing circle overlays on a map. Extends `CircleMarker`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * It's an approximation and starts to diverge from a real circle closer to poles (due to projection distortion).\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * L.circle([50.5, 30.5], {radius: 200}).addTo(map);\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Circle = CircleMarker.extend({\n","\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, options, legacyOptions</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> options === <span class=\"code-string\">'number'</span>) {\n","\t\t\t<span class=\"code-comment\">// Backwards compatibility with 0.7.x factory (latlng, radius, options?)</span>\n","\t\t\toptions = extend({}, legacyOptions, {<span class=\"code-attr\">radius</span>: options});\n","\t\t}\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\n","\t\t<span class=\"code-keyword\">this</span>._latlng = toLatLng(latlng);\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">isNaN</span>(<span class=\"code-keyword\">this</span>.options.radius)) { <span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Circle radius cannot be NaN'</span>); }\n","\n","\t\t<span class=\"code-comment\">// @section</span>\n","\t\t<span class=\"code-comment\">// @aka Circle options</span>\n","\t\t<span class=\"code-comment\">// @option radius: Number; Radius of the circle, in meters.</span>\n","\t\t<span class=\"code-keyword\">this</span>._mRadius = <span class=\"code-keyword\">this</span>.options.radius;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setRadius(radius: Number): this</span>\n","\t<span class=\"code-comment\">// Sets the radius of a circle. Units are in meters.</span>\n","\tsetRadius: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">radius</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._mRadius = radius;\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.redraw();\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getRadius(): Number</span>\n","\t<span class=\"code-comment\">// Returns the current radius of a circle. Units are in meters.</span>\n","\tgetRadius: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._mRadius;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getBounds(): LatLngBounds</span>\n","\t<span class=\"code-comment\">// Returns the `LatLngBounds` of the path.</span>\n","\tgetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> half = [<span class=\"code-keyword\">this</span>._radius, <span class=\"code-keyword\">this</span>._radiusY || <span class=\"code-keyword\">this</span>._radius];\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLngBounds(\n","\t\t\t<span class=\"code-keyword\">this</span>._map.layerPointToLatLng(<span class=\"code-keyword\">this</span>._point.subtract(half)),\n","\t\t\t<span class=\"code-keyword\">this</span>._map.layerPointToLatLng(<span class=\"code-keyword\">this</span>._point.add(half)));\n","\t},\n","\n","\tsetStyle: Path.prototype.setStyle,\n","\n","\t_project: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\n","\t\t<span class=\"code-keyword\">var</span> lng = <span class=\"code-keyword\">this</span>._latlng.lng,\n","\t\t    lat = <span class=\"code-keyword\">this</span>._latlng.lat,\n","\t\t    map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    crs = map.options.crs;\n","\n","\t\t<span class=\"code-keyword\">if</span> (crs.distance === Earth.distance) {\n","\t\t\t<span class=\"code-keyword\">var</span> d = <span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">180</span>,\n","\t\t\t    latR = (<span class=\"code-keyword\">this</span>._mRadius / Earth.R) / d,\n","\t\t\t    top = map.project([lat + latR, lng]),\n","\t\t\t    bottom = map.project([lat - latR, lng]),\n","\t\t\t    p = top.add(bottom).divideBy(<span class=\"code-number\">2</span>),\n","\t\t\t    lat2 = map.unproject(p).lat,\n","\t\t\t    lngR = <span class=\"code-built_in\">Math</span>.acos((<span class=\"code-built_in\">Math</span>.cos(latR * d) - <span class=\"code-built_in\">Math</span>.sin(lat * d) * <span class=\"code-built_in\">Math</span>.sin(lat2 * d)) /\n","\t\t\t            (<span class=\"code-built_in\">Math</span>.cos(lat * d) * <span class=\"code-built_in\">Math</span>.cos(lat2 * d))) / d;\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">isNaN</span>(lngR) || lngR === <span class=\"code-number\">0</span>) {\n","\t\t\t\tlngR = latR / <span class=\"code-built_in\">Math</span>.cos(<span class=\"code-built_in\">Math</span>.PI / <span class=\"code-number\">180</span> * lat); <span class=\"code-comment\">// Fallback for edge case, #2425</span>\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._point = p.subtract(map.getPixelOrigin());\n","\t\t\t<span class=\"code-keyword\">this</span>._radius = <span class=\"code-built_in\">isNaN</span>(lngR) ? <span class=\"code-number\">0</span> : p.x - map.project([lat2, lng - lngR]).x;\n","\t\t\t<span class=\"code-keyword\">this</span>._radiusY = p.y - top.y;\n","\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">var</span> latlng2 = crs.unproject(crs.project(<span class=\"code-keyword\">this</span>._latlng).subtract([<span class=\"code-keyword\">this</span>._mRadius, <span class=\"code-number\">0</span>]));\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._point = map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._latlng);\n","\t\t\t<span class=\"code-keyword\">this</span>._radius = <span class=\"code-keyword\">this</span>._point.x - map.latLngToLayerPoint(latlng2).x;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._updateBounds();\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @factory L.circle(latlng: LatLng, options?: Circle options)</span>\n","<span class=\"code-comment\">// Instantiates a circle object given a geographical point, and an options object</span>\n","<span class=\"code-comment\">// which contains the circle radius.</span>\n","<span class=\"code-comment\">// @alternative</span>\n","<span class=\"code-comment\">// @factory L.circle(latlng: LatLng, radius: Number, options?: Circle options)</span>\n","<span class=\"code-comment\">// Obsolete way of instantiating a circle, for compatibility with 0.7.x code.</span>\n","<span class=\"code-comment\">// Do not use in new applications or plugins.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">circle</span>(<span class=\"code-params\">latlng, options, legacyOptions</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Circle(latlng, options, legacyOptions);\n","}\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Polyline\n</span>","<span class=\"code-comment\"> * @aka L.Polyline\n</span>","<span class=\"code-comment\"> * @inherits Path\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A class for drawing polyline overlays on a map. Extends `Path`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * // create a red polyline from an array of LatLng points\n</span>","<span class=\"code-comment\"> * var latlngs = [\n</span>","<span class=\"code-comment\"> * \t[45.51, -122.68],\n</span>","<span class=\"code-comment\"> * \t[37.77, -122.43],\n</span>","<span class=\"code-comment\"> * \t[34.04, -118.2]\n</span>","<span class=\"code-comment\"> * ];\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * var polyline = L.polyline(latlngs, {color: 'red'}).addTo(map);\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * // zoom the map to the polyline\n</span>","<span class=\"code-comment\"> * map.fitBounds(polyline.getBounds());\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * You can also pass a multi-dimensional array to represent a `MultiPolyline` shape:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * // create a red polyline from an array of arrays of LatLng points\n</span>","<span class=\"code-comment\"> * var latlngs = [\n</span>","<span class=\"code-comment\"> * \t[[45.51, -122.68],\n</span>","<span class=\"code-comment\"> * \t [37.77, -122.43],\n</span>","<span class=\"code-comment\"> * \t [34.04, -118.2]],\n</span>","<span class=\"code-comment\"> * \t[[40.78, -73.91],\n</span>","<span class=\"code-comment\"> * \t [41.83, -87.62],\n</span>","<span class=\"code-comment\"> * \t [32.76, -96.72]]\n</span>","<span class=\"code-comment\"> * ];\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-keyword\">var</span> Polyline = Path.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka Polyline options</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option smoothFactor: Number = 1.0</span>\n","\t\t<span class=\"code-comment\">// How much to simplify the polyline on each zoom level. More means</span>\n","\t\t<span class=\"code-comment\">// better performance and smoother look, and less means more accurate representation.</span>\n","\t\tsmoothFactor: <span class=\"code-number\">1.0</span>,\n","\n","\t\t<span class=\"code-comment\">// @option noClip: Boolean = false</span>\n","\t\t<span class=\"code-comment\">// Disable polyline clipping.</span>\n","\t\tnoClip: <span class=\"code-literal\">false</span>\n","\t},\n","\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs, options</span>) </span>{\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\n","\t\t<span class=\"code-keyword\">this</span>._setLatLngs(latlngs);\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getLatLngs(): LatLng[]</span>\n","\t<span class=\"code-comment\">// Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.</span>\n","\tgetLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._latlngs;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setLatLngs(latlngs: LatLng[]): this</span>\n","\t<span class=\"code-comment\">// Replaces all the points in the polyline with the given array of geographical points.</span>\n","\tsetLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._setLatLngs(latlngs);\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.redraw();\n","\t},\n","\n","\t<span class=\"code-comment\">// @method isEmpty(): Boolean</span>\n","\t<span class=\"code-comment\">// Returns `true` if the Polyline has no LatLngs.</span>\n","\tisEmpty: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> !<span class=\"code-keyword\">this</span>._latlngs.length;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method closestLayerPoint(p: Point): Point</span>\n","\t<span class=\"code-comment\">// Returns the point closest to `p` on the Polyline.</span>\n","\tclosestLayerPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">p</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> minDistance = <span class=\"code-literal\">Infinity</span>,\n","\t\t    minPoint = <span class=\"code-literal\">null</span>,\n","\t\t    closest = _sqClosestPointOnSegment,\n","\t\t    p1, p2;\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> j = <span class=\"code-number\">0</span>, jLen = <span class=\"code-keyword\">this</span>._parts.length; j &lt; jLen; j++) {\n","\t\t\t<span class=\"code-keyword\">var</span> points = <span class=\"code-keyword\">this</span>._parts[j];\n","\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">1</span>, len = points.length; i &lt; len; i++) {\n","\t\t\t\tp1 = points[i - <span class=\"code-number\">1</span>];\n","\t\t\t\tp2 = points[i];\n","\n","\t\t\t\t<span class=\"code-keyword\">var</span> sqDist = closest(p, p1, p2, <span class=\"code-literal\">true</span>);\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (sqDist &lt; minDistance) {\n","\t\t\t\t\tminDistance = sqDist;\n","\t\t\t\t\tminPoint = closest(p, p1, p2);\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (minPoint) {\n","\t\t\tminPoint.distance = <span class=\"code-built_in\">Math</span>.sqrt(minDistance);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> minPoint;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getCenter(): LatLng</span>\n","\t<span class=\"code-comment\">// Returns the center ([centroid](https://en.wikipedia.org/wiki/Centroid)) of the polyline.</span>\n","\tgetCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// throws error when not yet added to map as this center calculation requires projected coordinates</span>\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) {\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Must add layer to map before using getCenter()'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> i, halfDist, segDist, dist, p1, p2, ratio,\n","\t\t    points = <span class=\"code-keyword\">this</span>._rings[<span class=\"code-number\">0</span>],\n","\t\t    len = points.length;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!len) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>; }\n","\n","\t\t<span class=\"code-comment\">// polyline centroid algorithm; only uses the first ring if there are multiple</span>\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, halfDist = <span class=\"code-number\">0</span>; i &lt; len - <span class=\"code-number\">1</span>; i++) {\n","\t\t\thalfDist += points[i].distanceTo(points[i + <span class=\"code-number\">1</span>]) / <span class=\"code-number\">2</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// The line is so small in the current view that all points are on the same pixel.</span>\n","\t\t<span class=\"code-keyword\">if</span> (halfDist === <span class=\"code-number\">0</span>) {\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._map.layerPointToLatLng(points[<span class=\"code-number\">0</span>]);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, dist = <span class=\"code-number\">0</span>; i &lt; len - <span class=\"code-number\">1</span>; i++) {\n","\t\t\tp1 = points[i];\n","\t\t\tp2 = points[i + <span class=\"code-number\">1</span>];\n","\t\t\tsegDist = p1.distanceTo(p2);\n","\t\t\tdist += segDist;\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (dist &gt; halfDist) {\n","\t\t\t\tratio = (dist - halfDist) / segDist;\n","\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._map.layerPointToLatLng([\n","\t\t\t\t\tp2.x - ratio * (p2.x - p1.x),\n","\t\t\t\t\tp2.y - ratio * (p2.y - p1.y)\n","\t\t\t\t]);\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getBounds(): LatLngBounds</span>\n","\t<span class=\"code-comment\">// Returns the `LatLngBounds` of the path.</span>\n","\tgetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._bounds;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method addLatLng(latlng: LatLng, latlngs?: LatLng[]): this</span>\n","\t<span class=\"code-comment\">// Adds a given point to the polyline. By default, adds to the first ring of</span>\n","\t<span class=\"code-comment\">// the polyline in case of a multi-polyline, but can be overridden by passing</span>\n","\t<span class=\"code-comment\">// a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).</span>\n","\taddLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng, latlngs</span>) </span>{\n","\t\tlatlngs = latlngs || <span class=\"code-keyword\">this</span>._defaultShape();\n","\t\tlatlng = toLatLng(latlng);\n","\t\tlatlngs.push(latlng);\n","\t\t<span class=\"code-keyword\">this</span>._bounds.extend(latlng);\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.redraw();\n","\t},\n","\n","\t_setLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._bounds = <span class=\"code-keyword\">new</span> LatLngBounds();\n","\t\t<span class=\"code-keyword\">this</span>._latlngs = <span class=\"code-keyword\">this</span>._convertLatLngs(latlngs);\n","\t},\n","\n","\t_defaultShape: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> isFlat(<span class=\"code-keyword\">this</span>._latlngs) ? <span class=\"code-keyword\">this</span>._latlngs : <span class=\"code-keyword\">this</span>._latlngs[<span class=\"code-number\">0</span>];\n","\t},\n","\n","\t<span class=\"code-comment\">// recursively convert latlngs input into actual LatLng instances; calculate bounds along the way</span>\n","\t_convertLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> result = [],\n","\t\t    flat = isFlat(latlngs);\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = latlngs.length; i &lt; len; i++) {\n","\t\t\t<span class=\"code-keyword\">if</span> (flat) {\n","\t\t\t\tresult[i] = toLatLng(latlngs[i]);\n","\t\t\t\t<span class=\"code-keyword\">this</span>._bounds.extend(result[i]);\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\tresult[i] = <span class=\"code-keyword\">this</span>._convertLatLngs(latlngs[i]);\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">return</span> result;\n","\t},\n","\n","\t_project: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> pxBounds = <span class=\"code-keyword\">new</span> Bounds();\n","\t\t<span class=\"code-keyword\">this</span>._rings = [];\n","\t\t<span class=\"code-keyword\">this</span>._projectLatlngs(<span class=\"code-keyword\">this</span>._latlngs, <span class=\"code-keyword\">this</span>._rings, pxBounds);\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._bounds.isValid() &amp;&amp; pxBounds.isValid()) {\n","\t\t\t<span class=\"code-keyword\">this</span>._rawPxBounds = pxBounds;\n","\t\t\t<span class=\"code-keyword\">this</span>._updateBounds();\n","\t\t}\n","\t},\n","\n","\t_updateBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> w = <span class=\"code-keyword\">this</span>._clickTolerance(),\n","\t\t    p = <span class=\"code-keyword\">new</span> Point(w, w);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._rawPxBounds) {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._pxBounds = <span class=\"code-keyword\">new</span> Bounds([\n","\t\t\t<span class=\"code-keyword\">this</span>._rawPxBounds.min.subtract(p),\n","\t\t\t<span class=\"code-keyword\">this</span>._rawPxBounds.max.add(p)\n","\t\t]);\n","\t},\n","\n","\t<span class=\"code-comment\">// recursively turns latlngs into a set of rings with projected coordinates</span>\n","\t_projectLatlngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs, result, projectedBounds</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> flat = latlngs[<span class=\"code-number\">0</span>] <span class=\"code-keyword\">instanceof</span> LatLng,\n","\t\t    len = latlngs.length,\n","\t\t    i, ring;\n","\n","\t\t<span class=\"code-keyword\">if</span> (flat) {\n","\t\t\tring = [];\n","\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; len; i++) {\n","\t\t\t\tring[i] = <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(latlngs[i]);\n","\t\t\t\tprojectedBounds.extend(ring[i]);\n","\t\t\t}\n","\t\t\tresult.push(ring);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; len; i++) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._projectLatlngs(latlngs[i], result, projectedBounds);\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t<span class=\"code-comment\">// clip polyline by renderer bounds so that we have less to render for performance</span>\n","\t_clipPoints: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">this</span>._renderer._bounds;\n","\n","\t\t<span class=\"code-keyword\">this</span>._parts = [];\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._pxBounds || !<span class=\"code-keyword\">this</span>._pxBounds.intersects(bounds)) {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.noClip) {\n","\t\t\t<span class=\"code-keyword\">this</span>._parts = <span class=\"code-keyword\">this</span>._rings;\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> parts = <span class=\"code-keyword\">this</span>._parts,\n","\t\t    i, j, k, len, len2, segment, points;\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, k = <span class=\"code-number\">0</span>, len = <span class=\"code-keyword\">this</span>._rings.length; i &lt; len; i++) {\n","\t\t\tpoints = <span class=\"code-keyword\">this</span>._rings[i];\n","\n","\t\t\t<span class=\"code-keyword\">for</span> (j = <span class=\"code-number\">0</span>, len2 = points.length; j &lt; len2 - <span class=\"code-number\">1</span>; j++) {\n","\t\t\t\tsegment = clipSegment(points[j], points[j + <span class=\"code-number\">1</span>], bounds, j, <span class=\"code-literal\">true</span>);\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (!segment) { <span class=\"code-keyword\">continue</span>; }\n","\n","\t\t\t\tparts[k] = parts[k] || [];\n","\t\t\t\tparts[k].push(segment[<span class=\"code-number\">0</span>]);\n","\n","\t\t\t\t<span class=\"code-comment\">// if segment goes out of screen, or it's the last one, it's the end of the line part</span>\n","\t\t\t\t<span class=\"code-keyword\">if</span> ((segment[<span class=\"code-number\">1</span>] !== points[j + <span class=\"code-number\">1</span>]) || (j === len2 - <span class=\"code-number\">2</span>)) {\n","\t\t\t\t\tparts[k].push(segment[<span class=\"code-number\">1</span>]);\n","\t\t\t\t\tk++;\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t<span class=\"code-comment\">// simplify each clipped part of the polyline for performance</span>\n","\t_simplifyPoints: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> parts = <span class=\"code-keyword\">this</span>._parts,\n","\t\t    tolerance = <span class=\"code-keyword\">this</span>.options.smoothFactor;\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = parts.length; i &lt; len; i++) {\n","\t\t\tparts[i] = simplify(parts[i], tolerance);\n","\t\t}\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._clipPoints();\n","\t\t<span class=\"code-keyword\">this</span>._simplifyPoints();\n","\t\t<span class=\"code-keyword\">this</span>._updatePath();\n","\t},\n","\n","\t_updatePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._renderer._updatePoly(<span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t<span class=\"code-comment\">// Needed by the `Canvas` renderer for interactivity</span>\n","\t_containsPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">p, closed</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> i, j, k, len, len2, part,\n","\t\t    w = <span class=\"code-keyword\">this</span>._clickTolerance();\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._pxBounds || !<span class=\"code-keyword\">this</span>._pxBounds.contains(p)) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\n","\n","\t\t<span class=\"code-comment\">// hit detection for polylines</span>\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = <span class=\"code-keyword\">this</span>._parts.length; i &lt; len; i++) {\n","\t\t\tpart = <span class=\"code-keyword\">this</span>._parts[i];\n","\n","\t\t\t<span class=\"code-keyword\">for</span> (j = <span class=\"code-number\">0</span>, len2 = part.length, k = len2 - <span class=\"code-number\">1</span>; j &lt; len2; k = j++) {\n","\t\t\t\t<span class=\"code-keyword\">if</span> (!closed &amp;&amp; (j === <span class=\"code-number\">0</span>)) { <span class=\"code-keyword\">continue</span>; }\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (pointToSegmentDistance(p, part[k], part[j]) &lt;= w) {\n","\t\t\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @factory L.polyline(latlngs: LatLng[], options?: Polyline options)</span>\n","<span class=\"code-comment\">// Instantiates a polyline object given an array of geographical points and</span>\n","<span class=\"code-comment\">// optionally an options object. You can create a `Polyline` object with</span>\n","<span class=\"code-comment\">// multiple separate lines (`MultiPolyline`) by passing an array of arrays</span>\n","<span class=\"code-comment\">// of geographic points.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">polyline</span>(<span class=\"code-params\">latlngs, options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Polyline(latlngs, options);\n","}\n","\n","<span class=\"code-comment\">// Retrocompat. Allow plugins to support Leaflet versions before and after 1.1.</span>\n","Polyline._flat = _flat;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Polygon\n</span>","<span class=\"code-comment\"> * @aka L.Polygon\n</span>","<span class=\"code-comment\"> * @inherits Polyline\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A class for drawing polygon overlays on a map. Extends `Polyline`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Note that points you pass when creating a polygon shouldn't have an additional last point equal to the first one \u2014 it's better to filter out such points.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * // create a red polygon from an array of LatLng points\n</span>","<span class=\"code-comment\"> * var latlngs = [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]];\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * var polygon = L.polygon(latlngs, {color: 'red'}).addTo(map);\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * // zoom the map to the polygon\n</span>","<span class=\"code-comment\"> * map.fitBounds(polygon.getBounds());\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * You can also pass an array of arrays of latlngs, with the first array representing the outer shape and the other arrays representing holes in the outer shape:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var latlngs = [\n</span>","<span class=\"code-comment\"> *   [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]], // outer ring\n</span>","<span class=\"code-comment\"> *   [[37.29, -108.58],[40.71, -108.58],[40.71, -102.50],[37.29, -102.50]] // hole\n</span>","<span class=\"code-comment\"> * ];\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Additionally, you can pass a multi-dimensional array to represent a MultiPolygon shape.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var latlngs = [\n</span>","<span class=\"code-comment\"> *   [ // first polygon\n</span>","<span class=\"code-comment\"> *     [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]], // outer ring\n</span>","<span class=\"code-comment\"> *     [[37.29, -108.58],[40.71, -108.58],[40.71, -102.50],[37.29, -102.50]] // hole\n</span>","<span class=\"code-comment\"> *   ],\n</span>","<span class=\"code-comment\"> *   [ // second polygon\n</span>","<span class=\"code-comment\"> *     [[41, -111.03],[45, -111.04],[45, -104.05],[41, -104.05]]\n</span>","<span class=\"code-comment\"> *   ]\n</span>","<span class=\"code-comment\"> * ];\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Polygon = Polyline.extend({\n","\n","\toptions: {\n","\t\tfill: <span class=\"code-literal\">true</span>\n","\t},\n","\n","\tisEmpty: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> !<span class=\"code-keyword\">this</span>._latlngs.length || !<span class=\"code-keyword\">this</span>._latlngs[<span class=\"code-number\">0</span>].length;\n","\t},\n","\n","\tgetCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// throws error when not yet added to map as this center calculation requires projected coordinates</span>\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) {\n","\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Must add layer to map before using getCenter()'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> i, j, p1, p2, f, area, x, y, center,\n","\t\t    points = <span class=\"code-keyword\">this</span>._rings[<span class=\"code-number\">0</span>],\n","\t\t    len = points.length;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!len) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>; }\n","\n","\t\t<span class=\"code-comment\">// polygon centroid algorithm; only uses the first ring if there are multiple</span>\n","\n","\t\tarea = x = y = <span class=\"code-number\">0</span>;\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, j = len - <span class=\"code-number\">1</span>; i &lt; len; j = i++) {\n","\t\t\tp1 = points[i];\n","\t\t\tp2 = points[j];\n","\n","\t\t\tf = p1.y * p2.x - p2.y * p1.x;\n","\t\t\tx += (p1.x + p2.x) * f;\n","\t\t\ty += (p1.y + p2.y) * f;\n","\t\t\tarea += f * <span class=\"code-number\">3</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (area === <span class=\"code-number\">0</span>) {\n","\t\t\t<span class=\"code-comment\">// Polygon is so small that all points are on same pixel.</span>\n","\t\t\tcenter = points[<span class=\"code-number\">0</span>];\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tcenter = [x / area, y / area];\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._map.layerPointToLatLng(center);\n","\t},\n","\n","\t_convertLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> result = Polyline.prototype._convertLatLngs.call(<span class=\"code-keyword\">this</span>, latlngs),\n","\t\t    len = result.length;\n","\n","\t\t<span class=\"code-comment\">// remove last point if it equals first one</span>\n","\t\t<span class=\"code-keyword\">if</span> (len &gt;= <span class=\"code-number\">2</span> &amp;&amp; result[<span class=\"code-number\">0</span>] <span class=\"code-keyword\">instanceof</span> LatLng &amp;&amp; result[<span class=\"code-number\">0</span>].equals(result[len - <span class=\"code-number\">1</span>])) {\n","\t\t\tresult.pop();\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> result;\n","\t},\n","\n","\t_setLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlngs</span>) </span>{\n","\t\tPolyline.prototype._setLatLngs.call(<span class=\"code-keyword\">this</span>, latlngs);\n","\t\t<span class=\"code-keyword\">if</span> (isFlat(<span class=\"code-keyword\">this</span>._latlngs)) {\n","\t\t\t<span class=\"code-keyword\">this</span>._latlngs = [<span class=\"code-keyword\">this</span>._latlngs];\n","\t\t}\n","\t},\n","\n","\t_defaultShape: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> isFlat(<span class=\"code-keyword\">this</span>._latlngs[<span class=\"code-number\">0</span>]) ? <span class=\"code-keyword\">this</span>._latlngs[<span class=\"code-number\">0</span>] : <span class=\"code-keyword\">this</span>._latlngs[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>];\n","\t},\n","\n","\t_clipPoints: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// polygons need a different clipping algorithm so we redefine that</span>\n","\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">this</span>._renderer._bounds,\n","\t\t    w = <span class=\"code-keyword\">this</span>.options.weight,\n","\t\t    p = <span class=\"code-keyword\">new</span> Point(w, w);\n","\n","\t\t<span class=\"code-comment\">// increase clip padding by stroke width to avoid stroke on clip edges</span>\n","\t\tbounds = <span class=\"code-keyword\">new</span> Bounds(bounds.min.subtract(p), bounds.max.add(p));\n","\n","\t\t<span class=\"code-keyword\">this</span>._parts = [];\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._pxBounds || !<span class=\"code-keyword\">this</span>._pxBounds.intersects(bounds)) {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.noClip) {\n","\t\t\t<span class=\"code-keyword\">this</span>._parts = <span class=\"code-keyword\">this</span>._rings;\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = <span class=\"code-keyword\">this</span>._rings.length, clipped; i &lt; len; i++) {\n","\t\t\tclipped = clipPolygon(<span class=\"code-keyword\">this</span>._rings[i], bounds, <span class=\"code-literal\">true</span>);\n","\t\t\t<span class=\"code-keyword\">if</span> (clipped.length) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._parts.push(clipped);\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t_updatePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._renderer._updatePoly(<span class=\"code-keyword\">this</span>, <span class=\"code-literal\">true</span>);\n","\t},\n","\n","\t<span class=\"code-comment\">// Needed by the `Canvas` renderer for interactivity</span>\n","\t_containsPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">p</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> inside = <span class=\"code-literal\">false</span>,\n","\t\t    part, p1, p2, i, j, k, len, len2;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._pxBounds || !<span class=\"code-keyword\">this</span>._pxBounds.contains(p)) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\n","\n","\t\t<span class=\"code-comment\">// ray casting algorithm for detecting if point is in polygon</span>\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = <span class=\"code-keyword\">this</span>._parts.length; i &lt; len; i++) {\n","\t\t\tpart = <span class=\"code-keyword\">this</span>._parts[i];\n","\n","\t\t\t<span class=\"code-keyword\">for</span> (j = <span class=\"code-number\">0</span>, len2 = part.length, k = len2 - <span class=\"code-number\">1</span>; j &lt; len2; k = j++) {\n","\t\t\t\tp1 = part[j];\n","\t\t\t\tp2 = part[k];\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (((p1.y &gt; p.y) !== (p2.y &gt; p.y)) &amp;&amp; (p.x &lt; (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\n","\t\t\t\t\tinside = !inside;\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// also check if it's on polygon stroke</span>\n","\t\t<span class=\"code-keyword\">return</span> inside || Polyline.prototype._containsPoint.call(<span class=\"code-keyword\">this</span>, p, <span class=\"code-literal\">true</span>);\n","\t}\n","\n","});\n","\n","\n","<span class=\"code-comment\">// @factory L.polygon(latlngs: LatLng[], options?: Polyline options)</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">polygon</span>(<span class=\"code-params\">latlngs, options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Polygon(latlngs, options);\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class GeoJSON\r\n</span>","<span class=\"code-comment\"> * @aka L.GeoJSON\r\n</span>","<span class=\"code-comment\"> * @inherits FeatureGroup\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Represents a GeoJSON object or an array of GeoJSON objects. Allows you to parse\r\n</span>","<span class=\"code-comment\"> * GeoJSON data and display it on the map. Extends `FeatureGroup`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * L.geoJSON(data, {\r\n</span>","<span class=\"code-comment\"> * \tstyle: function (feature) {\r\n</span>","<span class=\"code-comment\"> * \t\treturn {color: feature.properties.color};\r\n</span>","<span class=\"code-comment\"> * \t}\r\n</span>","<span class=\"code-comment\"> * }).bindPopup(function (layer) {\r\n</span>","<span class=\"code-comment\"> * \treturn layer.feature.properties.description;\r\n</span>","<span class=\"code-comment\"> * }).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> GeoJSON = FeatureGroup.extend({\r\n","\r\n","\t<span class=\"code-comment\">/* @section\r\n</span>","<span class=\"code-comment\">\t * @aka GeoJSON options\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option pointToLayer: Function = *\r\n</span>","<span class=\"code-comment\">\t * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally\r\n</span>","<span class=\"code-comment\">\t * called when data is added, passing the GeoJSON point feature and its `LatLng`.\r\n</span>","<span class=\"code-comment\">\t * The default is to spawn a default `Marker`:\r\n</span>","<span class=\"code-comment\">\t * ```js\r\n</span>","<span class=\"code-comment\">\t * function(geoJsonPoint, latlng) {\r\n</span>","<span class=\"code-comment\">\t * \treturn L.marker(latlng);\r\n</span>","<span class=\"code-comment\">\t * }\r\n</span>","<span class=\"code-comment\">\t * ```\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option style: Function = *\r\n</span>","<span class=\"code-comment\">\t * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,\r\n</span>","<span class=\"code-comment\">\t * called internally when data is added.\r\n</span>","<span class=\"code-comment\">\t * The default value is to not override any defaults:\r\n</span>","<span class=\"code-comment\">\t * ```js\r\n</span>","<span class=\"code-comment\">\t * function (geoJsonFeature) {\r\n</span>","<span class=\"code-comment\">\t * \treturn {}\r\n</span>","<span class=\"code-comment\">\t * }\r\n</span>","<span class=\"code-comment\">\t * ```\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option onEachFeature: Function = *\r\n</span>","<span class=\"code-comment\">\t * A `Function` that will be called once for each created `Feature`, after it has\r\n</span>","<span class=\"code-comment\">\t * been created and styled. Useful for attaching events and popups to features.\r\n</span>","<span class=\"code-comment\">\t * The default is to do nothing with the newly created layers:\r\n</span>","<span class=\"code-comment\">\t * ```js\r\n</span>","<span class=\"code-comment\">\t * function (feature, layer) {}\r\n</span>","<span class=\"code-comment\">\t * ```\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option filter: Function = *\r\n</span>","<span class=\"code-comment\">\t * A `Function` that will be used to decide whether to include a feature or not.\r\n</span>","<span class=\"code-comment\">\t * The default is to include all features:\r\n</span>","<span class=\"code-comment\">\t * ```js\r\n</span>","<span class=\"code-comment\">\t * function (geoJsonFeature) {\r\n</span>","<span class=\"code-comment\">\t * \treturn true;\r\n</span>","<span class=\"code-comment\">\t * }\r\n</span>","<span class=\"code-comment\">\t * ```\r\n</span>","<span class=\"code-comment\">\t * <span class=\"code-doctag\">Note:</span> dynamically changing the `filter` option will have effect only on newly\r\n</span>","<span class=\"code-comment\">\t * added data. It will _not_ re-evaluate already included features.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option coordsToLatLng: Function = *\r\n</span>","<span class=\"code-comment\">\t * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.\r\n</span>","<span class=\"code-comment\">\t * The default is the `coordsToLatLng` static method.\r\n</span>","<span class=\"code-comment\">\t *\r\n</span>","<span class=\"code-comment\">\t * @option markersInheritOptions: Boolean = false\r\n</span>","<span class=\"code-comment\">\t * Whether default Markers for \"Point\" type Features inherit from group options.\r\n</span>","<span class=\"code-comment\">\t */</span>\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">geojson, options</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._layers = {};\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (geojson) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.addData(geojson);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method addData( &lt;GeoJSON&gt; data ): this</span>\r\n","\t<span class=\"code-comment\">// Adds a GeoJSON object to the layer.</span>\r\n","\taddData: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">geojson</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> features = isArray(geojson) ? geojson : geojson.features,\r\n","\t\t    i, len, feature;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (features) {\r\n","\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = features.length; i &lt; len; i++) {\r\n","\t\t\t\t<span class=\"code-comment\">// only add this if geometry or geometries are set and not null</span>\r\n","\t\t\t\tfeature = features[i];\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>.addData(feature);\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> options = <span class=\"code-keyword\">this</span>.options;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.filter &amp;&amp; !options.filter(geojson)) { <span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> layer = geometryToLayer(geojson, options);\r\n","\t\t<span class=\"code-keyword\">if</span> (!layer) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t\t}\r\n","\t\tlayer.feature = asFeature(geojson);\r\n","\r\n","\t\tlayer.defaultOptions = layer.options;\r\n","\t\t<span class=\"code-keyword\">this</span>.resetStyle(layer);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (options.onEachFeature) {\r\n","\t\t\toptions.onEachFeature(geojson, layer);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.addLayer(layer);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method resetStyle( &lt;Path&gt; layer? ): this</span>\r\n","\t<span class=\"code-comment\">// Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.</span>\r\n","\t<span class=\"code-comment\">// If `layer` is omitted, the style of all features in the current layer is reset.</span>\r\n","\tresetStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (layer === <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.eachLayer(<span class=\"code-keyword\">this</span>.resetStyle, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-comment\">// reset any custom styles</span>\r\n","\t\tlayer.options = extend({}, layer.defaultOptions);\r\n","\t\t<span class=\"code-keyword\">this</span>._setLayerStyle(layer, <span class=\"code-keyword\">this</span>.options.style);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setStyle( &lt;Function&gt; style ): this</span>\r\n","\t<span class=\"code-comment\">// Changes styles of GeoJSON vector layers with the given style function.</span>\r\n","\tsetStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">style</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.eachLayer(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">this</span>._setLayerStyle(layer, style);\r\n","\t\t}, <span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t_setLayerStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, style</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (layer.setStyle) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> style === <span class=\"code-string\">'function'</span>) {\r\n","\t\t\t\tstyle = style(layer.feature);\r\n","\t\t\t}\r\n","\t\t\tlayer.setStyle(style);\r\n","\t\t}\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @section</span>\r\n","<span class=\"code-comment\">// There are several static functions which can be called without instantiating L.GeoJSON:</span>\r\n","\r\n","<span class=\"code-comment\">// @function geometryToLayer(featureData: Object, options?: GeoJSON options): Layer</span>\r\n","<span class=\"code-comment\">// Creates a `Layer` from a given GeoJSON feature. Can use a custom</span>\r\n","<span class=\"code-comment\">// [`pointToLayer`](#geojson-pointtolayer) and/or [`coordsToLatLng`](#geojson-coordstolatlng)</span>\r\n","<span class=\"code-comment\">// functions if provided as options.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">geometryToLayer</span>(<span class=\"code-params\">geojson, options</span>) </span>{\r\n","\r\n","\t<span class=\"code-keyword\">var</span> geometry = geojson.type === <span class=\"code-string\">'Feature'</span> ? geojson.geometry : geojson,\r\n","\t    coords = geometry ? geometry.coordinates : <span class=\"code-literal\">null</span>,\r\n","\t    layers = [],\r\n","\t    pointToLayer = options &amp;&amp; options.pointToLayer,\r\n","\t    _coordsToLatLng = options &amp;&amp; options.coordsToLatLng || coordsToLatLng,\r\n","\t    latlng, latlngs, i, len;\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (!coords &amp;&amp; !geometry) {\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">switch</span> (geometry.type) {\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'Point'</span>:\r\n","\t\tlatlng = _coordsToLatLng(coords);\r\n","\t\t<span class=\"code-keyword\">return</span> _pointToLayer(pointToLayer, geojson, latlng, options);\r\n","\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'MultiPoint'</span>:\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = coords.length; i &lt; len; i++) {\r\n","\t\t\tlatlng = _coordsToLatLng(coords[i]);\r\n","\t\t\tlayers.push(_pointToLayer(pointToLayer, geojson, latlng, options));\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> FeatureGroup(layers);\r\n","\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'LineString'</span>:\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'MultiLineString'</span>:\r\n","\t\tlatlngs = coordsToLatLngs(coords, geometry.type === <span class=\"code-string\">'LineString'</span> ? <span class=\"code-number\">0</span> : <span class=\"code-number\">1</span>, _coordsToLatLng);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Polyline(latlngs, options);\r\n","\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'Polygon'</span>:\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'MultiPolygon'</span>:\r\n","\t\tlatlngs = coordsToLatLngs(coords, geometry.type === <span class=\"code-string\">'Polygon'</span> ? <span class=\"code-number\">1</span> : <span class=\"code-number\">2</span>, _coordsToLatLng);\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Polygon(latlngs, options);\r\n","\r\n","\t<span class=\"code-keyword\">case</span> <span class=\"code-string\">'GeometryCollection'</span>:\r\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = geometry.geometries.length; i &lt; len; i++) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> layer = geometryToLayer({\r\n","\t\t\t\tgeometry: geometry.geometries[i],\r\n","\t\t\t\ttype: <span class=\"code-string\">'Feature'</span>,\r\n","\t\t\t\tproperties: geojson.properties\r\n","\t\t\t}, options);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (layer) {\r\n","\t\t\t\tlayers.push(layer);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> FeatureGroup(layers);\r\n","\r\n","\t<span class=\"code-keyword\">default</span>:\r\n","\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Invalid GeoJSON object.'</span>);\r\n","\t}\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_pointToLayer</span>(<span class=\"code-params\">pointToLayerFn, geojson, latlng, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> pointToLayerFn ?\r\n","\t\tpointToLayerFn(geojson, latlng) :\r\n","\t\t<span class=\"code-keyword\">new</span> Marker(latlng, options &amp;&amp; options.markersInheritOptions &amp;&amp; options);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function coordsToLatLng(coords: Array): LatLng</span>\r\n","<span class=\"code-comment\">// Creates a `LatLng` object from an array of 2 numbers (longitude, latitude)</span>\r\n","<span class=\"code-comment\">// or 3 numbers (longitude, latitude, altitude) used in GeoJSON for points.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">coordsToLatLng</span>(<span class=\"code-params\">coords</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> LatLng(coords[<span class=\"code-number\">1</span>], coords[<span class=\"code-number\">0</span>], coords[<span class=\"code-number\">2</span>]);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function coordsToLatLngs(coords: Array, levelsDeep?: Number, coordsToLatLng?: Function): Array</span>\r\n","<span class=\"code-comment\">// Creates a multidimensional array of `LatLng`s from a GeoJSON coordinates array.</span>\r\n","<span class=\"code-comment\">// `levelsDeep` specifies the nesting level (0 is for an array of points, 1 for an array of arrays of points, etc., 0 by default).</span>\r\n","<span class=\"code-comment\">// Can use a custom [`coordsToLatLng`](#geojson-coordstolatlng) function.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">coordsToLatLngs</span>(<span class=\"code-params\">coords, levelsDeep, _coordsToLatLng</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> latlngs = [];\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = coords.length, latlng; i &lt; len; i++) {\r\n","\t\tlatlng = levelsDeep ?\r\n","\t\t\tcoordsToLatLngs(coords[i], levelsDeep - <span class=\"code-number\">1</span>, _coordsToLatLng) :\r\n","\t\t\t(_coordsToLatLng || coordsToLatLng)(coords[i]);\r\n","\r\n","\t\tlatlngs.push(latlng);\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> latlngs;\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function latLngToCoords(latlng: LatLng, precision?: Number|false): Array</span>\r\n","<span class=\"code-comment\">// Reverse of [`coordsToLatLng`](#geojson-coordstolatlng)</span>\r\n","<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">latLngToCoords</span>(<span class=\"code-params\">latlng, precision</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> latlng.alt !== <span class=\"code-literal\">undefined</span> ?\r\n","\t\t[formatNum(latlng.lng, precision), formatNum(latlng.lat, precision), formatNum(latlng.alt, precision)] :\r\n","\t\t[formatNum(latlng.lng, precision), formatNum(latlng.lat, precision)];\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function latLngsToCoords(latlngs: Array, levelsDeep?: Number, closed?: Boolean, precision?: Number|false): Array</span>\r\n","<span class=\"code-comment\">// Reverse of [`coordsToLatLngs`](#geojson-coordstolatlngs)</span>\r\n","<span class=\"code-comment\">// `closed` determines whether the first point should be appended to the end of the array to close the feature, only used when `levelsDeep` is 0. False by default.</span>\r\n","<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">latLngsToCoords</span>(<span class=\"code-params\">latlngs, levelsDeep, closed, precision</span>) </span>{\r\n","\t<span class=\"code-keyword\">var</span> coords = [];\r\n","\r\n","\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = latlngs.length; i &lt; len; i++) {\r\n","\t\tcoords.push(levelsDeep ?\r\n","\t\t\tlatLngsToCoords(latlngs[i], levelsDeep - <span class=\"code-number\">1</span>, closed, precision) :\r\n","\t\t\tlatLngToCoords(latlngs[i], precision));\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">if</span> (!levelsDeep &amp;&amp; closed) {\r\n","\t\tcoords.push(coords[<span class=\"code-number\">0</span>]);\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> coords;\r\n","}\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">getFeature</span>(<span class=\"code-params\">layer, newGeometry</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> layer.feature ?\r\n","\t\textend({}, layer.feature, {<span class=\"code-attr\">geometry</span>: newGeometry}) :\r\n","\t\tasFeature(newGeometry);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// @function asFeature(geojson: Object): Object</span>\r\n","<span class=\"code-comment\">// Normalize GeoJSON geometries/features into GeoJSON features.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">asFeature</span>(<span class=\"code-params\">geojson</span>) </span>{\r\n","\t<span class=\"code-keyword\">if</span> (geojson.type === <span class=\"code-string\">'Feature'</span> || geojson.type === <span class=\"code-string\">'FeatureCollection'</span>) {\r\n","\t\t<span class=\"code-keyword\">return</span> geojson;\r\n","\t}\r\n","\r\n","\t<span class=\"code-keyword\">return</span> {\r\n","\t\ttype: <span class=\"code-string\">'Feature'</span>,\r\n","\t\tproperties: {},\r\n","\t\tgeometry: geojson\r\n","\t};\r\n","}\r\n","\r\n","<span class=\"code-keyword\">var</span> PointToGeoJSON = {\r\n","\ttoGeoJSON: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">precision</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> getFeature(<span class=\"code-keyword\">this</span>, {\r\n","\t\t\ttype: <span class=\"code-string\">'Point'</span>,\r\n","\t\t\tcoordinates: latLngToCoords(<span class=\"code-keyword\">this</span>.getLatLng(), precision)\r\n","\t\t});\r\n","\t}\r\n","};\r\n","\r\n","<span class=\"code-comment\">// @namespace Marker</span>\r\n","<span class=\"code-comment\">// @section Other methods</span>\r\n","<span class=\"code-comment\">// @method toGeoJSON(precision?: Number|false): Object</span>\r\n","<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>\r\n","<span class=\"code-comment\">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the marker (as a GeoJSON `Point` Feature).</span>\r\n","Marker.include(PointToGeoJSON);\r\n","\r\n","<span class=\"code-comment\">// @namespace CircleMarker</span>\r\n","<span class=\"code-comment\">// @method toGeoJSON(precision?: Number|false): Object</span>\r\n","<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>\r\n","<span class=\"code-comment\">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the circle marker (as a GeoJSON `Point` Feature).</span>\r\n","Circle.include(PointToGeoJSON);\r\n","CircleMarker.include(PointToGeoJSON);\r\n","\r\n","\r\n","<span class=\"code-comment\">// @namespace Polyline</span>\r\n","<span class=\"code-comment\">// @method toGeoJSON(precision?: Number|false): Object</span>\r\n","<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>\r\n","<span class=\"code-comment\">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the polyline (as a GeoJSON `LineString` or `MultiLineString` Feature).</span>\r\n","Polyline.include({\r\n","\ttoGeoJSON: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">precision</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> multi = !isFlat(<span class=\"code-keyword\">this</span>._latlngs);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> coords = latLngsToCoords(<span class=\"code-keyword\">this</span>._latlngs, multi ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>, <span class=\"code-literal\">false</span>, precision);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> getFeature(<span class=\"code-keyword\">this</span>, {\r\n","\t\t\ttype: (multi ? <span class=\"code-string\">'Multi'</span> : <span class=\"code-string\">''</span>) + <span class=\"code-string\">'LineString'</span>,\r\n","\t\t\tcoordinates: coords\r\n","\t\t});\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace Polygon</span>\r\n","<span class=\"code-comment\">// @method toGeoJSON(precision?: Number|false): Object</span>\r\n","<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>\r\n","<span class=\"code-comment\">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the polygon (as a GeoJSON `Polygon` or `MultiPolygon` Feature).</span>\r\n","Polygon.include({\r\n","\ttoGeoJSON: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">precision</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> holes = !isFlat(<span class=\"code-keyword\">this</span>._latlngs),\r\n","\t\t    multi = holes &amp;&amp; !isFlat(<span class=\"code-keyword\">this</span>._latlngs[<span class=\"code-number\">0</span>]);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> coords = latLngsToCoords(<span class=\"code-keyword\">this</span>._latlngs, multi ? <span class=\"code-number\">2</span> : holes ? <span class=\"code-number\">1</span> : <span class=\"code-number\">0</span>, <span class=\"code-literal\">true</span>, precision);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!holes) {\r\n","\t\t\tcoords = [coords];\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> getFeature(<span class=\"code-keyword\">this</span>, {\r\n","\t\t\ttype: (multi ? <span class=\"code-string\">'Multi'</span> : <span class=\"code-string\">''</span>) + <span class=\"code-string\">'Polygon'</span>,\r\n","\t\t\tcoordinates: coords\r\n","\t\t});\r\n","\t}\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @namespace LayerGroup</span>\r\n","LayerGroup.include({\r\n","\ttoMultiPoint: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">precision</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> coords = [];\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.eachLayer(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t\tcoords.push(layer.toGeoJSON(precision).geometry.coordinates);\r\n","\t\t});\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> getFeature(<span class=\"code-keyword\">this</span>, {\r\n","\t\t\ttype: <span class=\"code-string\">'MultiPoint'</span>,\r\n","\t\t\tcoordinates: coords\r\n","\t\t});\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method toGeoJSON(precision?: Number|false): Object</span>\r\n","\t<span class=\"code-comment\">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>\r\n","\t<span class=\"code-comment\">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `FeatureCollection`, `GeometryCollection`, or `MultiPoint`).</span>\r\n","\ttoGeoJSON: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">precision</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> type = <span class=\"code-keyword\">this</span>.feature &amp;&amp; <span class=\"code-keyword\">this</span>.feature.geometry &amp;&amp; <span class=\"code-keyword\">this</span>.feature.geometry.type;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (type === <span class=\"code-string\">'MultiPoint'</span>) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.toMultiPoint(precision);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> isGeometryCollection = type === <span class=\"code-string\">'GeometryCollection'</span>,\r\n","\t\t    jsons = [];\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.eachLayer(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t\t<span class=\"code-keyword\">if</span> (layer.toGeoJSON) {\r\n","\t\t\t\t<span class=\"code-keyword\">var</span> json = layer.toGeoJSON(precision);\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (isGeometryCollection) {\r\n","\t\t\t\t\tjsons.push(json.geometry);\r\n","\t\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t\t<span class=\"code-keyword\">var</span> feature = asFeature(json);\r\n","\t\t\t\t\t<span class=\"code-comment\">// Squash nested feature collections</span>\r\n","\t\t\t\t\t<span class=\"code-keyword\">if</span> (feature.type === <span class=\"code-string\">'FeatureCollection'</span>) {\r\n","\t\t\t\t\t\tjsons.push.apply(jsons, feature.features);\r\n","\t\t\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t\t\tjsons.push(feature);\r\n","\t\t\t\t\t}\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t});\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (isGeometryCollection) {\r\n","\t\t\t<span class=\"code-keyword\">return</span> getFeature(<span class=\"code-keyword\">this</span>, {\r\n","\t\t\t\tgeometries: jsons,\r\n","\t\t\t\ttype: <span class=\"code-string\">'GeometryCollection'</span>\r\n","\t\t\t});\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> {\r\n","\t\t\ttype: <span class=\"code-string\">'FeatureCollection'</span>,\r\n","\t\t\tfeatures: jsons\r\n","\t\t};\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace GeoJSON</span>\r\n","<span class=\"code-comment\">// @factory L.geoJSON(geojson?: Object, options?: GeoJSON options)</span>\r\n","<span class=\"code-comment\">// Creates a GeoJSON layer. Optionally accepts an object in</span>\r\n","<span class=\"code-comment\">// [GeoJSON format](https://tools.ietf.org/html/rfc7946) to display on the map</span>\r\n","<span class=\"code-comment\">// (you can alternatively add it later with `addData` method) and an `options` object.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">geoJSON</span>(<span class=\"code-params\">geojson, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> GeoJSON(geojson, options);\r\n","}\r\n","\r\n","<span class=\"code-comment\">// Backward compatibility.</span>\r\n","<span class=\"code-keyword\">var</span> geoJson = geoJSON;\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class ImageOverlay\r\n</span>","<span class=\"code-comment\"> * @aka L.ImageOverlay\r\n</span>","<span class=\"code-comment\"> * @inherits Interactive layer\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Used to load and display a single image over specific bounds of the map. Extends `Layer`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var imageUrl = 'https://maps.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',\r\n</span>","<span class=\"code-comment\"> * \timageBounds = [[40.712216, -74.22655], [40.773941, -74.12544]];\r\n</span>","<span class=\"code-comment\"> * L.imageOverlay(imageUrl, imageBounds).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> ImageOverlay = Layer.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka ImageOverlay options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option opacity: Number = 1.0</span>\r\n","\t\t<span class=\"code-comment\">// The opacity of the image overlay.</span>\r\n","\t\topacity: <span class=\"code-number\">1</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option alt: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// Text for the `alt` attribute of the image (useful for accessibility).</span>\r\n","\t\talt: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option interactive: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.</span>\r\n","\t\tinteractive: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option crossOrigin: Boolean|String = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether the crossOrigin attribute will be added to the image.</span>\r\n","\t\t<span class=\"code-comment\">// If a String is provided, the image will have its crossOrigin attribute set to the String provided. This is needed if you want to access image pixel data.</span>\r\n","\t\t<span class=\"code-comment\">// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.</span>\r\n","\t\tcrossOrigin: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option errorOverlayUrl: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// URL to the overlay image to show in place of the overlay that failed to load.</span>\r\n","\t\terrorOverlayUrl: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zIndex: Number = 1</span>\r\n","\t\t<span class=\"code-comment\">// The explicit [zIndex](https://developer.mozilla.org/docs/Web/CSS/CSS_Positioning/Understanding_z_index) of the overlay layer.</span>\r\n","\t\tzIndex: <span class=\"code-number\">1</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option className: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// A custom class name to assign to the image. Empty by default.</span>\r\n","\t\tclassName: <span class=\"code-string\">''</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">url, bounds, options</span>) </span>{ <span class=\"code-comment\">// (String, LatLngBounds, Object)</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._url = url;\r\n","\t\t<span class=\"code-keyword\">this</span>._bounds = toLatLngBounds(bounds);\r\n","\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._image) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._initImage();\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.opacity &lt; <span class=\"code-number\">1</span>) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._updateOpacity();\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.interactive) {\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._image, <span class=\"code-string\">'leaflet-interactive'</span>);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.addInteractiveTarget(<span class=\"code-keyword\">this</span>._image);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.getPane().appendChild(<span class=\"code-keyword\">this</span>._image);\r\n","\t\t<span class=\"code-keyword\">this</span>._reset();\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tremove(<span class=\"code-keyword\">this</span>._image);\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.interactive) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.removeInteractiveTarget(<span class=\"code-keyword\">this</span>._image);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setOpacity(opacity: Number): this</span>\r\n","\t<span class=\"code-comment\">// Sets the opacity of the overlay.</span>\r\n","\tsetOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">opacity</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.options.opacity = opacity;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._image) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._updateOpacity();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\tsetStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">styleOpts</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (styleOpts.opacity) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.setOpacity(styleOpts.opacity);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method bringToFront(): this</span>\r\n","\t<span class=\"code-comment\">// Brings the layer to the top of all overlays.</span>\r\n","\tbringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\ttoFront(<span class=\"code-keyword\">this</span>._image);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method bringToBack(): this</span>\r\n","\t<span class=\"code-comment\">// Brings the layer to the bottom of all overlays.</span>\r\n","\tbringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\ttoBack(<span class=\"code-keyword\">this</span>._image);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setUrl(url: String): this</span>\r\n","\t<span class=\"code-comment\">// Changes the URL of the image.</span>\r\n","\tsetUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">url</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._url = url;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._image) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._image.src = url;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setBounds(bounds: LatLngBounds): this</span>\r\n","\t<span class=\"code-comment\">// Update the bounds that this ImageOverlay covers</span>\r\n","\tsetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._bounds = toLatLngBounds(bounds);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._reset();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> events = {\r\n","\t\t\tzoom: <span class=\"code-keyword\">this</span>._reset,\r\n","\t\t\tviewreset: <span class=\"code-keyword\">this</span>._reset\r\n","\t\t};\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\r\n","\t\t\tevents.zoomanim = <span class=\"code-keyword\">this</span>._animateZoom;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> events;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setZIndex(value: Number): this</span>\r\n","\t<span class=\"code-comment\">// Changes the [zIndex](#imageoverlay-zindex) of the image overlay.</span>\r\n","\tsetZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>.options.zIndex = value;\r\n","\t\t<span class=\"code-keyword\">this</span>._updateZIndex();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getBounds(): LatLngBounds</span>\r\n","\t<span class=\"code-comment\">// Get the bounds that this ImageOverlay covers</span>\r\n","\tgetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._bounds;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getElement(): HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Returns the instance of [`HTMLImageElement`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement)</span>\r\n","\t<span class=\"code-comment\">// used by this overlay.</span>\r\n","\tgetElement: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._image;\r\n","\t},\r\n","\r\n","\t_initImage: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> wasElementSupplied = <span class=\"code-keyword\">this</span>._url.tagName === <span class=\"code-string\">'IMG'</span>;\r\n","\t\t<span class=\"code-keyword\">var</span> img = <span class=\"code-keyword\">this</span>._image = wasElementSupplied ? <span class=\"code-keyword\">this</span>._url : create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'img'</span>);\r\n","\r\n","\t\taddClass(img, <span class=\"code-string\">'leaflet-image-layer'</span>);\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) { addClass(img, <span class=\"code-string\">'leaflet-zoom-animated'</span>); }\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.className) { addClass(img, <span class=\"code-keyword\">this</span>.options.className); }\r\n","\r\n","\t\timg.onselectstart = falseFn;\r\n","\t\timg.onmousemove = falseFn;\r\n","\r\n","\t\t<span class=\"code-comment\">// @event load: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the ImageOverlay layer has loaded its image</span>\r\n","\t\timg.onload = bind(<span class=\"code-keyword\">this</span>.fire, <span class=\"code-keyword\">this</span>, <span class=\"code-string\">'load'</span>);\r\n","\t\timg.onerror = bind(<span class=\"code-keyword\">this</span>._overlayOnError, <span class=\"code-keyword\">this</span>, <span class=\"code-string\">'error'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.crossOrigin || <span class=\"code-keyword\">this</span>.options.crossOrigin === <span class=\"code-string\">''</span>) {\r\n","\t\t\timg.crossOrigin = <span class=\"code-keyword\">this</span>.options.crossOrigin === <span class=\"code-literal\">true</span> ? <span class=\"code-string\">''</span> : <span class=\"code-keyword\">this</span>.options.crossOrigin;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.zIndex) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._updateZIndex();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (wasElementSupplied) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._url = img.src;\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\timg.src = <span class=\"code-keyword\">this</span>._url;\r\n","\t\timg.alt = <span class=\"code-keyword\">this</span>.options.alt;\r\n","\t},\r\n","\r\n","\t_animateZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-keyword\">this</span>._map.getZoomScale(e.zoom),\r\n","\t\t    offset = <span class=\"code-keyword\">this</span>._map._latLngBoundsToNewLayerBounds(<span class=\"code-keyword\">this</span>._bounds, e.zoom, e.center).min;\r\n","\r\n","\t\tsetTransform(<span class=\"code-keyword\">this</span>._image, offset, scale);\r\n","\t},\r\n","\r\n","\t_reset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> image = <span class=\"code-keyword\">this</span>._image,\r\n","\t\t    bounds = <span class=\"code-keyword\">new</span> Bounds(\r\n","\t\t        <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._bounds.getNorthWest()),\r\n","\t\t        <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._bounds.getSouthEast())),\r\n","\t\t    size = bounds.getSize();\r\n","\r\n","\t\tsetPosition(image, bounds.min);\r\n","\r\n","\t\timage.style.width  = size.x + <span class=\"code-string\">'px'</span>;\r\n","\t\timage.style.height = size.y + <span class=\"code-string\">'px'</span>;\r\n","\t},\r\n","\r\n","\t_updateOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\tsetOpacity(<span class=\"code-keyword\">this</span>._image, <span class=\"code-keyword\">this</span>.options.opacity);\r\n","\t},\r\n","\r\n","\t_updateZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._image &amp;&amp; <span class=\"code-keyword\">this</span>.options.zIndex !== <span class=\"code-literal\">undefined</span> &amp;&amp; <span class=\"code-keyword\">this</span>.options.zIndex !== <span class=\"code-literal\">null</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._image.style.zIndex = <span class=\"code-keyword\">this</span>.options.zIndex;\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_overlayOnError: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-comment\">// @event error: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the ImageOverlay layer fails to load its image</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'error'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> errorUrl = <span class=\"code-keyword\">this</span>.options.errorOverlayUrl;\r\n","\t\t<span class=\"code-keyword\">if</span> (errorUrl &amp;&amp; <span class=\"code-keyword\">this</span>._url !== errorUrl) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._url = errorUrl;\r\n","\t\t\t<span class=\"code-keyword\">this</span>._image.src = errorUrl;\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getCenter(): LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the center of the ImageOverlay.</span>\r\n","\tgetCenter: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._bounds.getCenter();\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @factory L.imageOverlay(imageUrl: String, bounds: LatLngBounds, options?: ImageOverlay options)</span>\r\n","<span class=\"code-comment\">// Instantiates an image overlay object given the URL of the image and the</span>\r\n","<span class=\"code-comment\">// geographical bounds it is tied to.</span>\r\n","<span class=\"code-keyword\">var</span> imageOverlay = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">url, bounds, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> ImageOverlay(url, bounds, options);\r\n","};\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class VideoOverlay\r\n</span>","<span class=\"code-comment\"> * @aka L.VideoOverlay\r\n</span>","<span class=\"code-comment\"> * @inherits ImageOverlay\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Used to load and display a video player over specific bounds of the map. Extends `ImageOverlay`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A video overlay uses the [`&lt;video&gt;`](https://developer.mozilla.org/docs/Web/HTML/Element/video)\r\n</span>","<span class=\"code-comment\"> * HTML5 element.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var videoUrl = 'https://www.mapbox.com/bites/00188/patricia_nasa.webm',\r\n</span>","<span class=\"code-comment\"> * \tvideoBounds = [[ 32, -130], [ 13, -100]];\r\n</span>","<span class=\"code-comment\"> * L.videoOverlay(videoUrl, videoBounds ).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> VideoOverlay = ImageOverlay.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka VideoOverlay options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option autoplay: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the video starts playing automatically when loaded.</span>\r\n","\t\t<span class=\"code-comment\">// On some browsers autoplay will only work with `muted: true`</span>\r\n","\t\tautoplay: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option loop: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the video will loop back to the beginning when played.</span>\r\n","\t\tloop: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option keepAspectRatio: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Whether the video will save aspect ratio after the projection.</span>\r\n","\t\t<span class=\"code-comment\">// Relevant for supported browsers. See [browser compatibility](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit)</span>\r\n","\t\tkeepAspectRatio: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option muted: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether the video starts on mute when loaded.</span>\r\n","\t\tmuted: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option playsInline: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Mobile browsers will play the video right where it is instead of open it up in fullscreen mode.</span>\r\n","\t\tplaysInline: <span class=\"code-literal\">true</span>\r\n","\t},\r\n","\r\n","\t_initImage: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> wasElementSupplied = <span class=\"code-keyword\">this</span>._url.tagName === <span class=\"code-string\">'VIDEO'</span>;\r\n","\t\t<span class=\"code-keyword\">var</span> vid = <span class=\"code-keyword\">this</span>._image = wasElementSupplied ? <span class=\"code-keyword\">this</span>._url : create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'video'</span>);\r\n","\r\n","\t\taddClass(vid, <span class=\"code-string\">'leaflet-image-layer'</span>);\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) { addClass(vid, <span class=\"code-string\">'leaflet-zoom-animated'</span>); }\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.className) { addClass(vid, <span class=\"code-keyword\">this</span>.options.className); }\r\n","\r\n","\t\tvid.onselectstart = falseFn;\r\n","\t\tvid.onmousemove = falseFn;\r\n","\r\n","\t\t<span class=\"code-comment\">// @event load: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the video has finished loading the first frame</span>\r\n","\t\tvid.onloadeddata = bind(<span class=\"code-keyword\">this</span>.fire, <span class=\"code-keyword\">this</span>, <span class=\"code-string\">'load'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (wasElementSupplied) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> sourceElements = vid.getElementsByTagName(<span class=\"code-string\">'source'</span>);\r\n","\t\t\t<span class=\"code-keyword\">var</span> sources = [];\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> j = <span class=\"code-number\">0</span>; j &lt; sourceElements.length; j++) {\r\n","\t\t\t\tsources.push(sourceElements[j].src);\r\n","\t\t\t}\r\n","\r\n","\t\t\t<span class=\"code-keyword\">this</span>._url = (sourceElements.length &gt; <span class=\"code-number\">0</span>) ? sources : [vid.src];\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!isArray(<span class=\"code-keyword\">this</span>._url)) { <span class=\"code-keyword\">this</span>._url = [<span class=\"code-keyword\">this</span>._url]; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.keepAspectRatio &amp;&amp; <span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(vid.style, <span class=\"code-string\">'objectFit'</span>)) {\r\n","\t\t\tvid.style[<span class=\"code-string\">'objectFit'</span>] = <span class=\"code-string\">'fill'</span>;\r\n","\t\t}\r\n","\t\tvid.autoplay = !!<span class=\"code-keyword\">this</span>.options.autoplay;\r\n","\t\tvid.loop = !!<span class=\"code-keyword\">this</span>.options.loop;\r\n","\t\tvid.muted = !!<span class=\"code-keyword\">this</span>.options.muted;\r\n","\t\tvid.playsInline = !!<span class=\"code-keyword\">this</span>.options.playsInline;\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>; i &lt; <span class=\"code-keyword\">this</span>._url.length; i++) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> source = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'source'</span>);\r\n","\t\t\tsource.src = <span class=\"code-keyword\">this</span>._url[i];\r\n","\t\t\tvid.appendChild(source);\r\n","\t\t}\r\n","\t}\r\n","\r\n","\t<span class=\"code-comment\">// @method getElement(): HTMLVideoElement</span>\r\n","\t<span class=\"code-comment\">// Returns the instance of [`HTMLVideoElement`](https://developer.mozilla.org/docs/Web/API/HTMLVideoElement)</span>\r\n","\t<span class=\"code-comment\">// used by this overlay.</span>\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.videoOverlay(video: String|Array|HTMLVideoElement, bounds: LatLngBounds, options?: VideoOverlay options)</span>\r\n","<span class=\"code-comment\">// Instantiates an image overlay object given the URL of the video (or array of URLs, or even a video element) and the</span>\r\n","<span class=\"code-comment\">// geographical bounds it is tied to.</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">videoOverlay</span>(<span class=\"code-params\">video, bounds, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> VideoOverlay(video, bounds, options);\r\n","}\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class SVGOverlay\n</span>","<span class=\"code-comment\"> * @aka L.SVGOverlay\n</span>","<span class=\"code-comment\"> * @inherits ImageOverlay\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Used to load, display and provide DOM access to an SVG file over specific bounds of the map. Extends `ImageOverlay`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * An SVG overlay uses the [`&lt;svg&gt;`](https://developer.mozilla.org/docs/Web/SVG/Element/svg) element.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n</span>","<span class=\"code-comment\"> * svgElement.setAttribute('xmlns', \"http://www.w3.org/2000/svg\");\n</span>","<span class=\"code-comment\"> * svgElement.setAttribute('viewBox', \"0 0 200 200\");\n</span>","<span class=\"code-comment\"> * svgElement.innerHTML = '&lt;rect width=\"200\" height=\"200\"/&gt;&lt;rect x=\"75\" y=\"23\" width=\"50\" height=\"50\" style=\"fill:red\"/&gt;&lt;rect x=\"75\" y=\"123\" width=\"50\" height=\"50\" style=\"fill:#0013ff\"/&gt;';\n</span>","<span class=\"code-comment\"> * var svgElementBounds = [ [ 32, -130 ], [ 13, -100 ] ];\n</span>","<span class=\"code-comment\"> * L.svgOverlay(svgElement, svgElementBounds).addTo(map);\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> SVGOverlay = ImageOverlay.extend({\n","\t_initImage: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> el = <span class=\"code-keyword\">this</span>._image = <span class=\"code-keyword\">this</span>._url;\n","\n","\t\taddClass(el, <span class=\"code-string\">'leaflet-image-layer'</span>);\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) { addClass(el, <span class=\"code-string\">'leaflet-zoom-animated'</span>); }\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.className) { addClass(el, <span class=\"code-keyword\">this</span>.options.className); }\n","\n","\t\tel.onselectstart = falseFn;\n","\t\tel.onmousemove = falseFn;\n","\t}\n","\n","\t<span class=\"code-comment\">// @method getElement(): SVGElement</span>\n","\t<span class=\"code-comment\">// Returns the instance of [`SVGElement`](https://developer.mozilla.org/docs/Web/API/SVGElement)</span>\n","\t<span class=\"code-comment\">// used by this overlay.</span>\n","});\n","\n","\n","<span class=\"code-comment\">// @factory L.svgOverlay(svg: String|SVGElement, bounds: LatLngBounds, options?: SVGOverlay options)</span>\n","<span class=\"code-comment\">// Instantiates an image overlay object given an SVG element and the geographical bounds it is tied to.</span>\n","<span class=\"code-comment\">// A viewBox attribute is required on the SVG element to zoom in and out properly.</span>\n","\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">svgOverlay</span>(<span class=\"code-params\">el, bounds, options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> SVGOverlay(el, bounds, options);\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class DivOverlay\r\n</span>","<span class=\"code-comment\"> * @inherits Interactive layer\r\n</span>","<span class=\"code-comment\"> * @aka L.DivOverlay\r\n</span>","<span class=\"code-comment\"> * Base model for L.Popup and L.Tooltip. Inherit from it for custom overlays like plugins.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">// @namespace DivOverlay</span>\r\n","<span class=\"code-keyword\">var</span> DivOverlay = Layer.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka DivOverlay options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option interactive: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If true, the popup/tooltip will listen to the mouse events.</span>\r\n","\t\tinteractive: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option offset: Point = Point(0, 0)</span>\r\n","\t\t<span class=\"code-comment\">// The offset of the overlay position.</span>\r\n","\t\toffset: [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>],\r\n","\r\n","\t\t<span class=\"code-comment\">// @option className: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// A custom CSS class name to assign to the overlay.</span>\r\n","\t\tclassName: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option pane: String = undefined</span>\r\n","\t\t<span class=\"code-comment\">// `Map pane` where the overlay will be added.</span>\r\n","\t\tpane: <span class=\"code-literal\">undefined</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options, source</span>) </span>{\r\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._source = source;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method openOn(map: Map): this</span>\r\n","\t<span class=\"code-comment\">// Adds the overlay to the map.</span>\r\n","\t<span class=\"code-comment\">// Alternative to `map.openPopup(popup)`/`.openTooltip(tooltip)`.</span>\r\n","\topenOn: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tmap = <span class=\"code-built_in\">arguments</span>.length ? map : <span class=\"code-keyword\">this</span>._source._map; <span class=\"code-comment\">// experimental, not the part of public api</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (!map.hasLayer(<span class=\"code-keyword\">this</span>)) {\r\n","\t\t\tmap.addLayer(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method close(): this</span>\r\n","\t<span class=\"code-comment\">// Closes the overlay.</span>\r\n","\t<span class=\"code-comment\">// Alternative to `map.closePopup(popup)`/`.closeTooltip(tooltip)`</span>\r\n","\t<span class=\"code-comment\">// and `layer.closePopup()`/`.closeTooltip()`.</span>\r\n","\tclose: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._map.removeLayer(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method toggle(layer?: Layer): this</span>\r\n","\t<span class=\"code-comment\">// Opens or closes the overlay bound to layer depending on its current state.</span>\r\n","\t<span class=\"code-comment\">// Argument may be omitted only for overlay bound to layer.</span>\r\n","\t<span class=\"code-comment\">// Alternative to `layer.togglePopup()`/`.toggleTooltip()`.</span>\r\n","\ttoggle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.close();\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">arguments</span>.length) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._source = layer;\r\n","\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\tlayer = <span class=\"code-keyword\">this</span>._source;\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">this</span>._prepareOpen();\r\n","\r\n","\t\t\t<span class=\"code-comment\">// open the overlay on the map</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.openOn(layer._map);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._zoomAnimated = map._zoomAnimated;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._container) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._initLayout();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (map._fadeAnimated) {\r\n","\t\t\tsetOpacity(<span class=\"code-keyword\">this</span>._container, <span class=\"code-number\">0</span>);\r\n","\t\t}\r\n","\r\n","\t\tclearTimeout(<span class=\"code-keyword\">this</span>._removeTimeout);\r\n","\t\t<span class=\"code-keyword\">this</span>.getPane().appendChild(<span class=\"code-keyword\">this</span>._container);\r\n","\t\t<span class=\"code-keyword\">this</span>.update();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (map._fadeAnimated) {\r\n","\t\t\tsetOpacity(<span class=\"code-keyword\">this</span>._container, <span class=\"code-number\">1</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.bringToFront();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.interactive) {\r\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-interactive'</span>);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.addInteractiveTarget(<span class=\"code-keyword\">this</span>._container);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (map._fadeAnimated) {\r\n","\t\t\tsetOpacity(<span class=\"code-keyword\">this</span>._container, <span class=\"code-number\">0</span>);\r\n","\t\t\t<span class=\"code-keyword\">this</span>._removeTimeout = setTimeout(bind(remove, <span class=\"code-literal\">undefined</span>, <span class=\"code-keyword\">this</span>._container), <span class=\"code-number\">200</span>);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tremove(<span class=\"code-keyword\">this</span>._container);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.interactive) {\r\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-interactive'</span>);\r\n","\t\t\t<span class=\"code-keyword\">this</span>.removeInteractiveTarget(<span class=\"code-keyword\">this</span>._container);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @namespace DivOverlay</span>\r\n","\t<span class=\"code-comment\">// @method getLatLng: LatLng</span>\r\n","\t<span class=\"code-comment\">// Returns the geographical point of the overlay.</span>\r\n","\tgetLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._latlng;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setLatLng(latlng: LatLng): this</span>\r\n","\t<span class=\"code-comment\">// Sets the geographical point where the overlay will open.</span>\r\n","\tsetLatLng: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._latlng = toLatLng(latlng);\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._updatePosition();\r\n","\t\t\t<span class=\"code-keyword\">this</span>._adjustPan();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getContent: String|HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Returns the content of the overlay.</span>\r\n","\tgetContent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._content;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setContent(htmlContent: String|HTMLElement|Function): this</span>\r\n","\t<span class=\"code-comment\">// Sets the HTML content of the overlay. If a function is passed the source layer will be passed to the function.</span>\r\n","\t<span class=\"code-comment\">// The function should return a `String` or `HTMLElement` to be used in the overlay.</span>\r\n","\tsetContent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">content</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._content = content;\r\n","\t\t<span class=\"code-keyword\">this</span>.update();\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getElement: String|HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Returns the HTML container of the overlay.</span>\r\n","\tgetElement: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._container;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method update: null</span>\r\n","\t<span class=\"code-comment\">// Updates the overlay content, layout and position. Useful for updating the overlay after something inside changed, e.g. image loaded.</span>\r\n","\tupdate: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._container.style.visibility = <span class=\"code-string\">'hidden'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._updateContent();\r\n","\t\t<span class=\"code-keyword\">this</span>._updateLayout();\r\n","\t\t<span class=\"code-keyword\">this</span>._updatePosition();\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._container.style.visibility = <span class=\"code-string\">''</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._adjustPan();\r\n","\t},\r\n","\r\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> events = {\r\n","\t\t\tzoom: <span class=\"code-keyword\">this</span>._updatePosition,\r\n","\t\t\tviewreset: <span class=\"code-keyword\">this</span>._updatePosition\r\n","\t\t};\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\r\n","\t\t\tevents.zoomanim = <span class=\"code-keyword\">this</span>._animateZoom;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> events;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method isOpen: Boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` when the overlay is visible on the map.</span>\r\n","\tisOpen: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> !!<span class=\"code-keyword\">this</span>._map &amp;&amp; <span class=\"code-keyword\">this</span>._map.hasLayer(<span class=\"code-keyword\">this</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method bringToFront: this</span>\r\n","\t<span class=\"code-comment\">// Brings this overlay in front of other overlays (in the same map pane).</span>\r\n","\tbringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\ttoFront(<span class=\"code-keyword\">this</span>._container);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method bringToBack: this</span>\r\n","\t<span class=\"code-comment\">// Brings this overlay to the back of other overlays (in the same map pane).</span>\r\n","\tbringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\ttoBack(<span class=\"code-keyword\">this</span>._container);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// prepare bound overlay to open: update latlng pos / content source (for FeatureGroup)</span>\r\n","\t_prepareOpen: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> source = <span class=\"code-keyword\">this</span>._source;\r\n","\t\t<span class=\"code-keyword\">if</span> (!source._map) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (source <span class=\"code-keyword\">instanceof</span> FeatureGroup) {\r\n","\t\t\tsource = <span class=\"code-literal\">null</span>;\r\n","\t\t\t<span class=\"code-keyword\">var</span> layers = <span class=\"code-keyword\">this</span>._source._layers;\r\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> layers) {\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (layers[id]._map) {\r\n","\t\t\t\t\tsource = layers[id];\r\n","\t\t\t\t\t<span class=\"code-keyword\">break</span>;\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!source) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; } <span class=\"code-comment\">// Unable to get source layer.</span>\r\n","\r\n","\t\t\t<span class=\"code-comment\">// set overlay source to this layer</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._source = source;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!latlng) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (source.getCenter) {\r\n","\t\t\t\tlatlng = source.getCenter();\r\n","\t\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (source.getLatLng) {\r\n","\t\t\t\tlatlng = source.getLatLng();\r\n","\t\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (source.getBounds) {\r\n","\t\t\t\tlatlng = source.getBounds().getCenter();\r\n","\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Unable to get source layer LatLng.'</span>);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>.setLatLng(latlng);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-comment\">// update the overlay (content, layout, etc...)</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>.update();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\r\n","\t},\r\n","\r\n","\t_updateContent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._content) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> node = <span class=\"code-keyword\">this</span>._contentNode;\r\n","\t\t<span class=\"code-keyword\">var</span> content = (<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>._content === <span class=\"code-string\">'function'</span>) ? <span class=\"code-keyword\">this</span>._content(<span class=\"code-keyword\">this</span>._source || <span class=\"code-keyword\">this</span>) : <span class=\"code-keyword\">this</span>._content;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> content === <span class=\"code-string\">'string'</span>) {\r\n","\t\t\tnode.innerHTML = content;\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t<span class=\"code-keyword\">while</span> (node.hasChildNodes()) {\r\n","\t\t\t\tnode.removeChild(node.firstChild);\r\n","\t\t\t}\r\n","\t\t\tnode.appendChild(content);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @namespace DivOverlay</span>\r\n","\t\t<span class=\"code-comment\">// @section DivOverlay events</span>\r\n","\t\t<span class=\"code-comment\">// @event contentupdate: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the content of the overlay is updated</span>\r\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'contentupdate'</span>);\r\n","\t},\r\n","\r\n","\t_updatePosition: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._latlng),\r\n","\t\t    offset = toPoint(<span class=\"code-keyword\">this</span>.options.offset),\r\n","\t\t    anchor = <span class=\"code-keyword\">this</span>._getAnchor();\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\r\n","\t\t\tsetPosition(<span class=\"code-keyword\">this</span>._container, pos.add(anchor));\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\toffset = offset.add(pos).add(anchor);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> bottom = <span class=\"code-keyword\">this</span>._containerBottom = -offset.y,\r\n","\t\t    left = <span class=\"code-keyword\">this</span>._containerLeft = -<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>._containerWidth / <span class=\"code-number\">2</span>) + offset.x;\r\n","\r\n","\t\t<span class=\"code-comment\">// bottom position the overlay in case the height of the overlay changes (images loading etc)</span>\r\n","\t\t<span class=\"code-keyword\">this</span>._container.style.bottom = bottom + <span class=\"code-string\">'px'</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>._container.style.left = left + <span class=\"code-string\">'px'</span>;\r\n","\t},\r\n","\r\n","\t_getAnchor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>];\r\n","\t}\r\n","\r\n","});\r\n","\r\n","<span class=\"code-built_in\">Map</span>.include({\r\n","\t_initOverlay: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">OverlayClass, content, latlng, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> overlay = content;\r\n","\t\t<span class=\"code-keyword\">if</span> (!(overlay <span class=\"code-keyword\">instanceof</span> OverlayClass)) {\r\n","\t\t\toverlay = <span class=\"code-keyword\">new</span> OverlayClass(options).setContent(content);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (latlng) {\r\n","\t\t\toverlay.setLatLng(latlng);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> overlay;\r\n","\t}\r\n","});\r\n","\r\n","\r\n","Layer.include({\r\n","\t_initOverlay: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">OverlayClass, old, content, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> overlay = content;\r\n","\t\t<span class=\"code-keyword\">if</span> (overlay <span class=\"code-keyword\">instanceof</span> OverlayClass) {\r\n","\t\t\tsetOptions(overlay, options);\r\n","\t\t\toverlay._source = <span class=\"code-keyword\">this</span>;\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\toverlay = (old &amp;&amp; !options) ? old : <span class=\"code-keyword\">new</span> OverlayClass(options, <span class=\"code-keyword\">this</span>);\r\n","\t\t\toverlay.setContent(content);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> overlay;\r\n","\t}\r\n","});\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class Popup\r\n</span>","<span class=\"code-comment\"> * @inherits DivOverlay\r\n</span>","<span class=\"code-comment\"> * @aka L.Popup\r\n</span>","<span class=\"code-comment\"> * Used to open popups in certain places of the map. Use [Map.openPopup](#map-openpopup) to\r\n</span>","<span class=\"code-comment\"> * open popups while making sure that only one popup is open at one time\r\n</span>","<span class=\"code-comment\"> * (recommended for usability), or use [Map.addLayer](#map-addlayer) to open as many as you want.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * If you want to just bind a popup to marker click and then open it, it's really easy:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * marker.bindPopup(popupContent).openPopup();\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> * Path overlays like polylines also have a `bindPopup` method.\r\n</span>","<span class=\"code-comment\"> * Here's a more complicated way to open a popup on a map:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var popup = L.popup()\r\n</span>","<span class=\"code-comment\"> * \t.setLatLng(latlng)\r\n</span>","<span class=\"code-comment\"> * \t.setContent('&lt;p&gt;Hello world!&lt;br /&gt;This is a nice popup.&lt;/p&gt;')\r\n</span>","<span class=\"code-comment\"> * \t.openOn(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","\r\n","<span class=\"code-comment\">// @namespace Popup</span>\r\n","<span class=\"code-keyword\">var</span> Popup = DivOverlay.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka Popup options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option pane: String = 'popupPane'</span>\r\n","\t\t<span class=\"code-comment\">// `Map pane` where the popup will be added.</span>\r\n","\t\tpane: <span class=\"code-string\">'popupPane'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option offset: Point = Point(0, 7)</span>\r\n","\t\t<span class=\"code-comment\">// The offset of the popup position.</span>\r\n","\t\toffset: [<span class=\"code-number\">0</span>, <span class=\"code-number\">7</span>],\r\n","\r\n","\t\t<span class=\"code-comment\">// @option maxWidth: Number = 300</span>\r\n","\t\t<span class=\"code-comment\">// Max width of the popup, in pixels.</span>\r\n","\t\tmaxWidth: <span class=\"code-number\">300</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option minWidth: Number = 50</span>\r\n","\t\t<span class=\"code-comment\">// Min width of the popup, in pixels.</span>\r\n","\t\tminWidth: <span class=\"code-number\">50</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option maxHeight: Number = null</span>\r\n","\t\t<span class=\"code-comment\">// If set, creates a scrollable container of the given height</span>\r\n","\t\t<span class=\"code-comment\">// inside a popup if its content exceeds it.</span>\r\n","\t\tmaxHeight: <span class=\"code-literal\">null</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPan: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Set it to `false` if you don't want the map to do panning animation</span>\r\n","\t\t<span class=\"code-comment\">// to fit the opened popup.</span>\r\n","\t\tautoPan: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPanPaddingTopLeft: Point = null</span>\r\n","\t\t<span class=\"code-comment\">// The margin between the popup and the top left corner of the map</span>\r\n","\t\t<span class=\"code-comment\">// view after autopanning was performed.</span>\r\n","\t\tautoPanPaddingTopLeft: <span class=\"code-literal\">null</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPanPaddingBottomRight: Point = null</span>\r\n","\t\t<span class=\"code-comment\">// The margin between the popup and the bottom right corner of the map</span>\r\n","\t\t<span class=\"code-comment\">// view after autopanning was performed.</span>\r\n","\t\tautoPanPaddingBottomRight: <span class=\"code-literal\">null</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoPanPadding: Point = Point(5, 5)</span>\r\n","\t\t<span class=\"code-comment\">// Equivalent of setting both top left and bottom right autopan padding to the same value.</span>\r\n","\t\tautoPanPadding: [<span class=\"code-number\">5</span>, <span class=\"code-number\">5</span>],\r\n","\r\n","\t\t<span class=\"code-comment\">// @option keepInView: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// Set it to `true` if you want to prevent users from panning the popup</span>\r\n","\t\t<span class=\"code-comment\">// off of the screen while it is open.</span>\r\n","\t\tkeepInView: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option closeButton: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Controls the presence of a close button in the popup.</span>\r\n","\t\tcloseButton: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option autoClose: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Set it to `false` if you want to override the default behavior of</span>\r\n","\t\t<span class=\"code-comment\">// the popup closing when another popup is opened.</span>\r\n","\t\tautoClose: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option closeOnEscapeKey: Boolean = true</span>\r\n","\t\t<span class=\"code-comment\">// Set it to `false` if you want to override the default behavior of</span>\r\n","\t\t<span class=\"code-comment\">// the ESC key for closing of the popup.</span>\r\n","\t\tcloseOnEscapeKey: <span class=\"code-literal\">true</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option closeOnClick: Boolean = *</span>\r\n","\t\t<span class=\"code-comment\">// Set it if you want to override the default behavior of the popup closing when user clicks</span>\r\n","\t\t<span class=\"code-comment\">// on the map. Defaults to the map's [`closePopupOnClick`](#map-closepopuponclick) option.</span>\r\n","\r\n","\t\t<span class=\"code-comment\">// @option className: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// A custom CSS class name to assign to the popup.</span>\r\n","\t\tclassName: <span class=\"code-string\">''</span>\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @namespace Popup</span>\r\n","\t<span class=\"code-comment\">// @method openOn(map: Map): this</span>\r\n","\t<span class=\"code-comment\">// Alternative to `map.openPopup(popup)`.</span>\r\n","\t<span class=\"code-comment\">// Adds the popup to the map and closes the previous one.</span>\r\n","\topenOn: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tmap = <span class=\"code-built_in\">arguments</span>.length ? map : <span class=\"code-keyword\">this</span>._source._map; <span class=\"code-comment\">// experimental, not the part of public api</span>\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!map.hasLayer(<span class=\"code-keyword\">this</span>) &amp;&amp; map._popup &amp;&amp; map._popup.options.autoClose) {\r\n","\t\t\tmap.removeLayer(map._popup);\r\n","\t\t}\r\n","\t\tmap._popup = <span class=\"code-keyword\">this</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> DivOverlay.prototype.openOn.call(<span class=\"code-keyword\">this</span>, map);\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tDivOverlay.prototype.onAdd.call(<span class=\"code-keyword\">this</span>, map);\r\n","\r\n","\t\t<span class=\"code-comment\">// @namespace Map</span>\r\n","\t\t<span class=\"code-comment\">// @section Popup events</span>\r\n","\t\t<span class=\"code-comment\">// @event popupopen: PopupEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when a popup is opened in the map</span>\r\n","\t\tmap.fire(<span class=\"code-string\">'popupopen'</span>, {<span class=\"code-attr\">popup</span>: <span class=\"code-keyword\">this</span>});\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._source) {\r\n","\t\t\t<span class=\"code-comment\">// @namespace Layer</span>\r\n","\t\t\t<span class=\"code-comment\">// @section Popup events</span>\r\n","\t\t\t<span class=\"code-comment\">// @event popupopen: PopupEvent</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired when a popup bound to this layer is opened</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._source.fire(<span class=\"code-string\">'popupopen'</span>, {<span class=\"code-attr\">popup</span>: <span class=\"code-keyword\">this</span>}, <span class=\"code-literal\">true</span>);\r\n","\t\t\t<span class=\"code-comment\">// For non-path layers, we toggle the popup when clicking</span>\r\n","\t\t\t<span class=\"code-comment\">// again the layer, so prevent the map to reopen it.</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!(<span class=\"code-keyword\">this</span>._source <span class=\"code-keyword\">instanceof</span> Path)) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._source.on(<span class=\"code-string\">'preclick'</span>, stopPropagation);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t},\r\n","\r\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\t\tDivOverlay.prototype.onRemove.call(<span class=\"code-keyword\">this</span>, map);\r\n","\r\n","\t\t<span class=\"code-comment\">// @namespace Map</span>\r\n","\t\t<span class=\"code-comment\">// @section Popup events</span>\r\n","\t\t<span class=\"code-comment\">// @event popupclose: PopupEvent</span>\r\n","\t\t<span class=\"code-comment\">// Fired when a popup in the map is closed</span>\r\n","\t\tmap.fire(<span class=\"code-string\">'popupclose'</span>, {<span class=\"code-attr\">popup</span>: <span class=\"code-keyword\">this</span>});\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._source) {\r\n","\t\t\t<span class=\"code-comment\">// @namespace Layer</span>\r\n","\t\t\t<span class=\"code-comment\">// @section Popup events</span>\r\n","\t\t\t<span class=\"code-comment\">// @event popupclose: PopupEvent</span>\r\n","\t\t\t<span class=\"code-comment\">// Fired when a popup bound to this layer is closed</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._source.fire(<span class=\"code-string\">'popupclose'</span>, {<span class=\"code-attr\">popup</span>: <span class=\"code-keyword\">this</span>}, <span class=\"code-literal\">true</span>);\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!(<span class=\"code-keyword\">this</span>._source <span class=\"code-keyword\">instanceof</span> Path)) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>._source.off(<span class=\"code-string\">'preclick'</span>, stopPropagation);\r\n","\t\t\t}\r\n","\t\t}\r\n","\t},\r\n","\r\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> events = DivOverlay.prototype.getEvents.call(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.closeOnClick !== <span class=\"code-literal\">undefined</span> ? <span class=\"code-keyword\">this</span>.options.closeOnClick : <span class=\"code-keyword\">this</span>._map.options.closePopupOnClick) {\r\n","\t\t\tevents.preclick = <span class=\"code-keyword\">this</span>.close;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.keepInView) {\r\n","\t\t\tevents.moveend = <span class=\"code-keyword\">this</span>._adjustPan;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> events;\r\n","\t},\r\n","\r\n","\t_initLayout: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> prefix = <span class=\"code-string\">'leaflet-popup'</span>,\r\n","\t\t    container = <span class=\"code-keyword\">this</span>._container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>,\r\n","\t\t\tprefix + <span class=\"code-string\">' '</span> + (<span class=\"code-keyword\">this</span>.options.className || <span class=\"code-string\">''</span>) +\r\n","\t\t\t<span class=\"code-string\">' leaflet-zoom-animated'</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> wrapper = <span class=\"code-keyword\">this</span>._wrapper = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, prefix + <span class=\"code-string\">'-content-wrapper'</span>, container);\r\n","\t\t<span class=\"code-keyword\">this</span>._contentNode = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, prefix + <span class=\"code-string\">'-content'</span>, wrapper);\r\n","\r\n","\t\tdisableClickPropagation(container);\r\n","\t\tdisableScrollPropagation(<span class=\"code-keyword\">this</span>._contentNode);\r\n","\t\ton(container, <span class=\"code-string\">'contextmenu'</span>, stopPropagation);\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._tipContainer = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, prefix + <span class=\"code-string\">'-tip-container'</span>, container);\r\n","\t\t<span class=\"code-keyword\">this</span>._tip = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, prefix + <span class=\"code-string\">'-tip'</span>, <span class=\"code-keyword\">this</span>._tipContainer);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.closeButton) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> closeButton = <span class=\"code-keyword\">this</span>._closeButton = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'a'</span>, prefix + <span class=\"code-string\">'-close-button'</span>, container);\r\n","\t\t\tcloseButton.setAttribute(<span class=\"code-string\">'role'</span>, <span class=\"code-string\">'button'</span>); <span class=\"code-comment\">// overrides the implicit role=link of &lt;a&gt; elements #7399</span>\r\n","\t\t\tcloseButton.setAttribute(<span class=\"code-string\">'aria-label'</span>, <span class=\"code-string\">'Close popup'</span>);\r\n","\t\t\tcloseButton.href = <span class=\"code-string\">'#close'</span>;\r\n","\t\t\tcloseButton.innerHTML = <span class=\"code-string\">'&lt;span aria-hidden=\"true\"&gt;&amp;#215;&lt;/span&gt;'</span>;\r\n","\r\n","\t\t\ton(closeButton, <span class=\"code-string\">'click'</span>, <span class=\"code-keyword\">this</span>.close, <span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_updateLayout: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> container = <span class=\"code-keyword\">this</span>._contentNode,\r\n","\t\t    style = container.style;\r\n","\r\n","\t\tstyle.width = <span class=\"code-string\">''</span>;\r\n","\t\tstyle.whiteSpace = <span class=\"code-string\">'nowrap'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> width = container.offsetWidth;\r\n","\t\twidth = <span class=\"code-built_in\">Math</span>.min(width, <span class=\"code-keyword\">this</span>.options.maxWidth);\r\n","\t\twidth = <span class=\"code-built_in\">Math</span>.max(width, <span class=\"code-keyword\">this</span>.options.minWidth);\r\n","\r\n","\t\tstyle.width = (width + <span class=\"code-number\">1</span>) + <span class=\"code-string\">'px'</span>;\r\n","\t\tstyle.whiteSpace = <span class=\"code-string\">''</span>;\r\n","\r\n","\t\tstyle.height = <span class=\"code-string\">''</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> height = container.offsetHeight,\r\n","\t\t    maxHeight = <span class=\"code-keyword\">this</span>.options.maxHeight,\r\n","\t\t    scrolledClass = <span class=\"code-string\">'leaflet-popup-scrolled'</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (maxHeight &amp;&amp; height &gt; maxHeight) {\r\n","\t\t\tstyle.height = maxHeight + <span class=\"code-string\">'px'</span>;\r\n","\t\t\taddClass(container, scrolledClass);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tremoveClass(container, scrolledClass);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._containerWidth = <span class=\"code-keyword\">this</span>._container.offsetWidth;\r\n","\t},\r\n","\r\n","\t_animateZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._map._latLngToNewLayerPoint(<span class=\"code-keyword\">this</span>._latlng, e.zoom, e.center),\r\n","\t\t    anchor = <span class=\"code-keyword\">this</span>._getAnchor();\r\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._container, pos.add(anchor));\r\n","\t},\r\n","\r\n","\t_adjustPan: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.autoPan) { <span class=\"code-keyword\">return</span>; }\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map._panAnim) { <span class=\"code-keyword\">this</span>._map._panAnim.stop(); }\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\r\n","\t\t    marginBottom = <span class=\"code-built_in\">parseInt</span>(getStyle(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'marginBottom'</span>), <span class=\"code-number\">10</span>) || <span class=\"code-number\">0</span>,\r\n","\t\t    containerHeight = <span class=\"code-keyword\">this</span>._container.offsetHeight + marginBottom,\r\n","\t\t    containerWidth = <span class=\"code-keyword\">this</span>._containerWidth,\r\n","\t\t    layerPos = <span class=\"code-keyword\">new</span> Point(<span class=\"code-keyword\">this</span>._containerLeft, -containerHeight - <span class=\"code-keyword\">this</span>._containerBottom);\r\n","\r\n","\t\tlayerPos._add(getPosition(<span class=\"code-keyword\">this</span>._container));\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> containerPos = map.layerPointToContainerPoint(layerPos),\r\n","\t\t    padding = toPoint(<span class=\"code-keyword\">this</span>.options.autoPanPadding),\r\n","\t\t    paddingTL = toPoint(<span class=\"code-keyword\">this</span>.options.autoPanPaddingTopLeft || padding),\r\n","\t\t    paddingBR = toPoint(<span class=\"code-keyword\">this</span>.options.autoPanPaddingBottomRight || padding),\r\n","\t\t    size = map.getSize(),\r\n","\t\t    dx = <span class=\"code-number\">0</span>,\r\n","\t\t    dy = <span class=\"code-number\">0</span>;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (containerPos.x + containerWidth + paddingBR.x &gt; size.x) { <span class=\"code-comment\">// right</span>\r\n","\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (containerPos.x - dx - paddingTL.x &lt; <span class=\"code-number\">0</span>) { <span class=\"code-comment\">// left</span>\r\n","\t\t\tdx = containerPos.x - paddingTL.x;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (containerPos.y + containerHeight + paddingBR.y &gt; size.y) { <span class=\"code-comment\">// bottom</span>\r\n","\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">if</span> (containerPos.y - dy - paddingTL.y &lt; <span class=\"code-number\">0</span>) { <span class=\"code-comment\">// top</span>\r\n","\t\t\tdy = containerPos.y - paddingTL.y;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// @namespace Map</span>\r\n","\t\t<span class=\"code-comment\">// @section Popup events</span>\r\n","\t\t<span class=\"code-comment\">// @event autopanstart: Event</span>\r\n","\t\t<span class=\"code-comment\">// Fired when the map starts autopanning when opening a popup.</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (dx || dy) {\r\n","\t\t\tmap\r\n","\t\t\t    .fire(<span class=\"code-string\">'autopanstart'</span>)\r\n","\t\t\t    .panBy([dx, dy], {<span class=\"code-attr\">animate</span>: e &amp;&amp; e.type === <span class=\"code-string\">'moveend'</span>});\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_getAnchor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-comment\">// Where should we anchor the popup on the source layer?</span>\r\n","\t\t<span class=\"code-keyword\">return</span> toPoint(<span class=\"code-keyword\">this</span>._source &amp;&amp; <span class=\"code-keyword\">this</span>._source._getPopupAnchor ? <span class=\"code-keyword\">this</span>._source._getPopupAnchor() : [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]);\r\n","\t}\r\n","\r\n","});\r\n","\r\n","<span class=\"code-comment\">// @namespace Popup</span>\r\n","<span class=\"code-comment\">// @factory L.popup(options?: Popup options, source?: Layer)</span>\r\n","<span class=\"code-comment\">// Instantiates a `Popup` object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the popup with a reference to the Layer to which it refers.</span>\r\n","<span class=\"code-keyword\">var</span> popup = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options, source</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Popup(options, source);\r\n","};\r\n","\r\n","\r\n","<span class=\"code-comment\">/* @namespace Map\r\n</span>","<span class=\"code-comment\"> * @section Interaction Options\r\n</span>","<span class=\"code-comment\"> * @option closePopupOnClick: Boolean = true\r\n</span>","<span class=\"code-comment\"> * Set it to `false` if you don't want popups to close when user clicks the map.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\r\n","\tclosePopupOnClick: <span class=\"code-literal\">true</span>\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @namespace Map</span>\r\n","<span class=\"code-comment\">// @section Methods for Layers and Controls</span>\r\n","<span class=\"code-built_in\">Map</span>.include({\r\n","\t<span class=\"code-comment\">// @method openPopup(popup: Popup): this</span>\r\n","\t<span class=\"code-comment\">// Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).</span>\r\n","\t<span class=\"code-comment\">// @alternative</span>\r\n","\t<span class=\"code-comment\">// @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this</span>\r\n","\t<span class=\"code-comment\">// Creates a popup with the specified content and options and opens it in the given point on a map.</span>\r\n","\topenPopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">popup, latlng, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._initOverlay(Popup, popup, latlng, options)\r\n","\t\t  .openOn(<span class=\"code-keyword\">this</span>);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method closePopup(popup?: Popup): this</span>\r\n","\t<span class=\"code-comment\">// Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).</span>\r\n","\tclosePopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">popup</span>) </span>{\r\n","\t\tpopup = <span class=\"code-built_in\">arguments</span>.length ? popup : <span class=\"code-keyword\">this</span>._popup;\r\n","\t\t<span class=\"code-keyword\">if</span> (popup) {\r\n","\t\t\tpopup.close();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t}\r\n","});\r\n","\r\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @namespace Layer\r\n</span>","<span class=\"code-comment\"> * @section Popup methods example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * All layers share a set of methods convenient for binding popups to it.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var layer = L.Polygon(latlngs).bindPopup('Hi There!').addTo(map);\r\n</span>","<span class=\"code-comment\"> * layer.openPopup();\r\n</span>","<span class=\"code-comment\"> * layer.closePopup();\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * Popups will also be automatically opened when the layer is clicked on and closed when the layer is removed from the map or another popup is opened.\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-comment\">// @section Popup methods</span>\r\n","Layer.include({\r\n","\r\n","\t<span class=\"code-comment\">// @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this</span>\r\n","\t<span class=\"code-comment\">// Binds a popup to the layer with the passed `content` and sets up the</span>\r\n","\t<span class=\"code-comment\">// necessary event listeners. If a `Function` is passed it will receive</span>\r\n","\t<span class=\"code-comment\">// the layer as the first argument and should return a `String` or `HTMLElement`.</span>\r\n","\tbindPopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">content, options</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._popup = <span class=\"code-keyword\">this</span>._initOverlay(Popup, <span class=\"code-keyword\">this</span>._popup, content, options);\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._popupHandlersAdded) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.on({\r\n","\t\t\t\tclick: <span class=\"code-keyword\">this</span>._openPopup,\r\n","\t\t\t\tkeypress: <span class=\"code-keyword\">this</span>._onKeyPress,\r\n","\t\t\t\tremove: <span class=\"code-keyword\">this</span>.closePopup,\r\n","\t\t\t\tmove: <span class=\"code-keyword\">this</span>._movePopup\r\n","\t\t\t});\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popupHandlersAdded = <span class=\"code-literal\">true</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method unbindPopup(): this</span>\r\n","\t<span class=\"code-comment\">// Removes the popup previously bound with `bindPopup`.</span>\r\n","\tunbindPopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.off({\r\n","\t\t\t\tclick: <span class=\"code-keyword\">this</span>._openPopup,\r\n","\t\t\t\tkeypress: <span class=\"code-keyword\">this</span>._onKeyPress,\r\n","\t\t\t\tremove: <span class=\"code-keyword\">this</span>.closePopup,\r\n","\t\t\t\tmove: <span class=\"code-keyword\">this</span>._movePopup\r\n","\t\t\t});\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popupHandlersAdded = <span class=\"code-literal\">false</span>;\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popup = <span class=\"code-literal\">null</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method openPopup(latlng?: LatLng): this</span>\r\n","\t<span class=\"code-comment\">// Opens the bound popup at the specified `latlng` or at the default popup anchor if no `latlng` is passed.</span>\r\n","\topenPopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup &amp;&amp; <span class=\"code-keyword\">this</span>._popup._prepareOpen(latlng)) {\r\n","\t\t\t<span class=\"code-comment\">// open the popup on the map</span>\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popup.openOn(<span class=\"code-keyword\">this</span>._map);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method closePopup(): this</span>\r\n","\t<span class=\"code-comment\">// Closes the popup bound to this layer if it is open.</span>\r\n","\tclosePopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popup.close();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method togglePopup(): this</span>\r\n","\t<span class=\"code-comment\">// Opens or closes the popup bound to this layer depending on its current state.</span>\r\n","\ttogglePopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popup.toggle(<span class=\"code-keyword\">this</span>);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method isPopupOpen(): boolean</span>\r\n","\t<span class=\"code-comment\">// Returns `true` if the popup bound to this layer is currently open.</span>\r\n","\tisPopupOpen: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>._popup ? <span class=\"code-keyword\">this</span>._popup.isOpen() : <span class=\"code-literal\">false</span>);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setPopupContent(content: String|HTMLElement|Popup): this</span>\r\n","\t<span class=\"code-comment\">// Sets the content of the popup bound to this layer.</span>\r\n","\tsetPopupContent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">content</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._popup.setContent(content);\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method getPopup(): Popup</span>\r\n","\t<span class=\"code-comment\">// Returns the popup bound to this layer.</span>\r\n","\tgetPopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._popup;\r\n","\t},\r\n","\r\n","\t_openPopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._popup || !<span class=\"code-keyword\">this</span>._map) {\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-comment\">// prevent map click</span>\r\n","\t\tstop(e);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> target = e.layer || e.target;\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._popup._source === target &amp;&amp; !(target <span class=\"code-keyword\">instanceof</span> Path)) {\r\n","\t\t\t<span class=\"code-comment\">// treat it like a marker and figure out</span>\r\n","\t\t\t<span class=\"code-comment\">// if we should toggle it open/closed</span>\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map.hasLayer(<span class=\"code-keyword\">this</span>._popup)) {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.closePopup();\r\n","\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\t<span class=\"code-keyword\">this</span>.openPopup(e.latlng);\r\n","\t\t\t}\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">this</span>._popup._source = target;\r\n","\t\t<span class=\"code-keyword\">this</span>.openPopup(e.latlng);\r\n","\t},\r\n","\r\n","\t_movePopup: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">this</span>._popup.setLatLng(e.latlng);\r\n","\t},\r\n","\r\n","\t_onKeyPress: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (e.originalEvent.keyCode === <span class=\"code-number\">13</span>) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>._openPopup(e);\r\n","\t\t}\r\n","\t}\r\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Tooltip\n</span>","<span class=\"code-comment\"> * @inherits DivOverlay\n</span>","<span class=\"code-comment\"> * @aka L.Tooltip\n</span>","<span class=\"code-comment\"> * Used to display small texts on top of map layers.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * marker.bindTooltip(\"my tooltip text\").openTooltip();\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> * Note about tooltip offset. Leaflet takes two options in consideration\n</span>","<span class=\"code-comment\"> * for computing tooltip offsetting:\n</span>","<span class=\"code-comment\"> * - the `offset` Tooltip option: it defaults to [0, 0], and it's specific to one tooltip.\n</span>","<span class=\"code-comment\"> *   Add a positive x offset to move the tooltip to the right, and a positive y offset to\n</span>","<span class=\"code-comment\"> *   move it to the bottom. Negatives will move to the left and top.\n</span>","<span class=\"code-comment\"> * - the `tooltipAnchor` Icon option: this will only be considered for Marker. You\n</span>","<span class=\"code-comment\"> *   should adapt this value if you use a custom icon.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-comment\">// @namespace Tooltip</span>\n","<span class=\"code-keyword\">var</span> Tooltip = DivOverlay.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka Tooltip options</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option pane: String = 'tooltipPane'</span>\n","\t\t<span class=\"code-comment\">// `Map pane` where the tooltip will be added.</span>\n","\t\tpane: <span class=\"code-string\">'tooltipPane'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option offset: Point = Point(0, 0)</span>\n","\t\t<span class=\"code-comment\">// Optional offset of the tooltip position.</span>\n","\t\toffset: [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>],\n","\n","\t\t<span class=\"code-comment\">// @option direction: String = 'auto'</span>\n","\t\t<span class=\"code-comment\">// Direction where to open the tooltip. Possible values are: `right`, `left`,</span>\n","\t\t<span class=\"code-comment\">// `top`, `bottom`, `center`, `auto`.</span>\n","\t\t<span class=\"code-comment\">// `auto` will dynamically switch between `right` and `left` according to the tooltip</span>\n","\t\t<span class=\"code-comment\">// position on the map.</span>\n","\t\tdirection: <span class=\"code-string\">'auto'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option permanent: Boolean = false</span>\n","\t\t<span class=\"code-comment\">// Whether to open the tooltip permanently or only on mouseover.</span>\n","\t\tpermanent: <span class=\"code-literal\">false</span>,\n","\n","\t\t<span class=\"code-comment\">// @option sticky: Boolean = false</span>\n","\t\t<span class=\"code-comment\">// If true, the tooltip will follow the mouse instead of being fixed at the feature center.</span>\n","\t\tsticky: <span class=\"code-literal\">false</span>,\n","\n","\t\t<span class=\"code-comment\">// @option opacity: Number = 0.9</span>\n","\t\t<span class=\"code-comment\">// Tooltip container opacity.</span>\n","\t\topacity: <span class=\"code-number\">0.9</span>\n","\t},\n","\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\tDivOverlay.prototype.onAdd.call(<span class=\"code-keyword\">this</span>, map);\n","\t\t<span class=\"code-keyword\">this</span>.setOpacity(<span class=\"code-keyword\">this</span>.options.opacity);\n","\n","\t\t<span class=\"code-comment\">// @namespace Map</span>\n","\t\t<span class=\"code-comment\">// @section Tooltip events</span>\n","\t\t<span class=\"code-comment\">// @event tooltipopen: TooltipEvent</span>\n","\t\t<span class=\"code-comment\">// Fired when a tooltip is opened in the map.</span>\n","\t\tmap.fire(<span class=\"code-string\">'tooltipopen'</span>, {<span class=\"code-attr\">tooltip</span>: <span class=\"code-keyword\">this</span>});\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._source) {\n","\t\t\t<span class=\"code-keyword\">this</span>.addEventParent(<span class=\"code-keyword\">this</span>._source);\n","\n","\t\t\t<span class=\"code-comment\">// @namespace Layer</span>\n","\t\t\t<span class=\"code-comment\">// @section Tooltip events</span>\n","\t\t\t<span class=\"code-comment\">// @event tooltipopen: TooltipEvent</span>\n","\t\t\t<span class=\"code-comment\">// Fired when a tooltip bound to this layer is opened.</span>\n","\t\t\t<span class=\"code-keyword\">this</span>._source.fire(<span class=\"code-string\">'tooltipopen'</span>, {<span class=\"code-attr\">tooltip</span>: <span class=\"code-keyword\">this</span>}, <span class=\"code-literal\">true</span>);\n","\t\t}\n","\t},\n","\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\tDivOverlay.prototype.onRemove.call(<span class=\"code-keyword\">this</span>, map);\n","\n","\t\t<span class=\"code-comment\">// @namespace Map</span>\n","\t\t<span class=\"code-comment\">// @section Tooltip events</span>\n","\t\t<span class=\"code-comment\">// @event tooltipclose: TooltipEvent</span>\n","\t\t<span class=\"code-comment\">// Fired when a tooltip in the map is closed.</span>\n","\t\tmap.fire(<span class=\"code-string\">'tooltipclose'</span>, {<span class=\"code-attr\">tooltip</span>: <span class=\"code-keyword\">this</span>});\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._source) {\n","\t\t\t<span class=\"code-keyword\">this</span>.removeEventParent(<span class=\"code-keyword\">this</span>._source);\n","\n","\t\t\t<span class=\"code-comment\">// @namespace Layer</span>\n","\t\t\t<span class=\"code-comment\">// @section Tooltip events</span>\n","\t\t\t<span class=\"code-comment\">// @event tooltipclose: TooltipEvent</span>\n","\t\t\t<span class=\"code-comment\">// Fired when a tooltip bound to this layer is closed.</span>\n","\t\t\t<span class=\"code-keyword\">this</span>._source.fire(<span class=\"code-string\">'tooltipclose'</span>, {<span class=\"code-attr\">tooltip</span>: <span class=\"code-keyword\">this</span>}, <span class=\"code-literal\">true</span>);\n","\t\t}\n","\t},\n","\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> events = DivOverlay.prototype.getEvents.call(<span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.permanent) {\n","\t\t\tevents.preclick = <span class=\"code-keyword\">this</span>.close;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">return</span> events;\n","\t},\n","\n","\t_initLayout: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> prefix = <span class=\"code-string\">'leaflet-tooltip'</span>,\n","\t\t    className = prefix + <span class=\"code-string\">' '</span> + (<span class=\"code-keyword\">this</span>.options.className || <span class=\"code-string\">''</span>) + <span class=\"code-string\">' leaflet-zoom-'</span> + (<span class=\"code-keyword\">this</span>._zoomAnimated ? <span class=\"code-string\">'animated'</span> : <span class=\"code-string\">'hide'</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._contentNode = <span class=\"code-keyword\">this</span>._container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, className);\n","\t},\n","\n","\t_updateLayout: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{},\n","\n","\t_adjustPan: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{},\n","\n","\t_setPosition: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">pos</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> subX, subY,\n","\t\t    map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    container = <span class=\"code-keyword\">this</span>._container,\n","\t\t    centerPoint = map.latLngToContainerPoint(map.getCenter()),\n","\t\t    tooltipPoint = map.layerPointToContainerPoint(pos),\n","\t\t    direction = <span class=\"code-keyword\">this</span>.options.direction,\n","\t\t    tooltipWidth = container.offsetWidth,\n","\t\t    tooltipHeight = container.offsetHeight,\n","\t\t    offset = toPoint(<span class=\"code-keyword\">this</span>.options.offset),\n","\t\t    anchor = <span class=\"code-keyword\">this</span>._getAnchor();\n","\n","\t\t<span class=\"code-keyword\">if</span> (direction === <span class=\"code-string\">'top'</span>) {\n","\t\t\tsubX = tooltipWidth / <span class=\"code-number\">2</span>;\n","\t\t\tsubY = tooltipHeight;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (direction === <span class=\"code-string\">'bottom'</span>) {\n","\t\t\tsubX = tooltipWidth / <span class=\"code-number\">2</span>;\n","\t\t\tsubY = <span class=\"code-number\">0</span>;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (direction === <span class=\"code-string\">'center'</span>) {\n","\t\t\tsubX = tooltipWidth / <span class=\"code-number\">2</span>;\n","\t\t\tsubY = tooltipHeight / <span class=\"code-number\">2</span>;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (direction === <span class=\"code-string\">'right'</span>) {\n","\t\t\tsubX = <span class=\"code-number\">0</span>;\n","\t\t\tsubY = tooltipHeight / <span class=\"code-number\">2</span>;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (direction === <span class=\"code-string\">'left'</span>) {\n","\t\t\tsubX = tooltipWidth;\n","\t\t\tsubY = tooltipHeight / <span class=\"code-number\">2</span>;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (tooltipPoint.x &lt; centerPoint.x) {\n","\t\t\tdirection = <span class=\"code-string\">'right'</span>;\n","\t\t\tsubX = <span class=\"code-number\">0</span>;\n","\t\t\tsubY = tooltipHeight / <span class=\"code-number\">2</span>;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tdirection = <span class=\"code-string\">'left'</span>;\n","\t\t\tsubX = tooltipWidth + (offset.x + anchor.x) * <span class=\"code-number\">2</span>;\n","\t\t\tsubY = tooltipHeight / <span class=\"code-number\">2</span>;\n","\t\t}\n","\n","\t\tpos = pos.subtract(toPoint(subX, subY, <span class=\"code-literal\">true</span>)).add(offset).add(anchor);\n","\n","\t\tremoveClass(container, <span class=\"code-string\">'leaflet-tooltip-right'</span>);\n","\t\tremoveClass(container, <span class=\"code-string\">'leaflet-tooltip-left'</span>);\n","\t\tremoveClass(container, <span class=\"code-string\">'leaflet-tooltip-top'</span>);\n","\t\tremoveClass(container, <span class=\"code-string\">'leaflet-tooltip-bottom'</span>);\n","\t\taddClass(container, <span class=\"code-string\">'leaflet-tooltip-'</span> + direction);\n","\t\tsetPosition(container, pos);\n","\t},\n","\n","\t_updatePosition: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint(<span class=\"code-keyword\">this</span>._latlng);\n","\t\t<span class=\"code-keyword\">this</span>._setPosition(pos);\n","\t},\n","\n","\tsetOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">opacity</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>.options.opacity = opacity;\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._container) {\n","\t\t\tsetOpacity(<span class=\"code-keyword\">this</span>._container, opacity);\n","\t\t}\n","\t},\n","\n","\t_animateZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> pos = <span class=\"code-keyword\">this</span>._map._latLngToNewLayerPoint(<span class=\"code-keyword\">this</span>._latlng, e.zoom, e.center);\n","\t\t<span class=\"code-keyword\">this</span>._setPosition(pos);\n","\t},\n","\n","\t_getAnchor: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// Where should we anchor the tooltip on the source layer?</span>\n","\t\t<span class=\"code-keyword\">return</span> toPoint(<span class=\"code-keyword\">this</span>._source &amp;&amp; <span class=\"code-keyword\">this</span>._source._getTooltipAnchor &amp;&amp; !<span class=\"code-keyword\">this</span>.options.sticky ? <span class=\"code-keyword\">this</span>._source._getTooltipAnchor() : [<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]);\n","\t}\n","\n","});\n","\n","<span class=\"code-comment\">// @namespace Tooltip</span>\n","<span class=\"code-comment\">// @factory L.tooltip(options?: Tooltip options, source?: Layer)</span>\n","<span class=\"code-comment\">// Instantiates a Tooltip object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the tooltip with a reference to the Layer to which it refers.</span>\n","<span class=\"code-keyword\">var</span> tooltip = <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options, source</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Tooltip(options, source);\n","};\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Methods for Layers and Controls</span>\n","<span class=\"code-built_in\">Map</span>.include({\n","\n","\t<span class=\"code-comment\">// @method openTooltip(tooltip: Tooltip): this</span>\n","\t<span class=\"code-comment\">// Opens the specified tooltip.</span>\n","\t<span class=\"code-comment\">// @alternative</span>\n","\t<span class=\"code-comment\">// @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this</span>\n","\t<span class=\"code-comment\">// Creates a tooltip with the specified content and options and open it.</span>\n","\topenTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">tooltip, latlng, options</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._initOverlay(Tooltip, tooltip, latlng, options)\n","\t\t  .openOn(<span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method closeTooltip(tooltip: Tooltip): this</span>\n","\t<span class=\"code-comment\">// Closes the tooltip given as parameter.</span>\n","\tcloseTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">tooltip</span>) </span>{\n","\t\ttooltip.close();\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t}\n","\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @namespace Layer\n</span>","<span class=\"code-comment\"> * @section Tooltip methods example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * All layers share a set of methods convenient for binding tooltips to it.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var layer = L.Polygon(latlngs).bindTooltip('Hi There!').addTo(map);\n</span>","<span class=\"code-comment\"> * layer.openTooltip();\n</span>","<span class=\"code-comment\"> * layer.closeTooltip();\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @section Tooltip methods</span>\n","Layer.include({\n","\n","\t<span class=\"code-comment\">// @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this</span>\n","\t<span class=\"code-comment\">// Binds a tooltip to the layer with the passed `content` and sets up the</span>\n","\t<span class=\"code-comment\">// necessary event listeners. If a `Function` is passed it will receive</span>\n","\t<span class=\"code-comment\">// the layer as the first argument and should return a `String` or `HTMLElement`.</span>\n","\tbindTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">content, options</span>) </span>{\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip &amp;&amp; <span class=\"code-keyword\">this</span>.isTooltipOpen()) {\n","\t\t\t<span class=\"code-keyword\">this</span>.unbindTooltip();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._tooltip = <span class=\"code-keyword\">this</span>._initOverlay(Tooltip, <span class=\"code-keyword\">this</span>._tooltip, content, options);\n","\t\t<span class=\"code-keyword\">this</span>._initTooltipInteractions();\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip.options.permanent &amp;&amp; <span class=\"code-keyword\">this</span>._map &amp;&amp; <span class=\"code-keyword\">this</span>._map.hasLayer(<span class=\"code-keyword\">this</span>)) {\n","\t\t\t<span class=\"code-keyword\">this</span>.openTooltip();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method unbindTooltip(): this</span>\n","\t<span class=\"code-comment\">// Removes the tooltip previously bound with `bindTooltip`.</span>\n","\tunbindTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip) {\n","\t\t\t<span class=\"code-keyword\">this</span>._initTooltipInteractions(<span class=\"code-literal\">true</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>.closeTooltip();\n","\t\t\t<span class=\"code-keyword\">this</span>._tooltip = <span class=\"code-literal\">null</span>;\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t_initTooltipInteractions: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">remove</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!remove &amp;&amp; <span class=\"code-keyword\">this</span>._tooltipHandlersAdded) { <span class=\"code-keyword\">return</span>; }\n","\t\t<span class=\"code-keyword\">var</span> onOff = remove ? <span class=\"code-string\">'off'</span> : <span class=\"code-string\">'on'</span>,\n","\t\t    events = {\n","\t\t\tremove: <span class=\"code-keyword\">this</span>.closeTooltip,\n","\t\t\tmove: <span class=\"code-keyword\">this</span>._moveTooltip\n","\t\t    };\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._tooltip.options.permanent) {\n","\t\t\tevents.mouseover = <span class=\"code-keyword\">this</span>._openTooltip;\n","\t\t\tevents.mouseout = <span class=\"code-keyword\">this</span>.closeTooltip;\n","\t\t\tevents.click = <span class=\"code-keyword\">this</span>._openTooltip;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tevents.add = <span class=\"code-keyword\">this</span>._openTooltip;\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip.options.sticky) {\n","\t\t\tevents.mousemove = <span class=\"code-keyword\">this</span>._moveTooltip;\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>[onOff](events);\n","\t\t<span class=\"code-keyword\">this</span>._tooltipHandlersAdded = !remove;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method openTooltip(latlng?: LatLng): this</span>\n","\t<span class=\"code-comment\">// Opens the bound tooltip at the specified `latlng` or at the default tooltip anchor if no `latlng` is passed.</span>\n","\topenTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latlng</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip &amp;&amp; <span class=\"code-keyword\">this</span>._tooltip._prepareOpen(latlng)) {\n","\t\t\t<span class=\"code-comment\">// open the tooltip on the map</span>\n","\t\t\t<span class=\"code-keyword\">this</span>._tooltip.openOn(<span class=\"code-keyword\">this</span>._map);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method closeTooltip(): this</span>\n","\t<span class=\"code-comment\">// Closes the tooltip bound to this layer if it is open.</span>\n","\tcloseTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip) {\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._tooltip.close();\n","\t\t}\n","\t},\n","\n","\t<span class=\"code-comment\">// @method toggleTooltip(): this</span>\n","\t<span class=\"code-comment\">// Opens or closes the tooltip bound to this layer depending on its current state.</span>\n","\ttoggleTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip) {\n","\t\t\t<span class=\"code-keyword\">this</span>._tooltip.toggle(<span class=\"code-keyword\">this</span>);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method isTooltipOpen(): boolean</span>\n","\t<span class=\"code-comment\">// Returns `true` if the tooltip bound to this layer is currently open.</span>\n","\tisTooltipOpen: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._tooltip.isOpen();\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setTooltipContent(content: String|HTMLElement|Tooltip): this</span>\n","\t<span class=\"code-comment\">// Sets the content of the tooltip bound to this layer.</span>\n","\tsetTooltipContent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">content</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip) {\n","\t\t\t<span class=\"code-keyword\">this</span>._tooltip.setContent(content);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getTooltip(): Tooltip</span>\n","\t<span class=\"code-comment\">// Returns the tooltip bound to this layer.</span>\n","\tgetTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._tooltip;\n","\t},\n","\n","\t_openTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._tooltip || !<span class=\"code-keyword\">this</span>._map || (<span class=\"code-keyword\">this</span>._map.dragging &amp;&amp; <span class=\"code-keyword\">this</span>._map.dragging.moving())) {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>._tooltip._source = e.layer || e.target;\n","\n","\t\t<span class=\"code-keyword\">this</span>.openTooltip(<span class=\"code-keyword\">this</span>._tooltip.options.sticky ? e.latlng : <span class=\"code-literal\">undefined</span>);\n","\t},\n","\n","\t_moveTooltip: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> latlng = e.latlng, containerPoint, layerPoint;\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tooltip.options.sticky &amp;&amp; e.originalEvent) {\n","\t\t\tcontainerPoint = <span class=\"code-keyword\">this</span>._map.mouseEventToContainerPoint(e.originalEvent);\n","\t\t\tlayerPoint = <span class=\"code-keyword\">this</span>._map.containerPointToLayerPoint(containerPoint);\n","\t\t\tlatlng = <span class=\"code-keyword\">this</span>._map.layerPointToLatLng(layerPoint);\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>._tooltip.setLatLng(latlng);\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class DivIcon\n</span>","<span class=\"code-comment\"> * @aka L.DivIcon\n</span>","<span class=\"code-comment\"> * @inherits Icon\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Represents a lightweight icon for markers that uses a simple `&lt;div&gt;`\n</span>","<span class=\"code-comment\"> * element instead of an image. Inherits from `Icon` but ignores the `iconUrl` and shadow options.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var myIcon = L.divIcon({className: 'my-div-icon'});\n</span>","<span class=\"code-comment\"> * // you can set .my-div-icon styles in CSS\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * By default, it has a 'leaflet-div-icon' CSS class and is styled as a little white square with a shadow.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> DivIcon = Icon.extend({\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @section</span>\n","\t\t<span class=\"code-comment\">// @aka DivIcon options</span>\n","\t\ticonSize: [<span class=\"code-number\">12</span>, <span class=\"code-number\">12</span>], <span class=\"code-comment\">// also can be set through CSS</span>\n","\n","\t\t<span class=\"code-comment\">// iconAnchor: (Point),</span>\n","\t\t<span class=\"code-comment\">// popupAnchor: (Point),</span>\n","\n","\t\t<span class=\"code-comment\">// @option html: String|HTMLElement = ''</span>\n","\t\t<span class=\"code-comment\">// Custom HTML code to put inside the div element, empty by default. Alternatively,</span>\n","\t\t<span class=\"code-comment\">// an instance of `HTMLElement`.</span>\n","\t\thtml: <span class=\"code-literal\">false</span>,\n","\n","\t\t<span class=\"code-comment\">// @option bgPos: Point = [0, 0]</span>\n","\t\t<span class=\"code-comment\">// Optional relative position of the background, in pixels</span>\n","\t\tbgPos: <span class=\"code-literal\">null</span>,\n","\n","\t\tclassName: <span class=\"code-string\">'leaflet-div-icon'</span>\n","\t},\n","\n","\tcreateIcon: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">oldIcon</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> div = (oldIcon &amp;&amp; oldIcon.tagName === <span class=\"code-string\">'DIV'</span>) ? oldIcon : <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'div'</span>),\n","\t\t    options = <span class=\"code-keyword\">this</span>.options;\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.html <span class=\"code-keyword\">instanceof</span> Element) {\n","\t\t\tempty(div);\n","\t\t\tdiv.appendChild(options.html);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tdiv.innerHTML = options.html !== <span class=\"code-literal\">false</span> ? options.html : <span class=\"code-string\">''</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.bgPos) {\n","\t\t\t<span class=\"code-keyword\">var</span> bgPos = toPoint(options.bgPos);\n","\t\t\tdiv.style.backgroundPosition = (-bgPos.x) + <span class=\"code-string\">'px '</span> + (-bgPos.y) + <span class=\"code-string\">'px'</span>;\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>._setIconStyles(div, <span class=\"code-string\">'icon'</span>);\n","\n","\t\t<span class=\"code-keyword\">return</span> div;\n","\t},\n","\n","\tcreateShadow: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @factory L.divIcon(options: DivIcon options)</span>\n","<span class=\"code-comment\">// Creates a `DivIcon` instance with the given options.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">divIcon</span>(<span class=\"code-params\">options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> DivIcon(options);\n","}\n","\n","Icon.Default = IconDefault;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class GridLayer\n</span>","<span class=\"code-comment\"> * @inherits Layer\n</span>","<span class=\"code-comment\"> * @aka L.GridLayer\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Generic class for handling a tiled grid of HTML elements. This is the base class for all tile layers and replaces `TileLayer.Canvas`.\n</span>","<span class=\"code-comment\"> * GridLayer can be extended to create a tiled grid of HTML elements like `&lt;canvas&gt;`, `&lt;img&gt;` or `&lt;div&gt;`. GridLayer will handle creating and animating these DOM elements for you.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @section Synchronous usage\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * To create a custom layer, extend GridLayer and implement the `createTile()` method, which will be passed a `Point` object with the `x`, `y`, and `z` (zoom level) coordinates to draw your tile.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var CanvasLayer = L.GridLayer.extend({\n</span>","<span class=\"code-comment\"> *     createTile: function(coords){\n</span>","<span class=\"code-comment\"> *         // create a &lt;canvas&gt; element for drawing\n</span>","<span class=\"code-comment\"> *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         // setup tile width and height according to the options\n</span>","<span class=\"code-comment\"> *         var size = this.getTileSize();\n</span>","<span class=\"code-comment\"> *         tile.width = size.x;\n</span>","<span class=\"code-comment\"> *         tile.height = size.y;\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         // get a canvas context and draw something on it using coords.x, coords.y and coords.z\n</span>","<span class=\"code-comment\"> *         var ctx = tile.getContext('2d');\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         // return the tile so it can be rendered on screen\n</span>","<span class=\"code-comment\"> *         return tile;\n</span>","<span class=\"code-comment\"> *     }\n</span>","<span class=\"code-comment\"> * });\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @section Asynchronous usage\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Tile creation can also be asynchronous, this is useful when using a third-party drawing library. Once the tile is finished drawing it can be passed to the `done()` callback.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var CanvasLayer = L.GridLayer.extend({\n</span>","<span class=\"code-comment\"> *     createTile: function(coords, done){\n</span>","<span class=\"code-comment\"> *         var error;\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         // create a &lt;canvas&gt; element for drawing\n</span>","<span class=\"code-comment\"> *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         // setup tile width and height according to the options\n</span>","<span class=\"code-comment\"> *         var size = this.getTileSize();\n</span>","<span class=\"code-comment\"> *         tile.width = size.x;\n</span>","<span class=\"code-comment\"> *         tile.height = size.y;\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         // draw something asynchronously and pass the tile to the done() callback\n</span>","<span class=\"code-comment\"> *         setTimeout(function() {\n</span>","<span class=\"code-comment\"> *             done(error, tile);\n</span>","<span class=\"code-comment\"> *         }, 1000);\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *         return tile;\n</span>","<span class=\"code-comment\"> *     }\n</span>","<span class=\"code-comment\"> * });\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @section\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-keyword\">var</span> GridLayer = Layer.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka GridLayer options</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option tileSize: Number|Point = 256</span>\n","\t\t<span class=\"code-comment\">// Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.</span>\n","\t\ttileSize: <span class=\"code-number\">256</span>,\n","\n","\t\t<span class=\"code-comment\">// @option opacity: Number = 1.0</span>\n","\t\t<span class=\"code-comment\">// Opacity of the tiles. Can be used in the `createTile()` function.</span>\n","\t\topacity: <span class=\"code-number\">1</span>,\n","\n","\t\t<span class=\"code-comment\">// @option updateWhenIdle: Boolean = (depends)</span>\n","\t\t<span class=\"code-comment\">// Load new tiles only when panning ends.</span>\n","\t\t<span class=\"code-comment\">// `true` by default on mobile browsers, in order to avoid too many requests and keep smooth navigation.</span>\n","\t\t<span class=\"code-comment\">// `false` otherwise in order to display new tiles _during_ panning, since it is easy to pan outside the</span>\n","\t\t<span class=\"code-comment\">// [`keepBuffer`](#gridlayer-keepbuffer) option in desktop browsers.</span>\n","\t\tupdateWhenIdle: Browser.mobile,\n","\n","\t\t<span class=\"code-comment\">// @option updateWhenZooming: Boolean = true</span>\n","\t\t<span class=\"code-comment\">// By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.</span>\n","\t\tupdateWhenZooming: <span class=\"code-literal\">true</span>,\n","\n","\t\t<span class=\"code-comment\">// @option updateInterval: Number = 200</span>\n","\t\t<span class=\"code-comment\">// Tiles will not update more than once every `updateInterval` milliseconds when panning.</span>\n","\t\tupdateInterval: <span class=\"code-number\">200</span>,\n","\n","\t\t<span class=\"code-comment\">// @option zIndex: Number = 1</span>\n","\t\t<span class=\"code-comment\">// The explicit zIndex of the tile layer.</span>\n","\t\tzIndex: <span class=\"code-number\">1</span>,\n","\n","\t\t<span class=\"code-comment\">// @option bounds: LatLngBounds = undefined</span>\n","\t\t<span class=\"code-comment\">// If set, tiles will only be loaded inside the set `LatLngBounds`.</span>\n","\t\tbounds: <span class=\"code-literal\">null</span>,\n","\n","\t\t<span class=\"code-comment\">// @option minZoom: Number = 0</span>\n","\t\t<span class=\"code-comment\">// The minimum zoom level down to which this layer will be displayed (inclusive).</span>\n","\t\tminZoom: <span class=\"code-number\">0</span>,\n","\n","\t\t<span class=\"code-comment\">// @option maxZoom: Number = undefined</span>\n","\t\t<span class=\"code-comment\">// The maximum zoom level up to which this layer will be displayed (inclusive).</span>\n","\t\tmaxZoom: <span class=\"code-literal\">undefined</span>,\n","\n","\t\t<span class=\"code-comment\">// @option maxNativeZoom: Number = undefined</span>\n","\t\t<span class=\"code-comment\">// Maximum zoom number the tile source has available. If it is specified,</span>\n","\t\t<span class=\"code-comment\">// the tiles on all zoom levels higher than `maxNativeZoom` will be loaded</span>\n","\t\t<span class=\"code-comment\">// from `maxNativeZoom` level and auto-scaled.</span>\n","\t\tmaxNativeZoom: <span class=\"code-literal\">undefined</span>,\n","\n","\t\t<span class=\"code-comment\">// @option minNativeZoom: Number = undefined</span>\n","\t\t<span class=\"code-comment\">// Minimum zoom number the tile source has available. If it is specified,</span>\n","\t\t<span class=\"code-comment\">// the tiles on all zoom levels lower than `minNativeZoom` will be loaded</span>\n","\t\t<span class=\"code-comment\">// from `minNativeZoom` level and auto-scaled.</span>\n","\t\tminNativeZoom: <span class=\"code-literal\">undefined</span>,\n","\n","\t\t<span class=\"code-comment\">// @option noWrap: Boolean = false</span>\n","\t\t<span class=\"code-comment\">// Whether the layer is wrapped around the antimeridian. If `true`, the</span>\n","\t\t<span class=\"code-comment\">// GridLayer will only be displayed once at low zoom levels. Has no</span>\n","\t\t<span class=\"code-comment\">// effect when the [map CRS](#map-crs) doesn't wrap around. Can be used</span>\n","\t\t<span class=\"code-comment\">// in combination with [`bounds`](#gridlayer-bounds) to prevent requesting</span>\n","\t\t<span class=\"code-comment\">// tiles outside the CRS limits.</span>\n","\t\tnoWrap: <span class=\"code-literal\">false</span>,\n","\n","\t\t<span class=\"code-comment\">// @option pane: String = 'tilePane'</span>\n","\t\t<span class=\"code-comment\">// `Map pane` where the grid layer will be added.</span>\n","\t\tpane: <span class=\"code-string\">'tilePane'</span>,\n","\n","\t\t<span class=\"code-comment\">// @option className: String = ''</span>\n","\t\t<span class=\"code-comment\">// A custom class name to assign to the tile layer. Empty by default.</span>\n","\t\tclassName: <span class=\"code-string\">''</span>,\n","\n","\t\t<span class=\"code-comment\">// @option keepBuffer: Number = 2</span>\n","\t\t<span class=\"code-comment\">// When panning the map, keep this many rows and columns of tiles before unloading them.</span>\n","\t\tkeepBuffer: <span class=\"code-number\">2</span>\n","\t},\n","\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\n","\t},\n","\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._initContainer();\n","\n","\t\t<span class=\"code-keyword\">this</span>._levels = {};\n","\t\t<span class=\"code-keyword\">this</span>._tiles = {};\n","\n","\t\t<span class=\"code-keyword\">this</span>._resetView(); <span class=\"code-comment\">// implicit _update() call</span>\n","\t},\n","\n","\tbeforeAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\tmap._addZoomLimit(<span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._removeAllTiles();\n","\t\tremove(<span class=\"code-keyword\">this</span>._container);\n","\t\tmap._removeZoomLimit(<span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">this</span>._container = <span class=\"code-literal\">null</span>;\n","\t\t<span class=\"code-keyword\">this</span>._tileZoom = <span class=\"code-literal\">undefined</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method bringToFront: this</span>\n","\t<span class=\"code-comment\">// Brings the tile layer to the top of all tile layers.</span>\n","\tbringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\n","\t\t\ttoFront(<span class=\"code-keyword\">this</span>._container);\n","\t\t\t<span class=\"code-keyword\">this</span>._setAutoZIndex(<span class=\"code-built_in\">Math</span>.max);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method bringToBack: this</span>\n","\t<span class=\"code-comment\">// Brings the tile layer to the bottom of all tile layers.</span>\n","\tbringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\n","\t\t\ttoBack(<span class=\"code-keyword\">this</span>._container);\n","\t\t\t<span class=\"code-keyword\">this</span>._setAutoZIndex(<span class=\"code-built_in\">Math</span>.min);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method getContainer: HTMLElement</span>\n","\t<span class=\"code-comment\">// Returns the HTML element that contains the tiles for this layer.</span>\n","\tgetContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._container;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setOpacity(opacity: Number): this</span>\n","\t<span class=\"code-comment\">// Changes the [opacity](#gridlayer-opacity) of the grid layer.</span>\n","\tsetOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">opacity</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>.options.opacity = opacity;\n","\t\t<span class=\"code-keyword\">this</span>._updateOpacity();\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setZIndex(zIndex: Number): this</span>\n","\t<span class=\"code-comment\">// Changes the [zIndex](#gridlayer-zindex) of the grid layer.</span>\n","\tsetZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zIndex</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>.options.zIndex = zIndex;\n","\t\t<span class=\"code-keyword\">this</span>._updateZIndex();\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method isLoading: Boolean</span>\n","\t<span class=\"code-comment\">// Returns `true` if any tile in the grid layer has not finished loading.</span>\n","\tisLoading: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._loading;\n","\t},\n","\n","\t<span class=\"code-comment\">// @method redraw: this</span>\n","\t<span class=\"code-comment\">// Causes the layer to clear all the tiles and request them again.</span>\n","\tredraw: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map) {\n","\t\t\t<span class=\"code-keyword\">this</span>._removeAllTiles();\n","\t\t\t<span class=\"code-keyword\">var</span> tileZoom = <span class=\"code-keyword\">this</span>._clampZoom(<span class=\"code-keyword\">this</span>._map.getZoom());\n","\t\t\t<span class=\"code-keyword\">if</span> (tileZoom !== <span class=\"code-keyword\">this</span>._tileZoom) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._tileZoom = tileZoom;\n","\t\t\t\t<span class=\"code-keyword\">this</span>._updateLevels();\n","\t\t\t}\n","\t\t\t<span class=\"code-keyword\">this</span>._update();\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\n","\t},\n","\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> events = {\n","\t\t\tviewprereset: <span class=\"code-keyword\">this</span>._invalidateAll,\n","\t\t\tviewreset: <span class=\"code-keyword\">this</span>._resetView,\n","\t\t\tzoom: <span class=\"code-keyword\">this</span>._resetView,\n","\t\t\tmoveend: <span class=\"code-keyword\">this</span>._onMoveEnd\n","\t\t};\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.updateWhenIdle) {\n","\t\t\t<span class=\"code-comment\">// update tiles on move, but not more often than once per given interval</span>\n","\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._onMove) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._onMove = throttle(<span class=\"code-keyword\">this</span>._onMoveEnd, <span class=\"code-keyword\">this</span>.options.updateInterval, <span class=\"code-keyword\">this</span>);\n","\t\t\t}\n","\n","\t\t\tevents.move = <span class=\"code-keyword\">this</span>._onMove;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\n","\t\t\tevents.zoomanim = <span class=\"code-keyword\">this</span>._animateZoom;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">return</span> events;\n","\t},\n","\n","\t<span class=\"code-comment\">// @section Extension methods</span>\n","\t<span class=\"code-comment\">// Layers extending `GridLayer` shall reimplement the following method.</span>\n","\t<span class=\"code-comment\">// @method createTile(coords: Object, done?: Function): HTMLElement</span>\n","\t<span class=\"code-comment\">// Called only internally, must be overridden by classes extending `GridLayer`.</span>\n","\t<span class=\"code-comment\">// Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback</span>\n","\t<span class=\"code-comment\">// is specified, it must be called when the tile has finished loading and drawing.</span>\n","\tcreateTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'div'</span>);\n","\t},\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @method getTileSize: Point</span>\n","\t<span class=\"code-comment\">// Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.</span>\n","\tgetTileSize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> s = <span class=\"code-keyword\">this</span>.options.tileSize;\n","\t\t<span class=\"code-keyword\">return</span> s <span class=\"code-keyword\">instanceof</span> Point ? s : <span class=\"code-keyword\">new</span> Point(s, s);\n","\t},\n","\n","\t_updateZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._container &amp;&amp; <span class=\"code-keyword\">this</span>.options.zIndex !== <span class=\"code-literal\">undefined</span> &amp;&amp; <span class=\"code-keyword\">this</span>.options.zIndex !== <span class=\"code-literal\">null</span>) {\n","\t\t\t<span class=\"code-keyword\">this</span>._container.style.zIndex = <span class=\"code-keyword\">this</span>.options.zIndex;\n","\t\t}\n","\t},\n","\n","\t_setAutoZIndex: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">compare</span>) </span>{\n","\t\t<span class=\"code-comment\">// go through all other layers of the same pane, set zIndex to max + 1 (front) or min - 1 (back)</span>\n","\n","\t\t<span class=\"code-keyword\">var</span> layers = <span class=\"code-keyword\">this</span>.getPane().children,\n","\t\t    edgeZIndex = -compare(-<span class=\"code-literal\">Infinity</span>, <span class=\"code-literal\">Infinity</span>); <span class=\"code-comment\">// -Infinity for max, Infinity for min</span>\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">0</span>, len = layers.length, zIndex; i &lt; len; i++) {\n","\n","\t\t\tzIndex = layers[i].style.zIndex;\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (layers[i] !== <span class=\"code-keyword\">this</span>._container &amp;&amp; zIndex) {\n","\t\t\t\tedgeZIndex = compare(edgeZIndex, +zIndex);\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">isFinite</span>(edgeZIndex)) {\n","\t\t\t<span class=\"code-keyword\">this</span>.options.zIndex = edgeZIndex + compare(<span class=\"code-number\">-1</span>, <span class=\"code-number\">1</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>._updateZIndex();\n","\t\t}\n","\t},\n","\n","\t_updateOpacity: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-comment\">// IE doesn't inherit filter opacity properly, so we're forced to set it on tiles</span>\n","\t\t<span class=\"code-keyword\">if</span> (Browser.ielt9) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\tsetOpacity(<span class=\"code-keyword\">this</span>._container, <span class=\"code-keyword\">this</span>.options.opacity);\n","\n","\t\t<span class=\"code-keyword\">var</span> now = +<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(),\n","\t\t    nextFrame = <span class=\"code-literal\">false</span>,\n","\t\t    willPrune = <span class=\"code-literal\">false</span>;\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\t<span class=\"code-keyword\">var</span> tile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\t\t\t<span class=\"code-keyword\">if</span> (!tile.current || !tile.loaded) { <span class=\"code-keyword\">continue</span>; }\n","\n","\t\t\t<span class=\"code-keyword\">var</span> fade = <span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">1</span>, (now - tile.loaded) / <span class=\"code-number\">200</span>);\n","\n","\t\t\tsetOpacity(tile.el, fade);\n","\t\t\t<span class=\"code-keyword\">if</span> (fade &lt; <span class=\"code-number\">1</span>) {\n","\t\t\t\tnextFrame = <span class=\"code-literal\">true</span>;\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\t<span class=\"code-keyword\">if</span> (tile.active) {\n","\t\t\t\t\twillPrune = <span class=\"code-literal\">true</span>;\n","\t\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>._onOpaqueTile(tile);\n","\t\t\t\t}\n","\t\t\t\ttile.active = <span class=\"code-literal\">true</span>;\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (willPrune &amp;&amp; !<span class=\"code-keyword\">this</span>._noPrune) { <span class=\"code-keyword\">this</span>._pruneTiles(); }\n","\n","\t\t<span class=\"code-keyword\">if</span> (nextFrame) {\n","\t\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._fadeFrame);\n","\t\t\t<span class=\"code-keyword\">this</span>._fadeFrame = requestAnimFrame(<span class=\"code-keyword\">this</span>._updateOpacity, <span class=\"code-keyword\">this</span>);\n","\t\t}\n","\t},\n","\n","\t_onOpaqueTile: falseFn,\n","\n","\t_initContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._container) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, <span class=\"code-string\">'leaflet-layer '</span> + (<span class=\"code-keyword\">this</span>.options.className || <span class=\"code-string\">''</span>));\n","\t\t<span class=\"code-keyword\">this</span>._updateZIndex();\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.opacity &lt; <span class=\"code-number\">1</span>) {\n","\t\t\t<span class=\"code-keyword\">this</span>._updateOpacity();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>.getPane().appendChild(<span class=\"code-keyword\">this</span>._container);\n","\t},\n","\n","\t_updateLevels: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\n","\t\t<span class=\"code-keyword\">var</span> zoom = <span class=\"code-keyword\">this</span>._tileZoom,\n","\t\t    maxZoom = <span class=\"code-keyword\">this</span>.options.maxZoom;\n","\n","\t\t<span class=\"code-keyword\">if</span> (zoom === <span class=\"code-literal\">undefined</span>) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">undefined</span>; }\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> z <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._levels) {\n","\t\t\tz = <span class=\"code-built_in\">Number</span>(z);\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._levels[z].el.children.length || z === zoom) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._levels[z].el.style.zIndex = maxZoom - <span class=\"code-built_in\">Math</span>.abs(zoom - z);\n","\t\t\t\t<span class=\"code-keyword\">this</span>._onUpdateLevel(z);\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\tremove(<span class=\"code-keyword\">this</span>._levels[z].el);\n","\t\t\t\t<span class=\"code-keyword\">this</span>._removeTilesAtZoom(z);\n","\t\t\t\t<span class=\"code-keyword\">this</span>._onRemoveLevel(z);\n","\t\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._levels[z];\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> level = <span class=\"code-keyword\">this</span>._levels[zoom],\n","\t\t    map = <span class=\"code-keyword\">this</span>._map;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!level) {\n","\t\t\tlevel = <span class=\"code-keyword\">this</span>._levels[zoom] = {};\n","\n","\t\t\tlevel.el = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, <span class=\"code-string\">'leaflet-tile-container leaflet-zoom-animated'</span>, <span class=\"code-keyword\">this</span>._container);\n","\t\t\tlevel.el.style.zIndex = maxZoom;\n","\n","\t\t\tlevel.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();\n","\t\t\tlevel.zoom = zoom;\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._setZoomTransform(level, map.getCenter(), map.getZoom());\n","\n","\t\t\t<span class=\"code-comment\">// force the browser to consider the newly added element for transition</span>\n","\t\t\tfalseFn(level.el.offsetWidth);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._onCreateLevel(level);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._level = level;\n","\n","\t\t<span class=\"code-keyword\">return</span> level;\n","\t},\n","\n","\t_onUpdateLevel: falseFn,\n","\n","\t_onRemoveLevel: falseFn,\n","\n","\t_onCreateLevel: falseFn,\n","\n","\t_pruneTiles: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> key, tile;\n","\n","\t\t<span class=\"code-keyword\">var</span> zoom = <span class=\"code-keyword\">this</span>._map.getZoom();\n","\t\t<span class=\"code-keyword\">if</span> (zoom &gt; <span class=\"code-keyword\">this</span>.options.maxZoom ||\n","\t\t\tzoom &lt; <span class=\"code-keyword\">this</span>.options.minZoom) {\n","\t\t\t<span class=\"code-keyword\">this</span>._removeAllTiles();\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">for</span> (key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\ttile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\t\t\ttile.retain = tile.current;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">for</span> (key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\ttile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\t\t\t<span class=\"code-keyword\">if</span> (tile.current &amp;&amp; !tile.active) {\n","\t\t\t\t<span class=\"code-keyword\">var</span> coords = tile.coords;\n","\t\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._retainParent(coords.x, coords.y, coords.z, coords.z - <span class=\"code-number\">5</span>)) {\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>._retainChildren(coords.x, coords.y, coords.z, coords.z + <span class=\"code-number\">2</span>);\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">for</span> (key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._tiles[key].retain) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._removeTile(key);\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t_removeTilesAtZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tiles[key].coords.z !== zoom) {\n","\t\t\t\t<span class=\"code-keyword\">continue</span>;\n","\t\t\t}\n","\t\t\t<span class=\"code-keyword\">this</span>._removeTile(key);\n","\t\t}\n","\t},\n","\n","\t_removeAllTiles: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\t<span class=\"code-keyword\">this</span>._removeTile(key);\n","\t\t}\n","\t},\n","\n","\t_invalidateAll: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> z <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._levels) {\n","\t\t\tremove(<span class=\"code-keyword\">this</span>._levels[z].el);\n","\t\t\t<span class=\"code-keyword\">this</span>._onRemoveLevel(<span class=\"code-built_in\">Number</span>(z));\n","\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._levels[z];\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>._removeAllTiles();\n","\n","\t\t<span class=\"code-keyword\">this</span>._tileZoom = <span class=\"code-literal\">undefined</span>;\n","\t},\n","\n","\t_retainParent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">x, y, z, minZoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> x2 = <span class=\"code-built_in\">Math</span>.floor(x / <span class=\"code-number\">2</span>),\n","\t\t    y2 = <span class=\"code-built_in\">Math</span>.floor(y / <span class=\"code-number\">2</span>),\n","\t\t    z2 = z - <span class=\"code-number\">1</span>,\n","\t\t    coords2 = <span class=\"code-keyword\">new</span> Point(+x2, +y2);\n","\t\tcoords2.z = +z2;\n","\n","\t\t<span class=\"code-keyword\">var</span> key = <span class=\"code-keyword\">this</span>._tileCoordsToKey(coords2),\n","\t\t    tile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\n","\t\t<span class=\"code-keyword\">if</span> (tile &amp;&amp; tile.active) {\n","\t\t\ttile.retain = <span class=\"code-literal\">true</span>;\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (tile &amp;&amp; tile.loaded) {\n","\t\t\ttile.retain = <span class=\"code-literal\">true</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (z2 &gt; minZoom) {\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._retainParent(x2, y2, z2, minZoom);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","\t},\n","\n","\t_retainChildren: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">x, y, z, maxZoom</span>) </span>{\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = <span class=\"code-number\">2</span> * x; i &lt; <span class=\"code-number\">2</span> * x + <span class=\"code-number\">2</span>; i++) {\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> j = <span class=\"code-number\">2</span> * y; j &lt; <span class=\"code-number\">2</span> * y + <span class=\"code-number\">2</span>; j++) {\n","\n","\t\t\t\t<span class=\"code-keyword\">var</span> coords = <span class=\"code-keyword\">new</span> Point(i, j);\n","\t\t\t\tcoords.z = z + <span class=\"code-number\">1</span>;\n","\n","\t\t\t\t<span class=\"code-keyword\">var</span> key = <span class=\"code-keyword\">this</span>._tileCoordsToKey(coords),\n","\t\t\t\t    tile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (tile &amp;&amp; tile.active) {\n","\t\t\t\t\ttile.retain = <span class=\"code-literal\">true</span>;\n","\t\t\t\t\t<span class=\"code-keyword\">continue</span>;\n","\n","\t\t\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (tile &amp;&amp; tile.loaded) {\n","\t\t\t\t\ttile.retain = <span class=\"code-literal\">true</span>;\n","\t\t\t\t}\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (z + <span class=\"code-number\">1</span> &lt; maxZoom) {\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>._retainChildren(i, j, z + <span class=\"code-number\">1</span>, maxZoom);\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t_resetView: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> animating = e &amp;&amp; (e.pinch || e.flyTo);\n","\t\t<span class=\"code-keyword\">this</span>._setView(<span class=\"code-keyword\">this</span>._map.getCenter(), <span class=\"code-keyword\">this</span>._map.getZoom(), animating, animating);\n","\t},\n","\n","\t_animateZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._setView(e.center, e.zoom, <span class=\"code-literal\">true</span>, e.noUpdate);\n","\t},\n","\n","\t_clampZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> options = <span class=\"code-keyword\">this</span>.options;\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-literal\">undefined</span> !== options.minNativeZoom &amp;&amp; zoom &lt; options.minNativeZoom) {\n","\t\t\t<span class=\"code-keyword\">return</span> options.minNativeZoom;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-literal\">undefined</span> !== options.maxNativeZoom &amp;&amp; options.maxNativeZoom &lt; zoom) {\n","\t\t\t<span class=\"code-keyword\">return</span> options.maxNativeZoom;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">return</span> zoom;\n","\t},\n","\n","\t_setView: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom, noPrune, noUpdate</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> tileZoom = <span class=\"code-built_in\">Math</span>.round(zoom);\n","\t\t<span class=\"code-keyword\">if</span> ((<span class=\"code-keyword\">this</span>.options.maxZoom !== <span class=\"code-literal\">undefined</span> &amp;&amp; tileZoom &gt; <span class=\"code-keyword\">this</span>.options.maxZoom) ||\n","\t\t    (<span class=\"code-keyword\">this</span>.options.minZoom !== <span class=\"code-literal\">undefined</span> &amp;&amp; tileZoom &lt; <span class=\"code-keyword\">this</span>.options.minZoom)) {\n","\t\t\ttileZoom = <span class=\"code-literal\">undefined</span>;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\ttileZoom = <span class=\"code-keyword\">this</span>._clampZoom(tileZoom);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> tileZoomChanged = <span class=\"code-keyword\">this</span>.options.updateWhenZooming &amp;&amp; (tileZoom !== <span class=\"code-keyword\">this</span>._tileZoom);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!noUpdate || tileZoomChanged) {\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._tileZoom = tileZoom;\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._abortLoading) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._abortLoading();\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._updateLevels();\n","\t\t\t<span class=\"code-keyword\">this</span>._resetGrid();\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (tileZoom !== <span class=\"code-literal\">undefined</span>) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._update(center);\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (!noPrune) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._pruneTiles();\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-comment\">// Flag to prevent _updateOpacity from pruning tiles during</span>\n","\t\t\t<span class=\"code-comment\">// a zoom anim or a pinch gesture</span>\n","\t\t\t<span class=\"code-keyword\">this</span>._noPrune = !!noPrune;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._setZoomTransforms(center, zoom);\n","\t},\n","\n","\t_setZoomTransforms: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._levels) {\n","\t\t\t<span class=\"code-keyword\">this</span>._setZoomTransform(<span class=\"code-keyword\">this</span>._levels[i], center, zoom);\n","\t\t}\n","\t},\n","\n","\t_setZoomTransform: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">level, center, zoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-keyword\">this</span>._map.getZoomScale(zoom, level.zoom),\n","\t\t    translate = level.origin.multiplyBy(scale)\n","\t\t        .subtract(<span class=\"code-keyword\">this</span>._map._getNewPixelOrigin(center, zoom)).round();\n","\n","\t\t<span class=\"code-keyword\">if</span> (Browser.any3d) {\n","\t\t\tsetTransform(level.el, translate, scale);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tsetPosition(level.el, translate);\n","\t\t}\n","\t},\n","\n","\t_resetGrid: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    crs = map.options.crs,\n","\t\t    tileSize = <span class=\"code-keyword\">this</span>._tileSize = <span class=\"code-keyword\">this</span>.getTileSize(),\n","\t\t    tileZoom = <span class=\"code-keyword\">this</span>._tileZoom;\n","\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">this</span>._map.getPixelWorldBounds(<span class=\"code-keyword\">this</span>._tileZoom);\n","\t\t<span class=\"code-keyword\">if</span> (bounds) {\n","\t\t\t<span class=\"code-keyword\">this</span>._globalTileRange = <span class=\"code-keyword\">this</span>._pxBoundsToTileRange(bounds);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._wrapX = crs.wrapLng &amp;&amp; !<span class=\"code-keyword\">this</span>.options.noWrap &amp;&amp; [\n","\t\t\t<span class=\"code-built_in\">Math</span>.floor(map.project([<span class=\"code-number\">0</span>, crs.wrapLng[<span class=\"code-number\">0</span>]], tileZoom).x / tileSize.x),\n","\t\t\t<span class=\"code-built_in\">Math</span>.ceil(map.project([<span class=\"code-number\">0</span>, crs.wrapLng[<span class=\"code-number\">1</span>]], tileZoom).x / tileSize.y)\n","\t\t];\n","\t\t<span class=\"code-keyword\">this</span>._wrapY = crs.wrapLat &amp;&amp; !<span class=\"code-keyword\">this</span>.options.noWrap &amp;&amp; [\n","\t\t\t<span class=\"code-built_in\">Math</span>.floor(map.project([crs.wrapLat[<span class=\"code-number\">0</span>], <span class=\"code-number\">0</span>], tileZoom).y / tileSize.x),\n","\t\t\t<span class=\"code-built_in\">Math</span>.ceil(map.project([crs.wrapLat[<span class=\"code-number\">1</span>], <span class=\"code-number\">0</span>], tileZoom).y / tileSize.y)\n","\t\t];\n","\t},\n","\n","\t_onMoveEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map || <span class=\"code-keyword\">this</span>._map._animatingZoom) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._update();\n","\t},\n","\n","\t_getTiledPixelBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    mapZoom = map._animatingZoom ? <span class=\"code-built_in\">Math</span>.max(map._animateToZoom, map.getZoom()) : map.getZoom(),\n","\t\t    scale = map.getZoomScale(mapZoom, <span class=\"code-keyword\">this</span>._tileZoom),\n","\t\t    pixelCenter = map.project(center, <span class=\"code-keyword\">this</span>._tileZoom).floor(),\n","\t\t    halfSize = map.getSize().divideBy(scale * <span class=\"code-number\">2</span>);\n","\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));\n","\t},\n","\n","\t<span class=\"code-comment\">// Private method to load tiles in the grid's active zoom level according to map bounds</span>\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map;\n","\t\t<span class=\"code-keyword\">if</span> (!map) { <span class=\"code-keyword\">return</span>; }\n","\t\t<span class=\"code-keyword\">var</span> zoom = <span class=\"code-keyword\">this</span>._clampZoom(map.getZoom());\n","\n","\t\t<span class=\"code-keyword\">if</span> (center === <span class=\"code-literal\">undefined</span>) { center = map.getCenter(); }\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tileZoom === <span class=\"code-literal\">undefined</span>) { <span class=\"code-keyword\">return</span>; }\t<span class=\"code-comment\">// if out of minzoom/maxzoom</span>\n","\n","\t\t<span class=\"code-keyword\">var</span> pixelBounds = <span class=\"code-keyword\">this</span>._getTiledPixelBounds(center),\n","\t\t    tileRange = <span class=\"code-keyword\">this</span>._pxBoundsToTileRange(pixelBounds),\n","\t\t    tileCenter = tileRange.getCenter(),\n","\t\t    queue = [],\n","\t\t    margin = <span class=\"code-keyword\">this</span>.options.keepBuffer,\n","\t\t    noPruneRange = <span class=\"code-keyword\">new</span> Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),\n","\t\t                              tileRange.getTopRight().add([margin, -margin]));\n","\n","\t\t<span class=\"code-comment\">// Sanity check: panic if the tile range contains Infinity somewhere.</span>\n","\t\t<span class=\"code-keyword\">if</span> (!(<span class=\"code-built_in\">isFinite</span>(tileRange.min.x) &amp;&amp;\n","\t\t      <span class=\"code-built_in\">isFinite</span>(tileRange.min.y) &amp;&amp;\n","\t\t      <span class=\"code-built_in\">isFinite</span>(tileRange.max.x) &amp;&amp;\n","\t\t      <span class=\"code-built_in\">isFinite</span>(tileRange.max.y))) { <span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Attempted to load an infinite number of tiles'</span>); }\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\t<span class=\"code-keyword\">var</span> c = <span class=\"code-keyword\">this</span>._tiles[key].coords;\n","\t\t\t<span class=\"code-keyword\">if</span> (c.z !== <span class=\"code-keyword\">this</span>._tileZoom || !noPruneRange.contains(<span class=\"code-keyword\">new</span> Point(c.x, c.y))) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._tiles[key].current = <span class=\"code-literal\">false</span>;\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// _update just loads more tiles. If the tile zoom level differs too much</span>\n","\t\t<span class=\"code-comment\">// from the map's, let _setView reset levels and prune old tiles.</span>\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">Math</span>.abs(zoom - <span class=\"code-keyword\">this</span>._tileZoom) &gt; <span class=\"code-number\">1</span>) { <span class=\"code-keyword\">this</span>._setView(center, zoom); <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-comment\">// create a queue of coordinates to load tiles from</span>\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> j = tileRange.min.y; j &lt;= tileRange.max.y; j++) {\n","\t\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i = tileRange.min.x; i &lt;= tileRange.max.x; i++) {\n","\t\t\t\t<span class=\"code-keyword\">var</span> coords = <span class=\"code-keyword\">new</span> Point(i, j);\n","\t\t\t\tcoords.z = <span class=\"code-keyword\">this</span>._tileZoom;\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._isValidTile(coords)) { <span class=\"code-keyword\">continue</span>; }\n","\n","\t\t\t\t<span class=\"code-keyword\">var</span> tile = <span class=\"code-keyword\">this</span>._tiles[<span class=\"code-keyword\">this</span>._tileCoordsToKey(coords)];\n","\t\t\t\t<span class=\"code-keyword\">if</span> (tile) {\n","\t\t\t\t\ttile.current = <span class=\"code-literal\">true</span>;\n","\t\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\t\tqueue.push(coords);\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// sort tile queue to load tiles in order of their distance to center</span>\n","\t\tqueue.sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">a, b</span>) </span>{\n","\t\t\t<span class=\"code-keyword\">return</span> a.distanceTo(tileCenter) - b.distanceTo(tileCenter);\n","\t\t});\n","\n","\t\t<span class=\"code-keyword\">if</span> (queue.length !== <span class=\"code-number\">0</span>) {\n","\t\t\t<span class=\"code-comment\">// if it's the first batch of tiles to load</span>\n","\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._loading) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._loading = <span class=\"code-literal\">true</span>;\n","\t\t\t\t<span class=\"code-comment\">// @event loading: Event</span>\n","\t\t\t\t<span class=\"code-comment\">// Fired when the grid layer starts loading tiles.</span>\n","\t\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'loading'</span>);\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-comment\">// create DOM fragment to append tiles in one batch</span>\n","\t\t\t<span class=\"code-keyword\">var</span> fragment = <span class=\"code-built_in\">document</span>.createDocumentFragment();\n","\n","\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; queue.length; i++) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._addTile(queue[i], fragment);\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._level.el.appendChild(fragment);\n","\t\t}\n","\t},\n","\n","\t_isValidTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> crs = <span class=\"code-keyword\">this</span>._map.options.crs;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!crs.infinite) {\n","\t\t\t<span class=\"code-comment\">// don't load tile if it's out of bounds and not wrapped</span>\n","\t\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">this</span>._globalTileRange;\n","\t\t\t<span class=\"code-keyword\">if</span> ((!crs.wrapLng &amp;&amp; (coords.x &lt; bounds.min.x || coords.x &gt; bounds.max.x)) ||\n","\t\t\t    (!crs.wrapLat &amp;&amp; (coords.y &lt; bounds.min.y || coords.y &gt; bounds.max.y))) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.bounds) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>; }\n","\n","\t\t<span class=\"code-comment\">// don't load tile if it doesn't intersect the bounds in options</span>\n","\t\t<span class=\"code-keyword\">var</span> tileBounds = <span class=\"code-keyword\">this</span>._tileCoordsToBounds(coords);\n","\t\t<span class=\"code-keyword\">return</span> toLatLngBounds(<span class=\"code-keyword\">this</span>.options.bounds).overlaps(tileBounds);\n","\t},\n","\n","\t_keyToBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._tileCoordsToBounds(<span class=\"code-keyword\">this</span>._keyToTileCoords(key));\n","\t},\n","\n","\t_tileCoordsToNwSe: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    tileSize = <span class=\"code-keyword\">this</span>.getTileSize(),\n","\t\t    nwPoint = coords.scaleBy(tileSize),\n","\t\t    sePoint = nwPoint.add(tileSize),\n","\t\t    nw = map.unproject(nwPoint, coords.z),\n","\t\t    se = map.unproject(sePoint, coords.z);\n","\t\t<span class=\"code-keyword\">return</span> [nw, se];\n","\t},\n","\n","\t<span class=\"code-comment\">// converts tile coordinates to its geographical bounds</span>\n","\t_tileCoordsToBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> bp = <span class=\"code-keyword\">this</span>._tileCoordsToNwSe(coords),\n","\t\t    bounds = <span class=\"code-keyword\">new</span> LatLngBounds(bp[<span class=\"code-number\">0</span>], bp[<span class=\"code-number\">1</span>]);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.options.noWrap) {\n","\t\t\tbounds = <span class=\"code-keyword\">this</span>._map.wrapLatLngBounds(bounds);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> bounds;\n","\t},\n","\t<span class=\"code-comment\">// converts tile coordinates to key for the tile cache</span>\n","\t_tileCoordsToKey: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> coords.x + <span class=\"code-string\">':'</span> + coords.y + <span class=\"code-string\">':'</span> + coords.z;\n","\t},\n","\n","\t<span class=\"code-comment\">// converts tile cache key to coordinates</span>\n","\t_keyToTileCoords: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> k = key.split(<span class=\"code-string\">':'</span>),\n","\t\t    coords = <span class=\"code-keyword\">new</span> Point(+k[<span class=\"code-number\">0</span>], +k[<span class=\"code-number\">1</span>]);\n","\t\tcoords.z = +k[<span class=\"code-number\">2</span>];\n","\t\t<span class=\"code-keyword\">return</span> coords;\n","\t},\n","\n","\t_removeTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> tile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\t\t<span class=\"code-keyword\">if</span> (!tile) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\tremove(tile.el);\n","\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._tiles[key];\n","\n","\t\t<span class=\"code-comment\">// @event tileunload: TileEvent</span>\n","\t\t<span class=\"code-comment\">// Fired when a tile is removed (e.g. when a tile goes off the screen).</span>\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'tileunload'</span>, {\n","\t\t\ttile: tile.el,\n","\t\t\tcoords: <span class=\"code-keyword\">this</span>._keyToTileCoords(key)\n","\t\t});\n","\t},\n","\n","\t_initTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">tile</span>) </span>{\n","\t\taddClass(tile, <span class=\"code-string\">'leaflet-tile'</span>);\n","\n","\t\t<span class=\"code-keyword\">var</span> tileSize = <span class=\"code-keyword\">this</span>.getTileSize();\n","\t\ttile.style.width = tileSize.x + <span class=\"code-string\">'px'</span>;\n","\t\ttile.style.height = tileSize.y + <span class=\"code-string\">'px'</span>;\n","\n","\t\ttile.onselectstart = falseFn;\n","\t\ttile.onmousemove = falseFn;\n","\n","\t\t<span class=\"code-comment\">// update opacity on tiles in IE7-8 because of filter inheritance problems</span>\n","\t\t<span class=\"code-keyword\">if</span> (Browser.ielt9 &amp;&amp; <span class=\"code-keyword\">this</span>.options.opacity &lt; <span class=\"code-number\">1</span>) {\n","\t\t\tsetOpacity(tile, <span class=\"code-keyword\">this</span>.options.opacity);\n","\t\t}\n","\t},\n","\n","\t_addTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords, container</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> tilePos = <span class=\"code-keyword\">this</span>._getTilePos(coords),\n","\t\t    key = <span class=\"code-keyword\">this</span>._tileCoordsToKey(coords);\n","\n","\t\t<span class=\"code-keyword\">var</span> tile = <span class=\"code-keyword\">this</span>.createTile(<span class=\"code-keyword\">this</span>._wrapCoords(coords), bind(<span class=\"code-keyword\">this</span>._tileReady, <span class=\"code-keyword\">this</span>, coords));\n","\n","\t\t<span class=\"code-keyword\">this</span>._initTile(tile);\n","\n","\t\t<span class=\"code-comment\">// if createTile is defined with a second argument (\"done\" callback),</span>\n","\t\t<span class=\"code-comment\">// we know that tile is async and will be ready later; otherwise</span>\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.createTile.length &lt; <span class=\"code-number\">2</span>) {\n","\t\t\t<span class=\"code-comment\">// mark tile as ready, but delay one frame for opacity animation to happen</span>\n","\t\t\trequestAnimFrame(bind(<span class=\"code-keyword\">this</span>._tileReady, <span class=\"code-keyword\">this</span>, coords, <span class=\"code-literal\">null</span>, tile));\n","\t\t}\n","\n","\t\tsetPosition(tile, tilePos);\n","\n","\t\t<span class=\"code-comment\">// save tile in cache</span>\n","\t\t<span class=\"code-keyword\">this</span>._tiles[key] = {\n","\t\t\tel: tile,\n","\t\t\tcoords: coords,\n","\t\t\tcurrent: <span class=\"code-literal\">true</span>\n","\t\t};\n","\n","\t\tcontainer.appendChild(tile);\n","\t\t<span class=\"code-comment\">// @event tileloadstart: TileEvent</span>\n","\t\t<span class=\"code-comment\">// Fired when a tile is requested and starts loading.</span>\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'tileloadstart'</span>, {\n","\t\t\ttile: tile,\n","\t\t\tcoords: coords\n","\t\t});\n","\t},\n","\n","\t_tileReady: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords, err, tile</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (err) {\n","\t\t\t<span class=\"code-comment\">// @event tileerror: TileErrorEvent</span>\n","\t\t\t<span class=\"code-comment\">// Fired when there is an error loading a tile.</span>\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'tileerror'</span>, {\n","\t\t\t\terror: err,\n","\t\t\t\ttile: tile,\n","\t\t\t\tcoords: coords\n","\t\t\t});\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> key = <span class=\"code-keyword\">this</span>._tileCoordsToKey(coords);\n","\n","\t\ttile = <span class=\"code-keyword\">this</span>._tiles[key];\n","\t\t<span class=\"code-keyword\">if</span> (!tile) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\ttile.loaded = +<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>();\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map._fadeAnimated) {\n","\t\t\tsetOpacity(tile.el, <span class=\"code-number\">0</span>);\n","\t\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._fadeFrame);\n","\t\t\t<span class=\"code-keyword\">this</span>._fadeFrame = requestAnimFrame(<span class=\"code-keyword\">this</span>._updateOpacity, <span class=\"code-keyword\">this</span>);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\ttile.active = <span class=\"code-literal\">true</span>;\n","\t\t\t<span class=\"code-keyword\">this</span>._pruneTiles();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (!err) {\n","\t\t\taddClass(tile.el, <span class=\"code-string\">'leaflet-tile-loaded'</span>);\n","\n","\t\t\t<span class=\"code-comment\">// @event tileload: TileEvent</span>\n","\t\t\t<span class=\"code-comment\">// Fired when a tile loads.</span>\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'tileload'</span>, {\n","\t\t\t\ttile: tile.el,\n","\t\t\t\tcoords: coords\n","\t\t\t});\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._noTilesToLoad()) {\n","\t\t\t<span class=\"code-keyword\">this</span>._loading = <span class=\"code-literal\">false</span>;\n","\t\t\t<span class=\"code-comment\">// @event load: Event</span>\n","\t\t\t<span class=\"code-comment\">// Fired when the grid layer loaded all visible tiles.</span>\n","\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'load'</span>);\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (Browser.ielt9 || !<span class=\"code-keyword\">this</span>._map._fadeAnimated) {\n","\t\t\t\trequestAnimFrame(<span class=\"code-keyword\">this</span>._pruneTiles, <span class=\"code-keyword\">this</span>);\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\t<span class=\"code-comment\">// Wait a bit more than 0.2 secs (the duration of the tile fade-in)</span>\n","\t\t\t\t<span class=\"code-comment\">// to trigger a pruning.</span>\n","\t\t\t\tsetTimeout(bind(<span class=\"code-keyword\">this</span>._pruneTiles, <span class=\"code-keyword\">this</span>), <span class=\"code-number\">250</span>);\n","\t\t\t}\n","\t\t}\n","\t},\n","\n","\t_getTilePos: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> coords.scaleBy(<span class=\"code-keyword\">this</span>.getTileSize()).subtract(<span class=\"code-keyword\">this</span>._level.origin);\n","\t},\n","\n","\t_wrapCoords: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> newCoords = <span class=\"code-keyword\">new</span> Point(\n","\t\t\t<span class=\"code-keyword\">this</span>._wrapX ? wrapNum(coords.x, <span class=\"code-keyword\">this</span>._wrapX) : coords.x,\n","\t\t\t<span class=\"code-keyword\">this</span>._wrapY ? wrapNum(coords.y, <span class=\"code-keyword\">this</span>._wrapY) : coords.y);\n","\t\tnewCoords.z = coords.z;\n","\t\t<span class=\"code-keyword\">return</span> newCoords;\n","\t},\n","\n","\t_pxBoundsToTileRange: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">bounds</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> tileSize = <span class=\"code-keyword\">this</span>.getTileSize();\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Bounds(\n","\t\t\tbounds.min.unscaleBy(tileSize).floor(),\n","\t\t\tbounds.max.unscaleBy(tileSize).ceil().subtract([<span class=\"code-number\">1</span>, <span class=\"code-number\">1</span>]));\n","\t},\n","\n","\t_noTilesToLoad: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\n","\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._tiles[key].loaded) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">true</span>;\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @factory L.gridLayer(options?: GridLayer options)</span>\n","<span class=\"code-comment\">// Creates a new instance of GridLayer with the supplied options.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gridLayer</span>(<span class=\"code-params\">options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> GridLayer(options);\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class TileLayer\r\n</span>","<span class=\"code-comment\"> * @inherits GridLayer\r\n</span>","<span class=\"code-comment\"> * @aka L.TileLayer\r\n</span>","<span class=\"code-comment\"> * Used to load and display tile layers on the map. Note that most tile servers require attribution, which you can set under `Layer`. Extends `GridLayer`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar', attribution: '&amp;copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'}).addTo(map);\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @section URL template\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * A string of the following form:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> * 'https://{s}.somedomain.com/blabla/{z}/{x}/{y}{r}.png'\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * `{s}` means one of the available subdomains (used sequentially to help with browser parallel requests per domain limitation; subdomain values are specified in options; `a`, `b` or `c` by default, can be omitted), `{z}` \u2014 zoom level, `{x}` and `{y}` \u2014 tile coordinates. `{r}` can be used to add \"&amp;commat;2x\" to the URL to load retina tiles.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * You can use custom keys in the template, which will be [evaluated](#util-template) from TileLayer options, like this:\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> * L.tileLayer('https://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png', {foo: 'bar'});\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","\r\n","<span class=\"code-keyword\">var</span> TileLayer = GridLayer.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka TileLayer options</span>\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option minZoom: Number = 0</span>\r\n","\t\t<span class=\"code-comment\">// The minimum zoom level down to which this layer will be displayed (inclusive).</span>\r\n","\t\tminZoom: <span class=\"code-number\">0</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option maxZoom: Number = 18</span>\r\n","\t\t<span class=\"code-comment\">// The maximum zoom level up to which this layer will be displayed (inclusive).</span>\r\n","\t\tmaxZoom: <span class=\"code-number\">18</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option subdomains: String|String[] = 'abc'</span>\r\n","\t\t<span class=\"code-comment\">// Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.</span>\r\n","\t\tsubdomains: <span class=\"code-string\">'abc'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option errorTileUrl: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// URL to the tile image to show in place of the tile that failed to load.</span>\r\n","\t\terrorTileUrl: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomOffset: Number = 0</span>\r\n","\t\t<span class=\"code-comment\">// The zoom number used in tile URLs will be offset with this value.</span>\r\n","\t\tzoomOffset: <span class=\"code-number\">0</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option tms: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).</span>\r\n","\t\ttms: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option zoomReverse: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)</span>\r\n","\t\tzoomReverse: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option detectRetina: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.</span>\r\n","\t\tdetectRetina: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option crossOrigin: Boolean|String = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether the crossOrigin attribute will be added to the tiles.</span>\r\n","\t\t<span class=\"code-comment\">// If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.</span>\r\n","\t\t<span class=\"code-comment\">// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.</span>\r\n","\t\tcrossOrigin: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option referrerPolicy: Boolean|String = false</span>\r\n","\t\t<span class=\"code-comment\">// Whether the referrerPolicy attribute will be added to the tiles.</span>\r\n","\t\t<span class=\"code-comment\">// If a String is provided, all tiles will have their referrerPolicy attribute set to the String provided.</span>\r\n","\t\t<span class=\"code-comment\">// This may be needed if your map's rendering context has a strict default but your tile provider expects a valid referrer</span>\r\n","\t\t<span class=\"code-comment\">// (e.g. to validate an API token).</span>\r\n","\t\t<span class=\"code-comment\">// Refer to [HTMLImageElement.referrerPolicy](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/referrerPolicy) for valid String values.</span>\r\n","\t\treferrerPolicy: <span class=\"code-literal\">false</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">url, options</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._url = url;\r\n","\r\n","\t\toptions = setOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-comment\">// detecting retina displays, adjusting tileSize and zoom levels</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (options.detectRetina &amp;&amp; Browser.retina &amp;&amp; options.maxZoom &gt; <span class=\"code-number\">0</span>) {\r\n","\r\n","\t\t\toptions.tileSize = <span class=\"code-built_in\">Math</span>.floor(options.tileSize / <span class=\"code-number\">2</span>);\r\n","\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!options.zoomReverse) {\r\n","\t\t\t\toptions.zoomOffset++;\r\n","\t\t\t\toptions.maxZoom--;\r\n","\t\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\t\toptions.zoomOffset--;\r\n","\t\t\t\toptions.minZoom++;\r\n","\t\t\t}\r\n","\r\n","\t\t\toptions.minZoom = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>, options.minZoom);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> options.subdomains === <span class=\"code-string\">'string'</span>) {\r\n","\t\t\toptions.subdomains = options.subdomains.split(<span class=\"code-string\">''</span>);\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">'tileunload'</span>, <span class=\"code-keyword\">this</span>._onTileRemove);\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setUrl(url: String, noRedraw?: Boolean): this</span>\r\n","\t<span class=\"code-comment\">// Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).</span>\r\n","\t<span class=\"code-comment\">// If the URL does not change, the layer will not be redrawn unless</span>\r\n","\t<span class=\"code-comment\">// the noRedraw parameter is set to false.</span>\r\n","\tsetUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">url, noRedraw</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._url === url &amp;&amp; noRedraw === <span class=\"code-literal\">undefined</span>) {\r\n","\t\t\tnoRedraw = <span class=\"code-literal\">true</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._url = url;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!noRedraw) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.redraw();\r\n","\t\t}\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method createTile(coords: Object, done?: Function): HTMLElement</span>\r\n","\t<span class=\"code-comment\">// Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)</span>\r\n","\t<span class=\"code-comment\">// to return an `&lt;img&gt;` HTML element with the appropriate image URL given `coords`. The `done`</span>\r\n","\t<span class=\"code-comment\">// callback is called when the tile has been loaded.</span>\r\n","\tcreateTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords, done</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> tile = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'img'</span>);\r\n","\r\n","\t\ton(tile, <span class=\"code-string\">'load'</span>, bind(<span class=\"code-keyword\">this</span>._tileOnLoad, <span class=\"code-keyword\">this</span>, done, tile));\r\n","\t\ton(tile, <span class=\"code-string\">'error'</span>, bind(<span class=\"code-keyword\">this</span>._tileOnError, <span class=\"code-keyword\">this</span>, done, tile));\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.crossOrigin || <span class=\"code-keyword\">this</span>.options.crossOrigin === <span class=\"code-string\">''</span>) {\r\n","\t\t\ttile.crossOrigin = <span class=\"code-keyword\">this</span>.options.crossOrigin === <span class=\"code-literal\">true</span> ? <span class=\"code-string\">''</span> : <span class=\"code-keyword\">this</span>.options.crossOrigin;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">// for this new option we follow the documented behavior</span>\r\n","\t\t<span class=\"code-comment\">// more closely by only setting the property when string</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options.referrerPolicy === <span class=\"code-string\">'string'</span>) {\r\n","\t\t\ttile.referrerPolicy = <span class=\"code-keyword\">this</span>.options.referrerPolicy;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\">\t\t Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\r\n</span>","<span class=\"code-comment\">\t\t https://www.w3.org/TR/WCAG20-TECHS/H67\r\n</span>","<span class=\"code-comment\">\t\t*/</span>\r\n","\t\ttile.alt = <span class=\"code-string\">''</span>;\r\n","\r\n","\t\t<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\">\t\t Set role=\"presentation\" to force screen readers to ignore this\r\n</span>","<span class=\"code-comment\">\t\t https://www.w3.org/TR/wai-aria/roles#textalternativecomputation\r\n</span>","<span class=\"code-comment\">\t\t*/</span>\r\n","\t\ttile.setAttribute(<span class=\"code-string\">'role'</span>, <span class=\"code-string\">'presentation'</span>);\r\n","\r\n","\t\ttile.src = <span class=\"code-keyword\">this</span>.getTileUrl(coords);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> tile;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @section Extension methods</span>\r\n","\t<span class=\"code-comment\">// @uninheritable</span>\r\n","\t<span class=\"code-comment\">// Layers extending `TileLayer` might reimplement the following method.</span>\r\n","\t<span class=\"code-comment\">// @method getTileUrl(coords: Object): String</span>\r\n","\t<span class=\"code-comment\">// Called only internally, returns the URL for a tile given its coordinates.</span>\r\n","\t<span class=\"code-comment\">// Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.</span>\r\n","\tgetTileUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> data = {\r\n","\t\t\tr: Browser.retina ? <span class=\"code-string\">'@2x'</span> : <span class=\"code-string\">''</span>,\r\n","\t\t\ts: <span class=\"code-keyword\">this</span>._getSubdomain(coords),\r\n","\t\t\tx: coords.x,\r\n","\t\t\ty: coords.y,\r\n","\t\t\tz: <span class=\"code-keyword\">this</span>._getZoomForUrl()\r\n","\t\t};\r\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map &amp;&amp; !<span class=\"code-keyword\">this</span>._map.options.crs.infinite) {\r\n","\t\t\t<span class=\"code-keyword\">var</span> invertedY = <span class=\"code-keyword\">this</span>._globalTileRange.max.y - coords.y;\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>.options.tms) {\r\n","\t\t\t\tdata[<span class=\"code-string\">'y'</span>] = invertedY;\r\n","\t\t\t}\r\n","\t\t\tdata[<span class=\"code-string\">'-y'</span>] = invertedY;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> template(<span class=\"code-keyword\">this</span>._url, extend(data, <span class=\"code-keyword\">this</span>.options));\r\n","\t},\r\n","\r\n","\t_tileOnLoad: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">done, tile</span>) </span>{\r\n","\t\t<span class=\"code-comment\">// For https://github.com/Leaflet/Leaflet/issues/3332</span>\r\n","\t\t<span class=\"code-keyword\">if</span> (Browser.ielt9) {\r\n","\t\t\tsetTimeout(bind(done, <span class=\"code-keyword\">this</span>, <span class=\"code-literal\">null</span>, tile), <span class=\"code-number\">0</span>);\r\n","\t\t} <span class=\"code-keyword\">else</span> {\r\n","\t\t\tdone(<span class=\"code-literal\">null</span>, tile);\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_tileOnError: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">done, tile, e</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> errorUrl = <span class=\"code-keyword\">this</span>.options.errorTileUrl;\r\n","\t\t<span class=\"code-keyword\">if</span> (errorUrl &amp;&amp; tile.getAttribute(<span class=\"code-string\">'src'</span>) !== errorUrl) {\r\n","\t\t\ttile.src = errorUrl;\r\n","\t\t}\r\n","\t\tdone(e, tile);\r\n","\t},\r\n","\r\n","\t_onTileRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\r\n","\t\te.tile.onload = <span class=\"code-literal\">null</span>;\r\n","\t},\r\n","\r\n","\t_getZoomForUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> zoom = <span class=\"code-keyword\">this</span>._tileZoom,\r\n","\t\tmaxZoom = <span class=\"code-keyword\">this</span>.options.maxZoom,\r\n","\t\tzoomReverse = <span class=\"code-keyword\">this</span>.options.zoomReverse,\r\n","\t\tzoomOffset = <span class=\"code-keyword\">this</span>.options.zoomOffset;\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (zoomReverse) {\r\n","\t\t\tzoom = maxZoom - zoom;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> zoom + zoomOffset;\r\n","\t},\r\n","\r\n","\t_getSubdomain: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">tilePoint</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> index = <span class=\"code-built_in\">Math</span>.abs(tilePoint.x + tilePoint.y) % <span class=\"code-keyword\">this</span>.options.subdomains.length;\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options.subdomains[index];\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// stops loading all tiles in the background layer</span>\r\n","\t_abortLoading: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> i, tile;\r\n","\t\t<span class=\"code-keyword\">for</span> (i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._tiles) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._tiles[i].coords.z !== <span class=\"code-keyword\">this</span>._tileZoom) {\r\n","\t\t\t\ttile = <span class=\"code-keyword\">this</span>._tiles[i].el;\r\n","\r\n","\t\t\t\ttile.onload = falseFn;\r\n","\t\t\t\ttile.onerror = falseFn;\r\n","\r\n","\t\t\t\t<span class=\"code-keyword\">if</span> (!tile.complete) {\r\n","\t\t\t\t\ttile.src = emptyImageUrl;\r\n","\t\t\t\t\t<span class=\"code-keyword\">var</span> coords = <span class=\"code-keyword\">this</span>._tiles[i].coords;\r\n","\t\t\t\t\tremove(tile);\r\n","\t\t\t\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._tiles[i];\r\n","\t\t\t\t\t<span class=\"code-comment\">// @event tileabort: TileEvent</span>\r\n","\t\t\t\t\t<span class=\"code-comment\">// Fired when a tile was loading but is now not wanted.</span>\r\n","\t\t\t\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'tileabort'</span>, {\r\n","\t\t\t\t\t\ttile: tile,\r\n","\t\t\t\t\t\tcoords: coords\r\n","\t\t\t\t\t});\r\n","\t\t\t\t}\r\n","\t\t\t}\r\n","\t\t}\r\n","\t},\r\n","\r\n","\t_removeTile: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">key</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">var</span> tile = <span class=\"code-keyword\">this</span>._tiles[key];\r\n","\t\t<span class=\"code-keyword\">if</span> (!tile) { <span class=\"code-keyword\">return</span>; }\r\n","\r\n","\t\t<span class=\"code-comment\">// Cancels any pending http requests associated with the tile</span>\r\n","\t\ttile.el.setAttribute(<span class=\"code-string\">'src'</span>, emptyImageUrl);\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> GridLayer.prototype._removeTile.call(<span class=\"code-keyword\">this</span>, key);\r\n","\t},\r\n","\r\n","\t_tileReady: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords, err, tile</span>) </span>{\r\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map || (tile &amp;&amp; tile.getAttribute(<span class=\"code-string\">'src'</span>) === emptyImageUrl)) {\r\n","\t\t\t<span class=\"code-keyword\">return</span>;\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> GridLayer.prototype._tileReady.call(<span class=\"code-keyword\">this</span>, coords, err, tile);\r\n","\t}\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.tilelayer(urlTemplate: String, options?: TileLayer options)</span>\r\n","<span class=\"code-comment\">// Instantiates a tile layer object given a `URL template` and optionally an options object.</span>\r\n","\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tileLayer</span>(<span class=\"code-params\">url, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> TileLayer(url, options);\r\n","}\n","\n","<span class=\"code-comment\">/*\r\n</span>","<span class=\"code-comment\"> * @class TileLayer.WMS\r\n</span>","<span class=\"code-comment\"> * @inherits TileLayer\r\n</span>","<span class=\"code-comment\"> * @aka L.TileLayer.WMS\r\n</span>","<span class=\"code-comment\"> * Used to display [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services as tile layers on the map. Extends `TileLayer`.\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * @example\r\n</span>","<span class=\"code-comment\"> *\r\n</span>","<span class=\"code-comment\"> * ```js\r\n</span>","<span class=\"code-comment\"> * var nexrad = L.tileLayer.wms(\"http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi\", {\r\n</span>","<span class=\"code-comment\"> * \tlayers: 'nexrad-n0r-900913',\r\n</span>","<span class=\"code-comment\"> * \tformat: 'image/png',\r\n</span>","<span class=\"code-comment\"> * \ttransparent: true,\r\n</span>","<span class=\"code-comment\"> * \tattribution: \"Weather data \u00A9 2012 IEM Nexrad\"\r\n</span>","<span class=\"code-comment\"> * });\r\n</span>","<span class=\"code-comment\"> * ```\r\n</span>","<span class=\"code-comment\"> */</span>\r\n","\r\n","<span class=\"code-keyword\">var</span> TileLayerWMS = TileLayer.extend({\r\n","\r\n","\t<span class=\"code-comment\">// @section</span>\r\n","\t<span class=\"code-comment\">// @aka TileLayer.WMS options</span>\r\n","\t<span class=\"code-comment\">// If any custom options not documented here are used, they will be sent to the</span>\r\n","\t<span class=\"code-comment\">// WMS server as extra parameters in each request URL. This can be useful for</span>\r\n","\t<span class=\"code-comment\">// [non-standard vendor WMS parameters](https://docs.geoserver.org/stable/en/user/services/wms/vendor.html).</span>\r\n","\tdefaultWmsParams: {\r\n","\t\tservice: <span class=\"code-string\">'WMS'</span>,\r\n","\t\trequest: <span class=\"code-string\">'GetMap'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option layers: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// **(required)** Comma-separated list of WMS layers to show.</span>\r\n","\t\tlayers: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option styles: String = ''</span>\r\n","\t\t<span class=\"code-comment\">// Comma-separated list of WMS styles.</span>\r\n","\t\tstyles: <span class=\"code-string\">''</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option format: String = 'image/jpeg'</span>\r\n","\t\t<span class=\"code-comment\">// WMS image format (use `'image/png'` for layers with transparency).</span>\r\n","\t\tformat: <span class=\"code-string\">'image/jpeg'</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option transparent: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, the WMS service will return images with transparency.</span>\r\n","\t\ttransparent: <span class=\"code-literal\">false</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option version: String = '1.1.1'</span>\r\n","\t\t<span class=\"code-comment\">// Version of the WMS service to use</span>\r\n","\t\tversion: <span class=\"code-string\">'1.1.1'</span>\r\n","\t},\r\n","\r\n","\toptions: {\r\n","\t\t<span class=\"code-comment\">// @option crs: CRS = null</span>\r\n","\t\t<span class=\"code-comment\">// Coordinate Reference System to use for the WMS requests, defaults to</span>\r\n","\t\t<span class=\"code-comment\">// map CRS. Don't change this if you're not sure what it means.</span>\r\n","\t\tcrs: <span class=\"code-literal\">null</span>,\r\n","\r\n","\t\t<span class=\"code-comment\">// @option uppercase: Boolean = false</span>\r\n","\t\t<span class=\"code-comment\">// If `true`, WMS request parameter keys will be uppercase.</span>\r\n","\t\tuppercase: <span class=\"code-literal\">false</span>\r\n","\t},\r\n","\r\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">url, options</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._url = url;\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> wmsParams = extend({}, <span class=\"code-keyword\">this</span>.defaultWmsParams);\r\n","\r\n","\t\t<span class=\"code-comment\">// all keys that are not TileLayer options go to WMS params</span>\r\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> options) {\r\n","\t\t\t<span class=\"code-keyword\">if</span> (!(i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.options)) {\r\n","\t\t\t\twmsParams[i] = options[i];\r\n","\t\t\t}\r\n","\t\t}\r\n","\r\n","\t\toptions = setOptions(<span class=\"code-keyword\">this</span>, options);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> realRetina = options.detectRetina &amp;&amp; Browser.retina ? <span class=\"code-number\">2</span> : <span class=\"code-number\">1</span>;\r\n","\t\t<span class=\"code-keyword\">var</span> tileSize = <span class=\"code-keyword\">this</span>.getTileSize();\r\n","\t\twmsParams.width = tileSize.x * realRetina;\r\n","\t\twmsParams.height = tileSize.y * realRetina;\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>.wmsParams = wmsParams;\r\n","\t},\r\n","\r\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">this</span>._crs = <span class=\"code-keyword\">this</span>.options.crs || map.options.crs;\r\n","\t\t<span class=\"code-keyword\">this</span>._wmsVersion = <span class=\"code-built_in\">parseFloat</span>(<span class=\"code-keyword\">this</span>.wmsParams.version);\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> projectionKey = <span class=\"code-keyword\">this</span>._wmsVersion &gt;= <span class=\"code-number\">1.3</span> ? <span class=\"code-string\">'crs'</span> : <span class=\"code-string\">'srs'</span>;\r\n","\t\t<span class=\"code-keyword\">this</span>.wmsParams[projectionKey] = <span class=\"code-keyword\">this</span>._crs.code;\r\n","\r\n","\t\tTileLayer.prototype.onAdd.call(<span class=\"code-keyword\">this</span>, map);\r\n","\t},\r\n","\r\n","\tgetTileUrl: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">coords</span>) </span>{\r\n","\r\n","\t\t<span class=\"code-keyword\">var</span> tileBounds = <span class=\"code-keyword\">this</span>._tileCoordsToNwSe(coords),\r\n","\t\t    crs = <span class=\"code-keyword\">this</span>._crs,\r\n","\t\t    bounds = toBounds(crs.project(tileBounds[<span class=\"code-number\">0</span>]), crs.project(tileBounds[<span class=\"code-number\">1</span>])),\r\n","\t\t    min = bounds.min,\r\n","\t\t    max = bounds.max,\r\n","\t\t    bbox = (<span class=\"code-keyword\">this</span>._wmsVersion &gt;= <span class=\"code-number\">1.3</span> &amp;&amp; <span class=\"code-keyword\">this</span>._crs === EPSG4326 ?\r\n","\t\t    [min.y, min.x, max.y, max.x] :\r\n","\t\t    [min.x, min.y, max.x, max.y]).join(<span class=\"code-string\">','</span>),\r\n","\t\t    url = TileLayer.prototype.getTileUrl.call(<span class=\"code-keyword\">this</span>, coords);\r\n","\t\t<span class=\"code-keyword\">return</span> url +\r\n","\t\t\tgetParamString(<span class=\"code-keyword\">this</span>.wmsParams, url, <span class=\"code-keyword\">this</span>.options.uppercase) +\r\n","\t\t\t(<span class=\"code-keyword\">this</span>.options.uppercase ? <span class=\"code-string\">'&amp;BBOX='</span> : <span class=\"code-string\">'&amp;bbox='</span>) + bbox;\r\n","\t},\r\n","\r\n","\t<span class=\"code-comment\">// @method setParams(params: Object, noRedraw?: Boolean): this</span>\r\n","\t<span class=\"code-comment\">// Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).</span>\r\n","\tsetParams: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">params, noRedraw</span>) </span>{\r\n","\r\n","\t\textend(<span class=\"code-keyword\">this</span>.wmsParams, params);\r\n","\r\n","\t\t<span class=\"code-keyword\">if</span> (!noRedraw) {\r\n","\t\t\t<span class=\"code-keyword\">this</span>.redraw();\r\n","\t\t}\r\n","\r\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;\r\n","\t}\r\n","});\r\n","\r\n","\r\n","<span class=\"code-comment\">// @factory L.tileLayer.wms(baseUrl: String, options: TileLayer.WMS options)</span>\r\n","<span class=\"code-comment\">// Instantiates a WMS tile layer object given a base URL of the WMS service and a WMS parameters/options object.</span>\r\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tileLayerWMS</span>(<span class=\"code-params\">url, options</span>) </span>{\r\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> TileLayerWMS(url, options);\r\n","}\n","\n","TileLayer.WMS = TileLayerWMS;\n","tileLayer.wms = tileLayerWMS;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Renderer\n</span>","<span class=\"code-comment\"> * @inherits Layer\n</span>","<span class=\"code-comment\"> * @aka L.Renderer\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Base class for vector renderer implementations (`SVG`, `Canvas`). Handles the\n</span>","<span class=\"code-comment\"> * DOM container of the renderer, its bounds, and its zoom animation.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A `Renderer` works as an implicit layer group for all `Path`s - the renderer\n</span>","<span class=\"code-comment\"> * itself can be added or removed to the map. All paths use a renderer, which can\n</span>","<span class=\"code-comment\"> * be implicit (the map will decide the type of renderer and use it automatically)\n</span>","<span class=\"code-comment\"> * or explicit (using the [`renderer`](#path-renderer) option of the path).\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Do not use this class directly, use `SVG` and `Canvas` instead.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @event update: Event\n</span>","<span class=\"code-comment\"> * Fired when the renderer updates its bounds, center and zoom, for example when\n</span>","<span class=\"code-comment\"> * its map has moved\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Renderer = Layer.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka Renderer options</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option padding: Number = 0.1</span>\n","\t\t<span class=\"code-comment\">// How much to extend the clip area around the map view (relative to its size)</span>\n","\t\t<span class=\"code-comment\">// e.g. 0.1 would be 10% of map view in each direction</span>\n","\t\tpadding: <span class=\"code-number\">0.1</span>\n","\t},\n","\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\n","\t\tsetOptions(<span class=\"code-keyword\">this</span>, options);\n","\t\tstamp(<span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">this</span>._layers = <span class=\"code-keyword\">this</span>._layers || {};\n","\t},\n","\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._container) {\n","\t\t\t<span class=\"code-keyword\">this</span>._initContainer(); <span class=\"code-comment\">// defined by renderer implementations</span>\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\n","\t\t\t\taddClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-zoom-animated'</span>);\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>.getPane().appendChild(<span class=\"code-keyword\">this</span>._container);\n","\t\t<span class=\"code-keyword\">this</span>._update();\n","\t\t<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">'update'</span>, <span class=\"code-keyword\">this</span>._updatePaths, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tonRemove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">'update'</span>, <span class=\"code-keyword\">this</span>._updatePaths, <span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">this</span>._destroyContainer();\n","\t},\n","\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> events = {\n","\t\t\tviewreset: <span class=\"code-keyword\">this</span>._reset,\n","\t\t\tzoom: <span class=\"code-keyword\">this</span>._onZoom,\n","\t\t\tmoveend: <span class=\"code-keyword\">this</span>._update,\n","\t\t\tzoomend: <span class=\"code-keyword\">this</span>._onZoomEnd\n","\t\t};\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._zoomAnimated) {\n","\t\t\tevents.zoomanim = <span class=\"code-keyword\">this</span>._onAnimZoom;\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> events;\n","\t},\n","\n","\t_onAnimZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">ev</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._updateTransform(ev.center, ev.zoom);\n","\t},\n","\n","\t_onZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._updateTransform(<span class=\"code-keyword\">this</span>._map.getCenter(), <span class=\"code-keyword\">this</span>._map.getZoom());\n","\t},\n","\n","\t_updateTransform: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">center, zoom</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> scale = <span class=\"code-keyword\">this</span>._map.getZoomScale(zoom, <span class=\"code-keyword\">this</span>._zoom),\n","\t\t    position = getPosition(<span class=\"code-keyword\">this</span>._container),\n","\t\t    viewHalf = <span class=\"code-keyword\">this</span>._map.getSize().multiplyBy(<span class=\"code-number\">0.5</span> + <span class=\"code-keyword\">this</span>.options.padding),\n","\t\t    currentCenterPoint = <span class=\"code-keyword\">this</span>._map.project(<span class=\"code-keyword\">this</span>._center, zoom),\n","\t\t    destCenterPoint = <span class=\"code-keyword\">this</span>._map.project(center, zoom),\n","\t\t    centerOffset = destCenterPoint.subtract(currentCenterPoint),\n","\n","\t\t    topLeftOffset = viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);\n","\n","\t\t<span class=\"code-keyword\">if</span> (Browser.any3d) {\n","\t\t\tsetTransform(<span class=\"code-keyword\">this</span>._container, topLeftOffset, scale);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tsetPosition(<span class=\"code-keyword\">this</span>._container, topLeftOffset);\n","\t\t}\n","\t},\n","\n","\t_reset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._update();\n","\t\t<span class=\"code-keyword\">this</span>._updateTransform(<span class=\"code-keyword\">this</span>._center, <span class=\"code-keyword\">this</span>._zoom);\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\n","\t\t\t<span class=\"code-keyword\">this</span>._layers[id]._reset();\n","\t\t}\n","\t},\n","\n","\t_onZoomEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\n","\t\t\t<span class=\"code-keyword\">this</span>._layers[id]._project();\n","\t\t}\n","\t},\n","\n","\t_updatePaths: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\n","\t\t\t<span class=\"code-keyword\">this</span>._layers[id]._update();\n","\t\t}\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// Update pixel bounds of renderer container (for positioning/sizing/clipping later)</span>\n","\t\t<span class=\"code-comment\">// Subclasses are responsible of firing the 'update' event.</span>\n","\t\t<span class=\"code-keyword\">var</span> p = <span class=\"code-keyword\">this</span>.options.padding,\n","\t\t    size = <span class=\"code-keyword\">this</span>._map.getSize(),\n","\t\t    min = <span class=\"code-keyword\">this</span>._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();\n","\n","\t\t<span class=\"code-keyword\">this</span>._bounds = <span class=\"code-keyword\">new</span> Bounds(min, min.add(size.multiplyBy(<span class=\"code-number\">1</span> + p * <span class=\"code-number\">2</span>)).round());\n","\n","\t\t<span class=\"code-keyword\">this</span>._center = <span class=\"code-keyword\">this</span>._map.getCenter();\n","\t\t<span class=\"code-keyword\">this</span>._zoom = <span class=\"code-keyword\">this</span>._map.getZoom();\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Canvas\n</span>","<span class=\"code-comment\"> * @inherits Renderer\n</span>","<span class=\"code-comment\"> * @aka L.Canvas\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Allows vector layers to be displayed with [`&lt;canvas&gt;`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\n</span>","<span class=\"code-comment\"> * Inherits `Renderer`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Due to [technical limitations](https://caniuse.com/canvas), Canvas is not\n</span>","<span class=\"code-comment\"> * available in all web browsers, notably IE8, and overlapping geometries might\n</span>","<span class=\"code-comment\"> * not display properly in some edge cases.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Use Canvas by default for all paths in the map:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var map = L.map('map', {\n</span>","<span class=\"code-comment\"> * \trenderer: L.canvas()\n</span>","<span class=\"code-comment\"> * });\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Use a Canvas renderer with extra padding for specific vector geometries:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var map = L.map('map');\n</span>","<span class=\"code-comment\"> * var myRenderer = L.canvas({ padding: 0.5 });\n</span>","<span class=\"code-comment\"> * var line = L.polyline( coordinates, { renderer: myRenderer } );\n</span>","<span class=\"code-comment\"> * var circle = L.circle( center, { renderer: myRenderer } );\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> Canvas = Renderer.extend({\n","\n","\t<span class=\"code-comment\">// @section</span>\n","\t<span class=\"code-comment\">// @aka Canvas options</span>\n","\toptions: {\n","\t\t<span class=\"code-comment\">// @option tolerance: Number = 0</span>\n","\t\t<span class=\"code-comment\">// How much to extend the click tolerance around a path/object on the map.</span>\n","\t\ttolerance: <span class=\"code-number\">0</span>\n","\t},\n","\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> events = Renderer.prototype.getEvents.call(<span class=\"code-keyword\">this</span>);\n","\t\tevents.viewprereset = <span class=\"code-keyword\">this</span>._onViewPreReset;\n","\t\t<span class=\"code-keyword\">return</span> events;\n","\t},\n","\n","\t_onViewPreReset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// Set a flag so that a viewprereset+moveend+viewreset only updates&amp;redraws once</span>\n","\t\t<span class=\"code-keyword\">this</span>._postponeUpdatePaths = <span class=\"code-literal\">true</span>;\n","\t},\n","\n","\tonAdd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tRenderer.prototype.onAdd.call(<span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-comment\">// Redraw vectors since canvas is cleared upon removal,</span>\n","\t\t<span class=\"code-comment\">// in case of removing the renderer itself from the map.</span>\n","\t\t<span class=\"code-keyword\">this</span>._draw();\n","\t},\n","\n","\t_initContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> container = <span class=\"code-keyword\">this</span>._container = <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'canvas'</span>);\n","\n","\t\ton(container, <span class=\"code-string\">'mousemove'</span>, <span class=\"code-keyword\">this</span>._onMouseMove, <span class=\"code-keyword\">this</span>);\n","\t\ton(container, <span class=\"code-string\">'click dblclick mousedown mouseup contextmenu'</span>, <span class=\"code-keyword\">this</span>._onClick, <span class=\"code-keyword\">this</span>);\n","\t\ton(container, <span class=\"code-string\">'mouseout'</span>, <span class=\"code-keyword\">this</span>._handleMouseOut, <span class=\"code-keyword\">this</span>);\n","\t\tcontainer[<span class=\"code-string\">'_leaflet_disable_events'</span>] = <span class=\"code-literal\">true</span>;\n","\n","\t\t<span class=\"code-keyword\">this</span>._ctx = container.getContext(<span class=\"code-string\">'2d'</span>);\n","\t},\n","\n","\t_destroyContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._redrawRequest);\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._ctx;\n","\t\tremove(<span class=\"code-keyword\">this</span>._container);\n","\t\toff(<span class=\"code-keyword\">this</span>._container);\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._container;\n","\t},\n","\n","\t_updatePaths: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._postponeUpdatePaths) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> layer;\n","\t\t<span class=\"code-keyword\">this</span>._redrawBounds = <span class=\"code-literal\">null</span>;\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> id <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._layers) {\n","\t\t\tlayer = <span class=\"code-keyword\">this</span>._layers[id];\n","\t\t\tlayer._update();\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>._redraw();\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map._animatingZoom &amp;&amp; <span class=\"code-keyword\">this</span>._bounds) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\tRenderer.prototype._update.call(<span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">var</span> b = <span class=\"code-keyword\">this</span>._bounds,\n","\t\t    container = <span class=\"code-keyword\">this</span>._container,\n","\t\t    size = b.getSize(),\n","\t\t    m = Browser.retina ? <span class=\"code-number\">2</span> : <span class=\"code-number\">1</span>;\n","\n","\t\tsetPosition(container, b.min);\n","\n","\t\t<span class=\"code-comment\">// set canvas size (also clearing it); use double size on retina</span>\n","\t\tcontainer.width = m * size.x;\n","\t\tcontainer.height = m * size.y;\n","\t\tcontainer.style.width = size.x + <span class=\"code-string\">'px'</span>;\n","\t\tcontainer.style.height = size.y + <span class=\"code-string\">'px'</span>;\n","\n","\t\t<span class=\"code-keyword\">if</span> (Browser.retina) {\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.scale(<span class=\"code-number\">2</span>, <span class=\"code-number\">2</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// translate so we use the same path coordinates after canvas element moves</span>\n","\t\t<span class=\"code-keyword\">this</span>._ctx.translate(-b.min.x, -b.min.y);\n","\n","\t\t<span class=\"code-comment\">// Tell paths to redraw themselves</span>\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'update'</span>);\n","\t},\n","\n","\t_reset: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tRenderer.prototype._reset.call(<span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._postponeUpdatePaths) {\n","\t\t\t<span class=\"code-keyword\">this</span>._postponeUpdatePaths = <span class=\"code-literal\">false</span>;\n","\t\t\t<span class=\"code-keyword\">this</span>._updatePaths();\n","\t\t}\n","\t},\n","\n","\t_initPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._updateDashArray(layer);\n","\t\t<span class=\"code-keyword\">this</span>._layers[stamp(layer)] = layer;\n","\n","\t\t<span class=\"code-keyword\">var</span> order = layer._order = {\n","\t\t\tlayer: layer,\n","\t\t\tprev: <span class=\"code-keyword\">this</span>._drawLast,\n","\t\t\tnext: <span class=\"code-literal\">null</span>\n","\t\t};\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._drawLast) { <span class=\"code-keyword\">this</span>._drawLast.next = order; }\n","\t\t<span class=\"code-keyword\">this</span>._drawLast = order;\n","\t\t<span class=\"code-keyword\">this</span>._drawFirst = <span class=\"code-keyword\">this</span>._drawFirst || <span class=\"code-keyword\">this</span>._drawLast;\n","\t},\n","\n","\t_addPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._requestRedraw(layer);\n","\t},\n","\n","\t_removePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> order = layer._order;\n","\t\t<span class=\"code-keyword\">var</span> next = order.next;\n","\t\t<span class=\"code-keyword\">var</span> prev = order.prev;\n","\n","\t\t<span class=\"code-keyword\">if</span> (next) {\n","\t\t\tnext.prev = prev;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._drawLast = prev;\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (prev) {\n","\t\t\tprev.next = next;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._drawFirst = next;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">delete</span> layer._order;\n","\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._layers[stamp(layer)];\n","\n","\t\t<span class=\"code-keyword\">this</span>._requestRedraw(layer);\n","\t},\n","\n","\t_updatePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-comment\">// Redraw the union of the layer's old pixel</span>\n","\t\t<span class=\"code-comment\">// bounds and the new pixel bounds.</span>\n","\t\t<span class=\"code-keyword\">this</span>._extendRedrawBounds(layer);\n","\t\tlayer._project();\n","\t\tlayer._update();\n","\t\t<span class=\"code-comment\">// The redraw will extend the redraw bounds</span>\n","\t\t<span class=\"code-comment\">// with the new pixel bounds.</span>\n","\t\t<span class=\"code-keyword\">this</span>._requestRedraw(layer);\n","\t},\n","\n","\t_updateStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._updateDashArray(layer);\n","\t\t<span class=\"code-keyword\">this</span>._requestRedraw(layer);\n","\t},\n","\n","\t_updateDashArray: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">typeof</span> layer.options.dashArray === <span class=\"code-string\">'string'</span>) {\n","\t\t\t<span class=\"code-keyword\">var</span> parts = layer.options.dashArray.split(<span class=\"code-regexp\">/[, ]+/</span>),\n","\t\t\t    dashArray = [],\n","\t\t\t    dashValue,\n","\t\t\t    i;\n","\t\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; parts.length; i++) {\n","\t\t\t\tdashValue = <span class=\"code-built_in\">Number</span>(parts[i]);\n","\t\t\t\t<span class=\"code-comment\">// Ignore dash array containing invalid lengths</span>\n","\t\t\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-built_in\">isNaN</span>(dashValue)) { <span class=\"code-keyword\">return</span>; }\n","\t\t\t\tdashArray.push(dashValue);\n","\t\t\t}\n","\t\t\tlayer.options._dashArray = dashArray;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tlayer.options._dashArray = layer.options.dashArray;\n","\t\t}\n","\t},\n","\n","\t_requestRedraw: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._extendRedrawBounds(layer);\n","\t\t<span class=\"code-keyword\">this</span>._redrawRequest = <span class=\"code-keyword\">this</span>._redrawRequest || requestAnimFrame(<span class=\"code-keyword\">this</span>._redraw, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_extendRedrawBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (layer._pxBounds) {\n","\t\t\t<span class=\"code-keyword\">var</span> padding = (layer.options.weight || <span class=\"code-number\">0</span>) + <span class=\"code-number\">1</span>;\n","\t\t\t<span class=\"code-keyword\">this</span>._redrawBounds = <span class=\"code-keyword\">this</span>._redrawBounds || <span class=\"code-keyword\">new</span> Bounds();\n","\t\t\t<span class=\"code-keyword\">this</span>._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));\n","\t\t\t<span class=\"code-keyword\">this</span>._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));\n","\t\t}\n","\t},\n","\n","\t_redraw: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._redrawRequest = <span class=\"code-literal\">null</span>;\n","\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._redrawBounds) {\n","\t\t\t<span class=\"code-keyword\">this</span>._redrawBounds.min._floor();\n","\t\t\t<span class=\"code-keyword\">this</span>._redrawBounds.max._ceil();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._clear(); <span class=\"code-comment\">// clear layers in redraw bounds</span>\n","\t\t<span class=\"code-keyword\">this</span>._draw(); <span class=\"code-comment\">// draw layers</span>\n","\n","\t\t<span class=\"code-keyword\">this</span>._redrawBounds = <span class=\"code-literal\">null</span>;\n","\t},\n","\n","\t_clear: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">this</span>._redrawBounds;\n","\t\t<span class=\"code-keyword\">if</span> (bounds) {\n","\t\t\t<span class=\"code-keyword\">var</span> size = bounds.getSize();\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.save();\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.setTransform(<span class=\"code-number\">1</span>, <span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>, <span class=\"code-number\">1</span>, <span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.clearRect(<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>, <span class=\"code-keyword\">this</span>._container.width, <span class=\"code-keyword\">this</span>._container.height);\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.restore();\n","\t\t}\n","\t},\n","\n","\t_draw: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> layer, bounds = <span class=\"code-keyword\">this</span>._redrawBounds;\n","\t\t<span class=\"code-keyword\">this</span>._ctx.save();\n","\t\t<span class=\"code-keyword\">if</span> (bounds) {\n","\t\t\t<span class=\"code-keyword\">var</span> size = bounds.getSize();\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.beginPath();\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.rect(bounds.min.x, bounds.min.y, size.x, size.y);\n","\t\t\t<span class=\"code-keyword\">this</span>._ctx.clip();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._drawing = <span class=\"code-literal\">true</span>;\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> order = <span class=\"code-keyword\">this</span>._drawFirst; order; order = order.next) {\n","\t\t\tlayer = order.layer;\n","\t\t\t<span class=\"code-keyword\">if</span> (!bounds || (layer._pxBounds &amp;&amp; layer._pxBounds.intersects(bounds))) {\n","\t\t\t\tlayer._updatePath();\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._drawing = <span class=\"code-literal\">false</span>;\n","\n","\t\t<span class=\"code-keyword\">this</span>._ctx.restore();  <span class=\"code-comment\">// Restore state before clipping.</span>\n","\t},\n","\n","\t_updatePoly: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, closed</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._drawing) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> i, j, len2, p,\n","\t\t    parts = layer._parts,\n","\t\t    len = parts.length,\n","\t\t    ctx = <span class=\"code-keyword\">this</span>._ctx;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!len) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\tctx.beginPath();\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>; i &lt; len; i++) {\n","\t\t\t<span class=\"code-keyword\">for</span> (j = <span class=\"code-number\">0</span>, len2 = parts[i].length; j &lt; len2; j++) {\n","\t\t\t\tp = parts[i][j];\n","\t\t\t\tctx[j ? <span class=\"code-string\">'lineTo'</span> : <span class=\"code-string\">'moveTo'</span>](p.x, p.y);\n","\t\t\t}\n","\t\t\t<span class=\"code-keyword\">if</span> (closed) {\n","\t\t\t\tctx.closePath();\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._fillStroke(ctx, layer);\n","\n","\t\t<span class=\"code-comment\">// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature</span>\n","\t},\n","\n","\t_updateCircle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._drawing || layer._empty()) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> p = layer._point,\n","\t\t    ctx = <span class=\"code-keyword\">this</span>._ctx,\n","\t\t    r = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.round(layer._radius), <span class=\"code-number\">1</span>),\n","\t\t    s = (<span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.round(layer._radiusY), <span class=\"code-number\">1</span>) || r) / r;\n","\n","\t\t<span class=\"code-keyword\">if</span> (s !== <span class=\"code-number\">1</span>) {\n","\t\t\tctx.save();\n","\t\t\tctx.scale(<span class=\"code-number\">1</span>, s);\n","\t\t}\n","\n","\t\tctx.beginPath();\n","\t\tctx.arc(p.x, p.y / s, r, <span class=\"code-number\">0</span>, <span class=\"code-built_in\">Math</span>.PI * <span class=\"code-number\">2</span>, <span class=\"code-literal\">false</span>);\n","\n","\t\t<span class=\"code-keyword\">if</span> (s !== <span class=\"code-number\">1</span>) {\n","\t\t\tctx.restore();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._fillStroke(ctx, layer);\n","\t},\n","\n","\t_fillStroke: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">ctx, layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> options = layer.options;\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.fill) {\n","\t\t\tctx.globalAlpha = options.fillOpacity;\n","\t\t\tctx.fillStyle = options.fillColor || options.color;\n","\t\t\tctx.fill(options.fillRule || <span class=\"code-string\">'evenodd'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.stroke &amp;&amp; options.weight !== <span class=\"code-number\">0</span>) {\n","\t\t\t<span class=\"code-keyword\">if</span> (ctx.setLineDash) {\n","\t\t\t\tctx.setLineDash(layer.options &amp;&amp; layer.options._dashArray || []);\n","\t\t\t}\n","\t\t\tctx.globalAlpha = options.opacity;\n","\t\t\tctx.lineWidth = options.weight;\n","\t\t\tctx.strokeStyle = options.color;\n","\t\t\tctx.lineCap = options.lineCap;\n","\t\t\tctx.lineJoin = options.lineJoin;\n","\t\t\tctx.stroke();\n","\t\t}\n","\t},\n","\n","\t<span class=\"code-comment\">// Canvas obviously doesn't have mouse events for individual drawn objects,</span>\n","\t<span class=\"code-comment\">// so we emulate that by calculating what's under the mouse on mousemove/click manually</span>\n","\n","\t_onClick: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> point = <span class=\"code-keyword\">this</span>._map.mouseEventToLayerPoint(e), layer, clickedLayer;\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> order = <span class=\"code-keyword\">this</span>._drawFirst; order; order = order.next) {\n","\t\t\tlayer = order.layer;\n","\t\t\t<span class=\"code-keyword\">if</span> (layer.options.interactive &amp;&amp; layer._containsPoint(point)) {\n","\t\t\t\t<span class=\"code-keyword\">if</span> (!(e.type === <span class=\"code-string\">'click'</span> || e.type === <span class=\"code-string\">'preclick'</span>) || !<span class=\"code-keyword\">this</span>._map._draggableMoved(layer)) {\n","\t\t\t\t\tclickedLayer = layer;\n","\t\t\t\t}\n","\t\t\t}\n","\t\t}\n","\t\t<span class=\"code-keyword\">this</span>._fireEvent(clickedLayer ? [clickedLayer] : <span class=\"code-literal\">false</span>, e);\n","\t},\n","\n","\t_onMouseMove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._map || <span class=\"code-keyword\">this</span>._map.dragging.moving() || <span class=\"code-keyword\">this</span>._map._animatingZoom) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> point = <span class=\"code-keyword\">this</span>._map.mouseEventToLayerPoint(e);\n","\t\t<span class=\"code-keyword\">this</span>._handleMouseHover(e, point);\n","\t},\n","\n","\n","\t_handleMouseOut: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> layer = <span class=\"code-keyword\">this</span>._hoveredLayer;\n","\t\t<span class=\"code-keyword\">if</span> (layer) {\n","\t\t\t<span class=\"code-comment\">// if we're leaving the layer, fire mouseout</span>\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-interactive'</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>._fireEvent([layer], e, <span class=\"code-string\">'mouseout'</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>._hoveredLayer = <span class=\"code-literal\">null</span>;\n","\t\t\t<span class=\"code-keyword\">this</span>._mouseHoverThrottled = <span class=\"code-literal\">false</span>;\n","\t\t}\n","\t},\n","\n","\t_handleMouseHover: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e, point</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._mouseHoverThrottled) {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> layer, candidateHoveredLayer;\n","\n","\t\t<span class=\"code-keyword\">for</span> (<span class=\"code-keyword\">var</span> order = <span class=\"code-keyword\">this</span>._drawFirst; order; order = order.next) {\n","\t\t\tlayer = order.layer;\n","\t\t\t<span class=\"code-keyword\">if</span> (layer.options.interactive &amp;&amp; layer._containsPoint(point)) {\n","\t\t\t\tcandidateHoveredLayer = layer;\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (candidateHoveredLayer !== <span class=\"code-keyword\">this</span>._hoveredLayer) {\n","\t\t\t<span class=\"code-keyword\">this</span>._handleMouseOut(e);\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (candidateHoveredLayer) {\n","\t\t\t\taddClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-interactive'</span>); <span class=\"code-comment\">// change cursor</span>\n","\t\t\t\t<span class=\"code-keyword\">this</span>._fireEvent([candidateHoveredLayer], e, <span class=\"code-string\">'mouseover'</span>);\n","\t\t\t\t<span class=\"code-keyword\">this</span>._hoveredLayer = candidateHoveredLayer;\n","\t\t\t}\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._fireEvent(<span class=\"code-keyword\">this</span>._hoveredLayer ? [<span class=\"code-keyword\">this</span>._hoveredLayer] : <span class=\"code-literal\">false</span>, e);\n","\n","\t\t<span class=\"code-keyword\">this</span>._mouseHoverThrottled = <span class=\"code-literal\">true</span>;\n","\t\tsetTimeout(bind(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t\t<span class=\"code-keyword\">this</span>._mouseHoverThrottled = <span class=\"code-literal\">false</span>;\n","\t\t}, <span class=\"code-keyword\">this</span>), <span class=\"code-number\">32</span>);\n","\t},\n","\n","\t_fireEvent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layers, e, type</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map._fireDOMEvent(e, type || e.type, layers);\n","\t},\n","\n","\t_bringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> order = layer._order;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!order) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> next = order.next;\n","\t\t<span class=\"code-keyword\">var</span> prev = order.prev;\n","\n","\t\t<span class=\"code-keyword\">if</span> (next) {\n","\t\t\tnext.prev = prev;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-comment\">// Already last</span>\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (prev) {\n","\t\t\tprev.next = next;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (next) {\n","\t\t\t<span class=\"code-comment\">// Update first entry unless this is the</span>\n","\t\t\t<span class=\"code-comment\">// single entry</span>\n","\t\t\t<span class=\"code-keyword\">this</span>._drawFirst = next;\n","\t\t}\n","\n","\t\torder.prev = <span class=\"code-keyword\">this</span>._drawLast;\n","\t\t<span class=\"code-keyword\">this</span>._drawLast.next = order;\n","\n","\t\torder.next = <span class=\"code-literal\">null</span>;\n","\t\t<span class=\"code-keyword\">this</span>._drawLast = order;\n","\n","\t\t<span class=\"code-keyword\">this</span>._requestRedraw(layer);\n","\t},\n","\n","\t_bringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> order = layer._order;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!order) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> next = order.next;\n","\t\t<span class=\"code-keyword\">var</span> prev = order.prev;\n","\n","\t\t<span class=\"code-keyword\">if</span> (prev) {\n","\t\t\tprev.next = next;\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-comment\">// Already first</span>\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\t\t<span class=\"code-keyword\">if</span> (next) {\n","\t\t\tnext.prev = prev;\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (prev) {\n","\t\t\t<span class=\"code-comment\">// Update last entry unless this is the</span>\n","\t\t\t<span class=\"code-comment\">// single entry</span>\n","\t\t\t<span class=\"code-keyword\">this</span>._drawLast = prev;\n","\t\t}\n","\n","\t\torder.prev = <span class=\"code-literal\">null</span>;\n","\n","\t\torder.next = <span class=\"code-keyword\">this</span>._drawFirst;\n","\t\t<span class=\"code-keyword\">this</span>._drawFirst.prev = order;\n","\t\t<span class=\"code-keyword\">this</span>._drawFirst = order;\n","\n","\t\t<span class=\"code-keyword\">this</span>._requestRedraw(layer);\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @factory L.canvas(options?: Renderer options)</span>\n","<span class=\"code-comment\">// Creates a Canvas renderer with the given options.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">canvas</span>(<span class=\"code-params\">options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> Browser.canvas ? <span class=\"code-keyword\">new</span> Canvas(options) : <span class=\"code-literal\">null</span>;\n","}\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-keyword\">var</span> vmlCreate = (<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t<span class=\"code-keyword\">try</span> {\n","\t\t<span class=\"code-built_in\">document</span>.namespaces.add(<span class=\"code-string\">'lvml'</span>, <span class=\"code-string\">'urn:schemas-microsoft-com:vml'</span>);\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name</span>) </span>{\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'&lt;lvml:'</span> + name + <span class=\"code-string\">' class=\"lvml\"&gt;'</span>);\n","\t\t};\n","\t} <span class=\"code-keyword\">catch</span> (e) {\n","\t\t<span class=\"code-comment\">// Do not return fn from catch block so `e` can be garbage collected</span>\n","\t\t<span class=\"code-comment\">// See https://github.com/Leaflet/Leaflet/pull/7279</span>\n","\t}\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">'&lt;'</span> + name + <span class=\"code-string\">' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\"&gt;'</span>);\n","\t};\n","})();\n","\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class SVG\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * VML was deprecated in 2012, which means VML functionality exists only for backwards compatibility\n</span>","<span class=\"code-comment\"> * with old versions of Internet Explorer.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// mixin to redefine some SVG methods to handle VML syntax which is similar but with some differences</span>\n","<span class=\"code-keyword\">var</span> vmlMixin = {\n","\n","\t_initContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._container = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, <span class=\"code-string\">'leaflet-vml-container'</span>);\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map._animatingZoom) { <span class=\"code-keyword\">return</span>; }\n","\t\tRenderer.prototype._update.call(<span class=\"code-keyword\">this</span>);\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'update'</span>);\n","\t},\n","\n","\t_initPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> container = layer._container = vmlCreate(<span class=\"code-string\">'shape'</span>);\n","\n","\t\taddClass(container, <span class=\"code-string\">'leaflet-vml-shape '</span> + (<span class=\"code-keyword\">this</span>.options.className || <span class=\"code-string\">''</span>));\n","\n","\t\tcontainer.coordsize = <span class=\"code-string\">'1 1'</span>;\n","\n","\t\tlayer._path = vmlCreate(<span class=\"code-string\">'path'</span>);\n","\t\tcontainer.appendChild(layer._path);\n","\n","\t\t<span class=\"code-keyword\">this</span>._updateStyle(layer);\n","\t\t<span class=\"code-keyword\">this</span>._layers[stamp(layer)] = layer;\n","\t},\n","\n","\t_addPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> container = layer._container;\n","\t\t<span class=\"code-keyword\">this</span>._container.appendChild(container);\n","\n","\t\t<span class=\"code-keyword\">if</span> (layer.options.interactive) {\n","\t\t\tlayer.addInteractiveTarget(container);\n","\t\t}\n","\t},\n","\n","\t_removePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> container = layer._container;\n","\t\tremove(container);\n","\t\tlayer.removeInteractiveTarget(container);\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._layers[stamp(layer)];\n","\t},\n","\n","\t_updateStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> stroke = layer._stroke,\n","\t\t    fill = layer._fill,\n","\t\t    options = layer.options,\n","\t\t    container = layer._container;\n","\n","\t\tcontainer.stroked = !!options.stroke;\n","\t\tcontainer.filled = !!options.fill;\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.stroke) {\n","\t\t\t<span class=\"code-keyword\">if</span> (!stroke) {\n","\t\t\t\tstroke = layer._stroke = vmlCreate(<span class=\"code-string\">'stroke'</span>);\n","\t\t\t}\n","\t\t\tcontainer.appendChild(stroke);\n","\t\t\tstroke.weight = options.weight + <span class=\"code-string\">'px'</span>;\n","\t\t\tstroke.color = options.color;\n","\t\t\tstroke.opacity = options.opacity;\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (options.dashArray) {\n","\t\t\t\tstroke.dashStyle = isArray(options.dashArray) ?\n","\t\t\t\t    options.dashArray.join(<span class=\"code-string\">' '</span>) :\n","\t\t\t\t    options.dashArray.replace(<span class=\"code-regexp\">/( *, *)/g</span>, <span class=\"code-string\">' '</span>);\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\tstroke.dashStyle = <span class=\"code-string\">''</span>;\n","\t\t\t}\n","\t\t\tstroke.endcap = options.lineCap.replace(<span class=\"code-string\">'butt'</span>, <span class=\"code-string\">'flat'</span>);\n","\t\t\tstroke.joinstyle = options.lineJoin;\n","\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (stroke) {\n","\t\t\tcontainer.removeChild(stroke);\n","\t\t\tlayer._stroke = <span class=\"code-literal\">null</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.fill) {\n","\t\t\t<span class=\"code-keyword\">if</span> (!fill) {\n","\t\t\t\tfill = layer._fill = vmlCreate(<span class=\"code-string\">'fill'</span>);\n","\t\t\t}\n","\t\t\tcontainer.appendChild(fill);\n","\t\t\tfill.color = options.fillColor || options.color;\n","\t\t\tfill.opacity = options.fillOpacity;\n","\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (fill) {\n","\t\t\tcontainer.removeChild(fill);\n","\t\t\tlayer._fill = <span class=\"code-literal\">null</span>;\n","\t\t}\n","\t},\n","\n","\t_updateCircle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> p = layer._point.round(),\n","\t\t    r = <span class=\"code-built_in\">Math</span>.round(layer._radius),\n","\t\t    r2 = <span class=\"code-built_in\">Math</span>.round(layer._radiusY || r);\n","\n","\t\t<span class=\"code-keyword\">this</span>._setPath(layer, layer._empty() ? <span class=\"code-string\">'M0 0'</span> :\n","\t\t\t<span class=\"code-string\">'AL '</span> + p.x + <span class=\"code-string\">','</span> + p.y + <span class=\"code-string\">' '</span> + r + <span class=\"code-string\">','</span> + r2 + <span class=\"code-string\">' 0,'</span> + (<span class=\"code-number\">65535</span> * <span class=\"code-number\">360</span>));\n","\t},\n","\n","\t_setPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, path</span>) </span>{\n","\t\tlayer._path.v = path;\n","\t},\n","\n","\t_bringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\ttoFront(layer._container);\n","\t},\n","\n","\t_bringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\ttoBack(layer._container);\n","\t}\n","};\n","\n","<span class=\"code-keyword\">var</span> create = Browser.vml ? vmlCreate : svgCreate;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class SVG\n</span>","<span class=\"code-comment\"> * @inherits Renderer\n</span>","<span class=\"code-comment\"> * @aka L.SVG\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Allows vector layers to be displayed with [SVG](https://developer.mozilla.org/docs/Web/SVG).\n</span>","<span class=\"code-comment\"> * Inherits `Renderer`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Due to [technical limitations](https://caniuse.com/svg), SVG is not\n</span>","<span class=\"code-comment\"> * available in all web browsers, notably Android 2.x and 3.x.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Although SVG is not available on IE7 and IE8, these browsers support\n</span>","<span class=\"code-comment\"> * [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language)\n</span>","<span class=\"code-comment\"> * (a now deprecated technology), and the SVG renderer will fall back to VML in\n</span>","<span class=\"code-comment\"> * this case.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Use SVG by default for all paths in the map:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var map = L.map('map', {\n</span>","<span class=\"code-comment\"> * \trenderer: L.svg()\n</span>","<span class=\"code-comment\"> * });\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Use a SVG renderer with extra padding for specific vector geometries:\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * var map = L.map('map');\n</span>","<span class=\"code-comment\"> * var myRenderer = L.svg({ padding: 0.5 });\n</span>","<span class=\"code-comment\"> * var line = L.polyline( coordinates, { renderer: myRenderer } );\n</span>","<span class=\"code-comment\"> * var circle = L.circle( center, { renderer: myRenderer } );\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> SVG = Renderer.extend({\n","\n","\tgetEvents: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> events = Renderer.prototype.getEvents.call(<span class=\"code-keyword\">this</span>);\n","\t\tevents.zoomstart = <span class=\"code-keyword\">this</span>._onZoomStart;\n","\t\t<span class=\"code-keyword\">return</span> events;\n","\t},\n","\n","\t_initContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._container = create(<span class=\"code-string\">'svg'</span>);\n","\n","\t\t<span class=\"code-comment\">// makes it possible to click through svg root; we'll reset it back in individual paths</span>\n","\t\t<span class=\"code-keyword\">this</span>._container.setAttribute(<span class=\"code-string\">'pointer-events'</span>, <span class=\"code-string\">'none'</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._rootGroup = create(<span class=\"code-string\">'g'</span>);\n","\t\t<span class=\"code-keyword\">this</span>._container.appendChild(<span class=\"code-keyword\">this</span>._rootGroup);\n","\t},\n","\n","\t_destroyContainer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tremove(<span class=\"code-keyword\">this</span>._container);\n","\t\toff(<span class=\"code-keyword\">this</span>._container);\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._container;\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._rootGroup;\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._svgSize;\n","\t},\n","\n","\t_onZoomStart: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// Drag-then-pinch interactions might mess up the center and zoom.</span>\n","\t\t<span class=\"code-comment\">// In this case, the easiest way to prevent this is re-do the renderer</span>\n","\t\t<span class=\"code-comment\">//   bounds and padding when the zooming starts.</span>\n","\t\t<span class=\"code-keyword\">this</span>._update();\n","\t},\n","\n","\t_update: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map._animatingZoom &amp;&amp; <span class=\"code-keyword\">this</span>._bounds) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\tRenderer.prototype._update.call(<span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">var</span> b = <span class=\"code-keyword\">this</span>._bounds,\n","\t\t    size = b.getSize(),\n","\t\t    container = <span class=\"code-keyword\">this</span>._container;\n","\n","\t\t<span class=\"code-comment\">// set size of svg-container if changed</span>\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._svgSize || !<span class=\"code-keyword\">this</span>._svgSize.equals(size)) {\n","\t\t\t<span class=\"code-keyword\">this</span>._svgSize = size;\n","\t\t\tcontainer.setAttribute(<span class=\"code-string\">'width'</span>, size.x);\n","\t\t\tcontainer.setAttribute(<span class=\"code-string\">'height'</span>, size.y);\n","\t\t}\n","\n","\t\t<span class=\"code-comment\">// movement: update container viewBox so that we don't have to change coordinates of individual layers</span>\n","\t\tsetPosition(container, b.min);\n","\t\tcontainer.setAttribute(<span class=\"code-string\">'viewBox'</span>, [b.min.x, b.min.y, size.x, size.y].join(<span class=\"code-string\">' '</span>));\n","\n","\t\t<span class=\"code-keyword\">this</span>.fire(<span class=\"code-string\">'update'</span>);\n","\t},\n","\n","\t<span class=\"code-comment\">// methods below are called by vector layers implementations</span>\n","\n","\t_initPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> path = layer._path = create(<span class=\"code-string\">'path'</span>);\n","\n","\t\t<span class=\"code-comment\">// @namespace Path</span>\n","\t\t<span class=\"code-comment\">// @option className: String = null</span>\n","\t\t<span class=\"code-comment\">// Custom class name set on an element. Only for SVG renderer.</span>\n","\t\t<span class=\"code-keyword\">if</span> (layer.options.className) {\n","\t\t\taddClass(path, layer.options.className);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (layer.options.interactive) {\n","\t\t\taddClass(path, <span class=\"code-string\">'leaflet-interactive'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._updateStyle(layer);\n","\t\t<span class=\"code-keyword\">this</span>._layers[stamp(layer)] = layer;\n","\t},\n","\n","\t_addPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._rootGroup) { <span class=\"code-keyword\">this</span>._initContainer(); }\n","\t\t<span class=\"code-keyword\">this</span>._rootGroup.appendChild(layer._path);\n","\t\tlayer.addInteractiveTarget(layer._path);\n","\t},\n","\n","\t_removePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\tremove(layer._path);\n","\t\tlayer.removeInteractiveTarget(layer._path);\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._layers[stamp(layer)];\n","\t},\n","\n","\t_updatePath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\tlayer._project();\n","\t\tlayer._update();\n","\t},\n","\n","\t_updateStyle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> path = layer._path,\n","\t\t    options = layer.options;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!path) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.stroke) {\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke'</span>, options.color);\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke-opacity'</span>, options.opacity);\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke-width'</span>, options.weight);\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke-linecap'</span>, options.lineCap);\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke-linejoin'</span>, options.lineJoin);\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (options.dashArray) {\n","\t\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke-dasharray'</span>, options.dashArray);\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\tpath.removeAttribute(<span class=\"code-string\">'stroke-dasharray'</span>);\n","\t\t\t}\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (options.dashOffset) {\n","\t\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke-dashoffset'</span>, options.dashOffset);\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\tpath.removeAttribute(<span class=\"code-string\">'stroke-dashoffset'</span>);\n","\t\t\t}\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'stroke'</span>, <span class=\"code-string\">'none'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (options.fill) {\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'fill'</span>, options.fillColor || options.color);\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'fill-opacity'</span>, options.fillOpacity);\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'fill-rule'</span>, options.fillRule || <span class=\"code-string\">'evenodd'</span>);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tpath.setAttribute(<span class=\"code-string\">'fill'</span>, <span class=\"code-string\">'none'</span>);\n","\t\t}\n","\t},\n","\n","\t_updatePoly: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, closed</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._setPath(layer, pointsToPath(layer._parts, closed));\n","\t},\n","\n","\t_updateCircle: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> p = layer._point,\n","\t\t    r = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.round(layer._radius), <span class=\"code-number\">1</span>),\n","\t\t    r2 = <span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.round(layer._radiusY), <span class=\"code-number\">1</span>) || r,\n","\t\t    arc = <span class=\"code-string\">'a'</span> + r + <span class=\"code-string\">','</span> + r2 + <span class=\"code-string\">' 0 1,0 '</span>;\n","\n","\t\t<span class=\"code-comment\">// drawing a circle with two half-arcs</span>\n","\t\t<span class=\"code-keyword\">var</span> d = layer._empty() ? <span class=\"code-string\">'M0 0'</span> :\n","\t\t\t<span class=\"code-string\">'M'</span> + (p.x - r) + <span class=\"code-string\">','</span> + p.y +\n","\t\t\tarc + (r * <span class=\"code-number\">2</span>) + <span class=\"code-string\">',0 '</span> +\n","\t\t\tarc + (-r * <span class=\"code-number\">2</span>) + <span class=\"code-string\">',0 '</span>;\n","\n","\t\t<span class=\"code-keyword\">this</span>._setPath(layer, d);\n","\t},\n","\n","\t_setPath: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer, path</span>) </span>{\n","\t\tlayer._path.setAttribute(<span class=\"code-string\">'d'</span>, path);\n","\t},\n","\n","\t<span class=\"code-comment\">// SVG does not have the concept of zIndex so we resort to changing the DOM order of elements</span>\n","\t_bringToFront: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\ttoFront(layer._path);\n","\t},\n","\n","\t_bringToBack: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\ttoBack(layer._path);\n","\t}\n","});\n","\n","<span class=\"code-keyword\">if</span> (Browser.vml) {\n","\tSVG.include(vmlMixin);\n","}\n","\n","<span class=\"code-comment\">// @namespace SVG</span>\n","<span class=\"code-comment\">// @factory L.svg(options?: Renderer options)</span>\n","<span class=\"code-comment\">// Creates a SVG renderer with the given options.</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">svg</span>(<span class=\"code-params\">options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> Browser.svg || Browser.vml ? <span class=\"code-keyword\">new</span> SVG(options) : <span class=\"code-literal\">null</span>;\n","}\n","\n","<span class=\"code-built_in\">Map</span>.include({\n","\t<span class=\"code-comment\">// @namespace Map; @method getRenderer(layer: Path): Renderer</span>\n","\t<span class=\"code-comment\">// Returns the instance of `Renderer` that should be used to render the given</span>\n","\t<span class=\"code-comment\">// `Path`. It will ensure that the `renderer` options of the map and paths</span>\n","\t<span class=\"code-comment\">// are respected, and that the renderers do exist on the map.</span>\n","\tgetRenderer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">layer</span>) </span>{\n","\t\t<span class=\"code-comment\">// @namespace Path; @option renderer: Renderer</span>\n","\t\t<span class=\"code-comment\">// Use this specific instance of `Renderer` for this path. Takes</span>\n","\t\t<span class=\"code-comment\">// precedence over the map's [default renderer](#map-renderer).</span>\n","\t\t<span class=\"code-keyword\">var</span> renderer = layer.options.renderer || <span class=\"code-keyword\">this</span>._getPaneRenderer(layer.options.pane) || <span class=\"code-keyword\">this</span>.options.renderer || <span class=\"code-keyword\">this</span>._renderer;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!renderer) {\n","\t\t\trenderer = <span class=\"code-keyword\">this</span>._renderer = <span class=\"code-keyword\">this</span>._createRenderer();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>.hasLayer(renderer)) {\n","\t\t\t<span class=\"code-keyword\">this</span>.addLayer(renderer);\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> renderer;\n","\t},\n","\n","\t_getPaneRenderer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">name</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (name === <span class=\"code-string\">'overlayPane'</span> || name === <span class=\"code-literal\">undefined</span>) {\n","\t\t\t<span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> renderer = <span class=\"code-keyword\">this</span>._paneRenderers[name];\n","\t\t<span class=\"code-keyword\">if</span> (renderer === <span class=\"code-literal\">undefined</span>) {\n","\t\t\trenderer = <span class=\"code-keyword\">this</span>._createRenderer({<span class=\"code-attr\">pane</span>: name});\n","\t\t\t<span class=\"code-keyword\">this</span>._paneRenderers[name] = renderer;\n","\t\t}\n","\t\t<span class=\"code-keyword\">return</span> renderer;\n","\t},\n","\n","\t_createRenderer: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">options</span>) </span>{\n","\t\t<span class=\"code-comment\">// @namespace Map; @option preferCanvas: Boolean = false</span>\n","\t\t<span class=\"code-comment\">// Whether `Path`s should be rendered on a `Canvas` renderer.</span>\n","\t\t<span class=\"code-comment\">// By default, all `Path`s are rendered in a `SVG` renderer.</span>\n","\t\t<span class=\"code-keyword\">return</span> (<span class=\"code-keyword\">this</span>.options.preferCanvas &amp;&amp; canvas(options)) || svg(options);\n","\t}\n","});\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * @class Rectangle\n</span>","<span class=\"code-comment\"> * @aka L.Rectangle\n</span>","<span class=\"code-comment\"> * @inherits Polygon\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * A class for drawing rectangle overlays on a map. Extends `Polygon`.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @example\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * ```js\n</span>","<span class=\"code-comment\"> * // define rectangle geographical bounds\n</span>","<span class=\"code-comment\"> * var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * // create an orange rectangle\n</span>","<span class=\"code-comment\"> * L.rectangle(bounds, {color: \"#ff7800\", weight: 1}).addTo(map);\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * // zoom the map to the rectangle bounds\n</span>","<span class=\"code-comment\"> * map.fitBounds(bounds);\n</span>","<span class=\"code-comment\"> * ```\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> */</span>\n","\n","\n","<span class=\"code-keyword\">var</span> Rectangle = Polygon.extend({\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latLngBounds, options</span>) </span>{\n","\t\tPolygon.prototype.initialize.call(<span class=\"code-keyword\">this</span>, <span class=\"code-keyword\">this</span>._boundsToLatLngs(latLngBounds), options);\n","\t},\n","\n","\t<span class=\"code-comment\">// @method setBounds(latLngBounds: LatLngBounds): this</span>\n","\t<span class=\"code-comment\">// Redraws the rectangle with the passed bounds.</span>\n","\tsetBounds: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latLngBounds</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setLatLngs(<span class=\"code-keyword\">this</span>._boundsToLatLngs(latLngBounds));\n","\t},\n","\n","\t_boundsToLatLngs: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">latLngBounds</span>) </span>{\n","\t\tlatLngBounds = toLatLngBounds(latLngBounds);\n","\t\t<span class=\"code-keyword\">return</span> [\n","\t\t\tlatLngBounds.getSouthWest(),\n","\t\t\tlatLngBounds.getNorthWest(),\n","\t\t\tlatLngBounds.getNorthEast(),\n","\t\t\tlatLngBounds.getSouthEast()\n","\t\t];\n","\t}\n","});\n","\n","\n","<span class=\"code-comment\">// @factory L.rectangle(latLngBounds: LatLngBounds, options?: Polyline options)</span>\n","<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rectangle</span>(<span class=\"code-params\">latLngBounds, options</span>) </span>{\n","\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Rectangle(latLngBounds, options);\n","}\n","\n","SVG.create = create;\n","SVG.pointsToPath = pointsToPath;\n","\n","GeoJSON.geometryToLayer = geometryToLayer;\n","GeoJSON.coordsToLatLng = coordsToLatLng;\n","GeoJSON.coordsToLatLngs = coordsToLatLngs;\n","GeoJSON.latLngToCoords = latLngToCoords;\n","GeoJSON.latLngsToCoords = latLngsToCoords;\n","GeoJSON.getFeature = getFeature;\n","GeoJSON.asFeature = asFeature;\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Handler.BoxZoom is used to add shift-drag zoom interaction to the map\n</span>","<span class=\"code-comment\"> * (zoom to a selected bounding box), enabled by default.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Interaction Options</span>\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @option boxZoom: Boolean = true</span>\n","\t<span class=\"code-comment\">// Whether the map can be zoomed to a rectangular area specified by</span>\n","\t<span class=\"code-comment\">// dragging the mouse while pressing the shift key.</span>\n","\tboxZoom: <span class=\"code-literal\">true</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> BoxZoom = Handler.extend({\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map = map;\n","\t\t<span class=\"code-keyword\">this</span>._container = map._container;\n","\t\t<span class=\"code-keyword\">this</span>._pane = map._panes.overlayPane;\n","\t\t<span class=\"code-keyword\">this</span>._resetStateTimeout = <span class=\"code-number\">0</span>;\n","\t\tmap.on(<span class=\"code-string\">'unload'</span>, <span class=\"code-keyword\">this</span>._destroy, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\ton(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'mousedown'</span>, <span class=\"code-keyword\">this</span>._onMouseDown, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\toff(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'mousedown'</span>, <span class=\"code-keyword\">this</span>._onMouseDown, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tmoved: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._moved;\n","\t},\n","\n","\t_destroy: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tremove(<span class=\"code-keyword\">this</span>._pane);\n","\t\t<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._pane;\n","\t},\n","\n","\t_resetState: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._resetStateTimeout = <span class=\"code-number\">0</span>;\n","\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">false</span>;\n","\t},\n","\n","\t_clearDeferredResetState: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._resetStateTimeout !== <span class=\"code-number\">0</span>) {\n","\t\t\tclearTimeout(<span class=\"code-keyword\">this</span>._resetStateTimeout);\n","\t\t\t<span class=\"code-keyword\">this</span>._resetStateTimeout = <span class=\"code-number\">0</span>;\n","\t\t}\n","\t},\n","\n","\t_onMouseDown: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!e.shiftKey || ((e.which !== <span class=\"code-number\">1</span>) &amp;&amp; (e.button !== <span class=\"code-number\">1</span>))) { <span class=\"code-keyword\">return</span> <span class=\"code-literal\">false</span>; }\n","\n","\t\t<span class=\"code-comment\">// Clear the deferred resetState if it hasn't executed yet, otherwise it</span>\n","\t\t<span class=\"code-comment\">// will interrupt the interaction and orphan a box element in the container.</span>\n","\t\t<span class=\"code-keyword\">this</span>._clearDeferredResetState();\n","\t\t<span class=\"code-keyword\">this</span>._resetState();\n","\n","\t\tdisableTextSelection();\n","\t\tdisableImageDrag();\n","\n","\t\t<span class=\"code-keyword\">this</span>._startPoint = <span class=\"code-keyword\">this</span>._map.mouseEventToContainerPoint(e);\n","\n","\t\ton(<span class=\"code-built_in\">document</span>, {\n","\t\t\tcontextmenu: stop,\n","\t\t\tmousemove: <span class=\"code-keyword\">this</span>._onMouseMove,\n","\t\t\tmouseup: <span class=\"code-keyword\">this</span>._onMouseUp,\n","\t\t\tkeydown: <span class=\"code-keyword\">this</span>._onKeyDown\n","\t\t}, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onMouseMove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._moved) {\n","\t\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">true</span>;\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._box = create$<span class=\"code-number\">1</span>(<span class=\"code-string\">'div'</span>, <span class=\"code-string\">'leaflet-zoom-box'</span>, <span class=\"code-keyword\">this</span>._container);\n","\t\t\taddClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-crosshair'</span>);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._map.fire(<span class=\"code-string\">'boxzoomstart'</span>);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._point = <span class=\"code-keyword\">this</span>._map.mouseEventToContainerPoint(e);\n","\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">new</span> Bounds(<span class=\"code-keyword\">this</span>._point, <span class=\"code-keyword\">this</span>._startPoint),\n","\t\t    size = bounds.getSize();\n","\n","\t\tsetPosition(<span class=\"code-keyword\">this</span>._box, bounds.min);\n","\n","\t\t<span class=\"code-keyword\">this</span>._box.style.width  = size.x + <span class=\"code-string\">'px'</span>;\n","\t\t<span class=\"code-keyword\">this</span>._box.style.height = size.y + <span class=\"code-string\">'px'</span>;\n","\t},\n","\n","\t_finish: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._moved) {\n","\t\t\tremove(<span class=\"code-keyword\">this</span>._box);\n","\t\t\tremoveClass(<span class=\"code-keyword\">this</span>._container, <span class=\"code-string\">'leaflet-crosshair'</span>);\n","\t\t}\n","\n","\t\tenableTextSelection();\n","\t\tenableImageDrag();\n","\n","\t\toff(<span class=\"code-built_in\">document</span>, {\n","\t\t\tcontextmenu: stop,\n","\t\t\tmousemove: <span class=\"code-keyword\">this</span>._onMouseMove,\n","\t\t\tmouseup: <span class=\"code-keyword\">this</span>._onMouseUp,\n","\t\t\tkeydown: <span class=\"code-keyword\">this</span>._onKeyDown\n","\t\t}, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onMouseUp: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> ((e.which !== <span class=\"code-number\">1</span>) &amp;&amp; (e.button !== <span class=\"code-number\">1</span>)) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">this</span>._finish();\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._moved) { <span class=\"code-keyword\">return</span>; }\n","\t\t<span class=\"code-comment\">// Postpone to next JS tick so internal click event handling</span>\n","\t\t<span class=\"code-comment\">// still see it as \"moved\".</span>\n","\t\t<span class=\"code-keyword\">this</span>._clearDeferredResetState();\n","\t\t<span class=\"code-keyword\">this</span>._resetStateTimeout = setTimeout(bind(<span class=\"code-keyword\">this</span>._resetState, <span class=\"code-keyword\">this</span>), <span class=\"code-number\">0</span>);\n","\n","\t\t<span class=\"code-keyword\">var</span> bounds = <span class=\"code-keyword\">new</span> LatLngBounds(\n","\t\t        <span class=\"code-keyword\">this</span>._map.containerPointToLatLng(<span class=\"code-keyword\">this</span>._startPoint),\n","\t\t        <span class=\"code-keyword\">this</span>._map.containerPointToLatLng(<span class=\"code-keyword\">this</span>._point));\n","\n","\t\t<span class=\"code-keyword\">this</span>._map\n","\t\t\t.fitBounds(bounds)\n","\t\t\t.fire(<span class=\"code-string\">'boxzoomend'</span>, {<span class=\"code-attr\">boxZoomBounds</span>: bounds});\n","\t},\n","\n","\t_onKeyDown: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (e.keyCode === <span class=\"code-number\">27</span>) {\n","\t\t\t<span class=\"code-keyword\">this</span>._finish();\n","\t\t\t<span class=\"code-keyword\">this</span>._clearDeferredResetState();\n","\t\t\t<span class=\"code-keyword\">this</span>._resetState();\n","\t\t}\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @property boxZoom: Handler</span>\n","<span class=\"code-comment\">// Box (shift-drag with mouse) zoom handler.</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'boxZoom'</span>, BoxZoom);\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Interaction Options</span>\n","\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @option doubleClickZoom: Boolean|String = true</span>\n","\t<span class=\"code-comment\">// Whether the map can be zoomed in by double clicking on it and</span>\n","\t<span class=\"code-comment\">// zoomed out by double clicking while holding shift. If passed</span>\n","\t<span class=\"code-comment\">// `'center'`, double-click zoom will zoom to the center of the</span>\n","\t<span class=\"code-comment\">//  view regardless of where the mouse was.</span>\n","\tdoubleClickZoom: <span class=\"code-literal\">true</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> DoubleClickZoom = Handler.extend({\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map.on(<span class=\"code-string\">'dblclick'</span>, <span class=\"code-keyword\">this</span>._onDoubleClick, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map.off(<span class=\"code-string\">'dblclick'</span>, <span class=\"code-keyword\">this</span>._onDoubleClick, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onDoubleClick: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    oldZoom = map.getZoom(),\n","\t\t    delta = map.options.zoomDelta,\n","\t\t    zoom = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;\n","\n","\t\t<span class=\"code-keyword\">if</span> (map.options.doubleClickZoom === <span class=\"code-string\">'center'</span>) {\n","\t\t\tmap.setZoom(zoom);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n","\t\t}\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">//</span>\n","<span class=\"code-comment\">// Map properties include interaction handlers that allow you to control</span>\n","<span class=\"code-comment\">// interaction behavior in runtime, enabling or disabling certain features such</span>\n","<span class=\"code-comment\">// as dragging or touch zoom (see `Handler` methods). For example:</span>\n","<span class=\"code-comment\">//</span>\n","<span class=\"code-comment\">// ```js</span>\n","<span class=\"code-comment\">// map.doubleClickZoom.disable();</span>\n","<span class=\"code-comment\">// ```</span>\n","<span class=\"code-comment\">//</span>\n","<span class=\"code-comment\">// @property doubleClickZoom: Handler</span>\n","<span class=\"code-comment\">// Double click zoom handler.</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'doubleClickZoom'</span>, DoubleClickZoom);\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Interaction Options</span>\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @option dragging: Boolean = true</span>\n","\t<span class=\"code-comment\">// Whether the map be draggable with mouse/touch or not.</span>\n","\tdragging: <span class=\"code-literal\">true</span>,\n","\n","\t<span class=\"code-comment\">// @section Panning Inertia Options</span>\n","\t<span class=\"code-comment\">// @option inertia: Boolean = *</span>\n","\t<span class=\"code-comment\">// If enabled, panning of the map will have an inertia effect where</span>\n","\t<span class=\"code-comment\">// the map builds momentum while dragging and continues moving in</span>\n","\t<span class=\"code-comment\">// the same direction for some time. Feels especially nice on touch</span>\n","\t<span class=\"code-comment\">// devices. Enabled by default.</span>\n","\tinertia: <span class=\"code-literal\">true</span>,\n","\n","\t<span class=\"code-comment\">// @option inertiaDeceleration: Number = 3000</span>\n","\t<span class=\"code-comment\">// The rate with which the inertial movement slows down, in pixels/second\u00B2.</span>\n","\tinertiaDeceleration: <span class=\"code-number\">3400</span>, <span class=\"code-comment\">// px/s^2</span>\n","\n","\t<span class=\"code-comment\">// @option inertiaMaxSpeed: Number = Infinity</span>\n","\t<span class=\"code-comment\">// Max speed of the inertial movement, in pixels/second.</span>\n","\tinertiaMaxSpeed: <span class=\"code-literal\">Infinity</span>, <span class=\"code-comment\">// px/s</span>\n","\n","\t<span class=\"code-comment\">// @option easeLinearity: Number = 0.2</span>\n","\teaseLinearity: <span class=\"code-number\">0.2</span>,\n","\n","\t<span class=\"code-comment\">// TODO refactor, move to CRS</span>\n","\t<span class=\"code-comment\">// @option worldCopyJump: Boolean = false</span>\n","\t<span class=\"code-comment\">// With this option enabled, the map tracks when you pan to another \"copy\"</span>\n","\t<span class=\"code-comment\">// of the world and seamlessly jumps to the original one so that all overlays</span>\n","\t<span class=\"code-comment\">// like markers and vector layers are still visible.</span>\n","\tworldCopyJump: <span class=\"code-literal\">false</span>,\n","\n","\t<span class=\"code-comment\">// @option maxBoundsViscosity: Number = 0.0</span>\n","\t<span class=\"code-comment\">// If `maxBounds` is set, this option will control how solid the bounds</span>\n","\t<span class=\"code-comment\">// are when dragging the map around. The default value of `0.0` allows the</span>\n","\t<span class=\"code-comment\">// user to drag outside the bounds at normal speed, higher values will</span>\n","\t<span class=\"code-comment\">// slow down map dragging outside bounds, and `1.0` makes the bounds fully</span>\n","\t<span class=\"code-comment\">// solid, preventing the user from dragging outside the bounds.</span>\n","\tmaxBoundsViscosity: <span class=\"code-number\">0.0</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> Drag = Handler.extend({\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._draggable) {\n","\t\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map;\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._draggable = <span class=\"code-keyword\">new</span> Draggable(map._mapPane, map._container);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._draggable.on({\n","\t\t\t\tdragstart: <span class=\"code-keyword\">this</span>._onDragStart,\n","\t\t\t\tdrag: <span class=\"code-keyword\">this</span>._onDrag,\n","\t\t\t\tdragend: <span class=\"code-keyword\">this</span>._onDragEnd\n","\t\t\t}, <span class=\"code-keyword\">this</span>);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._draggable.on(<span class=\"code-string\">'predrag'</span>, <span class=\"code-keyword\">this</span>._onPreDragLimit, <span class=\"code-keyword\">this</span>);\n","\t\t\t<span class=\"code-keyword\">if</span> (map.options.worldCopyJump) {\n","\t\t\t\t<span class=\"code-keyword\">this</span>._draggable.on(<span class=\"code-string\">'predrag'</span>, <span class=\"code-keyword\">this</span>._onPreDragWrap, <span class=\"code-keyword\">this</span>);\n","\t\t\t\tmap.on(<span class=\"code-string\">'zoomend'</span>, <span class=\"code-keyword\">this</span>._onZoomEnd, <span class=\"code-keyword\">this</span>);\n","\n","\t\t\t\tmap.whenReady(<span class=\"code-keyword\">this</span>._onZoomEnd, <span class=\"code-keyword\">this</span>);\n","\t\t\t}\n","\t\t}\n","\t\taddClass(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'leaflet-grab leaflet-touch-drag'</span>);\n","\t\t<span class=\"code-keyword\">this</span>._draggable.enable();\n","\t\t<span class=\"code-keyword\">this</span>._positions = [];\n","\t\t<span class=\"code-keyword\">this</span>._times = [];\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'leaflet-grab'</span>);\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'leaflet-touch-drag'</span>);\n","\t\t<span class=\"code-keyword\">this</span>._draggable.disable();\n","\t},\n","\n","\tmoved: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._draggable &amp;&amp; <span class=\"code-keyword\">this</span>._draggable._moved;\n","\t},\n","\n","\tmoving: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._draggable &amp;&amp; <span class=\"code-keyword\">this</span>._draggable._moving;\n","\t},\n","\n","\t_onDragStart: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map;\n","\n","\t\tmap._stop();\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map.options.maxBounds &amp;&amp; <span class=\"code-keyword\">this</span>._map.options.maxBoundsViscosity) {\n","\t\t\t<span class=\"code-keyword\">var</span> bounds = toLatLngBounds(<span class=\"code-keyword\">this</span>._map.options.maxBounds);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._offsetLimit = toBounds(\n","\t\t\t\t<span class=\"code-keyword\">this</span>._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(<span class=\"code-number\">-1</span>),\n","\t\t\t\t<span class=\"code-keyword\">this</span>._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(<span class=\"code-number\">-1</span>)\n","\t\t\t\t\t.add(<span class=\"code-keyword\">this</span>._map.getSize()));\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._viscosity = <span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">1.0</span>, <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0.0</span>, <span class=\"code-keyword\">this</span>._map.options.maxBoundsViscosity));\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._offsetLimit = <span class=\"code-literal\">null</span>;\n","\t\t}\n","\n","\t\tmap\n","\t\t    .fire(<span class=\"code-string\">'movestart'</span>)\n","\t\t    .fire(<span class=\"code-string\">'dragstart'</span>);\n","\n","\t\t<span class=\"code-keyword\">if</span> (map.options.inertia) {\n","\t\t\t<span class=\"code-keyword\">this</span>._positions = [];\n","\t\t\t<span class=\"code-keyword\">this</span>._times = [];\n","\t\t}\n","\t},\n","\n","\t_onDrag: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map.options.inertia) {\n","\t\t\t<span class=\"code-keyword\">var</span> time = <span class=\"code-keyword\">this</span>._lastTime = +<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(),\n","\t\t\t    pos = <span class=\"code-keyword\">this</span>._lastPos = <span class=\"code-keyword\">this</span>._draggable._absPos || <span class=\"code-keyword\">this</span>._draggable._newPos;\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._positions.push(pos);\n","\t\t\t<span class=\"code-keyword\">this</span>._times.push(time);\n","\n","\t\t\t<span class=\"code-keyword\">this</span>._prunePositions(time);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._map\n","\t\t    .fire(<span class=\"code-string\">'move'</span>, e)\n","\t\t    .fire(<span class=\"code-string\">'drag'</span>, e);\n","\t},\n","\n","\t_prunePositions: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">time</span>) </span>{\n","\t\t<span class=\"code-keyword\">while</span> (<span class=\"code-keyword\">this</span>._positions.length &gt; <span class=\"code-number\">1</span> &amp;&amp; time - <span class=\"code-keyword\">this</span>._times[<span class=\"code-number\">0</span>] &gt; <span class=\"code-number\">50</span>) {\n","\t\t\t<span class=\"code-keyword\">this</span>._positions.shift();\n","\t\t\t<span class=\"code-keyword\">this</span>._times.shift();\n","\t\t}\n","\t},\n","\n","\t_onZoomEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> pxCenter = <span class=\"code-keyword\">this</span>._map.getSize().divideBy(<span class=\"code-number\">2</span>),\n","\t\t    pxWorldCenter = <span class=\"code-keyword\">this</span>._map.latLngToLayerPoint([<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]);\n","\n","\t\t<span class=\"code-keyword\">this</span>._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n","\t\t<span class=\"code-keyword\">this</span>._worldWidth = <span class=\"code-keyword\">this</span>._map.getPixelWorldBounds().getSize().x;\n","\t},\n","\n","\t_viscousLimit: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">value, threshold</span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> value - (value - threshold) * <span class=\"code-keyword\">this</span>._viscosity;\n","\t},\n","\n","\t_onPreDragLimit: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._viscosity || !<span class=\"code-keyword\">this</span>._offsetLimit) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> offset = <span class=\"code-keyword\">this</span>._draggable._newPos.subtract(<span class=\"code-keyword\">this</span>._draggable._startPos);\n","\n","\t\t<span class=\"code-keyword\">var</span> limit = <span class=\"code-keyword\">this</span>._offsetLimit;\n","\t\t<span class=\"code-keyword\">if</span> (offset.x &lt; limit.min.x) { offset.x = <span class=\"code-keyword\">this</span>._viscousLimit(offset.x, limit.min.x); }\n","\t\t<span class=\"code-keyword\">if</span> (offset.y &lt; limit.min.y) { offset.y = <span class=\"code-keyword\">this</span>._viscousLimit(offset.y, limit.min.y); }\n","\t\t<span class=\"code-keyword\">if</span> (offset.x &gt; limit.max.x) { offset.x = <span class=\"code-keyword\">this</span>._viscousLimit(offset.x, limit.max.x); }\n","\t\t<span class=\"code-keyword\">if</span> (offset.y &gt; limit.max.y) { offset.y = <span class=\"code-keyword\">this</span>._viscousLimit(offset.y, limit.max.y); }\n","\n","\t\t<span class=\"code-keyword\">this</span>._draggable._newPos = <span class=\"code-keyword\">this</span>._draggable._startPos.add(offset);\n","\t},\n","\n","\t_onPreDragWrap: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-comment\">// TODO refactor to be able to adjust map pane position after zoom</span>\n","\t\t<span class=\"code-keyword\">var</span> worldWidth = <span class=\"code-keyword\">this</span>._worldWidth,\n","\t\t    halfWidth = <span class=\"code-built_in\">Math</span>.round(worldWidth / <span class=\"code-number\">2</span>),\n","\t\t    dx = <span class=\"code-keyword\">this</span>._initialWorldOffset,\n","\t\t    x = <span class=\"code-keyword\">this</span>._draggable._newPos.x,\n","\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n","\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n","\t\t    newX = <span class=\"code-built_in\">Math</span>.abs(newX1 + dx) &lt; <span class=\"code-built_in\">Math</span>.abs(newX2 + dx) ? newX1 : newX2;\n","\n","\t\t<span class=\"code-keyword\">this</span>._draggable._absPos = <span class=\"code-keyword\">this</span>._draggable._newPos.clone();\n","\t\t<span class=\"code-keyword\">this</span>._draggable._newPos.x = newX;\n","\t},\n","\n","\t_onDragEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    options = map.options,\n","\n","\t\t    noInertia = !options.inertia || <span class=\"code-keyword\">this</span>._times.length &lt; <span class=\"code-number\">2</span>;\n","\n","\t\tmap.fire(<span class=\"code-string\">'dragend'</span>, e);\n","\n","\t\t<span class=\"code-keyword\">if</span> (noInertia) {\n","\t\t\tmap.fire(<span class=\"code-string\">'moveend'</span>);\n","\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._prunePositions(+<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>());\n","\n","\t\t\t<span class=\"code-keyword\">var</span> direction = <span class=\"code-keyword\">this</span>._lastPos.subtract(<span class=\"code-keyword\">this</span>._positions[<span class=\"code-number\">0</span>]),\n","\t\t\t    duration = (<span class=\"code-keyword\">this</span>._lastTime - <span class=\"code-keyword\">this</span>._times[<span class=\"code-number\">0</span>]) / <span class=\"code-number\">1000</span>,\n","\t\t\t    ease = options.easeLinearity,\n","\n","\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n","\t\t\t    speed = speedVector.distanceTo([<span class=\"code-number\">0</span>, <span class=\"code-number\">0</span>]),\n","\n","\t\t\t    limitedSpeed = <span class=\"code-built_in\">Math</span>.min(options.inertiaMaxSpeed, speed),\n","\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n","\n","\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n","\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / <span class=\"code-number\">2</span>).round();\n","\n","\t\t\t<span class=\"code-keyword\">if</span> (!offset.x &amp;&amp; !offset.y) {\n","\t\t\t\tmap.fire(<span class=\"code-string\">'moveend'</span>);\n","\n","\t\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n","\n","\t\t\t\trequestAnimFrame(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t\t\t\tmap.panBy(offset, {\n","\t\t\t\t\t\tduration: decelerationDuration,\n","\t\t\t\t\t\teaseLinearity: ease,\n","\t\t\t\t\t\tnoMoveStart: <span class=\"code-literal\">true</span>,\n","\t\t\t\t\t\tanimate: <span class=\"code-literal\">true</span>\n","\t\t\t\t\t});\n","\t\t\t\t});\n","\t\t\t}\n","\t\t}\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @property dragging: Handler</span>\n","<span class=\"code-comment\">// Map dragging handler (by both mouse and touch).</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'dragging'</span>, Drag);\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Keyboard Navigation Options</span>\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @option keyboard: Boolean = true</span>\n","\t<span class=\"code-comment\">// Makes the map focusable and allows users to navigate the map with keyboard</span>\n","\t<span class=\"code-comment\">// arrows and `+`/`-` keys.</span>\n","\tkeyboard: <span class=\"code-literal\">true</span>,\n","\n","\t<span class=\"code-comment\">// @option keyboardPanDelta: Number = 80</span>\n","\t<span class=\"code-comment\">// Amount of pixels to pan when pressing an arrow key.</span>\n","\tkeyboardPanDelta: <span class=\"code-number\">80</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> Keyboard = Handler.extend({\n","\n","\tkeyCodes: {\n","\t\tleft:    [<span class=\"code-number\">37</span>],\n","\t\tright:   [<span class=\"code-number\">39</span>],\n","\t\tdown:    [<span class=\"code-number\">40</span>],\n","\t\tup:      [<span class=\"code-number\">38</span>],\n","\t\tzoomIn:  [<span class=\"code-number\">187</span>, <span class=\"code-number\">107</span>, <span class=\"code-number\">61</span>, <span class=\"code-number\">171</span>],\n","\t\tzoomOut: [<span class=\"code-number\">189</span>, <span class=\"code-number\">109</span>, <span class=\"code-number\">54</span>, <span class=\"code-number\">173</span>]\n","\t},\n","\n","\tinitialize: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">map</span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._map = map;\n","\n","\t\t<span class=\"code-keyword\">this</span>._setPanDelta(map.options.keyboardPanDelta);\n","\t\t<span class=\"code-keyword\">this</span>._setZoomDelta(map.options.zoomDelta);\n","\t},\n","\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> container = <span class=\"code-keyword\">this</span>._map._container;\n","\n","\t\t<span class=\"code-comment\">// make the container focusable by tabbing</span>\n","\t\t<span class=\"code-keyword\">if</span> (container.tabIndex &lt;= <span class=\"code-number\">0</span>) {\n","\t\t\tcontainer.tabIndex = <span class=\"code-string\">'0'</span>;\n","\t\t}\n","\n","\t\ton(container, {\n","\t\t\tfocus: <span class=\"code-keyword\">this</span>._onFocus,\n","\t\t\tblur: <span class=\"code-keyword\">this</span>._onBlur,\n","\t\t\tmousedown: <span class=\"code-keyword\">this</span>._onMouseDown\n","\t\t}, <span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._map.on({\n","\t\t\tfocus: <span class=\"code-keyword\">this</span>._addHooks,\n","\t\t\tblur: <span class=\"code-keyword\">this</span>._removeHooks\n","\t\t}, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._removeHooks();\n","\n","\t\toff(<span class=\"code-keyword\">this</span>._map._container, {\n","\t\t\tfocus: <span class=\"code-keyword\">this</span>._onFocus,\n","\t\t\tblur: <span class=\"code-keyword\">this</span>._onBlur,\n","\t\t\tmousedown: <span class=\"code-keyword\">this</span>._onMouseDown\n","\t\t}, <span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._map.off({\n","\t\t\tfocus: <span class=\"code-keyword\">this</span>._addHooks,\n","\t\t\tblur: <span class=\"code-keyword\">this</span>._removeHooks\n","\t\t}, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onMouseDown: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._focused) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> body = <span class=\"code-built_in\">document</span>.body,\n","\t\t    docEl = <span class=\"code-built_in\">document</span>.documentElement,\n","\t\t    top = body.scrollTop || docEl.scrollTop,\n","\t\t    left = body.scrollLeft || docEl.scrollLeft;\n","\n","\t\t<span class=\"code-keyword\">this</span>._map._container.focus();\n","\n","\t\t<span class=\"code-built_in\">window</span>.scrollTo(left, top);\n","\t},\n","\n","\t_onFocus: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._focused = <span class=\"code-literal\">true</span>;\n","\t\t<span class=\"code-keyword\">this</span>._map.fire(<span class=\"code-string\">'focus'</span>);\n","\t},\n","\n","\t_onBlur: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">this</span>._focused = <span class=\"code-literal\">false</span>;\n","\t\t<span class=\"code-keyword\">this</span>._map.fire(<span class=\"code-string\">'blur'</span>);\n","\t},\n","\n","\t_setPanDelta: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">panDelta</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> keys = <span class=\"code-keyword\">this</span>._panKeys = {},\n","\t\t    codes = <span class=\"code-keyword\">this</span>.keyCodes,\n","\t\t    i, len;\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = codes.left.length; i &lt; len; i++) {\n","\t\t\tkeys[codes.left[i]] = [<span class=\"code-number\">-1</span> * panDelta, <span class=\"code-number\">0</span>];\n","\t\t}\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = codes.right.length; i &lt; len; i++) {\n","\t\t\tkeys[codes.right[i]] = [panDelta, <span class=\"code-number\">0</span>];\n","\t\t}\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = codes.down.length; i &lt; len; i++) {\n","\t\t\tkeys[codes.down[i]] = [<span class=\"code-number\">0</span>, panDelta];\n","\t\t}\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = codes.up.length; i &lt; len; i++) {\n","\t\t\tkeys[codes.up[i]] = [<span class=\"code-number\">0</span>, <span class=\"code-number\">-1</span> * panDelta];\n","\t\t}\n","\t},\n","\n","\t_setZoomDelta: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">zoomDelta</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> keys = <span class=\"code-keyword\">this</span>._zoomKeys = {},\n","\t\t    codes = <span class=\"code-keyword\">this</span>.keyCodes,\n","\t\t    i, len;\n","\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = codes.zoomIn.length; i &lt; len; i++) {\n","\t\t\tkeys[codes.zoomIn[i]] = zoomDelta;\n","\t\t}\n","\t\t<span class=\"code-keyword\">for</span> (i = <span class=\"code-number\">0</span>, len = codes.zoomOut.length; i &lt; len; i++) {\n","\t\t\tkeys[codes.zoomOut[i]] = -zoomDelta;\n","\t\t}\n","\t},\n","\n","\t_addHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'keydown'</span>, <span class=\"code-keyword\">this</span>._onKeyDown, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_removeHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'keydown'</span>, <span class=\"code-keyword\">this</span>._onKeyDown, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onKeyDown: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (e.altKey || e.ctrlKey || e.metaKey) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> key = e.keyCode,\n","\t\t    map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    offset;\n","\n","\t\t<span class=\"code-keyword\">if</span> (key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._panKeys) {\n","\t\t\t<span class=\"code-keyword\">if</span> (!map._panAnim || !map._panAnim._inProgress) {\n","\t\t\t\toffset = <span class=\"code-keyword\">this</span>._panKeys[key];\n","\t\t\t\t<span class=\"code-keyword\">if</span> (e.shiftKey) {\n","\t\t\t\t\toffset = toPoint(offset).multiplyBy(<span class=\"code-number\">3</span>);\n","\t\t\t\t}\n","\n","\t\t\t\tmap.panBy(offset);\n","\n","\t\t\t\t<span class=\"code-keyword\">if</span> (map.options.maxBounds) {\n","\t\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n","\t\t\t\t}\n","\t\t\t}\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (key <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._zoomKeys) {\n","\t\t\tmap.setZoom(map.getZoom() + (e.shiftKey ? <span class=\"code-number\">3</span> : <span class=\"code-number\">1</span>) * <span class=\"code-keyword\">this</span>._zoomKeys[key]);\n","\n","\t\t} <span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span> (key === <span class=\"code-number\">27</span> &amp;&amp; map._popup &amp;&amp; map._popup.options.closeOnEscapeKey) {\n","\t\t\tmap.closePopup();\n","\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\tstop(e);\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @property keyboard: Handler</span>\n","<span class=\"code-comment\">// Keyboard navigation handler.</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'keyboard'</span>, Keyboard);\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Interaction Options</span>\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @section Mouse wheel options</span>\n","\t<span class=\"code-comment\">// @option scrollWheelZoom: Boolean|String = true</span>\n","\t<span class=\"code-comment\">// Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,</span>\n","\t<span class=\"code-comment\">// it will zoom to the center of the view regardless of where the mouse was.</span>\n","\tscrollWheelZoom: <span class=\"code-literal\">true</span>,\n","\n","\t<span class=\"code-comment\">// @option wheelDebounceTime: Number = 40</span>\n","\t<span class=\"code-comment\">// Limits the rate at which a wheel can fire (in milliseconds). By default</span>\n","\t<span class=\"code-comment\">// user can't zoom via wheel more often than once per 40 ms.</span>\n","\twheelDebounceTime: <span class=\"code-number\">40</span>,\n","\n","\t<span class=\"code-comment\">// @option wheelPxPerZoomLevel: Number = 60</span>\n","\t<span class=\"code-comment\">// How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))</span>\n","\t<span class=\"code-comment\">// mean a change of one full zoom level. Smaller values will make wheel-zooming</span>\n","\t<span class=\"code-comment\">// faster (and vice versa).</span>\n","\twheelPxPerZoomLevel: <span class=\"code-number\">60</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> ScrollWheelZoom = Handler.extend({\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\ton(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'wheel'</span>, <span class=\"code-keyword\">this</span>._onWheelScroll, <span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-keyword\">this</span>._delta = <span class=\"code-number\">0</span>;\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\toff(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'wheel'</span>, <span class=\"code-keyword\">this</span>._onWheelScroll, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onWheelScroll: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> delta = getWheelDelta(e);\n","\n","\t\t<span class=\"code-keyword\">var</span> debounce = <span class=\"code-keyword\">this</span>._map.options.wheelDebounceTime;\n","\n","\t\t<span class=\"code-keyword\">this</span>._delta += delta;\n","\t\t<span class=\"code-keyword\">this</span>._lastMousePos = <span class=\"code-keyword\">this</span>._map.mouseEventToContainerPoint(e);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._startTime) {\n","\t\t\t<span class=\"code-keyword\">this</span>._startTime = +<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>();\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">var</span> left = <span class=\"code-built_in\">Math</span>.max(debounce - (+<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>() - <span class=\"code-keyword\">this</span>._startTime), <span class=\"code-number\">0</span>);\n","\n","\t\tclearTimeout(<span class=\"code-keyword\">this</span>._timer);\n","\t\t<span class=\"code-keyword\">this</span>._timer = setTimeout(bind(<span class=\"code-keyword\">this</span>._performZoom, <span class=\"code-keyword\">this</span>), left);\n","\n","\t\tstop(e);\n","\t},\n","\n","\t_performZoom: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    zoom = map.getZoom(),\n","\t\t    snap = <span class=\"code-keyword\">this</span>._map.options.zoomSnap || <span class=\"code-number\">0</span>;\n","\n","\t\tmap._stop(); <span class=\"code-comment\">// stop panning and fly animations if any</span>\n","\n","\t\t<span class=\"code-comment\">// map the delta with a sigmoid function to -4..4 range leaning on -1..1</span>\n","\t\t<span class=\"code-keyword\">var</span> d2 = <span class=\"code-keyword\">this</span>._delta / (<span class=\"code-keyword\">this</span>._map.options.wheelPxPerZoomLevel * <span class=\"code-number\">4</span>),\n","\t\t    d3 = <span class=\"code-number\">4</span> * <span class=\"code-built_in\">Math</span>.log(<span class=\"code-number\">2</span> / (<span class=\"code-number\">1</span> + <span class=\"code-built_in\">Math</span>.exp(-<span class=\"code-built_in\">Math</span>.abs(d2)))) / <span class=\"code-built_in\">Math</span>.LN2,\n","\t\t    d4 = snap ? <span class=\"code-built_in\">Math</span>.ceil(d3 / snap) * snap : d3,\n","\t\t    delta = map._limitZoom(zoom + (<span class=\"code-keyword\">this</span>._delta &gt; <span class=\"code-number\">0</span> ? d4 : -d4)) - zoom;\n","\n","\t\t<span class=\"code-keyword\">this</span>._delta = <span class=\"code-number\">0</span>;\n","\t\t<span class=\"code-keyword\">this</span>._startTime = <span class=\"code-literal\">null</span>;\n","\n","\t\t<span class=\"code-keyword\">if</span> (!delta) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">if</span> (map.options.scrollWheelZoom === <span class=\"code-string\">'center'</span>) {\n","\t\t\tmap.setZoom(zoom + delta);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\tmap.setZoomAround(<span class=\"code-keyword\">this</span>._lastMousePos, zoom + delta);\n","\t\t}\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @property scrollWheelZoom: Handler</span>\n","<span class=\"code-comment\">// Scroll wheel zoom handler.</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'scrollWheelZoom'</span>, ScrollWheelZoom);\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Map.TapHold is used to simulate `contextmenu` event on long hold,\n</span>","<span class=\"code-comment\"> * which otherwise is not fired by mobile Safari.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-keyword\">var</span> tapHoldDelay = <span class=\"code-number\">600</span>;\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Interaction Options</span>\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @section Touch interaction options</span>\n","\t<span class=\"code-comment\">// @option tapHold: Boolean</span>\n","\t<span class=\"code-comment\">// Enables simulation of `contextmenu` event, default is `true` for mobile Safari.</span>\n","\ttapHold: Browser.touchNative &amp;&amp; Browser.safari &amp;&amp; Browser.mobile,\n","\n","\t<span class=\"code-comment\">// @option tapTolerance: Number = 15</span>\n","\t<span class=\"code-comment\">// The max number of pixels a user can shift his finger during touch</span>\n","\t<span class=\"code-comment\">// for it to be considered a valid tap.</span>\n","\ttapTolerance: <span class=\"code-number\">15</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> TapHold = Handler.extend({\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\ton(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'touchstart'</span>, <span class=\"code-keyword\">this</span>._onDown, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\toff(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'touchstart'</span>, <span class=\"code-keyword\">this</span>._onDown, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onDown: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\tclearTimeout(<span class=\"code-keyword\">this</span>._holdTimeout);\n","\t\t<span class=\"code-keyword\">if</span> (e.touches.length !== <span class=\"code-number\">1</span>) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> first = e.touches[<span class=\"code-number\">0</span>];\n","\t\t<span class=\"code-keyword\">this</span>._startPos = <span class=\"code-keyword\">this</span>._newPos = <span class=\"code-keyword\">new</span> Point(first.clientX, first.clientY);\n","\n","\t\t<span class=\"code-keyword\">this</span>._holdTimeout = setTimeout(bind(<span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t\t<span class=\"code-keyword\">this</span>._cancel();\n","\t\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._isTapValid()) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t\t<span class=\"code-comment\">// prevent simulated mouse events https://w3c.github.io/touch-events/#mouse-events</span>\n","\t\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend'</span>, preventDefault);\n","\t\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend touchcancel'</span>, <span class=\"code-keyword\">this</span>._cancelClickPrevent);\n","\t\t\t<span class=\"code-keyword\">this</span>._simulateEvent(<span class=\"code-string\">'contextmenu'</span>, first);\n","\t\t}, <span class=\"code-keyword\">this</span>), tapHoldDelay);\n","\n","\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend touchcancel contextmenu'</span>, <span class=\"code-keyword\">this</span>._cancel, <span class=\"code-keyword\">this</span>);\n","\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchmove'</span>, <span class=\"code-keyword\">this</span>._onMove, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_cancelClickPrevent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cancelClickPrevent</span>(<span class=\"code-params\"></span>) </span>{\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend'</span>, preventDefault);\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend touchcancel'</span>, cancelClickPrevent);\n","\t},\n","\n","\t_cancel: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tclearTimeout(<span class=\"code-keyword\">this</span>._holdTimeout);\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend touchcancel contextmenu'</span>, <span class=\"code-keyword\">this</span>._cancel, <span class=\"code-keyword\">this</span>);\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchmove'</span>, <span class=\"code-keyword\">this</span>._onMove, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onMove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> first = e.touches[<span class=\"code-number\">0</span>];\n","\t\t<span class=\"code-keyword\">this</span>._newPos = <span class=\"code-keyword\">new</span> Point(first.clientX, first.clientY);\n","\t},\n","\n","\t_isTapValid: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._newPos.distanceTo(<span class=\"code-keyword\">this</span>._startPos) &lt;= <span class=\"code-keyword\">this</span>._map.options.tapTolerance;\n","\t},\n","\n","\t_simulateEvent: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">type, e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> simulatedEvent = <span class=\"code-keyword\">new</span> MouseEvent(type, {\n","\t\t\tbubbles: <span class=\"code-literal\">true</span>,\n","\t\t\tcancelable: <span class=\"code-literal\">true</span>,\n","\t\t\tview: <span class=\"code-built_in\">window</span>,\n","\t\t\t<span class=\"code-comment\">// detail: 1,</span>\n","\t\t\tscreenX: e.screenX,\n","\t\t\tscreenY: e.screenY,\n","\t\t\tclientX: e.clientX,\n","\t\t\tclientY: e.clientY,\n","\t\t\t<span class=\"code-comment\">// button: 2,</span>\n","\t\t\t<span class=\"code-comment\">// buttons: 2</span>\n","\t\t});\n","\n","\t\tsimulatedEvent._simulated = <span class=\"code-literal\">true</span>;\n","\n","\t\te.target.dispatchEvent(simulatedEvent);\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @property tapHold: Handler</span>\n","<span class=\"code-comment\">// Long tap handler to simulate `contextmenu` event (useful in mobile Safari).</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'tapHold'</span>, TapHold);\n","\n","<span class=\"code-comment\">/*\n</span>","<span class=\"code-comment\"> * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n</span>","<span class=\"code-comment\"> */</span>\n","\n","<span class=\"code-comment\">// @namespace Map</span>\n","<span class=\"code-comment\">// @section Interaction Options</span>\n","<span class=\"code-built_in\">Map</span>.mergeOptions({\n","\t<span class=\"code-comment\">// @section Touch interaction options</span>\n","\t<span class=\"code-comment\">// @option touchZoom: Boolean|String = *</span>\n","\t<span class=\"code-comment\">// Whether the map can be zoomed by touch-dragging with two fingers. If</span>\n","\t<span class=\"code-comment\">// passed `'center'`, it will zoom to the center of the view regardless of</span>\n","\t<span class=\"code-comment\">// where the touch events (fingers) were. Enabled for touch-capable web</span>\n","\t<span class=\"code-comment\">// browsers.</span>\n","\ttouchZoom: Browser.touch,\n","\n","\t<span class=\"code-comment\">// @option bounceAtZoomLimits: Boolean = true</span>\n","\t<span class=\"code-comment\">// Set it to false if you don't want the map to zoom beyond min/max zoom</span>\n","\t<span class=\"code-comment\">// and then bounce back when pinch-zooming.</span>\n","\tbounceAtZoomLimits: <span class=\"code-literal\">true</span>\n","});\n","\n","<span class=\"code-keyword\">var</span> TouchZoom = Handler.extend({\n","\taddHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\taddClass(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'leaflet-touch-zoom'</span>);\n","\t\ton(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'touchstart'</span>, <span class=\"code-keyword\">this</span>._onTouchStart, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\tremoveHooks: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\tremoveClass(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'leaflet-touch-zoom'</span>);\n","\t\toff(<span class=\"code-keyword\">this</span>._map._container, <span class=\"code-string\">'touchstart'</span>, <span class=\"code-keyword\">this</span>._onTouchStart, <span class=\"code-keyword\">this</span>);\n","\t},\n","\n","\t_onTouchStart: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map;\n","\t\t<span class=\"code-keyword\">if</span> (!e.touches || e.touches.length !== <span class=\"code-number\">2</span> || map._animatingZoom || <span class=\"code-keyword\">this</span>._zooming) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> p1 = map.mouseEventToContainerPoint(e.touches[<span class=\"code-number\">0</span>]),\n","\t\t    p2 = map.mouseEventToContainerPoint(e.touches[<span class=\"code-number\">1</span>]);\n","\n","\t\t<span class=\"code-keyword\">this</span>._centerPoint = map.getSize()._divideBy(<span class=\"code-number\">2</span>);\n","\t\t<span class=\"code-keyword\">this</span>._startLatLng = map.containerPointToLatLng(<span class=\"code-keyword\">this</span>._centerPoint);\n","\t\t<span class=\"code-keyword\">if</span> (map.options.touchZoom !== <span class=\"code-string\">'center'</span>) {\n","\t\t\t<span class=\"code-keyword\">this</span>._pinchStartLatLng = map.containerPointToLatLng(p1.add(p2)._divideBy(<span class=\"code-number\">2</span>));\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._startDist = p1.distanceTo(p2);\n","\t\t<span class=\"code-keyword\">this</span>._startZoom = map.getZoom();\n","\n","\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">false</span>;\n","\t\t<span class=\"code-keyword\">this</span>._zooming = <span class=\"code-literal\">true</span>;\n","\n","\t\tmap._stop();\n","\n","\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchmove'</span>, <span class=\"code-keyword\">this</span>._onTouchMove, <span class=\"code-keyword\">this</span>);\n","\t\ton(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend touchcancel'</span>, <span class=\"code-keyword\">this</span>._onTouchEnd, <span class=\"code-keyword\">this</span>);\n","\n","\t\tpreventDefault(e);\n","\t},\n","\n","\t_onTouchMove: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\">e</span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!e.touches || e.touches.length !== <span class=\"code-number\">2</span> || !<span class=\"code-keyword\">this</span>._zooming) { <span class=\"code-keyword\">return</span>; }\n","\n","\t\t<span class=\"code-keyword\">var</span> map = <span class=\"code-keyword\">this</span>._map,\n","\t\t    p1 = map.mouseEventToContainerPoint(e.touches[<span class=\"code-number\">0</span>]),\n","\t\t    p2 = map.mouseEventToContainerPoint(e.touches[<span class=\"code-number\">1</span>]),\n","\t\t    scale = p1.distanceTo(p2) / <span class=\"code-keyword\">this</span>._startDist;\n","\n","\t\t<span class=\"code-keyword\">this</span>._zoom = map.getScaleZoom(scale, <span class=\"code-keyword\">this</span>._startZoom);\n","\n","\t\t<span class=\"code-keyword\">if</span> (!map.options.bounceAtZoomLimits &amp;&amp; (\n","\t\t\t(<span class=\"code-keyword\">this</span>._zoom &lt; map.getMinZoom() &amp;&amp; scale &lt; <span class=\"code-number\">1</span>) ||\n","\t\t\t(<span class=\"code-keyword\">this</span>._zoom &gt; map.getMaxZoom() &amp;&amp; scale &gt; <span class=\"code-number\">1</span>))) {\n","\t\t\t<span class=\"code-keyword\">this</span>._zoom = map._limitZoom(<span class=\"code-keyword\">this</span>._zoom);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (map.options.touchZoom === <span class=\"code-string\">'center'</span>) {\n","\t\t\t<span class=\"code-keyword\">this</span>._center = <span class=\"code-keyword\">this</span>._startLatLng;\n","\t\t\t<span class=\"code-keyword\">if</span> (scale === <span class=\"code-number\">1</span>) { <span class=\"code-keyword\">return</span>; }\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-comment\">// Get delta from pinch to center, so centerLatLng is delta applied to initial pinchLatLng</span>\n","\t\t\t<span class=\"code-keyword\">var</span> delta = p1._add(p2)._divideBy(<span class=\"code-number\">2</span>)._subtract(<span class=\"code-keyword\">this</span>._centerPoint);\n","\t\t\t<span class=\"code-keyword\">if</span> (scale === <span class=\"code-number\">1</span> &amp;&amp; delta.x === <span class=\"code-number\">0</span> &amp;&amp; delta.y === <span class=\"code-number\">0</span>) { <span class=\"code-keyword\">return</span>; }\n","\t\t\t<span class=\"code-keyword\">this</span>._center = map.unproject(map.project(<span class=\"code-keyword\">this</span>._pinchStartLatLng, <span class=\"code-keyword\">this</span>._zoom).subtract(delta), <span class=\"code-keyword\">this</span>._zoom);\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._moved) {\n","\t\t\tmap._moveStart(<span class=\"code-literal\">true</span>, <span class=\"code-literal\">false</span>);\n","\t\t\t<span class=\"code-keyword\">this</span>._moved = <span class=\"code-literal\">true</span>;\n","\t\t}\n","\n","\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._animRequest);\n","\n","\t\t<span class=\"code-keyword\">var</span> moveFn = bind(map._move, map, <span class=\"code-keyword\">this</span>._center, <span class=\"code-keyword\">this</span>._zoom, {<span class=\"code-attr\">pinch</span>: <span class=\"code-literal\">true</span>, <span class=\"code-attr\">round</span>: <span class=\"code-literal\">false</span>});\n","\t\t<span class=\"code-keyword\">this</span>._animRequest = requestAnimFrame(moveFn, <span class=\"code-keyword\">this</span>, <span class=\"code-literal\">true</span>);\n","\n","\t\tpreventDefault(e);\n","\t},\n","\n","\t_onTouchEnd: <span class=\"code-function\"><span class=\"code-keyword\">function</span> (<span class=\"code-params\"></span>) </span>{\n","\t\t<span class=\"code-keyword\">if</span> (!<span class=\"code-keyword\">this</span>._moved || !<span class=\"code-keyword\">this</span>._zooming) {\n","\t\t\t<span class=\"code-keyword\">this</span>._zooming = <span class=\"code-literal\">false</span>;\n","\t\t\t<span class=\"code-keyword\">return</span>;\n","\t\t}\n","\n","\t\t<span class=\"code-keyword\">this</span>._zooming = <span class=\"code-literal\">false</span>;\n","\t\tcancelAnimFrame(<span class=\"code-keyword\">this</span>._animRequest);\n","\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchmove'</span>, <span class=\"code-keyword\">this</span>._onTouchMove, <span class=\"code-keyword\">this</span>);\n","\t\toff(<span class=\"code-built_in\">document</span>, <span class=\"code-string\">'touchend touchcancel'</span>, <span class=\"code-keyword\">this</span>._onTouchEnd, <span class=\"code-keyword\">this</span>);\n","\n","\t\t<span class=\"code-comment\">// Pinch updates GridLayers' levels only when zoomSnap is off, so zoomSnap becomes noUpdate.</span>\n","\t\t<span class=\"code-keyword\">if</span> (<span class=\"code-keyword\">this</span>._map.options.zoomAnimation) {\n","\t\t\t<span class=\"code-keyword\">this</span>._map._animateZoom(<span class=\"code-keyword\">this</span>._center, <span class=\"code-keyword\">this</span>._map._limitZoom(<span class=\"code-keyword\">this</span>._zoom), <span class=\"code-literal\">true</span>, <span class=\"code-keyword\">this</span>._map.options.zoomSnap);\n","\t\t} <span class=\"code-keyword\">else</span> {\n","\t\t\t<span class=\"code-keyword\">this</span>._map._resetView(<span class=\"code-keyword\">this</span>._center, <span class=\"code-keyword\">this</span>._map._limitZoom(<span class=\"code-keyword\">this</span>._zoom));\n","\t\t}\n","\t}\n","});\n","\n","<span class=\"code-comment\">// @section Handlers</span>\n","<span class=\"code-comment\">// @property touchZoom: Handler</span>\n","<span class=\"code-comment\">// Touch zoom handler.</span>\n","<span class=\"code-built_in\">Map</span>.addInitHook(<span class=\"code-string\">'addHandler'</span>, <span class=\"code-string\">'touchZoom'</span>, TouchZoom);\n","\n","<span class=\"code-built_in\">Map</span>.BoxZoom = BoxZoom;\n","<span class=\"code-built_in\">Map</span>.DoubleClickZoom = DoubleClickZoom;\n","<span class=\"code-built_in\">Map</span>.Drag = Drag;\n","<span class=\"code-built_in\">Map</span>.Keyboard = Keyboard;\n","<span class=\"code-built_in\">Map</span>.ScrollWheelZoom = ScrollWheelZoom;\n","<span class=\"code-built_in\">Map</span>.TapHold = TapHold;\n","<span class=\"code-built_in\">Map</span>.TouchZoom = TouchZoom;\n","\n","<span class=\"code-keyword\">export</span> { Bounds, Browser, CRS, Canvas, Circle, CircleMarker, Class, Control, DivIcon, DivOverlay, DomEvent, DomUtil, Draggable, Evented, FeatureGroup, GeoJSON, GridLayer, Handler, Icon, ImageOverlay, LatLng, LatLngBounds, Layer, LayerGroup, LineUtil, <span class=\"code-built_in\">Map</span>, Marker, Mixin, Path, Point, PolyUtil, Polygon, Polyline, Popup, PosAnimation, index <span class=\"code-keyword\">as</span> Projection, Rectangle, Renderer, SVG, SVGOverlay, TileLayer, Tooltip, Transformation, Util, VideoOverlay, bind, toBounds <span class=\"code-keyword\">as</span> bounds, canvas, circle, circleMarker, control, divIcon, extend, featureGroup, geoJSON, geoJson, gridLayer, icon, imageOverlay, toLatLng <span class=\"code-keyword\">as</span> latLng, toLatLngBounds <span class=\"code-keyword\">as</span> latLngBounds, layerGroup, createMap <span class=\"code-keyword\">as</span> map, marker, toPoint <span class=\"code-keyword\">as</span> point, polygon, polyline, popup, rectangle, setOptions, stamp, svg, svgOverlay, tileLayer, tooltip, toTransformation <span class=\"code-keyword\">as</span> transformation, version, videoOverlay };\n","<span class=\"code-comment\">//# sourceMappingURL=leaflet-src.esm.js.map</span>\n",""]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/leaflet@1.8.0-beta.0/" class="css-xt128v">leaflet</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/leaflet@1.8.0-beta.0/dist/" class="css-xt128v">dist</a><span class="css-lllnmq">/</span><strong>leaflet-src.esm.js</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="0.5.1">0.5.1</option><option value="0.6.0">0.6.0</option><option value="0.6.1">0.6.1</option><option value="0.6.2">0.6.2</option><option value="0.6.3">0.6.3</option><option value="0.6.4">0.6.4</option><option value="0.7.0">0.7.0</option><option value="0.7.1">0.7.1</option><option value="0.7.2">0.7.2</option><option value="0.7.3">0.7.3</option><option value="0.7.4">0.7.4</option><option value="0.7.5">0.7.5</option><option value="0.7.7">0.7.7</option><option value="1.0.0-beta.1">1.0.0-beta.1</option><option value="1.0.0-beta.2">1.0.0-beta.2</option><option value="1.0.0-rc.1">1.0.0-rc.1</option><option value="1.0.0-rc.2">1.0.0-rc.2</option><option value="1.0.0-rc.3">1.0.0-rc.3</option><option value="1.0.0">1.0.0</option><option value="1.0.1">1.0.1</option><option value="1.0.2">1.0.2</option><option value="1.0.3">1.0.3</option><option value="1.1.0">1.1.0</option><option value="1.2.0">1.2.0</option><option value="1.3.0">1.3.0</option><option value="1.3.1">1.3.1</option><option value="1.3.2">1.3.2</option><option value="1.3.3">1.3.3</option><option value="1.3.4">1.3.4</option><option value="1.4.0">1.4.0</option><option value="1.5.0">1.5.0</option><option value="1.5.1">1.5.1</option><option value="1.6.0">1.6.0</option><option value="1.7.0">1.7.0</option><option value="1.7.1">1.7.1</option><option value="1.8.0-alpha.0">1.8.0-alpha.0</option><option selected="" value="1.8.0-beta.0">1.8.0-beta.0</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>412 kB</span><span>JavaScript</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/leaflet@1.8.0-beta.0/dist/leaflet-src.esm.js" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code><span class="code-comment">/* @preserve
</span></code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code><span class="code-comment"> * Leaflet 1.8.0-beta.0+main.face00f, a JS library for interactive maps. https://leafletjs.com
</span></code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code><span class="code-comment"> * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
</span></code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code><span class="code-keyword">var</span> version = <span class="code-string">"1.8.0-beta.0+main.face00fa"</span>;
</code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8" class="css-a4x74f"><span>8</span></td><td id="LC8" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L9" class="css-a4x74f"><span>9</span></td><td id="LC9" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Util
</span></code></td></tr><tr><td id="L10" class="css-a4x74f"><span>10</span></td><td id="LC10" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11" class="css-a4x74f"><span>11</span></td><td id="LC11" class="css-1dcdqdg"><code><span class="code-comment"> * Various utility functions, used by Leaflet internally.
</span></code></td></tr><tr><td id="L12" class="css-a4x74f"><span>12</span></td><td id="LC12" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13" class="css-a4x74f"><span>13</span></td><td id="LC13" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14" class="css-a4x74f"><span>14</span></td><td id="LC14" class="css-1dcdqdg"><code><span class="code-comment">// @function extend(dest: Object, src?: Object): Object</span>
</code></td></tr><tr><td id="L15" class="css-a4x74f"><span>15</span></td><td id="LC15" class="css-1dcdqdg"><code><span class="code-comment">// Merges the properties of the `src` object (or multiple objects) into `dest` object and returns the latter. Has an `L.extend` shortcut.</span>
</code></td></tr><tr><td id="L16" class="css-a4x74f"><span>16</span></td><td id="LC16" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">extend</span>(<span class="code-params">dest</span>) </span>{
</code></td></tr><tr><td id="L17" class="css-a4x74f"><span>17</span></td><td id="LC17" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> i, j, len, src;
</code></td></tr><tr><td id="L18" class="css-a4x74f"><span>18</span></td><td id="LC18" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L19" class="css-a4x74f"><span>19</span></td><td id="LC19" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (j = <span class="code-number">1</span>, len = <span class="code-built_in">arguments</span>.length; j &lt; len; j++) {
</code></td></tr><tr><td id="L20" class="css-a4x74f"><span>20</span></td><td id="LC20" class="css-1dcdqdg"><code>		src = <span class="code-built_in">arguments</span>[j];
</code></td></tr><tr><td id="L21" class="css-a4x74f"><span>21</span></td><td id="LC21" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> src) {
</code></td></tr><tr><td id="L22" class="css-a4x74f"><span>22</span></td><td id="LC22" class="css-1dcdqdg"><code>			dest[i] = src[i];
</code></td></tr><tr><td id="L23" class="css-a4x74f"><span>23</span></td><td id="LC23" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L24" class="css-a4x74f"><span>24</span></td><td id="LC24" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L25" class="css-a4x74f"><span>25</span></td><td id="LC25" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> dest;
</code></td></tr><tr><td id="L26" class="css-a4x74f"><span>26</span></td><td id="LC26" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L27" class="css-a4x74f"><span>27</span></td><td id="LC27" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L28" class="css-a4x74f"><span>28</span></td><td id="LC28" class="css-1dcdqdg"><code><span class="code-comment">// @function create(proto: Object, properties?: Object): Object</span>
</code></td></tr><tr><td id="L29" class="css-a4x74f"><span>29</span></td><td id="LC29" class="css-1dcdqdg"><code><span class="code-comment">// Compatibility polyfill for [Object.create](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/create)</span>
</code></td></tr><tr><td id="L30" class="css-a4x74f"><span>30</span></td><td id="LC30" class="css-1dcdqdg"><code><span class="code-keyword">var</span> create$<span class="code-number">2</span> = <span class="code-built_in">Object</span>.create || (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L31" class="css-a4x74f"><span>31</span></td><td id="LC31" class="css-1dcdqdg"><code>	<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">F</span>(<span class="code-params"></span>) </span>{}
</code></td></tr><tr><td id="L32" class="css-a4x74f"><span>32</span></td><td id="LC32" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">proto</span>) </span>{
</code></td></tr><tr><td id="L33" class="css-a4x74f"><span>33</span></td><td id="LC33" class="css-1dcdqdg"><code>		F.prototype = proto;
</code></td></tr><tr><td id="L34" class="css-a4x74f"><span>34</span></td><td id="LC34" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> F();
</code></td></tr><tr><td id="L35" class="css-a4x74f"><span>35</span></td><td id="LC35" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L36" class="css-a4x74f"><span>36</span></td><td id="LC36" class="css-1dcdqdg"><code>})();
</code></td></tr><tr><td id="L37" class="css-a4x74f"><span>37</span></td><td id="LC37" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L38" class="css-a4x74f"><span>38</span></td><td id="LC38" class="css-1dcdqdg"><code><span class="code-comment">// @function bind(fn: Function, ): Function</span>
</code></td></tr><tr><td id="L39" class="css-a4x74f"><span>39</span></td><td id="LC39" class="css-1dcdqdg"><code><span class="code-comment">// Returns a new function bound to the arguments passed, like [Function.prototype.bind](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).</span>
</code></td></tr><tr><td id="L40" class="css-a4x74f"><span>40</span></td><td id="LC40" class="css-1dcdqdg"><code><span class="code-comment">// Has a `L.bind()` shortcut.</span>
</code></td></tr><tr><td id="L41" class="css-a4x74f"><span>41</span></td><td id="LC41" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bind</span>(<span class="code-params">fn, obj</span>) </span>{
</code></td></tr><tr><td id="L42" class="css-a4x74f"><span>42</span></td><td id="LC42" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> slice = <span class="code-built_in">Array</span>.prototype.slice;
</code></td></tr><tr><td id="L43" class="css-a4x74f"><span>43</span></td><td id="LC43" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L44" class="css-a4x74f"><span>44</span></td><td id="LC44" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (fn.bind) {
</code></td></tr><tr><td id="L45" class="css-a4x74f"><span>45</span></td><td id="LC45" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> fn.bind.apply(fn, slice.call(<span class="code-built_in">arguments</span>, <span class="code-number">1</span>));
</code></td></tr><tr><td id="L46" class="css-a4x74f"><span>46</span></td><td id="LC46" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L47" class="css-a4x74f"><span>47</span></td><td id="LC47" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L48" class="css-a4x74f"><span>48</span></td><td id="LC48" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> args = slice.call(<span class="code-built_in">arguments</span>, <span class="code-number">2</span>);
</code></td></tr><tr><td id="L49" class="css-a4x74f"><span>49</span></td><td id="LC49" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L50" class="css-a4x74f"><span>50</span></td><td id="LC50" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L51" class="css-a4x74f"><span>51</span></td><td id="LC51" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> fn.apply(obj, args.length ? args.concat(slice.call(<span class="code-built_in">arguments</span>)) : <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L52" class="css-a4x74f"><span>52</span></td><td id="LC52" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L53" class="css-a4x74f"><span>53</span></td><td id="LC53" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L54" class="css-a4x74f"><span>54</span></td><td id="LC54" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L55" class="css-a4x74f"><span>55</span></td><td id="LC55" class="css-1dcdqdg"><code><span class="code-comment">// @property lastId: Number</span>
</code></td></tr><tr><td id="L56" class="css-a4x74f"><span>56</span></td><td id="LC56" class="css-1dcdqdg"><code><span class="code-comment">// Last unique ID used by [`stamp()`](#util-stamp)</span>
</code></td></tr><tr><td id="L57" class="css-a4x74f"><span>57</span></td><td id="LC57" class="css-1dcdqdg"><code><span class="code-keyword">var</span> lastId = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L58" class="css-a4x74f"><span>58</span></td><td id="LC58" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L59" class="css-a4x74f"><span>59</span></td><td id="LC59" class="css-1dcdqdg"><code><span class="code-comment">// @function stamp(obj: Object): Number</span>
</code></td></tr><tr><td id="L60" class="css-a4x74f"><span>60</span></td><td id="LC60" class="css-1dcdqdg"><code><span class="code-comment">// Returns the unique ID of an object, assigning it one if it doesn't have it.</span>
</code></td></tr><tr><td id="L61" class="css-a4x74f"><span>61</span></td><td id="LC61" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">stamp</span>(<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L62" class="css-a4x74f"><span>62</span></td><td id="LC62" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!(<span class="code-string">'_leaflet_id'</span> <span class="code-keyword">in</span> obj)) {
</code></td></tr><tr><td id="L63" class="css-a4x74f"><span>63</span></td><td id="LC63" class="css-1dcdqdg"><code>		obj[<span class="code-string">'_leaflet_id'</span>] = ++lastId;
</code></td></tr><tr><td id="L64" class="css-a4x74f"><span>64</span></td><td id="LC64" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L65" class="css-a4x74f"><span>65</span></td><td id="LC65" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> obj._leaflet_id;
</code></td></tr><tr><td id="L66" class="css-a4x74f"><span>66</span></td><td id="LC66" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L67" class="css-a4x74f"><span>67</span></td><td id="LC67" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L68" class="css-a4x74f"><span>68</span></td><td id="LC68" class="css-1dcdqdg"><code><span class="code-comment">// @function throttle(fn: Function, time: Number, context: Object): Function</span>
</code></td></tr><tr><td id="L69" class="css-a4x74f"><span>69</span></td><td id="LC69" class="css-1dcdqdg"><code><span class="code-comment">// Returns a function which executes function `fn` with the given scope `context`</span>
</code></td></tr><tr><td id="L70" class="css-a4x74f"><span>70</span></td><td id="LC70" class="css-1dcdqdg"><code><span class="code-comment">// (so that the `this` keyword refers to `context` inside `fn`'s code). The function</span>
</code></td></tr><tr><td id="L71" class="css-a4x74f"><span>71</span></td><td id="LC71" class="css-1dcdqdg"><code><span class="code-comment">// `fn` will be called no more than one time per given amount of `time`. The arguments</span>
</code></td></tr><tr><td id="L72" class="css-a4x74f"><span>72</span></td><td id="LC72" class="css-1dcdqdg"><code><span class="code-comment">// received by the bound function will be any arguments passed when binding the</span>
</code></td></tr><tr><td id="L73" class="css-a4x74f"><span>73</span></td><td id="LC73" class="css-1dcdqdg"><code><span class="code-comment">// function, followed by any arguments passed when invoking the bound function.</span>
</code></td></tr><tr><td id="L74" class="css-a4x74f"><span>74</span></td><td id="LC74" class="css-1dcdqdg"><code><span class="code-comment">// Has an `L.throttle` shortcut.</span>
</code></td></tr><tr><td id="L75" class="css-a4x74f"><span>75</span></td><td id="LC75" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">throttle</span>(<span class="code-params">fn, time, context</span>) </span>{
</code></td></tr><tr><td id="L76" class="css-a4x74f"><span>76</span></td><td id="LC76" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> lock, args, wrapperFn, later;
</code></td></tr><tr><td id="L77" class="css-a4x74f"><span>77</span></td><td id="LC77" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L78" class="css-a4x74f"><span>78</span></td><td id="LC78" class="css-1dcdqdg"><code>	later = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L79" class="css-a4x74f"><span>79</span></td><td id="LC79" class="css-1dcdqdg"><code>		<span class="code-comment">// reset lock and call if queued</span>
</code></td></tr><tr><td id="L80" class="css-a4x74f"><span>80</span></td><td id="LC80" class="css-1dcdqdg"><code>		lock = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L81" class="css-a4x74f"><span>81</span></td><td id="LC81" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (args) {
</code></td></tr><tr><td id="L82" class="css-a4x74f"><span>82</span></td><td id="LC82" class="css-1dcdqdg"><code>			wrapperFn.apply(context, args);
</code></td></tr><tr><td id="L83" class="css-a4x74f"><span>83</span></td><td id="LC83" class="css-1dcdqdg"><code>			args = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L84" class="css-a4x74f"><span>84</span></td><td id="LC84" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L85" class="css-a4x74f"><span>85</span></td><td id="LC85" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L86" class="css-a4x74f"><span>86</span></td><td id="LC86" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L87" class="css-a4x74f"><span>87</span></td><td id="LC87" class="css-1dcdqdg"><code>	wrapperFn = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L88" class="css-a4x74f"><span>88</span></td><td id="LC88" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (lock) {
</code></td></tr><tr><td id="L89" class="css-a4x74f"><span>89</span></td><td id="LC89" class="css-1dcdqdg"><code>			<span class="code-comment">// called too soon, queue to call later</span>
</code></td></tr><tr><td id="L90" class="css-a4x74f"><span>90</span></td><td id="LC90" class="css-1dcdqdg"><code>			args = <span class="code-built_in">arguments</span>;
</code></td></tr><tr><td id="L91" class="css-a4x74f"><span>91</span></td><td id="LC91" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L92" class="css-a4x74f"><span>92</span></td><td id="LC92" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L93" class="css-a4x74f"><span>93</span></td><td id="LC93" class="css-1dcdqdg"><code>			<span class="code-comment">// call and lock until later</span>
</code></td></tr><tr><td id="L94" class="css-a4x74f"><span>94</span></td><td id="LC94" class="css-1dcdqdg"><code>			fn.apply(context, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L95" class="css-a4x74f"><span>95</span></td><td id="LC95" class="css-1dcdqdg"><code>			setTimeout(later, time);
</code></td></tr><tr><td id="L96" class="css-a4x74f"><span>96</span></td><td id="LC96" class="css-1dcdqdg"><code>			lock = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L97" class="css-a4x74f"><span>97</span></td><td id="LC97" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L98" class="css-a4x74f"><span>98</span></td><td id="LC98" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L99" class="css-a4x74f"><span>99</span></td><td id="LC99" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L100" class="css-a4x74f"><span>100</span></td><td id="LC100" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> wrapperFn;
</code></td></tr><tr><td id="L101" class="css-a4x74f"><span>101</span></td><td id="LC101" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L102" class="css-a4x74f"><span>102</span></td><td id="LC102" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L103" class="css-a4x74f"><span>103</span></td><td id="LC103" class="css-1dcdqdg"><code><span class="code-comment">// @function wrapNum(num: Number, range: Number[], includeMax?: Boolean): Number</span>
</code></td></tr><tr><td id="L104" class="css-a4x74f"><span>104</span></td><td id="LC104" class="css-1dcdqdg"><code><span class="code-comment">// Returns the number `num` modulo `range` in such a way so it lies within</span>
</code></td></tr><tr><td id="L105" class="css-a4x74f"><span>105</span></td><td id="LC105" class="css-1dcdqdg"><code><span class="code-comment">// `range[0]` and `range[1]`. The returned value will be always smaller than</span>
</code></td></tr><tr><td id="L106" class="css-a4x74f"><span>106</span></td><td id="LC106" class="css-1dcdqdg"><code><span class="code-comment">// `range[1]` unless `includeMax` is set to `true`.</span>
</code></td></tr><tr><td id="L107" class="css-a4x74f"><span>107</span></td><td id="LC107" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wrapNum</span>(<span class="code-params">x, range, includeMax</span>) </span>{
</code></td></tr><tr><td id="L108" class="css-a4x74f"><span>108</span></td><td id="LC108" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> max = range[<span class="code-number">1</span>],
</code></td></tr><tr><td id="L109" class="css-a4x74f"><span>109</span></td><td id="LC109" class="css-1dcdqdg"><code>	    min = range[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L110" class="css-a4x74f"><span>110</span></td><td id="LC110" class="css-1dcdqdg"><code>	    d = max - min;
</code></td></tr><tr><td id="L111" class="css-a4x74f"><span>111</span></td><td id="LC111" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> x === max &amp;&amp; includeMax ? x : ((x - min) % d + d) % d + min;
</code></td></tr><tr><td id="L112" class="css-a4x74f"><span>112</span></td><td id="LC112" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L113" class="css-a4x74f"><span>113</span></td><td id="LC113" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L114" class="css-a4x74f"><span>114</span></td><td id="LC114" class="css-1dcdqdg"><code><span class="code-comment">// @function falseFn(): Function</span>
</code></td></tr><tr><td id="L115" class="css-a4x74f"><span>115</span></td><td id="LC115" class="css-1dcdqdg"><code><span class="code-comment">// Returns a function which always returns `false`.</span>
</code></td></tr><tr><td id="L116" class="css-a4x74f"><span>116</span></td><td id="LC116" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">falseFn</span>(<span class="code-params"></span>) </span>{ <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L117" class="css-a4x74f"><span>117</span></td><td id="LC117" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L118" class="css-a4x74f"><span>118</span></td><td id="LC118" class="css-1dcdqdg"><code><span class="code-comment">// @function formatNum(num: Number, precision?: Number|false): Number</span>
</code></td></tr><tr><td id="L119" class="css-a4x74f"><span>119</span></td><td id="LC119" class="css-1dcdqdg"><code><span class="code-comment">// Returns the number `num` rounded with specified `precision`.</span>
</code></td></tr><tr><td id="L120" class="css-a4x74f"><span>120</span></td><td id="LC120" class="css-1dcdqdg"><code><span class="code-comment">// The default `precision` value is 6 decimal places.</span>
</code></td></tr><tr><td id="L121" class="css-a4x74f"><span>121</span></td><td id="LC121" class="css-1dcdqdg"><code><span class="code-comment">// `false` can be passed to skip any processing (can be useful to avoid round-off errors).</span>
</code></td></tr><tr><td id="L122" class="css-a4x74f"><span>122</span></td><td id="LC122" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">formatNum</span>(<span class="code-params">num, precision</span>) </span>{
</code></td></tr><tr><td id="L123" class="css-a4x74f"><span>123</span></td><td id="LC123" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (precision === <span class="code-literal">false</span>) { <span class="code-keyword">return</span> num; }
</code></td></tr><tr><td id="L124" class="css-a4x74f"><span>124</span></td><td id="LC124" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> pow = <span class="code-built_in">Math</span>.pow(<span class="code-number">10</span>, precision === <span class="code-literal">undefined</span> ? <span class="code-number">6</span> : precision);
</code></td></tr><tr><td id="L125" class="css-a4x74f"><span>125</span></td><td id="LC125" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.round(num * pow) / pow;
</code></td></tr><tr><td id="L126" class="css-a4x74f"><span>126</span></td><td id="LC126" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L127" class="css-a4x74f"><span>127</span></td><td id="LC127" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L128" class="css-a4x74f"><span>128</span></td><td id="LC128" class="css-1dcdqdg"><code><span class="code-comment">// @function trim(str: String): String</span>
</code></td></tr><tr><td id="L129" class="css-a4x74f"><span>129</span></td><td id="LC129" class="css-1dcdqdg"><code><span class="code-comment">// Compatibility polyfill for [String.prototype.trim](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim)</span>
</code></td></tr><tr><td id="L130" class="css-a4x74f"><span>130</span></td><td id="LC130" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">trim</span>(<span class="code-params">str</span>) </span>{
</code></td></tr><tr><td id="L131" class="css-a4x74f"><span>131</span></td><td id="LC131" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> str.trim ? str.trim() : str.replace(<span class="code-regexp">/^\s+|\s+$/g</span>, <span class="code-string">''</span>);
</code></td></tr><tr><td id="L132" class="css-a4x74f"><span>132</span></td><td id="LC132" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L133" class="css-a4x74f"><span>133</span></td><td id="LC133" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L134" class="css-a4x74f"><span>134</span></td><td id="LC134" class="css-1dcdqdg"><code><span class="code-comment">// @function splitWords(str: String): String[]</span>
</code></td></tr><tr><td id="L135" class="css-a4x74f"><span>135</span></td><td id="LC135" class="css-1dcdqdg"><code><span class="code-comment">// Trims and splits the string on whitespace and returns the array of parts.</span>
</code></td></tr><tr><td id="L136" class="css-a4x74f"><span>136</span></td><td id="LC136" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">splitWords</span>(<span class="code-params">str</span>) </span>{
</code></td></tr><tr><td id="L137" class="css-a4x74f"><span>137</span></td><td id="LC137" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> trim(str).split(<span class="code-regexp">/\s+/</span>);
</code></td></tr><tr><td id="L138" class="css-a4x74f"><span>138</span></td><td id="LC138" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L139" class="css-a4x74f"><span>139</span></td><td id="LC139" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L140" class="css-a4x74f"><span>140</span></td><td id="LC140" class="css-1dcdqdg"><code><span class="code-comment">// @function setOptions(obj: Object, options: Object): Object</span>
</code></td></tr><tr><td id="L141" class="css-a4x74f"><span>141</span></td><td id="LC141" class="css-1dcdqdg"><code><span class="code-comment">// Merges the given properties to the `options` of the `obj` object, returning the resulting options. See `Class options`. Has an `L.setOptions` shortcut.</span>
</code></td></tr><tr><td id="L142" class="css-a4x74f"><span>142</span></td><td id="LC142" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setOptions</span>(<span class="code-params">obj, options</span>) </span>{
</code></td></tr><tr><td id="L143" class="css-a4x74f"><span>143</span></td><td id="LC143" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(obj, <span class="code-string">'options'</span>)) {
</code></td></tr><tr><td id="L144" class="css-a4x74f"><span>144</span></td><td id="LC144" class="css-1dcdqdg"><code>		obj.options = obj.options ? create$<span class="code-number">2</span>(obj.options) : {};
</code></td></tr><tr><td id="L145" class="css-a4x74f"><span>145</span></td><td id="LC145" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L146" class="css-a4x74f"><span>146</span></td><td id="LC146" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> options) {
</code></td></tr><tr><td id="L147" class="css-a4x74f"><span>147</span></td><td id="LC147" class="css-1dcdqdg"><code>		obj.options[i] = options[i];
</code></td></tr><tr><td id="L148" class="css-a4x74f"><span>148</span></td><td id="LC148" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L149" class="css-a4x74f"><span>149</span></td><td id="LC149" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> obj.options;
</code></td></tr><tr><td id="L150" class="css-a4x74f"><span>150</span></td><td id="LC150" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L151" class="css-a4x74f"><span>151</span></td><td id="LC151" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L152" class="css-a4x74f"><span>152</span></td><td id="LC152" class="css-1dcdqdg"><code><span class="code-comment">// @function getParamString(obj: Object, existingUrl?: String, uppercase?: Boolean): String</span>
</code></td></tr><tr><td id="L153" class="css-a4x74f"><span>153</span></td><td id="LC153" class="css-1dcdqdg"><code><span class="code-comment">// Converts an object into a parameter URL string, e.g. `{a: "foo", b: "bar"}`</span>
</code></td></tr><tr><td id="L154" class="css-a4x74f"><span>154</span></td><td id="LC154" class="css-1dcdqdg"><code><span class="code-comment">// translates to `'?a=foo&amp;b=bar'`. If `existingUrl` is set, the parameters will</span>
</code></td></tr><tr><td id="L155" class="css-a4x74f"><span>155</span></td><td id="LC155" class="css-1dcdqdg"><code><span class="code-comment">// be appended at the end. If `uppercase` is `true`, the parameter names will</span>
</code></td></tr><tr><td id="L156" class="css-a4x74f"><span>156</span></td><td id="LC156" class="css-1dcdqdg"><code><span class="code-comment">// be uppercased (e.g. `'?A=foo&amp;B=bar'`)</span>
</code></td></tr><tr><td id="L157" class="css-a4x74f"><span>157</span></td><td id="LC157" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getParamString</span>(<span class="code-params">obj, existingUrl, uppercase</span>) </span>{
</code></td></tr><tr><td id="L158" class="css-a4x74f"><span>158</span></td><td id="LC158" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> params = [];
</code></td></tr><tr><td id="L159" class="css-a4x74f"><span>159</span></td><td id="LC159" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> obj) {
</code></td></tr><tr><td id="L160" class="css-a4x74f"><span>160</span></td><td id="LC160" class="css-1dcdqdg"><code>		params.push(<span class="code-built_in">encodeURIComponent</span>(uppercase ? i.toUpperCase() : i) + <span class="code-string">'='</span> + <span class="code-built_in">encodeURIComponent</span>(obj[i]));
</code></td></tr><tr><td id="L161" class="css-a4x74f"><span>161</span></td><td id="LC161" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L162" class="css-a4x74f"><span>162</span></td><td id="LC162" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> ((!existingUrl || existingUrl.indexOf(<span class="code-string">'?'</span>) === <span class="code-number">-1</span>) ? <span class="code-string">'?'</span> : <span class="code-string">'&amp;'</span>) + params.join(<span class="code-string">'&amp;'</span>);
</code></td></tr><tr><td id="L163" class="css-a4x74f"><span>163</span></td><td id="LC163" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L164" class="css-a4x74f"><span>164</span></td><td id="LC164" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L165" class="css-a4x74f"><span>165</span></td><td id="LC165" class="css-1dcdqdg"><code><span class="code-keyword">var</span> templateRe = <span class="code-regexp">/\{ *([\w_ -]+) *\}/g</span>;
</code></td></tr><tr><td id="L166" class="css-a4x74f"><span>166</span></td><td id="LC166" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L167" class="css-a4x74f"><span>167</span></td><td id="LC167" class="css-1dcdqdg"><code><span class="code-comment">// @function template(str: String, data: Object): String</span>
</code></td></tr><tr><td id="L168" class="css-a4x74f"><span>168</span></td><td id="LC168" class="css-1dcdqdg"><code><span class="code-comment">// Simple templating facility, accepts a template string of the form `'Hello {a}, {b}'`</span>
</code></td></tr><tr><td id="L169" class="css-a4x74f"><span>169</span></td><td id="LC169" class="css-1dcdqdg"><code><span class="code-comment">// and a data object like `{a: 'foo', b: 'bar'}`, returns evaluated string</span>
</code></td></tr><tr><td id="L170" class="css-a4x74f"><span>170</span></td><td id="LC170" class="css-1dcdqdg"><code><span class="code-comment">// `('Hello foo, bar')`. You can also specify functions instead of strings for</span>
</code></td></tr><tr><td id="L171" class="css-a4x74f"><span>171</span></td><td id="LC171" class="css-1dcdqdg"><code><span class="code-comment">// data values  they will be evaluated passing `data` as an argument.</span>
</code></td></tr><tr><td id="L172" class="css-a4x74f"><span>172</span></td><td id="LC172" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">template</span>(<span class="code-params">str, data</span>) </span>{
</code></td></tr><tr><td id="L173" class="css-a4x74f"><span>173</span></td><td id="LC173" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> str.replace(templateRe, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">str, key</span>) </span>{
</code></td></tr><tr><td id="L174" class="css-a4x74f"><span>174</span></td><td id="LC174" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> value = data[key];
</code></td></tr><tr><td id="L175" class="css-a4x74f"><span>175</span></td><td id="LC175" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L176" class="css-a4x74f"><span>176</span></td><td id="LC176" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (value === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L177" class="css-a4x74f"><span>177</span></td><td id="LC177" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'No value provided for variable '</span> + str);
</code></td></tr><tr><td id="L178" class="css-a4x74f"><span>178</span></td><td id="LC178" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L179" class="css-a4x74f"><span>179</span></td><td id="LC179" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> value === <span class="code-string">'function'</span>) {
</code></td></tr><tr><td id="L180" class="css-a4x74f"><span>180</span></td><td id="LC180" class="css-1dcdqdg"><code>			value = value(data);
</code></td></tr><tr><td id="L181" class="css-a4x74f"><span>181</span></td><td id="LC181" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L182" class="css-a4x74f"><span>182</span></td><td id="LC182" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> value;
</code></td></tr><tr><td id="L183" class="css-a4x74f"><span>183</span></td><td id="LC183" class="css-1dcdqdg"><code>	});
</code></td></tr><tr><td id="L184" class="css-a4x74f"><span>184</span></td><td id="LC184" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L185" class="css-a4x74f"><span>185</span></td><td id="LC185" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L186" class="css-a4x74f"><span>186</span></td><td id="LC186" class="css-1dcdqdg"><code><span class="code-comment">// @function isArray(obj): Boolean</span>
</code></td></tr><tr><td id="L187" class="css-a4x74f"><span>187</span></td><td id="LC187" class="css-1dcdqdg"><code><span class="code-comment">// Compatibility polyfill for [Array.isArray](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)</span>
</code></td></tr><tr><td id="L188" class="css-a4x74f"><span>188</span></td><td id="LC188" class="css-1dcdqdg"><code><span class="code-keyword">var</span> isArray = <span class="code-built_in">Array</span>.isArray || <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L189" class="css-a4x74f"><span>189</span></td><td id="LC189" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> (<span class="code-built_in">Object</span>.prototype.toString.call(obj) === <span class="code-string">'[object Array]'</span>);
</code></td></tr><tr><td id="L190" class="css-a4x74f"><span>190</span></td><td id="LC190" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L191" class="css-a4x74f"><span>191</span></td><td id="LC191" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L192" class="css-a4x74f"><span>192</span></td><td id="LC192" class="css-1dcdqdg"><code><span class="code-comment">// @function indexOf(array: Array, el: Object): Number</span>
</code></td></tr><tr><td id="L193" class="css-a4x74f"><span>193</span></td><td id="LC193" class="css-1dcdqdg"><code><span class="code-comment">// Compatibility polyfill for [Array.prototype.indexOf](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)</span>
</code></td></tr><tr><td id="L194" class="css-a4x74f"><span>194</span></td><td id="LC194" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">indexOf</span>(<span class="code-params">array, el</span>) </span>{
</code></td></tr><tr><td id="L195" class="css-a4x74f"><span>195</span></td><td id="LC195" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; array.length; i++) {
</code></td></tr><tr><td id="L196" class="css-a4x74f"><span>196</span></td><td id="LC196" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (array[i] === el) { <span class="code-keyword">return</span> i; }
</code></td></tr><tr><td id="L197" class="css-a4x74f"><span>197</span></td><td id="LC197" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L198" class="css-a4x74f"><span>198</span></td><td id="LC198" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-number">-1</span>;
</code></td></tr><tr><td id="L199" class="css-a4x74f"><span>199</span></td><td id="LC199" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L200" class="css-a4x74f"><span>200</span></td><td id="LC200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L201" class="css-a4x74f"><span>201</span></td><td id="LC201" class="css-1dcdqdg"><code><span class="code-comment">// @property emptyImageUrl: String</span>
</code></td></tr><tr><td id="L202" class="css-a4x74f"><span>202</span></td><td id="LC202" class="css-1dcdqdg"><code><span class="code-comment">// Data URI string containing a base64-encoded empty GIF image.</span>
</code></td></tr><tr><td id="L203" class="css-a4x74f"><span>203</span></td><td id="LC203" class="css-1dcdqdg"><code><span class="code-comment">// Used as a hack to free memory from unused images on WebKit-powered</span>
</code></td></tr><tr><td id="L204" class="css-a4x74f"><span>204</span></td><td id="LC204" class="css-1dcdqdg"><code><span class="code-comment">// mobile devices (by setting image `src` to this string).</span>
</code></td></tr><tr><td id="L205" class="css-a4x74f"><span>205</span></td><td id="LC205" class="css-1dcdqdg"><code><span class="code-keyword">var</span> emptyImageUrl = <span class="code-string">'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='</span>;
</code></td></tr><tr><td id="L206" class="css-a4x74f"><span>206</span></td><td id="LC206" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L207" class="css-a4x74f"><span>207</span></td><td id="LC207" class="css-1dcdqdg"><code><span class="code-comment">// inspired by https://paulirish.com/2011/requestanimationframe-for-smart-animating/</span>
</code></td></tr><tr><td id="L208" class="css-a4x74f"><span>208</span></td><td id="LC208" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L209" class="css-a4x74f"><span>209</span></td><td id="LC209" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getPrefixed</span>(<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L210" class="css-a4x74f"><span>210</span></td><td id="LC210" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-built_in">window</span>[<span class="code-string">'webkit'</span> + name] || <span class="code-built_in">window</span>[<span class="code-string">'moz'</span> + name] || <span class="code-built_in">window</span>[<span class="code-string">'ms'</span> + name];
</code></td></tr><tr><td id="L211" class="css-a4x74f"><span>211</span></td><td id="LC211" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L212" class="css-a4x74f"><span>212</span></td><td id="LC212" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L213" class="css-a4x74f"><span>213</span></td><td id="LC213" class="css-1dcdqdg"><code><span class="code-keyword">var</span> lastTime = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L214" class="css-a4x74f"><span>214</span></td><td id="LC214" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L215" class="css-a4x74f"><span>215</span></td><td id="LC215" class="css-1dcdqdg"><code><span class="code-comment">// fallback for IE 7-8</span>
</code></td></tr><tr><td id="L216" class="css-a4x74f"><span>216</span></td><td id="LC216" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">timeoutDefer</span>(<span class="code-params">fn</span>) </span>{
</code></td></tr><tr><td id="L217" class="css-a4x74f"><span>217</span></td><td id="LC217" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> time = +<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(),
</code></td></tr><tr><td id="L218" class="css-a4x74f"><span>218</span></td><td id="LC218" class="css-1dcdqdg"><code>	    timeToCall = <span class="code-built_in">Math</span>.max(<span class="code-number">0</span>, <span class="code-number">16</span> - (time - lastTime));
</code></td></tr><tr><td id="L219" class="css-a4x74f"><span>219</span></td><td id="LC219" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L220" class="css-a4x74f"><span>220</span></td><td id="LC220" class="css-1dcdqdg"><code>	lastTime = time + timeToCall;
</code></td></tr><tr><td id="L221" class="css-a4x74f"><span>221</span></td><td id="LC221" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-built_in">window</span>.setTimeout(fn, timeToCall);
</code></td></tr><tr><td id="L222" class="css-a4x74f"><span>222</span></td><td id="LC222" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L223" class="css-a4x74f"><span>223</span></td><td id="LC223" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L224" class="css-a4x74f"><span>224</span></td><td id="LC224" class="css-1dcdqdg"><code><span class="code-keyword">var</span> requestFn = <span class="code-built_in">window</span>.requestAnimationFrame || getPrefixed(<span class="code-string">'RequestAnimationFrame'</span>) || timeoutDefer;
</code></td></tr><tr><td id="L225" class="css-a4x74f"><span>225</span></td><td id="LC225" class="css-1dcdqdg"><code><span class="code-keyword">var</span> cancelFn = <span class="code-built_in">window</span>.cancelAnimationFrame || getPrefixed(<span class="code-string">'CancelAnimationFrame'</span>) ||
</code></td></tr><tr><td id="L226" class="css-a4x74f"><span>226</span></td><td id="LC226" class="css-1dcdqdg"><code>		getPrefixed(<span class="code-string">'CancelRequestAnimationFrame'</span>) || <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">id</span>) </span>{ <span class="code-built_in">window</span>.clearTimeout(id); };
</code></td></tr><tr><td id="L227" class="css-a4x74f"><span>227</span></td><td id="LC227" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L228" class="css-a4x74f"><span>228</span></td><td id="LC228" class="css-1dcdqdg"><code><span class="code-comment">// @function requestAnimFrame(fn: Function, context?: Object, immediate?: Boolean): Number</span>
</code></td></tr><tr><td id="L229" class="css-a4x74f"><span>229</span></td><td id="LC229" class="css-1dcdqdg"><code><span class="code-comment">// Schedules `fn` to be executed when the browser repaints. `fn` is bound to</span>
</code></td></tr><tr><td id="L230" class="css-a4x74f"><span>230</span></td><td id="LC230" class="css-1dcdqdg"><code><span class="code-comment">// `context` if given. When `immediate` is set, `fn` is called immediately if</span>
</code></td></tr><tr><td id="L231" class="css-a4x74f"><span>231</span></td><td id="LC231" class="css-1dcdqdg"><code><span class="code-comment">// the browser doesn't have native support for</span>
</code></td></tr><tr><td id="L232" class="css-a4x74f"><span>232</span></td><td id="LC232" class="css-1dcdqdg"><code><span class="code-comment">// [`window.requestAnimationFrame`](https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame),</span>
</code></td></tr><tr><td id="L233" class="css-a4x74f"><span>233</span></td><td id="LC233" class="css-1dcdqdg"><code><span class="code-comment">// otherwise it's delayed. Returns a request ID that can be used to cancel the request.</span>
</code></td></tr><tr><td id="L234" class="css-a4x74f"><span>234</span></td><td id="LC234" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">requestAnimFrame</span>(<span class="code-params">fn, context, immediate</span>) </span>{
</code></td></tr><tr><td id="L235" class="css-a4x74f"><span>235</span></td><td id="LC235" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (immediate &amp;&amp; requestFn === timeoutDefer) {
</code></td></tr><tr><td id="L236" class="css-a4x74f"><span>236</span></td><td id="LC236" class="css-1dcdqdg"><code>		fn.call(context);
</code></td></tr><tr><td id="L237" class="css-a4x74f"><span>237</span></td><td id="LC237" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L238" class="css-a4x74f"><span>238</span></td><td id="LC238" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> requestFn.call(<span class="code-built_in">window</span>, bind(fn, context));
</code></td></tr><tr><td id="L239" class="css-a4x74f"><span>239</span></td><td id="LC239" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L240" class="css-a4x74f"><span>240</span></td><td id="LC240" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L241" class="css-a4x74f"><span>241</span></td><td id="LC241" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L242" class="css-a4x74f"><span>242</span></td><td id="LC242" class="css-1dcdqdg"><code><span class="code-comment">// @function cancelAnimFrame(id: Number): undefined</span>
</code></td></tr><tr><td id="L243" class="css-a4x74f"><span>243</span></td><td id="LC243" class="css-1dcdqdg"><code><span class="code-comment">// Cancels a previous `requestAnimFrame`. See also [window.cancelAnimationFrame](https://developer.mozilla.org/docs/Web/API/window/cancelAnimationFrame).</span>
</code></td></tr><tr><td id="L244" class="css-a4x74f"><span>244</span></td><td id="LC244" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cancelAnimFrame</span>(<span class="code-params">id</span>) </span>{
</code></td></tr><tr><td id="L245" class="css-a4x74f"><span>245</span></td><td id="LC245" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (id) {
</code></td></tr><tr><td id="L246" class="css-a4x74f"><span>246</span></td><td id="LC246" class="css-1dcdqdg"><code>		cancelFn.call(<span class="code-built_in">window</span>, id);
</code></td></tr><tr><td id="L247" class="css-a4x74f"><span>247</span></td><td id="LC247" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L248" class="css-a4x74f"><span>248</span></td><td id="LC248" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L249" class="css-a4x74f"><span>249</span></td><td id="LC249" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L250" class="css-a4x74f"><span>250</span></td><td id="LC250" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Util = {
</code></td></tr><tr><td id="L251" class="css-a4x74f"><span>251</span></td><td id="LC251" class="css-1dcdqdg"><code>  __proto__: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L252" class="css-a4x74f"><span>252</span></td><td id="LC252" class="css-1dcdqdg"><code>  extend: extend,
</code></td></tr><tr><td id="L253" class="css-a4x74f"><span>253</span></td><td id="LC253" class="css-1dcdqdg"><code>  create: create$<span class="code-number">2</span>,
</code></td></tr><tr><td id="L254" class="css-a4x74f"><span>254</span></td><td id="LC254" class="css-1dcdqdg"><code>  bind: bind,
</code></td></tr><tr><td id="L255" class="css-a4x74f"><span>255</span></td><td id="LC255" class="css-1dcdqdg"><code>  <span class="code-keyword">get</span> lastId () { <span class="code-keyword">return</span> lastId; },
</code></td></tr><tr><td id="L256" class="css-a4x74f"><span>256</span></td><td id="LC256" class="css-1dcdqdg"><code>  stamp: stamp,
</code></td></tr><tr><td id="L257" class="css-a4x74f"><span>257</span></td><td id="LC257" class="css-1dcdqdg"><code>  throttle: throttle,
</code></td></tr><tr><td id="L258" class="css-a4x74f"><span>258</span></td><td id="LC258" class="css-1dcdqdg"><code>  wrapNum: wrapNum,
</code></td></tr><tr><td id="L259" class="css-a4x74f"><span>259</span></td><td id="LC259" class="css-1dcdqdg"><code>  falseFn: falseFn,
</code></td></tr><tr><td id="L260" class="css-a4x74f"><span>260</span></td><td id="LC260" class="css-1dcdqdg"><code>  formatNum: formatNum,
</code></td></tr><tr><td id="L261" class="css-a4x74f"><span>261</span></td><td id="LC261" class="css-1dcdqdg"><code>  trim: trim,
</code></td></tr><tr><td id="L262" class="css-a4x74f"><span>262</span></td><td id="LC262" class="css-1dcdqdg"><code>  splitWords: splitWords,
</code></td></tr><tr><td id="L263" class="css-a4x74f"><span>263</span></td><td id="LC263" class="css-1dcdqdg"><code>  setOptions: setOptions,
</code></td></tr><tr><td id="L264" class="css-a4x74f"><span>264</span></td><td id="LC264" class="css-1dcdqdg"><code>  getParamString: getParamString,
</code></td></tr><tr><td id="L265" class="css-a4x74f"><span>265</span></td><td id="LC265" class="css-1dcdqdg"><code>  template: template,
</code></td></tr><tr><td id="L266" class="css-a4x74f"><span>266</span></td><td id="LC266" class="css-1dcdqdg"><code>  isArray: isArray,
</code></td></tr><tr><td id="L267" class="css-a4x74f"><span>267</span></td><td id="LC267" class="css-1dcdqdg"><code>  indexOf: indexOf,
</code></td></tr><tr><td id="L268" class="css-a4x74f"><span>268</span></td><td id="LC268" class="css-1dcdqdg"><code>  emptyImageUrl: emptyImageUrl,
</code></td></tr><tr><td id="L269" class="css-a4x74f"><span>269</span></td><td id="LC269" class="css-1dcdqdg"><code>  requestFn: requestFn,
</code></td></tr><tr><td id="L270" class="css-a4x74f"><span>270</span></td><td id="LC270" class="css-1dcdqdg"><code>  cancelFn: cancelFn,
</code></td></tr><tr><td id="L271" class="css-a4x74f"><span>271</span></td><td id="LC271" class="css-1dcdqdg"><code>  requestAnimFrame: requestAnimFrame,
</code></td></tr><tr><td id="L272" class="css-a4x74f"><span>272</span></td><td id="LC272" class="css-1dcdqdg"><code>  cancelAnimFrame: cancelAnimFrame
</code></td></tr><tr><td id="L273" class="css-a4x74f"><span>273</span></td><td id="LC273" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L274" class="css-a4x74f"><span>274</span></td><td id="LC274" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L275" class="css-a4x74f"><span>275</span></td><td id="LC275" class="css-1dcdqdg"><code><span class="code-comment">// @class Class</span>
</code></td></tr><tr><td id="L276" class="css-a4x74f"><span>276</span></td><td id="LC276" class="css-1dcdqdg"><code><span class="code-comment">// @aka L.Class</span>
</code></td></tr><tr><td id="L277" class="css-a4x74f"><span>277</span></td><td id="LC277" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L278" class="css-a4x74f"><span>278</span></td><td id="LC278" class="css-1dcdqdg"><code><span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L279" class="css-a4x74f"><span>279</span></td><td id="LC279" class="css-1dcdqdg"><code><span class="code-comment">// @uninheritable</span>
</code></td></tr><tr><td id="L280" class="css-a4x74f"><span>280</span></td><td id="LC280" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L281" class="css-a4x74f"><span>281</span></td><td id="LC281" class="css-1dcdqdg"><code><span class="code-comment">// Thanks to John Resig and Dean Edwards for inspiration!</span>
</code></td></tr><tr><td id="L282" class="css-a4x74f"><span>282</span></td><td id="LC282" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L283" class="css-a4x74f"><span>283</span></td><td id="LC283" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Class</span>(<span class="code-params"></span>) </span>{}
</code></td></tr><tr><td id="L284" class="css-a4x74f"><span>284</span></td><td id="LC284" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L285" class="css-a4x74f"><span>285</span></td><td id="LC285" class="css-1dcdqdg"><code>Class.extend = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">props</span>) </span>{
</code></td></tr><tr><td id="L286" class="css-a4x74f"><span>286</span></td><td id="LC286" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L287" class="css-a4x74f"><span>287</span></td><td id="LC287" class="css-1dcdqdg"><code>	<span class="code-comment">// @function extend(props: Object): Function</span>
</code></td></tr><tr><td id="L288" class="css-a4x74f"><span>288</span></td><td id="LC288" class="css-1dcdqdg"><code>	<span class="code-comment">// [Extends the current class](#class-inheritance) given the properties to be included.</span>
</code></td></tr><tr><td id="L289" class="css-a4x74f"><span>289</span></td><td id="LC289" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a Javascript function that is a class constructor (to be called with `new`).</span>
</code></td></tr><tr><td id="L290" class="css-a4x74f"><span>290</span></td><td id="LC290" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> NewClass = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L291" class="css-a4x74f"><span>291</span></td><td id="LC291" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L292" class="css-a4x74f"><span>292</span></td><td id="LC292" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L293" class="css-a4x74f"><span>293</span></td><td id="LC293" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L294" class="css-a4x74f"><span>294</span></td><td id="LC294" class="css-1dcdqdg"><code>		<span class="code-comment">// call the constructor</span>
</code></td></tr><tr><td id="L295" class="css-a4x74f"><span>295</span></td><td id="LC295" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.initialize) {
</code></td></tr><tr><td id="L296" class="css-a4x74f"><span>296</span></td><td id="LC296" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.initialize.apply(<span class="code-keyword">this</span>, <span class="code-built_in">arguments</span>);
</code></td></tr><tr><td id="L297" class="css-a4x74f"><span>297</span></td><td id="LC297" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L298" class="css-a4x74f"><span>298</span></td><td id="LC298" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L299" class="css-a4x74f"><span>299</span></td><td id="LC299" class="css-1dcdqdg"><code>		<span class="code-comment">// call all constructor hooks</span>
</code></td></tr><tr><td id="L300" class="css-a4x74f"><span>300</span></td><td id="LC300" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.callInitHooks();
</code></td></tr><tr><td id="L301" class="css-a4x74f"><span>301</span></td><td id="LC301" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L302" class="css-a4x74f"><span>302</span></td><td id="LC302" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L303" class="css-a4x74f"><span>303</span></td><td id="LC303" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> parentProto = NewClass.__super__ = <span class="code-keyword">this</span>.prototype;
</code></td></tr><tr><td id="L304" class="css-a4x74f"><span>304</span></td><td id="LC304" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L305" class="css-a4x74f"><span>305</span></td><td id="LC305" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> proto = create$<span class="code-number">2</span>(parentProto);
</code></td></tr><tr><td id="L306" class="css-a4x74f"><span>306</span></td><td id="LC306" class="css-1dcdqdg"><code>	proto.constructor = NewClass;
</code></td></tr><tr><td id="L307" class="css-a4x74f"><span>307</span></td><td id="LC307" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L308" class="css-a4x74f"><span>308</span></td><td id="LC308" class="css-1dcdqdg"><code>	NewClass.prototype = proto;
</code></td></tr><tr><td id="L309" class="css-a4x74f"><span>309</span></td><td id="LC309" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L310" class="css-a4x74f"><span>310</span></td><td id="LC310" class="css-1dcdqdg"><code>	<span class="code-comment">// inherit parent's statics</span>
</code></td></tr><tr><td id="L311" class="css-a4x74f"><span>311</span></td><td id="LC311" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>) {
</code></td></tr><tr><td id="L312" class="css-a4x74f"><span>312</span></td><td id="LC312" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(<span class="code-keyword">this</span>, i) &amp;&amp; i !== <span class="code-string">'prototype'</span> &amp;&amp; i !== <span class="code-string">'__super__'</span>) {
</code></td></tr><tr><td id="L313" class="css-a4x74f"><span>313</span></td><td id="LC313" class="css-1dcdqdg"><code>			NewClass[i] = <span class="code-keyword">this</span>[i];
</code></td></tr><tr><td id="L314" class="css-a4x74f"><span>314</span></td><td id="LC314" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L315" class="css-a4x74f"><span>315</span></td><td id="LC315" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L316" class="css-a4x74f"><span>316</span></td><td id="LC316" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L317" class="css-a4x74f"><span>317</span></td><td id="LC317" class="css-1dcdqdg"><code>	<span class="code-comment">// mix static properties into the class</span>
</code></td></tr><tr><td id="L318" class="css-a4x74f"><span>318</span></td><td id="LC318" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (props.statics) {
</code></td></tr><tr><td id="L319" class="css-a4x74f"><span>319</span></td><td id="LC319" class="css-1dcdqdg"><code>		extend(NewClass, props.statics);
</code></td></tr><tr><td id="L320" class="css-a4x74f"><span>320</span></td><td id="LC320" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L321" class="css-a4x74f"><span>321</span></td><td id="LC321" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L322" class="css-a4x74f"><span>322</span></td><td id="LC322" class="css-1dcdqdg"><code>	<span class="code-comment">// mix includes into the prototype</span>
</code></td></tr><tr><td id="L323" class="css-a4x74f"><span>323</span></td><td id="LC323" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (props.includes) {
</code></td></tr><tr><td id="L324" class="css-a4x74f"><span>324</span></td><td id="LC324" class="css-1dcdqdg"><code>		checkDeprecatedMixinEvents(props.includes);
</code></td></tr><tr><td id="L325" class="css-a4x74f"><span>325</span></td><td id="LC325" class="css-1dcdqdg"><code>		extend.apply(<span class="code-literal">null</span>, [proto].concat(props.includes));
</code></td></tr><tr><td id="L326" class="css-a4x74f"><span>326</span></td><td id="LC326" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L327" class="css-a4x74f"><span>327</span></td><td id="LC327" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L328" class="css-a4x74f"><span>328</span></td><td id="LC328" class="css-1dcdqdg"><code>	<span class="code-comment">// mix given properties into the prototype</span>
</code></td></tr><tr><td id="L329" class="css-a4x74f"><span>329</span></td><td id="LC329" class="css-1dcdqdg"><code>	extend(proto, props);
</code></td></tr><tr><td id="L330" class="css-a4x74f"><span>330</span></td><td id="LC330" class="css-1dcdqdg"><code>	<span class="code-keyword">delete</span> proto.statics;
</code></td></tr><tr><td id="L331" class="css-a4x74f"><span>331</span></td><td id="LC331" class="css-1dcdqdg"><code>	<span class="code-keyword">delete</span> proto.includes;
</code></td></tr><tr><td id="L332" class="css-a4x74f"><span>332</span></td><td id="LC332" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L333" class="css-a4x74f"><span>333</span></td><td id="LC333" class="css-1dcdqdg"><code>	<span class="code-comment">// merge options</span>
</code></td></tr><tr><td id="L334" class="css-a4x74f"><span>334</span></td><td id="LC334" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (proto.options) {
</code></td></tr><tr><td id="L335" class="css-a4x74f"><span>335</span></td><td id="LC335" class="css-1dcdqdg"><code>		proto.options = parentProto.options ? create$<span class="code-number">2</span>(parentProto.options) : {};
</code></td></tr><tr><td id="L336" class="css-a4x74f"><span>336</span></td><td id="LC336" class="css-1dcdqdg"><code>		extend(proto.options, props.options);
</code></td></tr><tr><td id="L337" class="css-a4x74f"><span>337</span></td><td id="LC337" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L338" class="css-a4x74f"><span>338</span></td><td id="LC338" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L339" class="css-a4x74f"><span>339</span></td><td id="LC339" class="css-1dcdqdg"><code>	proto._initHooks = [];
</code></td></tr><tr><td id="L340" class="css-a4x74f"><span>340</span></td><td id="LC340" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L341" class="css-a4x74f"><span>341</span></td><td id="LC341" class="css-1dcdqdg"><code>	<span class="code-comment">// add method for calling all hooks</span>
</code></td></tr><tr><td id="L342" class="css-a4x74f"><span>342</span></td><td id="LC342" class="css-1dcdqdg"><code>	proto.callInitHooks = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L343" class="css-a4x74f"><span>343</span></td><td id="LC343" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L344" class="css-a4x74f"><span>344</span></td><td id="LC344" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._initHooksCalled) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L345" class="css-a4x74f"><span>345</span></td><td id="LC345" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L346" class="css-a4x74f"><span>346</span></td><td id="LC346" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (parentProto.callInitHooks) {
</code></td></tr><tr><td id="L347" class="css-a4x74f"><span>347</span></td><td id="LC347" class="css-1dcdqdg"><code>			parentProto.callInitHooks.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L348" class="css-a4x74f"><span>348</span></td><td id="LC348" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L349" class="css-a4x74f"><span>349</span></td><td id="LC349" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L350" class="css-a4x74f"><span>350</span></td><td id="LC350" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initHooksCalled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L351" class="css-a4x74f"><span>351</span></td><td id="LC351" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L352" class="css-a4x74f"><span>352</span></td><td id="LC352" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = proto._initHooks.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L353" class="css-a4x74f"><span>353</span></td><td id="LC353" class="css-1dcdqdg"><code>			proto._initHooks[i].call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L354" class="css-a4x74f"><span>354</span></td><td id="LC354" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L355" class="css-a4x74f"><span>355</span></td><td id="LC355" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L356" class="css-a4x74f"><span>356</span></td><td id="LC356" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L357" class="css-a4x74f"><span>357</span></td><td id="LC357" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> NewClass;
</code></td></tr><tr><td id="L358" class="css-a4x74f"><span>358</span></td><td id="LC358" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L359" class="css-a4x74f"><span>359</span></td><td id="LC359" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L360" class="css-a4x74f"><span>360</span></td><td id="LC360" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L361" class="css-a4x74f"><span>361</span></td><td id="LC361" class="css-1dcdqdg"><code><span class="code-comment">// @function include(properties: Object): this</span>
</code></td></tr><tr><td id="L362" class="css-a4x74f"><span>362</span></td><td id="LC362" class="css-1dcdqdg"><code><span class="code-comment">// [Includes a mixin](#class-includes) into the current class.</span>
</code></td></tr><tr><td id="L363" class="css-a4x74f"><span>363</span></td><td id="LC363" class="css-1dcdqdg"><code>Class.include = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">props</span>) </span>{
</code></td></tr><tr><td id="L364" class="css-a4x74f"><span>364</span></td><td id="LC364" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> parentOptions = <span class="code-keyword">this</span>.prototype.options;
</code></td></tr><tr><td id="L365" class="css-a4x74f"><span>365</span></td><td id="LC365" class="css-1dcdqdg"><code>	extend(<span class="code-keyword">this</span>.prototype, props);
</code></td></tr><tr><td id="L366" class="css-a4x74f"><span>366</span></td><td id="LC366" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (props.options) {
</code></td></tr><tr><td id="L367" class="css-a4x74f"><span>367</span></td><td id="LC367" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.prototype.options = parentOptions;
</code></td></tr><tr><td id="L368" class="css-a4x74f"><span>368</span></td><td id="LC368" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.mergeOptions(props.options);
</code></td></tr><tr><td id="L369" class="css-a4x74f"><span>369</span></td><td id="LC369" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L370" class="css-a4x74f"><span>370</span></td><td id="LC370" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L371" class="css-a4x74f"><span>371</span></td><td id="LC371" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L372" class="css-a4x74f"><span>372</span></td><td id="LC372" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L373" class="css-a4x74f"><span>373</span></td><td id="LC373" class="css-1dcdqdg"><code><span class="code-comment">// @function mergeOptions(options: Object): this</span>
</code></td></tr><tr><td id="L374" class="css-a4x74f"><span>374</span></td><td id="LC374" class="css-1dcdqdg"><code><span class="code-comment">// [Merges `options`](#class-options) into the defaults of the class.</span>
</code></td></tr><tr><td id="L375" class="css-a4x74f"><span>375</span></td><td id="LC375" class="css-1dcdqdg"><code>Class.mergeOptions = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L376" class="css-a4x74f"><span>376</span></td><td id="LC376" class="css-1dcdqdg"><code>	extend(<span class="code-keyword">this</span>.prototype.options, options);
</code></td></tr><tr><td id="L377" class="css-a4x74f"><span>377</span></td><td id="LC377" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L378" class="css-a4x74f"><span>378</span></td><td id="LC378" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L379" class="css-a4x74f"><span>379</span></td><td id="LC379" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L380" class="css-a4x74f"><span>380</span></td><td id="LC380" class="css-1dcdqdg"><code><span class="code-comment">// @function addInitHook(fn: Function): this</span>
</code></td></tr><tr><td id="L381" class="css-a4x74f"><span>381</span></td><td id="LC381" class="css-1dcdqdg"><code><span class="code-comment">// Adds a [constructor hook](#class-constructor-hooks) to the class.</span>
</code></td></tr><tr><td id="L382" class="css-a4x74f"><span>382</span></td><td id="LC382" class="css-1dcdqdg"><code>Class.addInitHook = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">fn</span>) </span>{ <span class="code-comment">// (Function) || (String, args...)</span>
</code></td></tr><tr><td id="L383" class="css-a4x74f"><span>383</span></td><td id="LC383" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> args = <span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L384" class="css-a4x74f"><span>384</span></td><td id="LC384" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L385" class="css-a4x74f"><span>385</span></td><td id="LC385" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> init = <span class="code-keyword">typeof</span> fn === <span class="code-string">'function'</span> ? fn : <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L386" class="css-a4x74f"><span>386</span></td><td id="LC386" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>[fn].apply(<span class="code-keyword">this</span>, args);
</code></td></tr><tr><td id="L387" class="css-a4x74f"><span>387</span></td><td id="LC387" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L388" class="css-a4x74f"><span>388</span></td><td id="LC388" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L389" class="css-a4x74f"><span>389</span></td><td id="LC389" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>.prototype._initHooks = <span class="code-keyword">this</span>.prototype._initHooks || [];
</code></td></tr><tr><td id="L390" class="css-a4x74f"><span>390</span></td><td id="LC390" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>.prototype._initHooks.push(init);
</code></td></tr><tr><td id="L391" class="css-a4x74f"><span>391</span></td><td id="LC391" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L392" class="css-a4x74f"><span>392</span></td><td id="LC392" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L393" class="css-a4x74f"><span>393</span></td><td id="LC393" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L394" class="css-a4x74f"><span>394</span></td><td id="LC394" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">checkDeprecatedMixinEvents</span>(<span class="code-params">includes</span>) </span>{
</code></td></tr><tr><td id="L395" class="css-a4x74f"><span>395</span></td><td id="LC395" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> L === <span class="code-string">'undefined'</span> || !L || !L.Mixin) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L396" class="css-a4x74f"><span>396</span></td><td id="LC396" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L397" class="css-a4x74f"><span>397</span></td><td id="LC397" class="css-1dcdqdg"><code>	includes = isArray(includes) ? includes : [includes];
</code></td></tr><tr><td id="L398" class="css-a4x74f"><span>398</span></td><td id="LC398" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L399" class="css-a4x74f"><span>399</span></td><td id="LC399" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; includes.length; i++) {
</code></td></tr><tr><td id="L400" class="css-a4x74f"><span>400</span></td><td id="LC400" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (includes[i] === L.Mixin.Events) {
</code></td></tr><tr><td id="L401" class="css-a4x74f"><span>401</span></td><td id="LC401" class="css-1dcdqdg"><code>			<span class="code-built_in">console</span>.warn(<span class="code-string">'Deprecated include of L.Mixin.Events: '</span> +
</code></td></tr><tr><td id="L402" class="css-a4x74f"><span>402</span></td><td id="LC402" class="css-1dcdqdg"><code>				<span class="code-string">'this property will be removed in future releases, '</span> +
</code></td></tr><tr><td id="L403" class="css-a4x74f"><span>403</span></td><td id="LC403" class="css-1dcdqdg"><code>				<span class="code-string">'please inherit from L.Evented instead.'</span>, <span class="code-keyword">new</span> <span class="code-built_in">Error</span>().stack);
</code></td></tr><tr><td id="L404" class="css-a4x74f"><span>404</span></td><td id="LC404" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L405" class="css-a4x74f"><span>405</span></td><td id="LC405" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L406" class="css-a4x74f"><span>406</span></td><td id="LC406" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L407" class="css-a4x74f"><span>407</span></td><td id="LC407" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L408" class="css-a4x74f"><span>408</span></td><td id="LC408" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L409" class="css-a4x74f"><span>409</span></td><td id="LC409" class="css-1dcdqdg"><code><span class="code-comment"> * @class Evented
</span></code></td></tr><tr><td id="L410" class="css-a4x74f"><span>410</span></td><td id="LC410" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Evented
</span></code></td></tr><tr><td id="L411" class="css-a4x74f"><span>411</span></td><td id="LC411" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Class
</span></code></td></tr><tr><td id="L412" class="css-a4x74f"><span>412</span></td><td id="LC412" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L413" class="css-a4x74f"><span>413</span></td><td id="LC413" class="css-1dcdqdg"><code><span class="code-comment"> * A set of methods shared between event-powered classes (like `Map` and `Marker`). Generally, events allow you to execute some function when something happens with an object (e.g. the user clicks on the map, causing the map to fire `'click'` event).
</span></code></td></tr><tr><td id="L414" class="css-a4x74f"><span>414</span></td><td id="LC414" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L415" class="css-a4x74f"><span>415</span></td><td id="LC415" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L416" class="css-a4x74f"><span>416</span></td><td id="LC416" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L417" class="css-a4x74f"><span>417</span></td><td id="LC417" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L418" class="css-a4x74f"><span>418</span></td><td id="LC418" class="css-1dcdqdg"><code><span class="code-comment"> * map.on('click', function(e) {
</span></code></td></tr><tr><td id="L419" class="css-a4x74f"><span>419</span></td><td id="LC419" class="css-1dcdqdg"><code><span class="code-comment"> * 	alert(e.latlng);
</span></code></td></tr><tr><td id="L420" class="css-a4x74f"><span>420</span></td><td id="LC420" class="css-1dcdqdg"><code><span class="code-comment"> * } );
</span></code></td></tr><tr><td id="L421" class="css-a4x74f"><span>421</span></td><td id="LC421" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L422" class="css-a4x74f"><span>422</span></td><td id="LC422" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L423" class="css-a4x74f"><span>423</span></td><td id="LC423" class="css-1dcdqdg"><code><span class="code-comment"> * Leaflet deals with event listeners by reference, so if you want to add a listener and then remove it, define it as a function:
</span></code></td></tr><tr><td id="L424" class="css-a4x74f"><span>424</span></td><td id="LC424" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L425" class="css-a4x74f"><span>425</span></td><td id="LC425" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L426" class="css-a4x74f"><span>426</span></td><td id="LC426" class="css-1dcdqdg"><code><span class="code-comment"> * function onClick(e) { ... }
</span></code></td></tr><tr><td id="L427" class="css-a4x74f"><span>427</span></td><td id="LC427" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L428" class="css-a4x74f"><span>428</span></td><td id="LC428" class="css-1dcdqdg"><code><span class="code-comment"> * map.on('click', onClick);
</span></code></td></tr><tr><td id="L429" class="css-a4x74f"><span>429</span></td><td id="LC429" class="css-1dcdqdg"><code><span class="code-comment"> * map.off('click', onClick);
</span></code></td></tr><tr><td id="L430" class="css-a4x74f"><span>430</span></td><td id="LC430" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L431" class="css-a4x74f"><span>431</span></td><td id="LC431" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L432" class="css-a4x74f"><span>432</span></td><td id="LC432" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L433" class="css-a4x74f"><span>433</span></td><td id="LC433" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Events = {
</code></td></tr><tr><td id="L434" class="css-a4x74f"><span>434</span></td><td id="LC434" class="css-1dcdqdg"><code>	<span class="code-comment">/* @method on(type: String, fn: Function, context?: Object): this
</span></code></td></tr><tr><td id="L435" class="css-a4x74f"><span>435</span></td><td id="LC435" class="css-1dcdqdg"><code><span class="code-comment">	 * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).
</span></code></td></tr><tr><td id="L436" class="css-a4x74f"><span>436</span></td><td id="LC436" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L437" class="css-a4x74f"><span>437</span></td><td id="LC437" class="css-1dcdqdg"><code><span class="code-comment">	 * @alternative
</span></code></td></tr><tr><td id="L438" class="css-a4x74f"><span>438</span></td><td id="LC438" class="css-1dcdqdg"><code><span class="code-comment">	 * @method on(eventMap: Object): this
</span></code></td></tr><tr><td id="L439" class="css-a4x74f"><span>439</span></td><td id="LC439" class="css-1dcdqdg"><code><span class="code-comment">	 * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`
</span></code></td></tr><tr><td id="L440" class="css-a4x74f"><span>440</span></td><td id="LC440" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L441" class="css-a4x74f"><span>441</span></td><td id="LC441" class="css-1dcdqdg"><code>	on: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">types, fn, context</span>) </span>{
</code></td></tr><tr><td id="L442" class="css-a4x74f"><span>442</span></td><td id="LC442" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L443" class="css-a4x74f"><span>443</span></td><td id="LC443" class="css-1dcdqdg"><code>		<span class="code-comment">// types can be a map of types/handlers</span>
</code></td></tr><tr><td id="L444" class="css-a4x74f"><span>444</span></td><td id="LC444" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> types === <span class="code-string">'object'</span>) {
</code></td></tr><tr><td id="L445" class="css-a4x74f"><span>445</span></td><td id="LC445" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> type <span class="code-keyword">in</span> types) {
</code></td></tr><tr><td id="L446" class="css-a4x74f"><span>446</span></td><td id="LC446" class="css-1dcdqdg"><code>				<span class="code-comment">// we don't process space-separated events here for performance;</span>
</code></td></tr><tr><td id="L447" class="css-a4x74f"><span>447</span></td><td id="LC447" class="css-1dcdqdg"><code>				<span class="code-comment">// it's a hot path since Layer uses the on(obj) syntax</span>
</code></td></tr><tr><td id="L448" class="css-a4x74f"><span>448</span></td><td id="LC448" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._on(type, types[type], fn);
</code></td></tr><tr><td id="L449" class="css-a4x74f"><span>449</span></td><td id="LC449" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L450" class="css-a4x74f"><span>450</span></td><td id="LC450" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L451" class="css-a4x74f"><span>451</span></td><td id="LC451" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L452" class="css-a4x74f"><span>452</span></td><td id="LC452" class="css-1dcdqdg"><code>			<span class="code-comment">// types can be a string of space-separated words</span>
</code></td></tr><tr><td id="L453" class="css-a4x74f"><span>453</span></td><td id="LC453" class="css-1dcdqdg"><code>			types = splitWords(types);
</code></td></tr><tr><td id="L454" class="css-a4x74f"><span>454</span></td><td id="LC454" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L455" class="css-a4x74f"><span>455</span></td><td id="LC455" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = types.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L456" class="css-a4x74f"><span>456</span></td><td id="LC456" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._on(types[i], fn, context);
</code></td></tr><tr><td id="L457" class="css-a4x74f"><span>457</span></td><td id="LC457" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L458" class="css-a4x74f"><span>458</span></td><td id="LC458" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L459" class="css-a4x74f"><span>459</span></td><td id="LC459" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L460" class="css-a4x74f"><span>460</span></td><td id="LC460" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L461" class="css-a4x74f"><span>461</span></td><td id="LC461" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L462" class="css-a4x74f"><span>462</span></td><td id="LC462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L463" class="css-a4x74f"><span>463</span></td><td id="LC463" class="css-1dcdqdg"><code>	<span class="code-comment">/* @method off(type: String, fn?: Function, context?: Object): this
</span></code></td></tr><tr><td id="L464" class="css-a4x74f"><span>464</span></td><td id="LC464" class="css-1dcdqdg"><code><span class="code-comment">	 * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.
</span></code></td></tr><tr><td id="L465" class="css-a4x74f"><span>465</span></td><td id="LC465" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L466" class="css-a4x74f"><span>466</span></td><td id="LC466" class="css-1dcdqdg"><code><span class="code-comment">	 * @alternative
</span></code></td></tr><tr><td id="L467" class="css-a4x74f"><span>467</span></td><td id="LC467" class="css-1dcdqdg"><code><span class="code-comment">	 * @method off(eventMap: Object): this
</span></code></td></tr><tr><td id="L468" class="css-a4x74f"><span>468</span></td><td id="LC468" class="css-1dcdqdg"><code><span class="code-comment">	 * Removes a set of type/listener pairs.
</span></code></td></tr><tr><td id="L469" class="css-a4x74f"><span>469</span></td><td id="LC469" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L470" class="css-a4x74f"><span>470</span></td><td id="LC470" class="css-1dcdqdg"><code><span class="code-comment">	 * @alternative
</span></code></td></tr><tr><td id="L471" class="css-a4x74f"><span>471</span></td><td id="LC471" class="css-1dcdqdg"><code><span class="code-comment">	 * @method off: this
</span></code></td></tr><tr><td id="L472" class="css-a4x74f"><span>472</span></td><td id="LC472" class="css-1dcdqdg"><code><span class="code-comment">	 * Removes all listeners to all events on the object. This includes implicitly attached events.
</span></code></td></tr><tr><td id="L473" class="css-a4x74f"><span>473</span></td><td id="LC473" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L474" class="css-a4x74f"><span>474</span></td><td id="LC474" class="css-1dcdqdg"><code>	off: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">types, fn, context</span>) </span>{
</code></td></tr><tr><td id="L475" class="css-a4x74f"><span>475</span></td><td id="LC475" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L476" class="css-a4x74f"><span>476</span></td><td id="LC476" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-built_in">arguments</span>.length) {
</code></td></tr><tr><td id="L477" class="css-a4x74f"><span>477</span></td><td id="LC477" class="css-1dcdqdg"><code>			<span class="code-comment">// clear all listeners if called without arguments</span>
</code></td></tr><tr><td id="L478" class="css-a4x74f"><span>478</span></td><td id="LC478" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._events;
</code></td></tr><tr><td id="L479" class="css-a4x74f"><span>479</span></td><td id="LC479" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L480" class="css-a4x74f"><span>480</span></td><td id="LC480" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> types === <span class="code-string">'object'</span>) {
</code></td></tr><tr><td id="L481" class="css-a4x74f"><span>481</span></td><td id="LC481" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> type <span class="code-keyword">in</span> types) {
</code></td></tr><tr><td id="L482" class="css-a4x74f"><span>482</span></td><td id="LC482" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._off(type, types[type], fn);
</code></td></tr><tr><td id="L483" class="css-a4x74f"><span>483</span></td><td id="LC483" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L484" class="css-a4x74f"><span>484</span></td><td id="LC484" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L485" class="css-a4x74f"><span>485</span></td><td id="LC485" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L486" class="css-a4x74f"><span>486</span></td><td id="LC486" class="css-1dcdqdg"><code>			types = splitWords(types);
</code></td></tr><tr><td id="L487" class="css-a4x74f"><span>487</span></td><td id="LC487" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L488" class="css-a4x74f"><span>488</span></td><td id="LC488" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> removeAll = <span class="code-built_in">arguments</span>.length === <span class="code-number">1</span>;
</code></td></tr><tr><td id="L489" class="css-a4x74f"><span>489</span></td><td id="LC489" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = types.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L490" class="css-a4x74f"><span>490</span></td><td id="LC490" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (removeAll) {
</code></td></tr><tr><td id="L491" class="css-a4x74f"><span>491</span></td><td id="LC491" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>._off(types[i]);
</code></td></tr><tr><td id="L492" class="css-a4x74f"><span>492</span></td><td id="LC492" class="css-1dcdqdg"><code>				} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L493" class="css-a4x74f"><span>493</span></td><td id="LC493" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>._off(types[i], fn, context);
</code></td></tr><tr><td id="L494" class="css-a4x74f"><span>494</span></td><td id="LC494" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L495" class="css-a4x74f"><span>495</span></td><td id="LC495" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L496" class="css-a4x74f"><span>496</span></td><td id="LC496" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L497" class="css-a4x74f"><span>497</span></td><td id="LC497" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L498" class="css-a4x74f"><span>498</span></td><td id="LC498" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L499" class="css-a4x74f"><span>499</span></td><td id="LC499" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L500" class="css-a4x74f"><span>500</span></td><td id="LC500" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L501" class="css-a4x74f"><span>501</span></td><td id="LC501" class="css-1dcdqdg"><code>	<span class="code-comment">// attach listener (without syntactic sugar now)</span>
</code></td></tr><tr><td id="L502" class="css-a4x74f"><span>502</span></td><td id="LC502" class="css-1dcdqdg"><code>	_on: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">type, fn, context</span>) </span>{
</code></td></tr><tr><td id="L503" class="css-a4x74f"><span>503</span></td><td id="LC503" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> fn !== <span class="code-string">'function'</span>) {
</code></td></tr><tr><td id="L504" class="css-a4x74f"><span>504</span></td><td id="LC504" class="css-1dcdqdg"><code>			<span class="code-built_in">console</span>.warn(<span class="code-string">'wrong listener type: '</span> + <span class="code-keyword">typeof</span> fn);
</code></td></tr><tr><td id="L505" class="css-a4x74f"><span>505</span></td><td id="LC505" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L506" class="css-a4x74f"><span>506</span></td><td id="LC506" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L507" class="css-a4x74f"><span>507</span></td><td id="LC507" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._events = <span class="code-keyword">this</span>._events || {};
</code></td></tr><tr><td id="L508" class="css-a4x74f"><span>508</span></td><td id="LC508" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L509" class="css-a4x74f"><span>509</span></td><td id="LC509" class="css-1dcdqdg"><code>		<span class="code-comment">/* get/init listeners for type */</span>
</code></td></tr><tr><td id="L510" class="css-a4x74f"><span>510</span></td><td id="LC510" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> typeListeners = <span class="code-keyword">this</span>._events[type];
</code></td></tr><tr><td id="L511" class="css-a4x74f"><span>511</span></td><td id="LC511" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!typeListeners) {
</code></td></tr><tr><td id="L512" class="css-a4x74f"><span>512</span></td><td id="LC512" class="css-1dcdqdg"><code>			typeListeners = [];
</code></td></tr><tr><td id="L513" class="css-a4x74f"><span>513</span></td><td id="LC513" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._events[type] = typeListeners;
</code></td></tr><tr><td id="L514" class="css-a4x74f"><span>514</span></td><td id="LC514" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L515" class="css-a4x74f"><span>515</span></td><td id="LC515" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L516" class="css-a4x74f"><span>516</span></td><td id="LC516" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (context === <span class="code-keyword">this</span>) {
</code></td></tr><tr><td id="L517" class="css-a4x74f"><span>517</span></td><td id="LC517" class="css-1dcdqdg"><code>			<span class="code-comment">// Less memory footprint.</span>
</code></td></tr><tr><td id="L518" class="css-a4x74f"><span>518</span></td><td id="LC518" class="css-1dcdqdg"><code>			context = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L519" class="css-a4x74f"><span>519</span></td><td id="LC519" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L520" class="css-a4x74f"><span>520</span></td><td id="LC520" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> newListener = {<span class="code-attr">fn</span>: fn, <span class="code-attr">ctx</span>: context},
</code></td></tr><tr><td id="L521" class="css-a4x74f"><span>521</span></td><td id="LC521" class="css-1dcdqdg"><code>		    listeners = typeListeners;
</code></td></tr><tr><td id="L522" class="css-a4x74f"><span>522</span></td><td id="LC522" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L523" class="css-a4x74f"><span>523</span></td><td id="LC523" class="css-1dcdqdg"><code>		<span class="code-comment">// check if fn already there</span>
</code></td></tr><tr><td id="L524" class="css-a4x74f"><span>524</span></td><td id="LC524" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = listeners.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L525" class="css-a4x74f"><span>525</span></td><td id="LC525" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (listeners[i].fn === fn &amp;&amp; listeners[i].ctx === context) {
</code></td></tr><tr><td id="L526" class="css-a4x74f"><span>526</span></td><td id="LC526" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L527" class="css-a4x74f"><span>527</span></td><td id="LC527" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L528" class="css-a4x74f"><span>528</span></td><td id="LC528" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L529" class="css-a4x74f"><span>529</span></td><td id="LC529" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L530" class="css-a4x74f"><span>530</span></td><td id="LC530" class="css-1dcdqdg"><code>		listeners.push(newListener);
</code></td></tr><tr><td id="L531" class="css-a4x74f"><span>531</span></td><td id="LC531" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L532" class="css-a4x74f"><span>532</span></td><td id="LC532" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L533" class="css-a4x74f"><span>533</span></td><td id="LC533" class="css-1dcdqdg"><code>	_off: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">type, fn, context</span>) </span>{
</code></td></tr><tr><td id="L534" class="css-a4x74f"><span>534</span></td><td id="LC534" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> listeners,
</code></td></tr><tr><td id="L535" class="css-a4x74f"><span>535</span></td><td id="LC535" class="css-1dcdqdg"><code>		    i,
</code></td></tr><tr><td id="L536" class="css-a4x74f"><span>536</span></td><td id="LC536" class="css-1dcdqdg"><code>		    len;
</code></td></tr><tr><td id="L537" class="css-a4x74f"><span>537</span></td><td id="LC537" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L538" class="css-a4x74f"><span>538</span></td><td id="LC538" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._events) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L539" class="css-a4x74f"><span>539</span></td><td id="LC539" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L540" class="css-a4x74f"><span>540</span></td><td id="LC540" class="css-1dcdqdg"><code>		listeners = <span class="code-keyword">this</span>._events[type];
</code></td></tr><tr><td id="L541" class="css-a4x74f"><span>541</span></td><td id="LC541" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L542" class="css-a4x74f"><span>542</span></td><td id="LC542" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!listeners) {
</code></td></tr><tr><td id="L543" class="css-a4x74f"><span>543</span></td><td id="LC543" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L544" class="css-a4x74f"><span>544</span></td><td id="LC544" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L545" class="css-a4x74f"><span>545</span></td><td id="LC545" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L546" class="css-a4x74f"><span>546</span></td><td id="LC546" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length === <span class="code-number">1</span>) { <span class="code-comment">// remove all</span>
</code></td></tr><tr><td id="L547" class="css-a4x74f"><span>547</span></td><td id="LC547" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._firingCount) {
</code></td></tr><tr><td id="L548" class="css-a4x74f"><span>548</span></td><td id="LC548" class="css-1dcdqdg"><code>				<span class="code-comment">// Set all removed listeners to noop</span>
</code></td></tr><tr><td id="L549" class="css-a4x74f"><span>549</span></td><td id="LC549" class="css-1dcdqdg"><code>				<span class="code-comment">// so they are not called if remove happens in fire</span>
</code></td></tr><tr><td id="L550" class="css-a4x74f"><span>550</span></td><td id="LC550" class="css-1dcdqdg"><code>				<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = listeners.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L551" class="css-a4x74f"><span>551</span></td><td id="LC551" class="css-1dcdqdg"><code>					listeners[i].fn = falseFn;
</code></td></tr><tr><td id="L552" class="css-a4x74f"><span>552</span></td><td id="LC552" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L553" class="css-a4x74f"><span>553</span></td><td id="LC553" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L554" class="css-a4x74f"><span>554</span></td><td id="LC554" class="css-1dcdqdg"><code>			<span class="code-comment">// clear all listeners for a type if function isn't specified</span>
</code></td></tr><tr><td id="L555" class="css-a4x74f"><span>555</span></td><td id="LC555" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._events[type];
</code></td></tr><tr><td id="L556" class="css-a4x74f"><span>556</span></td><td id="LC556" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L557" class="css-a4x74f"><span>557</span></td><td id="LC557" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L558" class="css-a4x74f"><span>558</span></td><td id="LC558" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L559" class="css-a4x74f"><span>559</span></td><td id="LC559" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (context === <span class="code-keyword">this</span>) {
</code></td></tr><tr><td id="L560" class="css-a4x74f"><span>560</span></td><td id="LC560" class="css-1dcdqdg"><code>			context = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L561" class="css-a4x74f"><span>561</span></td><td id="LC561" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L562" class="css-a4x74f"><span>562</span></td><td id="LC562" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L563" class="css-a4x74f"><span>563</span></td><td id="LC563" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> fn !== <span class="code-string">'function'</span>) {
</code></td></tr><tr><td id="L564" class="css-a4x74f"><span>564</span></td><td id="LC564" class="css-1dcdqdg"><code>			<span class="code-built_in">console</span>.warn(<span class="code-string">'wrong listener type: '</span> + <span class="code-keyword">typeof</span> fn);
</code></td></tr><tr><td id="L565" class="css-a4x74f"><span>565</span></td><td id="LC565" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L566" class="css-a4x74f"><span>566</span></td><td id="LC566" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L567" class="css-a4x74f"><span>567</span></td><td id="LC567" class="css-1dcdqdg"><code>		<span class="code-comment">// find fn and remove it</span>
</code></td></tr><tr><td id="L568" class="css-a4x74f"><span>568</span></td><td id="LC568" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = listeners.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L569" class="css-a4x74f"><span>569</span></td><td id="LC569" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> l = listeners[i];
</code></td></tr><tr><td id="L570" class="css-a4x74f"><span>570</span></td><td id="LC570" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (l.ctx !== context) { <span class="code-keyword">continue</span>; }
</code></td></tr><tr><td id="L571" class="css-a4x74f"><span>571</span></td><td id="LC571" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (l.fn === fn) {
</code></td></tr><tr><td id="L572" class="css-a4x74f"><span>572</span></td><td id="LC572" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._firingCount) {
</code></td></tr><tr><td id="L573" class="css-a4x74f"><span>573</span></td><td id="LC573" class="css-1dcdqdg"><code>					<span class="code-comment">// set the removed listener to noop so that's not called if remove happens in fire</span>
</code></td></tr><tr><td id="L574" class="css-a4x74f"><span>574</span></td><td id="LC574" class="css-1dcdqdg"><code>					l.fn = falseFn;
</code></td></tr><tr><td id="L575" class="css-a4x74f"><span>575</span></td><td id="LC575" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L576" class="css-a4x74f"><span>576</span></td><td id="LC576" class="css-1dcdqdg"><code>					<span class="code-comment">/* copy array in case events are being fired */</span>
</code></td></tr><tr><td id="L577" class="css-a4x74f"><span>577</span></td><td id="LC577" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>._events[type] = listeners = listeners.slice();
</code></td></tr><tr><td id="L578" class="css-a4x74f"><span>578</span></td><td id="LC578" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L579" class="css-a4x74f"><span>579</span></td><td id="LC579" class="css-1dcdqdg"><code>				listeners.splice(i, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L580" class="css-a4x74f"><span>580</span></td><td id="LC580" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L581" class="css-a4x74f"><span>581</span></td><td id="LC581" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L582" class="css-a4x74f"><span>582</span></td><td id="LC582" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L583" class="css-a4x74f"><span>583</span></td><td id="LC583" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L584" class="css-a4x74f"><span>584</span></td><td id="LC584" class="css-1dcdqdg"><code>		<span class="code-built_in">console</span>.warn(<span class="code-string">'listener not found'</span>);
</code></td></tr><tr><td id="L585" class="css-a4x74f"><span>585</span></td><td id="LC585" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L586" class="css-a4x74f"><span>586</span></td><td id="LC586" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L587" class="css-a4x74f"><span>587</span></td><td id="LC587" class="css-1dcdqdg"><code>	<span class="code-comment">// @method fire(type: String, data?: Object, propagate?: Boolean): this</span>
</code></td></tr><tr><td id="L588" class="css-a4x74f"><span>588</span></td><td id="LC588" class="css-1dcdqdg"><code>	<span class="code-comment">// Fires an event of the specified type. You can optionally provide a data</span>
</code></td></tr><tr><td id="L589" class="css-a4x74f"><span>589</span></td><td id="LC589" class="css-1dcdqdg"><code>	<span class="code-comment">// object  the first argument of the listener function will contain its</span>
</code></td></tr><tr><td id="L590" class="css-a4x74f"><span>590</span></td><td id="LC590" class="css-1dcdqdg"><code>	<span class="code-comment">// properties. The event can optionally be propagated to event parents.</span>
</code></td></tr><tr><td id="L591" class="css-a4x74f"><span>591</span></td><td id="LC591" class="css-1dcdqdg"><code>	fire: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">type, data, propagate</span>) </span>{
</code></td></tr><tr><td id="L592" class="css-a4x74f"><span>592</span></td><td id="LC592" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.listens(type, propagate)) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L593" class="css-a4x74f"><span>593</span></td><td id="LC593" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L594" class="css-a4x74f"><span>594</span></td><td id="LC594" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> event = extend({}, data, {
</code></td></tr><tr><td id="L595" class="css-a4x74f"><span>595</span></td><td id="LC595" class="css-1dcdqdg"><code>			type: type,
</code></td></tr><tr><td id="L596" class="css-a4x74f"><span>596</span></td><td id="LC596" class="css-1dcdqdg"><code>			target: <span class="code-keyword">this</span>,
</code></td></tr><tr><td id="L597" class="css-a4x74f"><span>597</span></td><td id="LC597" class="css-1dcdqdg"><code>			sourceTarget: data &amp;&amp; data.sourceTarget || <span class="code-keyword">this</span>
</code></td></tr><tr><td id="L598" class="css-a4x74f"><span>598</span></td><td id="LC598" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L599" class="css-a4x74f"><span>599</span></td><td id="LC599" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L600" class="css-a4x74f"><span>600</span></td><td id="LC600" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._events) {
</code></td></tr><tr><td id="L601" class="css-a4x74f"><span>601</span></td><td id="LC601" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> listeners = <span class="code-keyword">this</span>._events[type];
</code></td></tr><tr><td id="L602" class="css-a4x74f"><span>602</span></td><td id="LC602" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L603" class="css-a4x74f"><span>603</span></td><td id="LC603" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (listeners) {
</code></td></tr><tr><td id="L604" class="css-a4x74f"><span>604</span></td><td id="LC604" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._firingCount = (<span class="code-keyword">this</span>._firingCount + <span class="code-number">1</span>) || <span class="code-number">1</span>;
</code></td></tr><tr><td id="L605" class="css-a4x74f"><span>605</span></td><td id="LC605" class="css-1dcdqdg"><code>				<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = listeners.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L606" class="css-a4x74f"><span>606</span></td><td id="LC606" class="css-1dcdqdg"><code>					<span class="code-keyword">var</span> l = listeners[i];
</code></td></tr><tr><td id="L607" class="css-a4x74f"><span>607</span></td><td id="LC607" class="css-1dcdqdg"><code>					l.fn.call(l.ctx || <span class="code-keyword">this</span>, event);
</code></td></tr><tr><td id="L608" class="css-a4x74f"><span>608</span></td><td id="LC608" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L609" class="css-a4x74f"><span>609</span></td><td id="LC609" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L610" class="css-a4x74f"><span>610</span></td><td id="LC610" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._firingCount--;
</code></td></tr><tr><td id="L611" class="css-a4x74f"><span>611</span></td><td id="LC611" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L612" class="css-a4x74f"><span>612</span></td><td id="LC612" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L613" class="css-a4x74f"><span>613</span></td><td id="LC613" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L614" class="css-a4x74f"><span>614</span></td><td id="LC614" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (propagate) {
</code></td></tr><tr><td id="L615" class="css-a4x74f"><span>615</span></td><td id="LC615" class="css-1dcdqdg"><code>			<span class="code-comment">// propagate the event to parents (set with addEventParent)</span>
</code></td></tr><tr><td id="L616" class="css-a4x74f"><span>616</span></td><td id="LC616" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._propagateEvent(event);
</code></td></tr><tr><td id="L617" class="css-a4x74f"><span>617</span></td><td id="LC617" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L618" class="css-a4x74f"><span>618</span></td><td id="LC618" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L619" class="css-a4x74f"><span>619</span></td><td id="LC619" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L620" class="css-a4x74f"><span>620</span></td><td id="LC620" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L621" class="css-a4x74f"><span>621</span></td><td id="LC621" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L622" class="css-a4x74f"><span>622</span></td><td id="LC622" class="css-1dcdqdg"><code>	<span class="code-comment">// @method listens(type: String, propagate?: Boolean): Boolean</span>
</code></td></tr><tr><td id="L623" class="css-a4x74f"><span>623</span></td><td id="LC623" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if a particular event type has any listeners attached to it.</span>
</code></td></tr><tr><td id="L624" class="css-a4x74f"><span>624</span></td><td id="LC624" class="css-1dcdqdg"><code>	<span class="code-comment">// The verification can optionally be propagated, it will return `true` if parents have the listener attached to it.</span>
</code></td></tr><tr><td id="L625" class="css-a4x74f"><span>625</span></td><td id="LC625" class="css-1dcdqdg"><code>	listens: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">type, propagate</span>) </span>{
</code></td></tr><tr><td id="L626" class="css-a4x74f"><span>626</span></td><td id="LC626" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> type !== <span class="code-string">'string'</span>) {
</code></td></tr><tr><td id="L627" class="css-a4x74f"><span>627</span></td><td id="LC627" class="css-1dcdqdg"><code>			<span class="code-built_in">console</span>.warn(<span class="code-string">'"string" type argument expected'</span>);
</code></td></tr><tr><td id="L628" class="css-a4x74f"><span>628</span></td><td id="LC628" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L629" class="css-a4x74f"><span>629</span></td><td id="LC629" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> listeners = <span class="code-keyword">this</span>._events &amp;&amp; <span class="code-keyword">this</span>._events[type];
</code></td></tr><tr><td id="L630" class="css-a4x74f"><span>630</span></td><td id="LC630" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (listeners &amp;&amp; listeners.length) { <span class="code-keyword">return</span> <span class="code-literal">true</span>; }
</code></td></tr><tr><td id="L631" class="css-a4x74f"><span>631</span></td><td id="LC631" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L632" class="css-a4x74f"><span>632</span></td><td id="LC632" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (propagate) {
</code></td></tr><tr><td id="L633" class="css-a4x74f"><span>633</span></td><td id="LC633" class="css-1dcdqdg"><code>			<span class="code-comment">// also check parents for listeners if event propagates</span>
</code></td></tr><tr><td id="L634" class="css-a4x74f"><span>634</span></td><td id="LC634" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._eventParents) {
</code></td></tr><tr><td id="L635" class="css-a4x74f"><span>635</span></td><td id="LC635" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._eventParents[id].listens(type, propagate)) { <span class="code-keyword">return</span> <span class="code-literal">true</span>; }
</code></td></tr><tr><td id="L636" class="css-a4x74f"><span>636</span></td><td id="LC636" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L637" class="css-a4x74f"><span>637</span></td><td id="LC637" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L638" class="css-a4x74f"><span>638</span></td><td id="LC638" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L639" class="css-a4x74f"><span>639</span></td><td id="LC639" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L640" class="css-a4x74f"><span>640</span></td><td id="LC640" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L641" class="css-a4x74f"><span>641</span></td><td id="LC641" class="css-1dcdqdg"><code>	<span class="code-comment">// @method once(): this</span>
</code></td></tr><tr><td id="L642" class="css-a4x74f"><span>642</span></td><td id="LC642" class="css-1dcdqdg"><code>	<span class="code-comment">// Behaves as [`on()`](#evented-on), except the listener will only get fired once and then removed.</span>
</code></td></tr><tr><td id="L643" class="css-a4x74f"><span>643</span></td><td id="LC643" class="css-1dcdqdg"><code>	once: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">types, fn, context</span>) </span>{
</code></td></tr><tr><td id="L644" class="css-a4x74f"><span>644</span></td><td id="LC644" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L645" class="css-a4x74f"><span>645</span></td><td id="LC645" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> types === <span class="code-string">'object'</span>) {
</code></td></tr><tr><td id="L646" class="css-a4x74f"><span>646</span></td><td id="LC646" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> type <span class="code-keyword">in</span> types) {
</code></td></tr><tr><td id="L647" class="css-a4x74f"><span>647</span></td><td id="LC647" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.once(type, types[type], fn);
</code></td></tr><tr><td id="L648" class="css-a4x74f"><span>648</span></td><td id="LC648" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L649" class="css-a4x74f"><span>649</span></td><td id="LC649" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L650" class="css-a4x74f"><span>650</span></td><td id="LC650" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L651" class="css-a4x74f"><span>651</span></td><td id="LC651" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L652" class="css-a4x74f"><span>652</span></td><td id="LC652" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> handler = bind(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L653" class="css-a4x74f"><span>653</span></td><td id="LC653" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>
</code></td></tr><tr><td id="L654" class="css-a4x74f"><span>654</span></td><td id="LC654" class="css-1dcdqdg"><code>			    .off(types, fn, context)
</code></td></tr><tr><td id="L655" class="css-a4x74f"><span>655</span></td><td id="LC655" class="css-1dcdqdg"><code>			    .off(types, handler, context);
</code></td></tr><tr><td id="L656" class="css-a4x74f"><span>656</span></td><td id="LC656" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L657" class="css-a4x74f"><span>657</span></td><td id="LC657" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L658" class="css-a4x74f"><span>658</span></td><td id="LC658" class="css-1dcdqdg"><code>		<span class="code-comment">// add a listener that's executed once and removed after that</span>
</code></td></tr><tr><td id="L659" class="css-a4x74f"><span>659</span></td><td id="LC659" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>
</code></td></tr><tr><td id="L660" class="css-a4x74f"><span>660</span></td><td id="LC660" class="css-1dcdqdg"><code>		    .on(types, fn, context)
</code></td></tr><tr><td id="L661" class="css-a4x74f"><span>661</span></td><td id="LC661" class="css-1dcdqdg"><code>		    .on(types, handler, context);
</code></td></tr><tr><td id="L662" class="css-a4x74f"><span>662</span></td><td id="LC662" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L663" class="css-a4x74f"><span>663</span></td><td id="LC663" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L664" class="css-a4x74f"><span>664</span></td><td id="LC664" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addEventParent(obj: Evented): this</span>
</code></td></tr><tr><td id="L665" class="css-a4x74f"><span>665</span></td><td id="LC665" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds an event parent - an `Evented` that will receive propagated events</span>
</code></td></tr><tr><td id="L666" class="css-a4x74f"><span>666</span></td><td id="LC666" class="css-1dcdqdg"><code>	addEventParent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L667" class="css-a4x74f"><span>667</span></td><td id="LC667" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._eventParents = <span class="code-keyword">this</span>._eventParents || {};
</code></td></tr><tr><td id="L668" class="css-a4x74f"><span>668</span></td><td id="LC668" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._eventParents[stamp(obj)] = obj;
</code></td></tr><tr><td id="L669" class="css-a4x74f"><span>669</span></td><td id="LC669" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L670" class="css-a4x74f"><span>670</span></td><td id="LC670" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L671" class="css-a4x74f"><span>671</span></td><td id="LC671" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L672" class="css-a4x74f"><span>672</span></td><td id="LC672" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeEventParent(obj: Evented): this</span>
</code></td></tr><tr><td id="L673" class="css-a4x74f"><span>673</span></td><td id="LC673" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes an event parent, so it will stop receiving propagated events</span>
</code></td></tr><tr><td id="L674" class="css-a4x74f"><span>674</span></td><td id="LC674" class="css-1dcdqdg"><code>	removeEventParent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L675" class="css-a4x74f"><span>675</span></td><td id="LC675" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._eventParents) {
</code></td></tr><tr><td id="L676" class="css-a4x74f"><span>676</span></td><td id="LC676" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._eventParents[stamp(obj)];
</code></td></tr><tr><td id="L677" class="css-a4x74f"><span>677</span></td><td id="LC677" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L678" class="css-a4x74f"><span>678</span></td><td id="LC678" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L679" class="css-a4x74f"><span>679</span></td><td id="LC679" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L680" class="css-a4x74f"><span>680</span></td><td id="LC680" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L681" class="css-a4x74f"><span>681</span></td><td id="LC681" class="css-1dcdqdg"><code>	_propagateEvent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L682" class="css-a4x74f"><span>682</span></td><td id="LC682" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._eventParents) {
</code></td></tr><tr><td id="L683" class="css-a4x74f"><span>683</span></td><td id="LC683" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._eventParents[id].fire(e.type, extend({
</code></td></tr><tr><td id="L684" class="css-a4x74f"><span>684</span></td><td id="LC684" class="css-1dcdqdg"><code>				layer: e.target,
</code></td></tr><tr><td id="L685" class="css-a4x74f"><span>685</span></td><td id="LC685" class="css-1dcdqdg"><code>				propagatedFrom: e.target
</code></td></tr><tr><td id="L686" class="css-a4x74f"><span>686</span></td><td id="LC686" class="css-1dcdqdg"><code>			}, e), <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L687" class="css-a4x74f"><span>687</span></td><td id="LC687" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L688" class="css-a4x74f"><span>688</span></td><td id="LC688" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L689" class="css-a4x74f"><span>689</span></td><td id="LC689" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L690" class="css-a4x74f"><span>690</span></td><td id="LC690" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L691" class="css-a4x74f"><span>691</span></td><td id="LC691" class="css-1dcdqdg"><code><span class="code-comment">// aliases; we should ditch those eventually</span>
</code></td></tr><tr><td id="L692" class="css-a4x74f"><span>692</span></td><td id="LC692" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L693" class="css-a4x74f"><span>693</span></td><td id="LC693" class="css-1dcdqdg"><code><span class="code-comment">// @method addEventListener(): this</span>
</code></td></tr><tr><td id="L694" class="css-a4x74f"><span>694</span></td><td id="LC694" class="css-1dcdqdg"><code><span class="code-comment">// Alias to [`on()`](#evented-on)</span>
</code></td></tr><tr><td id="L695" class="css-a4x74f"><span>695</span></td><td id="LC695" class="css-1dcdqdg"><code>Events.addEventListener = Events.on;
</code></td></tr><tr><td id="L696" class="css-a4x74f"><span>696</span></td><td id="LC696" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L697" class="css-a4x74f"><span>697</span></td><td id="LC697" class="css-1dcdqdg"><code><span class="code-comment">// @method removeEventListener(): this</span>
</code></td></tr><tr><td id="L698" class="css-a4x74f"><span>698</span></td><td id="LC698" class="css-1dcdqdg"><code><span class="code-comment">// Alias to [`off()`](#evented-off)</span>
</code></td></tr><tr><td id="L699" class="css-a4x74f"><span>699</span></td><td id="LC699" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L700" class="css-a4x74f"><span>700</span></td><td id="LC700" class="css-1dcdqdg"><code><span class="code-comment">// @method clearAllEventListeners(): this</span>
</code></td></tr><tr><td id="L701" class="css-a4x74f"><span>701</span></td><td id="LC701" class="css-1dcdqdg"><code><span class="code-comment">// Alias to [`off()`](#evented-off)</span>
</code></td></tr><tr><td id="L702" class="css-a4x74f"><span>702</span></td><td id="LC702" class="css-1dcdqdg"><code>Events.removeEventListener = Events.clearAllEventListeners = Events.off;
</code></td></tr><tr><td id="L703" class="css-a4x74f"><span>703</span></td><td id="LC703" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L704" class="css-a4x74f"><span>704</span></td><td id="LC704" class="css-1dcdqdg"><code><span class="code-comment">// @method addOneTimeEventListener(): this</span>
</code></td></tr><tr><td id="L705" class="css-a4x74f"><span>705</span></td><td id="LC705" class="css-1dcdqdg"><code><span class="code-comment">// Alias to [`once()`](#evented-once)</span>
</code></td></tr><tr><td id="L706" class="css-a4x74f"><span>706</span></td><td id="LC706" class="css-1dcdqdg"><code>Events.addOneTimeEventListener = Events.once;
</code></td></tr><tr><td id="L707" class="css-a4x74f"><span>707</span></td><td id="LC707" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L708" class="css-a4x74f"><span>708</span></td><td id="LC708" class="css-1dcdqdg"><code><span class="code-comment">// @method fireEvent(): this</span>
</code></td></tr><tr><td id="L709" class="css-a4x74f"><span>709</span></td><td id="LC709" class="css-1dcdqdg"><code><span class="code-comment">// Alias to [`fire()`](#evented-fire)</span>
</code></td></tr><tr><td id="L710" class="css-a4x74f"><span>710</span></td><td id="LC710" class="css-1dcdqdg"><code>Events.fireEvent = Events.fire;
</code></td></tr><tr><td id="L711" class="css-a4x74f"><span>711</span></td><td id="LC711" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L712" class="css-a4x74f"><span>712</span></td><td id="LC712" class="css-1dcdqdg"><code><span class="code-comment">// @method hasEventListeners(): Boolean</span>
</code></td></tr><tr><td id="L713" class="css-a4x74f"><span>713</span></td><td id="LC713" class="css-1dcdqdg"><code><span class="code-comment">// Alias to [`listens()`](#evented-listens)</span>
</code></td></tr><tr><td id="L714" class="css-a4x74f"><span>714</span></td><td id="LC714" class="css-1dcdqdg"><code>Events.hasEventListeners = Events.listens;
</code></td></tr><tr><td id="L715" class="css-a4x74f"><span>715</span></td><td id="LC715" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L716" class="css-a4x74f"><span>716</span></td><td id="LC716" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Evented = Class.extend(Events);
</code></td></tr><tr><td id="L717" class="css-a4x74f"><span>717</span></td><td id="LC717" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L718" class="css-a4x74f"><span>718</span></td><td id="LC718" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L719" class="css-a4x74f"><span>719</span></td><td id="LC719" class="css-1dcdqdg"><code><span class="code-comment"> * @class Point
</span></code></td></tr><tr><td id="L720" class="css-a4x74f"><span>720</span></td><td id="LC720" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Point
</span></code></td></tr><tr><td id="L721" class="css-a4x74f"><span>721</span></td><td id="LC721" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L722" class="css-a4x74f"><span>722</span></td><td id="LC722" class="css-1dcdqdg"><code><span class="code-comment"> * Represents a point with `x` and `y` coordinates in pixels.
</span></code></td></tr><tr><td id="L723" class="css-a4x74f"><span>723</span></td><td id="LC723" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L724" class="css-a4x74f"><span>724</span></td><td id="LC724" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L725" class="css-a4x74f"><span>725</span></td><td id="LC725" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L726" class="css-a4x74f"><span>726</span></td><td id="LC726" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L727" class="css-a4x74f"><span>727</span></td><td id="LC727" class="css-1dcdqdg"><code><span class="code-comment"> * var point = L.point(200, 300);
</span></code></td></tr><tr><td id="L728" class="css-a4x74f"><span>728</span></td><td id="LC728" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L729" class="css-a4x74f"><span>729</span></td><td id="LC729" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L730" class="css-a4x74f"><span>730</span></td><td id="LC730" class="css-1dcdqdg"><code><span class="code-comment"> * All Leaflet methods and options that accept `Point` objects also accept them in a simple Array form (unless noted otherwise), so these lines are equivalent:
</span></code></td></tr><tr><td id="L731" class="css-a4x74f"><span>731</span></td><td id="LC731" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L732" class="css-a4x74f"><span>732</span></td><td id="LC732" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L733" class="css-a4x74f"><span>733</span></td><td id="LC733" class="css-1dcdqdg"><code><span class="code-comment"> * map.panBy([200, 300]);
</span></code></td></tr><tr><td id="L734" class="css-a4x74f"><span>734</span></td><td id="LC734" class="css-1dcdqdg"><code><span class="code-comment"> * map.panBy(L.point(200, 300));
</span></code></td></tr><tr><td id="L735" class="css-a4x74f"><span>735</span></td><td id="LC735" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L736" class="css-a4x74f"><span>736</span></td><td id="LC736" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L737" class="css-a4x74f"><span>737</span></td><td id="LC737" class="css-1dcdqdg"><code><span class="code-comment"> * Note that `Point` does not inherit from Leaflet's `Class` object,
</span></code></td></tr><tr><td id="L738" class="css-a4x74f"><span>738</span></td><td id="LC738" class="css-1dcdqdg"><code><span class="code-comment"> * which means new classes can't inherit from it, and new methods
</span></code></td></tr><tr><td id="L739" class="css-a4x74f"><span>739</span></td><td id="LC739" class="css-1dcdqdg"><code><span class="code-comment"> * can't be added to it with the `include` function.
</span></code></td></tr><tr><td id="L740" class="css-a4x74f"><span>740</span></td><td id="LC740" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L741" class="css-a4x74f"><span>741</span></td><td id="LC741" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L742" class="css-a4x74f"><span>742</span></td><td id="LC742" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Point</span>(<span class="code-params">x, y, round</span>) </span>{
</code></td></tr><tr><td id="L743" class="css-a4x74f"><span>743</span></td><td id="LC743" class="css-1dcdqdg"><code>	<span class="code-comment">// @property x: Number; The `x` coordinate of the point</span>
</code></td></tr><tr><td id="L744" class="css-a4x74f"><span>744</span></td><td id="LC744" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>.x = (round ? <span class="code-built_in">Math</span>.round(x) : x);
</code></td></tr><tr><td id="L745" class="css-a4x74f"><span>745</span></td><td id="LC745" class="css-1dcdqdg"><code>	<span class="code-comment">// @property y: Number; The `y` coordinate of the point</span>
</code></td></tr><tr><td id="L746" class="css-a4x74f"><span>746</span></td><td id="LC746" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>.y = (round ? <span class="code-built_in">Math</span>.round(y) : y);
</code></td></tr><tr><td id="L747" class="css-a4x74f"><span>747</span></td><td id="LC747" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L748" class="css-a4x74f"><span>748</span></td><td id="LC748" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L749" class="css-a4x74f"><span>749</span></td><td id="LC749" class="css-1dcdqdg"><code><span class="code-keyword">var</span> trunc = <span class="code-built_in">Math</span>.trunc || <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">v</span>) </span>{
</code></td></tr><tr><td id="L750" class="css-a4x74f"><span>750</span></td><td id="LC750" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> v &gt; <span class="code-number">0</span> ? <span class="code-built_in">Math</span>.floor(v) : <span class="code-built_in">Math</span>.ceil(v);
</code></td></tr><tr><td id="L751" class="css-a4x74f"><span>751</span></td><td id="LC751" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L752" class="css-a4x74f"><span>752</span></td><td id="LC752" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L753" class="css-a4x74f"><span>753</span></td><td id="LC753" class="css-1dcdqdg"><code>Point.prototype = {
</code></td></tr><tr><td id="L754" class="css-a4x74f"><span>754</span></td><td id="LC754" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L755" class="css-a4x74f"><span>755</span></td><td id="LC755" class="css-1dcdqdg"><code>	<span class="code-comment">// @method clone(): Point</span>
</code></td></tr><tr><td id="L756" class="css-a4x74f"><span>756</span></td><td id="LC756" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a copy of the current point.</span>
</code></td></tr><tr><td id="L757" class="css-a4x74f"><span>757</span></td><td id="LC757" class="css-1dcdqdg"><code>	clone: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L758" class="css-a4x74f"><span>758</span></td><td id="LC758" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(<span class="code-keyword">this</span>.x, <span class="code-keyword">this</span>.y);
</code></td></tr><tr><td id="L759" class="css-a4x74f"><span>759</span></td><td id="LC759" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L760" class="css-a4x74f"><span>760</span></td><td id="LC760" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L761" class="css-a4x74f"><span>761</span></td><td id="LC761" class="css-1dcdqdg"><code>	<span class="code-comment">// @method add(otherPoint: Point): Point</span>
</code></td></tr><tr><td id="L762" class="css-a4x74f"><span>762</span></td><td id="LC762" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the result of addition of the current and the given points.</span>
</code></td></tr><tr><td id="L763" class="css-a4x74f"><span>763</span></td><td id="LC763" class="css-1dcdqdg"><code>	add: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L764" class="css-a4x74f"><span>764</span></td><td id="LC764" class="css-1dcdqdg"><code>		<span class="code-comment">// non-destructive, returns a new point</span>
</code></td></tr><tr><td id="L765" class="css-a4x74f"><span>765</span></td><td id="LC765" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._add(toPoint(point));
</code></td></tr><tr><td id="L766" class="css-a4x74f"><span>766</span></td><td id="LC766" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L767" class="css-a4x74f"><span>767</span></td><td id="LC767" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L768" class="css-a4x74f"><span>768</span></td><td id="LC768" class="css-1dcdqdg"><code>	_add: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L769" class="css-a4x74f"><span>769</span></td><td id="LC769" class="css-1dcdqdg"><code>		<span class="code-comment">// destructive, used directly for performance in situations where it's safe to modify existing point</span>
</code></td></tr><tr><td id="L770" class="css-a4x74f"><span>770</span></td><td id="LC770" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x += point.x;
</code></td></tr><tr><td id="L771" class="css-a4x74f"><span>771</span></td><td id="LC771" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y += point.y;
</code></td></tr><tr><td id="L772" class="css-a4x74f"><span>772</span></td><td id="LC772" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L773" class="css-a4x74f"><span>773</span></td><td id="LC773" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L774" class="css-a4x74f"><span>774</span></td><td id="LC774" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L775" class="css-a4x74f"><span>775</span></td><td id="LC775" class="css-1dcdqdg"><code>	<span class="code-comment">// @method subtract(otherPoint: Point): Point</span>
</code></td></tr><tr><td id="L776" class="css-a4x74f"><span>776</span></td><td id="LC776" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the result of subtraction of the given point from the current.</span>
</code></td></tr><tr><td id="L777" class="css-a4x74f"><span>777</span></td><td id="LC777" class="css-1dcdqdg"><code>	subtract: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L778" class="css-a4x74f"><span>778</span></td><td id="LC778" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._subtract(toPoint(point));
</code></td></tr><tr><td id="L779" class="css-a4x74f"><span>779</span></td><td id="LC779" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L780" class="css-a4x74f"><span>780</span></td><td id="LC780" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L781" class="css-a4x74f"><span>781</span></td><td id="LC781" class="css-1dcdqdg"><code>	_subtract: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L782" class="css-a4x74f"><span>782</span></td><td id="LC782" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x -= point.x;
</code></td></tr><tr><td id="L783" class="css-a4x74f"><span>783</span></td><td id="LC783" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y -= point.y;
</code></td></tr><tr><td id="L784" class="css-a4x74f"><span>784</span></td><td id="LC784" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L785" class="css-a4x74f"><span>785</span></td><td id="LC785" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L786" class="css-a4x74f"><span>786</span></td><td id="LC786" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L787" class="css-a4x74f"><span>787</span></td><td id="LC787" class="css-1dcdqdg"><code>	<span class="code-comment">// @method divideBy(num: Number): Point</span>
</code></td></tr><tr><td id="L788" class="css-a4x74f"><span>788</span></td><td id="LC788" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the result of division of the current point by the given number.</span>
</code></td></tr><tr><td id="L789" class="css-a4x74f"><span>789</span></td><td id="LC789" class="css-1dcdqdg"><code>	divideBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">num</span>) </span>{
</code></td></tr><tr><td id="L790" class="css-a4x74f"><span>790</span></td><td id="LC790" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._divideBy(num);
</code></td></tr><tr><td id="L791" class="css-a4x74f"><span>791</span></td><td id="LC791" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L792" class="css-a4x74f"><span>792</span></td><td id="LC792" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L793" class="css-a4x74f"><span>793</span></td><td id="LC793" class="css-1dcdqdg"><code>	_divideBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">num</span>) </span>{
</code></td></tr><tr><td id="L794" class="css-a4x74f"><span>794</span></td><td id="LC794" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x /= num;
</code></td></tr><tr><td id="L795" class="css-a4x74f"><span>795</span></td><td id="LC795" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y /= num;
</code></td></tr><tr><td id="L796" class="css-a4x74f"><span>796</span></td><td id="LC796" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L797" class="css-a4x74f"><span>797</span></td><td id="LC797" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L798" class="css-a4x74f"><span>798</span></td><td id="LC798" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L799" class="css-a4x74f"><span>799</span></td><td id="LC799" class="css-1dcdqdg"><code>	<span class="code-comment">// @method multiplyBy(num: Number): Point</span>
</code></td></tr><tr><td id="L800" class="css-a4x74f"><span>800</span></td><td id="LC800" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the result of multiplication of the current point by the given number.</span>
</code></td></tr><tr><td id="L801" class="css-a4x74f"><span>801</span></td><td id="LC801" class="css-1dcdqdg"><code>	multiplyBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">num</span>) </span>{
</code></td></tr><tr><td id="L802" class="css-a4x74f"><span>802</span></td><td id="LC802" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._multiplyBy(num);
</code></td></tr><tr><td id="L803" class="css-a4x74f"><span>803</span></td><td id="LC803" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L804" class="css-a4x74f"><span>804</span></td><td id="LC804" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L805" class="css-a4x74f"><span>805</span></td><td id="LC805" class="css-1dcdqdg"><code>	_multiplyBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">num</span>) </span>{
</code></td></tr><tr><td id="L806" class="css-a4x74f"><span>806</span></td><td id="LC806" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x *= num;
</code></td></tr><tr><td id="L807" class="css-a4x74f"><span>807</span></td><td id="LC807" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y *= num;
</code></td></tr><tr><td id="L808" class="css-a4x74f"><span>808</span></td><td id="LC808" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L809" class="css-a4x74f"><span>809</span></td><td id="LC809" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L810" class="css-a4x74f"><span>810</span></td><td id="LC810" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L811" class="css-a4x74f"><span>811</span></td><td id="LC811" class="css-1dcdqdg"><code>	<span class="code-comment">// @method scaleBy(scale: Point): Point</span>
</code></td></tr><tr><td id="L812" class="css-a4x74f"><span>812</span></td><td id="LC812" class="css-1dcdqdg"><code>	<span class="code-comment">// Multiply each coordinate of the current point by each coordinate of</span>
</code></td></tr><tr><td id="L813" class="css-a4x74f"><span>813</span></td><td id="LC813" class="css-1dcdqdg"><code>	<span class="code-comment">// `scale`. In linear algebra terms, multiply the point by the</span>
</code></td></tr><tr><td id="L814" class="css-a4x74f"><span>814</span></td><td id="LC814" class="css-1dcdqdg"><code>	<span class="code-comment">// [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)</span>
</code></td></tr><tr><td id="L815" class="css-a4x74f"><span>815</span></td><td id="LC815" class="css-1dcdqdg"><code>	<span class="code-comment">// defined by `scale`.</span>
</code></td></tr><tr><td id="L816" class="css-a4x74f"><span>816</span></td><td id="LC816" class="css-1dcdqdg"><code>	scaleBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L817" class="css-a4x74f"><span>817</span></td><td id="LC817" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(<span class="code-keyword">this</span>.x * point.x, <span class="code-keyword">this</span>.y * point.y);
</code></td></tr><tr><td id="L818" class="css-a4x74f"><span>818</span></td><td id="LC818" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L819" class="css-a4x74f"><span>819</span></td><td id="LC819" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L820" class="css-a4x74f"><span>820</span></td><td id="LC820" class="css-1dcdqdg"><code>	<span class="code-comment">// @method unscaleBy(scale: Point): Point</span>
</code></td></tr><tr><td id="L821" class="css-a4x74f"><span>821</span></td><td id="LC821" class="css-1dcdqdg"><code>	<span class="code-comment">// Inverse of `scaleBy`. Divide each coordinate of the current point by</span>
</code></td></tr><tr><td id="L822" class="css-a4x74f"><span>822</span></td><td id="LC822" class="css-1dcdqdg"><code>	<span class="code-comment">// each coordinate of `scale`.</span>
</code></td></tr><tr><td id="L823" class="css-a4x74f"><span>823</span></td><td id="LC823" class="css-1dcdqdg"><code>	unscaleBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L824" class="css-a4x74f"><span>824</span></td><td id="LC824" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(<span class="code-keyword">this</span>.x / point.x, <span class="code-keyword">this</span>.y / point.y);
</code></td></tr><tr><td id="L825" class="css-a4x74f"><span>825</span></td><td id="LC825" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L826" class="css-a4x74f"><span>826</span></td><td id="LC826" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L827" class="css-a4x74f"><span>827</span></td><td id="LC827" class="css-1dcdqdg"><code>	<span class="code-comment">// @method round(): Point</span>
</code></td></tr><tr><td id="L828" class="css-a4x74f"><span>828</span></td><td id="LC828" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a copy of the current point with rounded coordinates.</span>
</code></td></tr><tr><td id="L829" class="css-a4x74f"><span>829</span></td><td id="LC829" class="css-1dcdqdg"><code>	round: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L830" class="css-a4x74f"><span>830</span></td><td id="LC830" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._round();
</code></td></tr><tr><td id="L831" class="css-a4x74f"><span>831</span></td><td id="LC831" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L832" class="css-a4x74f"><span>832</span></td><td id="LC832" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L833" class="css-a4x74f"><span>833</span></td><td id="LC833" class="css-1dcdqdg"><code>	_round: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L834" class="css-a4x74f"><span>834</span></td><td id="LC834" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x = <span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.x);
</code></td></tr><tr><td id="L835" class="css-a4x74f"><span>835</span></td><td id="LC835" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y = <span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.y);
</code></td></tr><tr><td id="L836" class="css-a4x74f"><span>836</span></td><td id="LC836" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L837" class="css-a4x74f"><span>837</span></td><td id="LC837" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L838" class="css-a4x74f"><span>838</span></td><td id="LC838" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L839" class="css-a4x74f"><span>839</span></td><td id="LC839" class="css-1dcdqdg"><code>	<span class="code-comment">// @method floor(): Point</span>
</code></td></tr><tr><td id="L840" class="css-a4x74f"><span>840</span></td><td id="LC840" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a copy of the current point with floored coordinates (rounded down).</span>
</code></td></tr><tr><td id="L841" class="css-a4x74f"><span>841</span></td><td id="LC841" class="css-1dcdqdg"><code>	floor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L842" class="css-a4x74f"><span>842</span></td><td id="LC842" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._floor();
</code></td></tr><tr><td id="L843" class="css-a4x74f"><span>843</span></td><td id="LC843" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L844" class="css-a4x74f"><span>844</span></td><td id="LC844" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L845" class="css-a4x74f"><span>845</span></td><td id="LC845" class="css-1dcdqdg"><code>	_floor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L846" class="css-a4x74f"><span>846</span></td><td id="LC846" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x = <span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x);
</code></td></tr><tr><td id="L847" class="css-a4x74f"><span>847</span></td><td id="LC847" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y = <span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y);
</code></td></tr><tr><td id="L848" class="css-a4x74f"><span>848</span></td><td id="LC848" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L849" class="css-a4x74f"><span>849</span></td><td id="LC849" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L850" class="css-a4x74f"><span>850</span></td><td id="LC850" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L851" class="css-a4x74f"><span>851</span></td><td id="LC851" class="css-1dcdqdg"><code>	<span class="code-comment">// @method ceil(): Point</span>
</code></td></tr><tr><td id="L852" class="css-a4x74f"><span>852</span></td><td id="LC852" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a copy of the current point with ceiled coordinates (rounded up).</span>
</code></td></tr><tr><td id="L853" class="css-a4x74f"><span>853</span></td><td id="LC853" class="css-1dcdqdg"><code>	ceil: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L854" class="css-a4x74f"><span>854</span></td><td id="LC854" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._ceil();
</code></td></tr><tr><td id="L855" class="css-a4x74f"><span>855</span></td><td id="LC855" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L856" class="css-a4x74f"><span>856</span></td><td id="LC856" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L857" class="css-a4x74f"><span>857</span></td><td id="LC857" class="css-1dcdqdg"><code>	_ceil: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L858" class="css-a4x74f"><span>858</span></td><td id="LC858" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x = <span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x);
</code></td></tr><tr><td id="L859" class="css-a4x74f"><span>859</span></td><td id="LC859" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y = <span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y);
</code></td></tr><tr><td id="L860" class="css-a4x74f"><span>860</span></td><td id="LC860" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L861" class="css-a4x74f"><span>861</span></td><td id="LC861" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L862" class="css-a4x74f"><span>862</span></td><td id="LC862" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L863" class="css-a4x74f"><span>863</span></td><td id="LC863" class="css-1dcdqdg"><code>	<span class="code-comment">// @method trunc(): Point</span>
</code></td></tr><tr><td id="L864" class="css-a4x74f"><span>864</span></td><td id="LC864" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a copy of the current point with truncated coordinates (rounded towards zero).</span>
</code></td></tr><tr><td id="L865" class="css-a4x74f"><span>865</span></td><td id="LC865" class="css-1dcdqdg"><code>	trunc: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L866" class="css-a4x74f"><span>866</span></td><td id="LC866" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clone()._trunc();
</code></td></tr><tr><td id="L867" class="css-a4x74f"><span>867</span></td><td id="LC867" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L868" class="css-a4x74f"><span>868</span></td><td id="LC868" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L869" class="css-a4x74f"><span>869</span></td><td id="LC869" class="css-1dcdqdg"><code>	_trunc: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L870" class="css-a4x74f"><span>870</span></td><td id="LC870" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.x = trunc(<span class="code-keyword">this</span>.x);
</code></td></tr><tr><td id="L871" class="css-a4x74f"><span>871</span></td><td id="LC871" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.y = trunc(<span class="code-keyword">this</span>.y);
</code></td></tr><tr><td id="L872" class="css-a4x74f"><span>872</span></td><td id="LC872" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L873" class="css-a4x74f"><span>873</span></td><td id="LC873" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L874" class="css-a4x74f"><span>874</span></td><td id="LC874" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L875" class="css-a4x74f"><span>875</span></td><td id="LC875" class="css-1dcdqdg"><code>	<span class="code-comment">// @method distanceTo(otherPoint: Point): Number</span>
</code></td></tr><tr><td id="L876" class="css-a4x74f"><span>876</span></td><td id="LC876" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the cartesian distance between the current and the given points.</span>
</code></td></tr><tr><td id="L877" class="css-a4x74f"><span>877</span></td><td id="LC877" class="css-1dcdqdg"><code>	distanceTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L878" class="css-a4x74f"><span>878</span></td><td id="LC878" class="css-1dcdqdg"><code>		point = toPoint(point);
</code></td></tr><tr><td id="L879" class="css-a4x74f"><span>879</span></td><td id="LC879" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L880" class="css-a4x74f"><span>880</span></td><td id="LC880" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> x = point.x - <span class="code-keyword">this</span>.x,
</code></td></tr><tr><td id="L881" class="css-a4x74f"><span>881</span></td><td id="LC881" class="css-1dcdqdg"><code>		    y = point.y - <span class="code-keyword">this</span>.y;
</code></td></tr><tr><td id="L882" class="css-a4x74f"><span>882</span></td><td id="LC882" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L883" class="css-a4x74f"><span>883</span></td><td id="LC883" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(x * x + y * y);
</code></td></tr><tr><td id="L884" class="css-a4x74f"><span>884</span></td><td id="LC884" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L885" class="css-a4x74f"><span>885</span></td><td id="LC885" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L886" class="css-a4x74f"><span>886</span></td><td id="LC886" class="css-1dcdqdg"><code>	<span class="code-comment">// @method equals(otherPoint: Point): Boolean</span>
</code></td></tr><tr><td id="L887" class="css-a4x74f"><span>887</span></td><td id="LC887" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the given point has the same coordinates.</span>
</code></td></tr><tr><td id="L888" class="css-a4x74f"><span>888</span></td><td id="LC888" class="css-1dcdqdg"><code>	equals: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L889" class="css-a4x74f"><span>889</span></td><td id="LC889" class="css-1dcdqdg"><code>		point = toPoint(point);
</code></td></tr><tr><td id="L890" class="css-a4x74f"><span>890</span></td><td id="LC890" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L891" class="css-a4x74f"><span>891</span></td><td id="LC891" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> point.x === <span class="code-keyword">this</span>.x &amp;&amp;
</code></td></tr><tr><td id="L892" class="css-a4x74f"><span>892</span></td><td id="LC892" class="css-1dcdqdg"><code>		       point.y === <span class="code-keyword">this</span>.y;
</code></td></tr><tr><td id="L893" class="css-a4x74f"><span>893</span></td><td id="LC893" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L894" class="css-a4x74f"><span>894</span></td><td id="LC894" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L895" class="css-a4x74f"><span>895</span></td><td id="LC895" class="css-1dcdqdg"><code>	<span class="code-comment">// @method contains(otherPoint: Point): Boolean</span>
</code></td></tr><tr><td id="L896" class="css-a4x74f"><span>896</span></td><td id="LC896" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).</span>
</code></td></tr><tr><td id="L897" class="css-a4x74f"><span>897</span></td><td id="LC897" class="css-1dcdqdg"><code>	contains: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L898" class="css-a4x74f"><span>898</span></td><td id="LC898" class="css-1dcdqdg"><code>		point = toPoint(point);
</code></td></tr><tr><td id="L899" class="css-a4x74f"><span>899</span></td><td id="LC899" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L900" class="css-a4x74f"><span>900</span></td><td id="LC900" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(point.x) &lt;= <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.x) &amp;&amp;
</code></td></tr><tr><td id="L901" class="css-a4x74f"><span>901</span></td><td id="LC901" class="css-1dcdqdg"><code>		       <span class="code-built_in">Math</span>.abs(point.y) &lt;= <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.y);
</code></td></tr><tr><td id="L902" class="css-a4x74f"><span>902</span></td><td id="LC902" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L903" class="css-a4x74f"><span>903</span></td><td id="LC903" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L904" class="css-a4x74f"><span>904</span></td><td id="LC904" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toString(): String</span>
</code></td></tr><tr><td id="L905" class="css-a4x74f"><span>905</span></td><td id="LC905" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a string representation of the point for debugging purposes.</span>
</code></td></tr><tr><td id="L906" class="css-a4x74f"><span>906</span></td><td id="LC906" class="css-1dcdqdg"><code>	toString: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L907" class="css-a4x74f"><span>907</span></td><td id="LC907" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-string">'Point('</span> +
</code></td></tr><tr><td id="L908" class="css-a4x74f"><span>908</span></td><td id="LC908" class="css-1dcdqdg"><code>		        formatNum(<span class="code-keyword">this</span>.x) + <span class="code-string">', '</span> +
</code></td></tr><tr><td id="L909" class="css-a4x74f"><span>909</span></td><td id="LC909" class="css-1dcdqdg"><code>		        formatNum(<span class="code-keyword">this</span>.y) + <span class="code-string">')'</span>;
</code></td></tr><tr><td id="L910" class="css-a4x74f"><span>910</span></td><td id="LC910" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L911" class="css-a4x74f"><span>911</span></td><td id="LC911" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L912" class="css-a4x74f"><span>912</span></td><td id="LC912" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L913" class="css-a4x74f"><span>913</span></td><td id="LC913" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.point(x: Number, y: Number, round?: Boolean)</span>
</code></td></tr><tr><td id="L914" class="css-a4x74f"><span>914</span></td><td id="LC914" class="css-1dcdqdg"><code><span class="code-comment">// Creates a Point object with the given `x` and `y` coordinates. If optional `round` is set to true, rounds the `x` and `y` values.</span>
</code></td></tr><tr><td id="L915" class="css-a4x74f"><span>915</span></td><td id="LC915" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L916" class="css-a4x74f"><span>916</span></td><td id="LC916" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L917" class="css-a4x74f"><span>917</span></td><td id="LC917" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.point(coords: Number[])</span>
</code></td></tr><tr><td id="L918" class="css-a4x74f"><span>918</span></td><td id="LC918" class="css-1dcdqdg"><code><span class="code-comment">// Expects an array of the form `[x, y]` instead.</span>
</code></td></tr><tr><td id="L919" class="css-a4x74f"><span>919</span></td><td id="LC919" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L920" class="css-a4x74f"><span>920</span></td><td id="LC920" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L921" class="css-a4x74f"><span>921</span></td><td id="LC921" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.point(coords: Object)</span>
</code></td></tr><tr><td id="L922" class="css-a4x74f"><span>922</span></td><td id="LC922" class="css-1dcdqdg"><code><span class="code-comment">// Expects a plain object of the form `{x: Number, y: Number}` instead.</span>
</code></td></tr><tr><td id="L923" class="css-a4x74f"><span>923</span></td><td id="LC923" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toPoint</span>(<span class="code-params">x, y, round</span>) </span>{
</code></td></tr><tr><td id="L924" class="css-a4x74f"><span>924</span></td><td id="LC924" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (x <span class="code-keyword">instanceof</span> Point) {
</code></td></tr><tr><td id="L925" class="css-a4x74f"><span>925</span></td><td id="LC925" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> x;
</code></td></tr><tr><td id="L926" class="css-a4x74f"><span>926</span></td><td id="LC926" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L927" class="css-a4x74f"><span>927</span></td><td id="LC927" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (isArray(x)) {
</code></td></tr><tr><td id="L928" class="css-a4x74f"><span>928</span></td><td id="LC928" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(x[<span class="code-number">0</span>], x[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L929" class="css-a4x74f"><span>929</span></td><td id="LC929" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L930" class="css-a4x74f"><span>930</span></td><td id="LC930" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (x === <span class="code-literal">undefined</span> || x === <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L931" class="css-a4x74f"><span>931</span></td><td id="LC931" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> x;
</code></td></tr><tr><td id="L932" class="css-a4x74f"><span>932</span></td><td id="LC932" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L933" class="css-a4x74f"><span>933</span></td><td id="LC933" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> x === <span class="code-string">'object'</span> &amp;&amp; <span class="code-string">'x'</span> <span class="code-keyword">in</span> x &amp;&amp; <span class="code-string">'y'</span> <span class="code-keyword">in</span> x) {
</code></td></tr><tr><td id="L934" class="css-a4x74f"><span>934</span></td><td id="LC934" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(x.x, x.y);
</code></td></tr><tr><td id="L935" class="css-a4x74f"><span>935</span></td><td id="LC935" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L936" class="css-a4x74f"><span>936</span></td><td id="LC936" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(x, y, round);
</code></td></tr><tr><td id="L937" class="css-a4x74f"><span>937</span></td><td id="LC937" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L938" class="css-a4x74f"><span>938</span></td><td id="LC938" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L939" class="css-a4x74f"><span>939</span></td><td id="LC939" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L940" class="css-a4x74f"><span>940</span></td><td id="LC940" class="css-1dcdqdg"><code><span class="code-comment"> * @class Bounds
</span></code></td></tr><tr><td id="L941" class="css-a4x74f"><span>941</span></td><td id="LC941" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Bounds
</span></code></td></tr><tr><td id="L942" class="css-a4x74f"><span>942</span></td><td id="LC942" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L943" class="css-a4x74f"><span>943</span></td><td id="LC943" class="css-1dcdqdg"><code><span class="code-comment"> * Represents a rectangular area in pixel coordinates.
</span></code></td></tr><tr><td id="L944" class="css-a4x74f"><span>944</span></td><td id="LC944" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L945" class="css-a4x74f"><span>945</span></td><td id="LC945" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L946" class="css-a4x74f"><span>946</span></td><td id="LC946" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L947" class="css-a4x74f"><span>947</span></td><td id="LC947" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L948" class="css-a4x74f"><span>948</span></td><td id="LC948" class="css-1dcdqdg"><code><span class="code-comment"> * var p1 = L.point(10, 10),
</span></code></td></tr><tr><td id="L949" class="css-a4x74f"><span>949</span></td><td id="LC949" class="css-1dcdqdg"><code><span class="code-comment"> * p2 = L.point(40, 60),
</span></code></td></tr><tr><td id="L950" class="css-a4x74f"><span>950</span></td><td id="LC950" class="css-1dcdqdg"><code><span class="code-comment"> * bounds = L.bounds(p1, p2);
</span></code></td></tr><tr><td id="L951" class="css-a4x74f"><span>951</span></td><td id="LC951" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L952" class="css-a4x74f"><span>952</span></td><td id="LC952" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L953" class="css-a4x74f"><span>953</span></td><td id="LC953" class="css-1dcdqdg"><code><span class="code-comment"> * All Leaflet methods that accept `Bounds` objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:
</span></code></td></tr><tr><td id="L954" class="css-a4x74f"><span>954</span></td><td id="LC954" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L955" class="css-a4x74f"><span>955</span></td><td id="LC955" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L956" class="css-a4x74f"><span>956</span></td><td id="LC956" class="css-1dcdqdg"><code><span class="code-comment"> * otherBounds.intersects([[10, 10], [40, 60]]);
</span></code></td></tr><tr><td id="L957" class="css-a4x74f"><span>957</span></td><td id="LC957" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L958" class="css-a4x74f"><span>958</span></td><td id="LC958" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L959" class="css-a4x74f"><span>959</span></td><td id="LC959" class="css-1dcdqdg"><code><span class="code-comment"> * Note that `Bounds` does not inherit from Leaflet's `Class` object,
</span></code></td></tr><tr><td id="L960" class="css-a4x74f"><span>960</span></td><td id="LC960" class="css-1dcdqdg"><code><span class="code-comment"> * which means new classes can't inherit from it, and new methods
</span></code></td></tr><tr><td id="L961" class="css-a4x74f"><span>961</span></td><td id="LC961" class="css-1dcdqdg"><code><span class="code-comment"> * can't be added to it with the `include` function.
</span></code></td></tr><tr><td id="L962" class="css-a4x74f"><span>962</span></td><td id="LC962" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L963" class="css-a4x74f"><span>963</span></td><td id="LC963" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L964" class="css-a4x74f"><span>964</span></td><td id="LC964" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bounds</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L965" class="css-a4x74f"><span>965</span></td><td id="LC965" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!a) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L966" class="css-a4x74f"><span>966</span></td><td id="LC966" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L967" class="css-a4x74f"><span>967</span></td><td id="LC967" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> points = b ? [a, b] : a;
</code></td></tr><tr><td id="L968" class="css-a4x74f"><span>968</span></td><td id="LC968" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L969" class="css-a4x74f"><span>969</span></td><td id="LC969" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = points.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L970" class="css-a4x74f"><span>970</span></td><td id="LC970" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.extend(points[i]);
</code></td></tr><tr><td id="L971" class="css-a4x74f"><span>971</span></td><td id="LC971" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L972" class="css-a4x74f"><span>972</span></td><td id="LC972" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L973" class="css-a4x74f"><span>973</span></td><td id="LC973" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L974" class="css-a4x74f"><span>974</span></td><td id="LC974" class="css-1dcdqdg"><code>Bounds.prototype = {
</code></td></tr><tr><td id="L975" class="css-a4x74f"><span>975</span></td><td id="LC975" class="css-1dcdqdg"><code>	<span class="code-comment">// @method extend(point: Point): this</span>
</code></td></tr><tr><td id="L976" class="css-a4x74f"><span>976</span></td><td id="LC976" class="css-1dcdqdg"><code>	<span class="code-comment">// Extends the bounds to contain the given point.</span>
</code></td></tr><tr><td id="L977" class="css-a4x74f"><span>977</span></td><td id="LC977" class="css-1dcdqdg"><code>	extend: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{ <span class="code-comment">// (Point)</span>
</code></td></tr><tr><td id="L978" class="css-a4x74f"><span>978</span></td><td id="LC978" class="css-1dcdqdg"><code>		point = toPoint(point);
</code></td></tr><tr><td id="L979" class="css-a4x74f"><span>979</span></td><td id="LC979" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L980" class="css-a4x74f"><span>980</span></td><td id="LC980" class="css-1dcdqdg"><code>		<span class="code-comment">// @property min: Point</span>
</code></td></tr><tr><td id="L981" class="css-a4x74f"><span>981</span></td><td id="LC981" class="css-1dcdqdg"><code>		<span class="code-comment">// The top left corner of the rectangle.</span>
</code></td></tr><tr><td id="L982" class="css-a4x74f"><span>982</span></td><td id="LC982" class="css-1dcdqdg"><code>		<span class="code-comment">// @property max: Point</span>
</code></td></tr><tr><td id="L983" class="css-a4x74f"><span>983</span></td><td id="LC983" class="css-1dcdqdg"><code>		<span class="code-comment">// The bottom right corner of the rectangle.</span>
</code></td></tr><tr><td id="L984" class="css-a4x74f"><span>984</span></td><td id="LC984" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.min &amp;&amp; !<span class="code-keyword">this</span>.max) {
</code></td></tr><tr><td id="L985" class="css-a4x74f"><span>985</span></td><td id="LC985" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.min = point.clone();
</code></td></tr><tr><td id="L986" class="css-a4x74f"><span>986</span></td><td id="LC986" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.max = point.clone();
</code></td></tr><tr><td id="L987" class="css-a4x74f"><span>987</span></td><td id="LC987" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L988" class="css-a4x74f"><span>988</span></td><td id="LC988" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.min.x = <span class="code-built_in">Math</span>.min(point.x, <span class="code-keyword">this</span>.min.x);
</code></td></tr><tr><td id="L989" class="css-a4x74f"><span>989</span></td><td id="LC989" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.max.x = <span class="code-built_in">Math</span>.max(point.x, <span class="code-keyword">this</span>.max.x);
</code></td></tr><tr><td id="L990" class="css-a4x74f"><span>990</span></td><td id="LC990" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.min.y = <span class="code-built_in">Math</span>.min(point.y, <span class="code-keyword">this</span>.min.y);
</code></td></tr><tr><td id="L991" class="css-a4x74f"><span>991</span></td><td id="LC991" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.max.y = <span class="code-built_in">Math</span>.max(point.y, <span class="code-keyword">this</span>.max.y);
</code></td></tr><tr><td id="L992" class="css-a4x74f"><span>992</span></td><td id="LC992" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L993" class="css-a4x74f"><span>993</span></td><td id="LC993" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L994" class="css-a4x74f"><span>994</span></td><td id="LC994" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L995" class="css-a4x74f"><span>995</span></td><td id="LC995" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L996" class="css-a4x74f"><span>996</span></td><td id="LC996" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getCenter(round?: Boolean): Point</span>
</code></td></tr><tr><td id="L997" class="css-a4x74f"><span>997</span></td><td id="LC997" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the center point of the bounds.</span>
</code></td></tr><tr><td id="L998" class="css-a4x74f"><span>998</span></td><td id="LC998" class="css-1dcdqdg"><code>	getCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">round</span>) </span>{
</code></td></tr><tr><td id="L999" class="css-a4x74f"><span>999</span></td><td id="LC999" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(
</code></td></tr><tr><td id="L1000" class="css-a4x74f"><span>1000</span></td><td id="LC1000" class="css-1dcdqdg"><code>		        (<span class="code-keyword">this</span>.min.x + <span class="code-keyword">this</span>.max.x) / <span class="code-number">2</span>,
</code></td></tr><tr><td id="L1001" class="css-a4x74f"><span>1001</span></td><td id="LC1001" class="css-1dcdqdg"><code>		        (<span class="code-keyword">this</span>.min.y + <span class="code-keyword">this</span>.max.y) / <span class="code-number">2</span>, round);
</code></td></tr><tr><td id="L1002" class="css-a4x74f"><span>1002</span></td><td id="LC1002" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1003" class="css-a4x74f"><span>1003</span></td><td id="LC1003" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1004" class="css-a4x74f"><span>1004</span></td><td id="LC1004" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBottomLeft(): Point</span>
</code></td></tr><tr><td id="L1005" class="css-a4x74f"><span>1005</span></td><td id="LC1005" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the bottom-left point of the bounds.</span>
</code></td></tr><tr><td id="L1006" class="css-a4x74f"><span>1006</span></td><td id="LC1006" class="css-1dcdqdg"><code>	getBottomLeft: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1007" class="css-a4x74f"><span>1007</span></td><td id="LC1007" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(<span class="code-keyword">this</span>.min.x, <span class="code-keyword">this</span>.max.y);
</code></td></tr><tr><td id="L1008" class="css-a4x74f"><span>1008</span></td><td id="LC1008" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1009" class="css-a4x74f"><span>1009</span></td><td id="LC1009" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1010" class="css-a4x74f"><span>1010</span></td><td id="LC1010" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getTopRight(): Point</span>
</code></td></tr><tr><td id="L1011" class="css-a4x74f"><span>1011</span></td><td id="LC1011" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the top-right point of the bounds.</span>
</code></td></tr><tr><td id="L1012" class="css-a4x74f"><span>1012</span></td><td id="LC1012" class="css-1dcdqdg"><code>	getTopRight: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{ <span class="code-comment">// -&gt; Point</span>
</code></td></tr><tr><td id="L1013" class="css-a4x74f"><span>1013</span></td><td id="LC1013" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(<span class="code-keyword">this</span>.max.x, <span class="code-keyword">this</span>.min.y);
</code></td></tr><tr><td id="L1014" class="css-a4x74f"><span>1014</span></td><td id="LC1014" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1015" class="css-a4x74f"><span>1015</span></td><td id="LC1015" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1016" class="css-a4x74f"><span>1016</span></td><td id="LC1016" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getTopLeft(): Point</span>
</code></td></tr><tr><td id="L1017" class="css-a4x74f"><span>1017</span></td><td id="LC1017" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the top-left point of the bounds (i.e. [`this.min`](#bounds-min)).</span>
</code></td></tr><tr><td id="L1018" class="css-a4x74f"><span>1018</span></td><td id="LC1018" class="css-1dcdqdg"><code>	getTopLeft: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1019" class="css-a4x74f"><span>1019</span></td><td id="LC1019" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min; <span class="code-comment">// left, top</span>
</code></td></tr><tr><td id="L1020" class="css-a4x74f"><span>1020</span></td><td id="LC1020" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1021" class="css-a4x74f"><span>1021</span></td><td id="LC1021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1022" class="css-a4x74f"><span>1022</span></td><td id="LC1022" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBottomRight(): Point</span>
</code></td></tr><tr><td id="L1023" class="css-a4x74f"><span>1023</span></td><td id="LC1023" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the bottom-right point of the bounds (i.e. [`this.max`](#bounds-max)).</span>
</code></td></tr><tr><td id="L1024" class="css-a4x74f"><span>1024</span></td><td id="LC1024" class="css-1dcdqdg"><code>	getBottomRight: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1025" class="css-a4x74f"><span>1025</span></td><td id="LC1025" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.max; <span class="code-comment">// right, bottom</span>
</code></td></tr><tr><td id="L1026" class="css-a4x74f"><span>1026</span></td><td id="LC1026" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1027" class="css-a4x74f"><span>1027</span></td><td id="LC1027" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1028" class="css-a4x74f"><span>1028</span></td><td id="LC1028" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getSize(): Point</span>
</code></td></tr><tr><td id="L1029" class="css-a4x74f"><span>1029</span></td><td id="LC1029" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the size of the given bounds</span>
</code></td></tr><tr><td id="L1030" class="css-a4x74f"><span>1030</span></td><td id="LC1030" class="css-1dcdqdg"><code>	getSize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1031" class="css-a4x74f"><span>1031</span></td><td id="LC1031" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.max.subtract(<span class="code-keyword">this</span>.min);
</code></td></tr><tr><td id="L1032" class="css-a4x74f"><span>1032</span></td><td id="LC1032" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1033" class="css-a4x74f"><span>1033</span></td><td id="LC1033" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1034" class="css-a4x74f"><span>1034</span></td><td id="LC1034" class="css-1dcdqdg"><code>	<span class="code-comment">// @method contains(otherBounds: Bounds): Boolean</span>
</code></td></tr><tr><td id="L1035" class="css-a4x74f"><span>1035</span></td><td id="LC1035" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle contains the given one.</span>
</code></td></tr><tr><td id="L1036" class="css-a4x74f"><span>1036</span></td><td id="LC1036" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1037" class="css-a4x74f"><span>1037</span></td><td id="LC1037" class="css-1dcdqdg"><code>	<span class="code-comment">// @method contains(point: Point): Boolean</span>
</code></td></tr><tr><td id="L1038" class="css-a4x74f"><span>1038</span></td><td id="LC1038" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle contains the given point.</span>
</code></td></tr><tr><td id="L1039" class="css-a4x74f"><span>1039</span></td><td id="LC1039" class="css-1dcdqdg"><code>	contains: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L1040" class="css-a4x74f"><span>1040</span></td><td id="LC1040" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> min, max;
</code></td></tr><tr><td id="L1041" class="css-a4x74f"><span>1041</span></td><td id="LC1041" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1042" class="css-a4x74f"><span>1042</span></td><td id="LC1042" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> obj[<span class="code-number">0</span>] === <span class="code-string">'number'</span> || obj <span class="code-keyword">instanceof</span> Point) {
</code></td></tr><tr><td id="L1043" class="css-a4x74f"><span>1043</span></td><td id="LC1043" class="css-1dcdqdg"><code>			obj = toPoint(obj);
</code></td></tr><tr><td id="L1044" class="css-a4x74f"><span>1044</span></td><td id="LC1044" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1045" class="css-a4x74f"><span>1045</span></td><td id="LC1045" class="css-1dcdqdg"><code>			obj = toBounds(obj);
</code></td></tr><tr><td id="L1046" class="css-a4x74f"><span>1046</span></td><td id="LC1046" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1047" class="css-a4x74f"><span>1047</span></td><td id="LC1047" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1048" class="css-a4x74f"><span>1048</span></td><td id="LC1048" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (obj <span class="code-keyword">instanceof</span> Bounds) {
</code></td></tr><tr><td id="L1049" class="css-a4x74f"><span>1049</span></td><td id="LC1049" class="css-1dcdqdg"><code>			min = obj.min;
</code></td></tr><tr><td id="L1050" class="css-a4x74f"><span>1050</span></td><td id="LC1050" class="css-1dcdqdg"><code>			max = obj.max;
</code></td></tr><tr><td id="L1051" class="css-a4x74f"><span>1051</span></td><td id="LC1051" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1052" class="css-a4x74f"><span>1052</span></td><td id="LC1052" class="css-1dcdqdg"><code>			min = max = obj;
</code></td></tr><tr><td id="L1053" class="css-a4x74f"><span>1053</span></td><td id="LC1053" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1054" class="css-a4x74f"><span>1054</span></td><td id="LC1054" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1055" class="css-a4x74f"><span>1055</span></td><td id="LC1055" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (min.x &gt;= <span class="code-keyword">this</span>.min.x) &amp;&amp;
</code></td></tr><tr><td id="L1056" class="css-a4x74f"><span>1056</span></td><td id="LC1056" class="css-1dcdqdg"><code>		       (max.x &lt;= <span class="code-keyword">this</span>.max.x) &amp;&amp;
</code></td></tr><tr><td id="L1057" class="css-a4x74f"><span>1057</span></td><td id="LC1057" class="css-1dcdqdg"><code>		       (min.y &gt;= <span class="code-keyword">this</span>.min.y) &amp;&amp;
</code></td></tr><tr><td id="L1058" class="css-a4x74f"><span>1058</span></td><td id="LC1058" class="css-1dcdqdg"><code>		       (max.y &lt;= <span class="code-keyword">this</span>.max.y);
</code></td></tr><tr><td id="L1059" class="css-a4x74f"><span>1059</span></td><td id="LC1059" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1060" class="css-a4x74f"><span>1060</span></td><td id="LC1060" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1061" class="css-a4x74f"><span>1061</span></td><td id="LC1061" class="css-1dcdqdg"><code>	<span class="code-comment">// @method intersects(otherBounds: Bounds): Boolean</span>
</code></td></tr><tr><td id="L1062" class="css-a4x74f"><span>1062</span></td><td id="LC1062" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle intersects the given bounds. Two bounds</span>
</code></td></tr><tr><td id="L1063" class="css-a4x74f"><span>1063</span></td><td id="LC1063" class="css-1dcdqdg"><code>	<span class="code-comment">// intersect if they have at least one point in common.</span>
</code></td></tr><tr><td id="L1064" class="css-a4x74f"><span>1064</span></td><td id="LC1064" class="css-1dcdqdg"><code>	intersects: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{ <span class="code-comment">// (Bounds) -&gt; Boolean</span>
</code></td></tr><tr><td id="L1065" class="css-a4x74f"><span>1065</span></td><td id="LC1065" class="css-1dcdqdg"><code>		bounds = toBounds(bounds);
</code></td></tr><tr><td id="L1066" class="css-a4x74f"><span>1066</span></td><td id="LC1066" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1067" class="css-a4x74f"><span>1067</span></td><td id="LC1067" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> min = <span class="code-keyword">this</span>.min,
</code></td></tr><tr><td id="L1068" class="css-a4x74f"><span>1068</span></td><td id="LC1068" class="css-1dcdqdg"><code>		    max = <span class="code-keyword">this</span>.max,
</code></td></tr><tr><td id="L1069" class="css-a4x74f"><span>1069</span></td><td id="LC1069" class="css-1dcdqdg"><code>		    min2 = bounds.min,
</code></td></tr><tr><td id="L1070" class="css-a4x74f"><span>1070</span></td><td id="LC1070" class="css-1dcdqdg"><code>		    max2 = bounds.max,
</code></td></tr><tr><td id="L1071" class="css-a4x74f"><span>1071</span></td><td id="LC1071" class="css-1dcdqdg"><code>		    xIntersects = (max2.x &gt;= min.x) &amp;&amp; (min2.x &lt;= max.x),
</code></td></tr><tr><td id="L1072" class="css-a4x74f"><span>1072</span></td><td id="LC1072" class="css-1dcdqdg"><code>		    yIntersects = (max2.y &gt;= min.y) &amp;&amp; (min2.y &lt;= max.y);
</code></td></tr><tr><td id="L1073" class="css-a4x74f"><span>1073</span></td><td id="LC1073" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1074" class="css-a4x74f"><span>1074</span></td><td id="LC1074" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> xIntersects &amp;&amp; yIntersects;
</code></td></tr><tr><td id="L1075" class="css-a4x74f"><span>1075</span></td><td id="LC1075" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1076" class="css-a4x74f"><span>1076</span></td><td id="LC1076" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1077" class="css-a4x74f"><span>1077</span></td><td id="LC1077" class="css-1dcdqdg"><code>	<span class="code-comment">// @method overlaps(otherBounds: Bounds): Boolean</span>
</code></td></tr><tr><td id="L1078" class="css-a4x74f"><span>1078</span></td><td id="LC1078" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle overlaps the given bounds. Two bounds</span>
</code></td></tr><tr><td id="L1079" class="css-a4x74f"><span>1079</span></td><td id="LC1079" class="css-1dcdqdg"><code>	<span class="code-comment">// overlap if their intersection is an area.</span>
</code></td></tr><tr><td id="L1080" class="css-a4x74f"><span>1080</span></td><td id="LC1080" class="css-1dcdqdg"><code>	overlaps: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{ <span class="code-comment">// (Bounds) -&gt; Boolean</span>
</code></td></tr><tr><td id="L1081" class="css-a4x74f"><span>1081</span></td><td id="LC1081" class="css-1dcdqdg"><code>		bounds = toBounds(bounds);
</code></td></tr><tr><td id="L1082" class="css-a4x74f"><span>1082</span></td><td id="LC1082" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1083" class="css-a4x74f"><span>1083</span></td><td id="LC1083" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> min = <span class="code-keyword">this</span>.min,
</code></td></tr><tr><td id="L1084" class="css-a4x74f"><span>1084</span></td><td id="LC1084" class="css-1dcdqdg"><code>		    max = <span class="code-keyword">this</span>.max,
</code></td></tr><tr><td id="L1085" class="css-a4x74f"><span>1085</span></td><td id="LC1085" class="css-1dcdqdg"><code>		    min2 = bounds.min,
</code></td></tr><tr><td id="L1086" class="css-a4x74f"><span>1086</span></td><td id="LC1086" class="css-1dcdqdg"><code>		    max2 = bounds.max,
</code></td></tr><tr><td id="L1087" class="css-a4x74f"><span>1087</span></td><td id="LC1087" class="css-1dcdqdg"><code>		    xOverlaps = (max2.x &gt; min.x) &amp;&amp; (min2.x &lt; max.x),
</code></td></tr><tr><td id="L1088" class="css-a4x74f"><span>1088</span></td><td id="LC1088" class="css-1dcdqdg"><code>		    yOverlaps = (max2.y &gt; min.y) &amp;&amp; (min2.y &lt; max.y);
</code></td></tr><tr><td id="L1089" class="css-a4x74f"><span>1089</span></td><td id="LC1089" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1090" class="css-a4x74f"><span>1090</span></td><td id="LC1090" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> xOverlaps &amp;&amp; yOverlaps;
</code></td></tr><tr><td id="L1091" class="css-a4x74f"><span>1091</span></td><td id="LC1091" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1092" class="css-a4x74f"><span>1092</span></td><td id="LC1092" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1093" class="css-a4x74f"><span>1093</span></td><td id="LC1093" class="css-1dcdqdg"><code>	isValid: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1094" class="css-a4x74f"><span>1094</span></td><td id="LC1094" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !!(<span class="code-keyword">this</span>.min &amp;&amp; <span class="code-keyword">this</span>.max);
</code></td></tr><tr><td id="L1095" class="css-a4x74f"><span>1095</span></td><td id="LC1095" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1096" class="css-a4x74f"><span>1096</span></td><td id="LC1096" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L1097" class="css-a4x74f"><span>1097</span></td><td id="LC1097" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1098" class="css-a4x74f"><span>1098</span></td><td id="LC1098" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1099" class="css-a4x74f"><span>1099</span></td><td id="LC1099" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.bounds(corner1: Point, corner2: Point)</span>
</code></td></tr><tr><td id="L1100" class="css-a4x74f"><span>1100</span></td><td id="LC1100" class="css-1dcdqdg"><code><span class="code-comment">// Creates a Bounds object from two corners coordinate pairs.</span>
</code></td></tr><tr><td id="L1101" class="css-a4x74f"><span>1101</span></td><td id="LC1101" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1102" class="css-a4x74f"><span>1102</span></td><td id="LC1102" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.bounds(points: Point[])</span>
</code></td></tr><tr><td id="L1103" class="css-a4x74f"><span>1103</span></td><td id="LC1103" class="css-1dcdqdg"><code><span class="code-comment">// Creates a Bounds object from the given array of points.</span>
</code></td></tr><tr><td id="L1104" class="css-a4x74f"><span>1104</span></td><td id="LC1104" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toBounds</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L1105" class="css-a4x74f"><span>1105</span></td><td id="LC1105" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!a || a <span class="code-keyword">instanceof</span> Bounds) {
</code></td></tr><tr><td id="L1106" class="css-a4x74f"><span>1106</span></td><td id="LC1106" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> a;
</code></td></tr><tr><td id="L1107" class="css-a4x74f"><span>1107</span></td><td id="LC1107" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1108" class="css-a4x74f"><span>1108</span></td><td id="LC1108" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Bounds(a, b);
</code></td></tr><tr><td id="L1109" class="css-a4x74f"><span>1109</span></td><td id="LC1109" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1110" class="css-a4x74f"><span>1110</span></td><td id="LC1110" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1111" class="css-a4x74f"><span>1111</span></td><td id="LC1111" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1112" class="css-a4x74f"><span>1112</span></td><td id="LC1112" class="css-1dcdqdg"><code><span class="code-comment"> * @class LatLngBounds
</span></code></td></tr><tr><td id="L1113" class="css-a4x74f"><span>1113</span></td><td id="LC1113" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.LatLngBounds
</span></code></td></tr><tr><td id="L1114" class="css-a4x74f"><span>1114</span></td><td id="LC1114" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1115" class="css-a4x74f"><span>1115</span></td><td id="LC1115" class="css-1dcdqdg"><code><span class="code-comment"> * Represents a rectangular geographical area on a map.
</span></code></td></tr><tr><td id="L1116" class="css-a4x74f"><span>1116</span></td><td id="LC1116" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1117" class="css-a4x74f"><span>1117</span></td><td id="LC1117" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L1118" class="css-a4x74f"><span>1118</span></td><td id="LC1118" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1119" class="css-a4x74f"><span>1119</span></td><td id="LC1119" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L1120" class="css-a4x74f"><span>1120</span></td><td id="LC1120" class="css-1dcdqdg"><code><span class="code-comment"> * var corner1 = L.latLng(40.712, -74.227),
</span></code></td></tr><tr><td id="L1121" class="css-a4x74f"><span>1121</span></td><td id="LC1121" class="css-1dcdqdg"><code><span class="code-comment"> * corner2 = L.latLng(40.774, -74.125),
</span></code></td></tr><tr><td id="L1122" class="css-a4x74f"><span>1122</span></td><td id="LC1122" class="css-1dcdqdg"><code><span class="code-comment"> * bounds = L.latLngBounds(corner1, corner2);
</span></code></td></tr><tr><td id="L1123" class="css-a4x74f"><span>1123</span></td><td id="LC1123" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1124" class="css-a4x74f"><span>1124</span></td><td id="LC1124" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1125" class="css-a4x74f"><span>1125</span></td><td id="LC1125" class="css-1dcdqdg"><code><span class="code-comment"> * All Leaflet methods that accept LatLngBounds objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:
</span></code></td></tr><tr><td id="L1126" class="css-a4x74f"><span>1126</span></td><td id="LC1126" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1127" class="css-a4x74f"><span>1127</span></td><td id="LC1127" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L1128" class="css-a4x74f"><span>1128</span></td><td id="LC1128" class="css-1dcdqdg"><code><span class="code-comment"> * map.fitBounds([
</span></code></td></tr><tr><td id="L1129" class="css-a4x74f"><span>1129</span></td><td id="LC1129" class="css-1dcdqdg"><code><span class="code-comment"> * 	[40.712, -74.227],
</span></code></td></tr><tr><td id="L1130" class="css-a4x74f"><span>1130</span></td><td id="LC1130" class="css-1dcdqdg"><code><span class="code-comment"> * 	[40.774, -74.125]
</span></code></td></tr><tr><td id="L1131" class="css-a4x74f"><span>1131</span></td><td id="LC1131" class="css-1dcdqdg"><code><span class="code-comment"> * ]);
</span></code></td></tr><tr><td id="L1132" class="css-a4x74f"><span>1132</span></td><td id="LC1132" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1133" class="css-a4x74f"><span>1133</span></td><td id="LC1133" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1134" class="css-a4x74f"><span>1134</span></td><td id="LC1134" class="css-1dcdqdg"><code><span class="code-comment"> * Caution: if the area crosses the antimeridian (often confused with the International Date Line), you must specify corners _outside_ the [-180, 180] degrees longitude range.
</span></code></td></tr><tr><td id="L1135" class="css-a4x74f"><span>1135</span></td><td id="LC1135" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1136" class="css-a4x74f"><span>1136</span></td><td id="LC1136" class="css-1dcdqdg"><code><span class="code-comment"> * Note that `LatLngBounds` does not inherit from Leaflet's `Class` object,
</span></code></td></tr><tr><td id="L1137" class="css-a4x74f"><span>1137</span></td><td id="LC1137" class="css-1dcdqdg"><code><span class="code-comment"> * which means new classes can't inherit from it, and new methods
</span></code></td></tr><tr><td id="L1138" class="css-a4x74f"><span>1138</span></td><td id="LC1138" class="css-1dcdqdg"><code><span class="code-comment"> * can't be added to it with the `include` function.
</span></code></td></tr><tr><td id="L1139" class="css-a4x74f"><span>1139</span></td><td id="LC1139" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1140" class="css-a4x74f"><span>1140</span></td><td id="LC1140" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1141" class="css-a4x74f"><span>1141</span></td><td id="LC1141" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">LatLngBounds</span>(<span class="code-params">corner1, corner2</span>) </span>{ <span class="code-comment">// (LatLng, LatLng) or (LatLng[])</span>
</code></td></tr><tr><td id="L1142" class="css-a4x74f"><span>1142</span></td><td id="LC1142" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!corner1) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L1143" class="css-a4x74f"><span>1143</span></td><td id="LC1143" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1144" class="css-a4x74f"><span>1144</span></td><td id="LC1144" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> latlngs = corner2 ? [corner1, corner2] : corner1;
</code></td></tr><tr><td id="L1145" class="css-a4x74f"><span>1145</span></td><td id="LC1145" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1146" class="css-a4x74f"><span>1146</span></td><td id="LC1146" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = latlngs.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L1147" class="css-a4x74f"><span>1147</span></td><td id="LC1147" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.extend(latlngs[i]);
</code></td></tr><tr><td id="L1148" class="css-a4x74f"><span>1148</span></td><td id="LC1148" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1149" class="css-a4x74f"><span>1149</span></td><td id="LC1149" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1150" class="css-a4x74f"><span>1150</span></td><td id="LC1150" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1151" class="css-a4x74f"><span>1151</span></td><td id="LC1151" class="css-1dcdqdg"><code>LatLngBounds.prototype = {
</code></td></tr><tr><td id="L1152" class="css-a4x74f"><span>1152</span></td><td id="LC1152" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1153" class="css-a4x74f"><span>1153</span></td><td id="LC1153" class="css-1dcdqdg"><code>	<span class="code-comment">// @method extend(latlng: LatLng): this</span>
</code></td></tr><tr><td id="L1154" class="css-a4x74f"><span>1154</span></td><td id="LC1154" class="css-1dcdqdg"><code>	<span class="code-comment">// Extend the bounds to contain the given point</span>
</code></td></tr><tr><td id="L1155" class="css-a4x74f"><span>1155</span></td><td id="LC1155" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1156" class="css-a4x74f"><span>1156</span></td><td id="LC1156" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1157" class="css-a4x74f"><span>1157</span></td><td id="LC1157" class="css-1dcdqdg"><code>	<span class="code-comment">// @method extend(otherBounds: LatLngBounds): this</span>
</code></td></tr><tr><td id="L1158" class="css-a4x74f"><span>1158</span></td><td id="LC1158" class="css-1dcdqdg"><code>	<span class="code-comment">// Extend the bounds to contain the given bounds</span>
</code></td></tr><tr><td id="L1159" class="css-a4x74f"><span>1159</span></td><td id="LC1159" class="css-1dcdqdg"><code>	extend: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L1160" class="css-a4x74f"><span>1160</span></td><td id="LC1160" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sw = <span class="code-keyword">this</span>._southWest,
</code></td></tr><tr><td id="L1161" class="css-a4x74f"><span>1161</span></td><td id="LC1161" class="css-1dcdqdg"><code>		    ne = <span class="code-keyword">this</span>._northEast,
</code></td></tr><tr><td id="L1162" class="css-a4x74f"><span>1162</span></td><td id="LC1162" class="css-1dcdqdg"><code>		    sw2, ne2;
</code></td></tr><tr><td id="L1163" class="css-a4x74f"><span>1163</span></td><td id="LC1163" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1164" class="css-a4x74f"><span>1164</span></td><td id="LC1164" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (obj <span class="code-keyword">instanceof</span> LatLng) {
</code></td></tr><tr><td id="L1165" class="css-a4x74f"><span>1165</span></td><td id="LC1165" class="css-1dcdqdg"><code>			sw2 = obj;
</code></td></tr><tr><td id="L1166" class="css-a4x74f"><span>1166</span></td><td id="LC1166" class="css-1dcdqdg"><code>			ne2 = obj;
</code></td></tr><tr><td id="L1167" class="css-a4x74f"><span>1167</span></td><td id="LC1167" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1168" class="css-a4x74f"><span>1168</span></td><td id="LC1168" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (obj <span class="code-keyword">instanceof</span> LatLngBounds) {
</code></td></tr><tr><td id="L1169" class="css-a4x74f"><span>1169</span></td><td id="LC1169" class="css-1dcdqdg"><code>			sw2 = obj._southWest;
</code></td></tr><tr><td id="L1170" class="css-a4x74f"><span>1170</span></td><td id="LC1170" class="css-1dcdqdg"><code>			ne2 = obj._northEast;
</code></td></tr><tr><td id="L1171" class="css-a4x74f"><span>1171</span></td><td id="LC1171" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1172" class="css-a4x74f"><span>1172</span></td><td id="LC1172" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!sw2 || !ne2) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L1173" class="css-a4x74f"><span>1173</span></td><td id="LC1173" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1174" class="css-a4x74f"><span>1174</span></td><td id="LC1174" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1175" class="css-a4x74f"><span>1175</span></td><td id="LC1175" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> obj ? <span class="code-keyword">this</span>.extend(toLatLng(obj) || toLatLngBounds(obj)) : <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L1176" class="css-a4x74f"><span>1176</span></td><td id="LC1176" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1177" class="css-a4x74f"><span>1177</span></td><td id="LC1177" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1178" class="css-a4x74f"><span>1178</span></td><td id="LC1178" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!sw &amp;&amp; !ne) {
</code></td></tr><tr><td id="L1179" class="css-a4x74f"><span>1179</span></td><td id="LC1179" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._southWest = <span class="code-keyword">new</span> LatLng(sw2.lat, sw2.lng);
</code></td></tr><tr><td id="L1180" class="css-a4x74f"><span>1180</span></td><td id="LC1180" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._northEast = <span class="code-keyword">new</span> LatLng(ne2.lat, ne2.lng);
</code></td></tr><tr><td id="L1181" class="css-a4x74f"><span>1181</span></td><td id="LC1181" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1182" class="css-a4x74f"><span>1182</span></td><td id="LC1182" class="css-1dcdqdg"><code>			sw.lat = <span class="code-built_in">Math</span>.min(sw2.lat, sw.lat);
</code></td></tr><tr><td id="L1183" class="css-a4x74f"><span>1183</span></td><td id="LC1183" class="css-1dcdqdg"><code>			sw.lng = <span class="code-built_in">Math</span>.min(sw2.lng, sw.lng);
</code></td></tr><tr><td id="L1184" class="css-a4x74f"><span>1184</span></td><td id="LC1184" class="css-1dcdqdg"><code>			ne.lat = <span class="code-built_in">Math</span>.max(ne2.lat, ne.lat);
</code></td></tr><tr><td id="L1185" class="css-a4x74f"><span>1185</span></td><td id="LC1185" class="css-1dcdqdg"><code>			ne.lng = <span class="code-built_in">Math</span>.max(ne2.lng, ne.lng);
</code></td></tr><tr><td id="L1186" class="css-a4x74f"><span>1186</span></td><td id="LC1186" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1187" class="css-a4x74f"><span>1187</span></td><td id="LC1187" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1188" class="css-a4x74f"><span>1188</span></td><td id="LC1188" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L1189" class="css-a4x74f"><span>1189</span></td><td id="LC1189" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1190" class="css-a4x74f"><span>1190</span></td><td id="LC1190" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1191" class="css-a4x74f"><span>1191</span></td><td id="LC1191" class="css-1dcdqdg"><code>	<span class="code-comment">// @method pad(bufferRatio: Number): LatLngBounds</span>
</code></td></tr><tr><td id="L1192" class="css-a4x74f"><span>1192</span></td><td id="LC1192" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.</span>
</code></td></tr><tr><td id="L1193" class="css-a4x74f"><span>1193</span></td><td id="LC1193" class="css-1dcdqdg"><code>	<span class="code-comment">// For example, a ratio of 0.5 extends the bounds by 50% in each direction.</span>
</code></td></tr><tr><td id="L1194" class="css-a4x74f"><span>1194</span></td><td id="LC1194" class="css-1dcdqdg"><code>	<span class="code-comment">// Negative values will retract the bounds.</span>
</code></td></tr><tr><td id="L1195" class="css-a4x74f"><span>1195</span></td><td id="LC1195" class="css-1dcdqdg"><code>	pad: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bufferRatio</span>) </span>{
</code></td></tr><tr><td id="L1196" class="css-a4x74f"><span>1196</span></td><td id="LC1196" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sw = <span class="code-keyword">this</span>._southWest,
</code></td></tr><tr><td id="L1197" class="css-a4x74f"><span>1197</span></td><td id="LC1197" class="css-1dcdqdg"><code>		    ne = <span class="code-keyword">this</span>._northEast,
</code></td></tr><tr><td id="L1198" class="css-a4x74f"><span>1198</span></td><td id="LC1198" class="css-1dcdqdg"><code>		    heightBuffer = <span class="code-built_in">Math</span>.abs(sw.lat - ne.lat) * bufferRatio,
</code></td></tr><tr><td id="L1199" class="css-a4x74f"><span>1199</span></td><td id="LC1199" class="css-1dcdqdg"><code>		    widthBuffer = <span class="code-built_in">Math</span>.abs(sw.lng - ne.lng) * bufferRatio;
</code></td></tr><tr><td id="L1200" class="css-a4x74f"><span>1200</span></td><td id="LC1200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1201" class="css-a4x74f"><span>1201</span></td><td id="LC1201" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLngBounds(
</code></td></tr><tr><td id="L1202" class="css-a4x74f"><span>1202</span></td><td id="LC1202" class="css-1dcdqdg"><code>		        <span class="code-keyword">new</span> LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),
</code></td></tr><tr><td id="L1203" class="css-a4x74f"><span>1203</span></td><td id="LC1203" class="css-1dcdqdg"><code>		        <span class="code-keyword">new</span> LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));
</code></td></tr><tr><td id="L1204" class="css-a4x74f"><span>1204</span></td><td id="LC1204" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1205" class="css-a4x74f"><span>1205</span></td><td id="LC1205" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1206" class="css-a4x74f"><span>1206</span></td><td id="LC1206" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getCenter(): LatLng</span>
</code></td></tr><tr><td id="L1207" class="css-a4x74f"><span>1207</span></td><td id="LC1207" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the center point of the bounds.</span>
</code></td></tr><tr><td id="L1208" class="css-a4x74f"><span>1208</span></td><td id="LC1208" class="css-1dcdqdg"><code>	getCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1209" class="css-a4x74f"><span>1209</span></td><td id="LC1209" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(
</code></td></tr><tr><td id="L1210" class="css-a4x74f"><span>1210</span></td><td id="LC1210" class="css-1dcdqdg"><code>		        (<span class="code-keyword">this</span>._southWest.lat + <span class="code-keyword">this</span>._northEast.lat) / <span class="code-number">2</span>,
</code></td></tr><tr><td id="L1211" class="css-a4x74f"><span>1211</span></td><td id="LC1211" class="css-1dcdqdg"><code>		        (<span class="code-keyword">this</span>._southWest.lng + <span class="code-keyword">this</span>._northEast.lng) / <span class="code-number">2</span>);
</code></td></tr><tr><td id="L1212" class="css-a4x74f"><span>1212</span></td><td id="LC1212" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1213" class="css-a4x74f"><span>1213</span></td><td id="LC1213" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1214" class="css-a4x74f"><span>1214</span></td><td id="LC1214" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getSouthWest(): LatLng</span>
</code></td></tr><tr><td id="L1215" class="css-a4x74f"><span>1215</span></td><td id="LC1215" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the south-west point of the bounds.</span>
</code></td></tr><tr><td id="L1216" class="css-a4x74f"><span>1216</span></td><td id="LC1216" class="css-1dcdqdg"><code>	getSouthWest: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1217" class="css-a4x74f"><span>1217</span></td><td id="LC1217" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._southWest;
</code></td></tr><tr><td id="L1218" class="css-a4x74f"><span>1218</span></td><td id="LC1218" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1219" class="css-a4x74f"><span>1219</span></td><td id="LC1219" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1220" class="css-a4x74f"><span>1220</span></td><td id="LC1220" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getNorthEast(): LatLng</span>
</code></td></tr><tr><td id="L1221" class="css-a4x74f"><span>1221</span></td><td id="LC1221" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the north-east point of the bounds.</span>
</code></td></tr><tr><td id="L1222" class="css-a4x74f"><span>1222</span></td><td id="LC1222" class="css-1dcdqdg"><code>	getNorthEast: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1223" class="css-a4x74f"><span>1223</span></td><td id="LC1223" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._northEast;
</code></td></tr><tr><td id="L1224" class="css-a4x74f"><span>1224</span></td><td id="LC1224" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1225" class="css-a4x74f"><span>1225</span></td><td id="LC1225" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1226" class="css-a4x74f"><span>1226</span></td><td id="LC1226" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getNorthWest(): LatLng</span>
</code></td></tr><tr><td id="L1227" class="css-a4x74f"><span>1227</span></td><td id="LC1227" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the north-west point of the bounds.</span>
</code></td></tr><tr><td id="L1228" class="css-a4x74f"><span>1228</span></td><td id="LC1228" class="css-1dcdqdg"><code>	getNorthWest: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1229" class="css-a4x74f"><span>1229</span></td><td id="LC1229" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(<span class="code-keyword">this</span>.getNorth(), <span class="code-keyword">this</span>.getWest());
</code></td></tr><tr><td id="L1230" class="css-a4x74f"><span>1230</span></td><td id="LC1230" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1231" class="css-a4x74f"><span>1231</span></td><td id="LC1231" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1232" class="css-a4x74f"><span>1232</span></td><td id="LC1232" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getSouthEast(): LatLng</span>
</code></td></tr><tr><td id="L1233" class="css-a4x74f"><span>1233</span></td><td id="LC1233" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the south-east point of the bounds.</span>
</code></td></tr><tr><td id="L1234" class="css-a4x74f"><span>1234</span></td><td id="LC1234" class="css-1dcdqdg"><code>	getSouthEast: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1235" class="css-a4x74f"><span>1235</span></td><td id="LC1235" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(<span class="code-keyword">this</span>.getSouth(), <span class="code-keyword">this</span>.getEast());
</code></td></tr><tr><td id="L1236" class="css-a4x74f"><span>1236</span></td><td id="LC1236" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1237" class="css-a4x74f"><span>1237</span></td><td id="LC1237" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1238" class="css-a4x74f"><span>1238</span></td><td id="LC1238" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getWest(): Number</span>
</code></td></tr><tr><td id="L1239" class="css-a4x74f"><span>1239</span></td><td id="LC1239" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the west longitude of the bounds</span>
</code></td></tr><tr><td id="L1240" class="css-a4x74f"><span>1240</span></td><td id="LC1240" class="css-1dcdqdg"><code>	getWest: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1241" class="css-a4x74f"><span>1241</span></td><td id="LC1241" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._southWest.lng;
</code></td></tr><tr><td id="L1242" class="css-a4x74f"><span>1242</span></td><td id="LC1242" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1243" class="css-a4x74f"><span>1243</span></td><td id="LC1243" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1244" class="css-a4x74f"><span>1244</span></td><td id="LC1244" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getSouth(): Number</span>
</code></td></tr><tr><td id="L1245" class="css-a4x74f"><span>1245</span></td><td id="LC1245" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the south latitude of the bounds</span>
</code></td></tr><tr><td id="L1246" class="css-a4x74f"><span>1246</span></td><td id="LC1246" class="css-1dcdqdg"><code>	getSouth: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1247" class="css-a4x74f"><span>1247</span></td><td id="LC1247" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._southWest.lat;
</code></td></tr><tr><td id="L1248" class="css-a4x74f"><span>1248</span></td><td id="LC1248" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1249" class="css-a4x74f"><span>1249</span></td><td id="LC1249" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1250" class="css-a4x74f"><span>1250</span></td><td id="LC1250" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getEast(): Number</span>
</code></td></tr><tr><td id="L1251" class="css-a4x74f"><span>1251</span></td><td id="LC1251" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the east longitude of the bounds</span>
</code></td></tr><tr><td id="L1252" class="css-a4x74f"><span>1252</span></td><td id="LC1252" class="css-1dcdqdg"><code>	getEast: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1253" class="css-a4x74f"><span>1253</span></td><td id="LC1253" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._northEast.lng;
</code></td></tr><tr><td id="L1254" class="css-a4x74f"><span>1254</span></td><td id="LC1254" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1255" class="css-a4x74f"><span>1255</span></td><td id="LC1255" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1256" class="css-a4x74f"><span>1256</span></td><td id="LC1256" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getNorth(): Number</span>
</code></td></tr><tr><td id="L1257" class="css-a4x74f"><span>1257</span></td><td id="LC1257" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the north latitude of the bounds</span>
</code></td></tr><tr><td id="L1258" class="css-a4x74f"><span>1258</span></td><td id="LC1258" class="css-1dcdqdg"><code>	getNorth: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1259" class="css-a4x74f"><span>1259</span></td><td id="LC1259" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._northEast.lat;
</code></td></tr><tr><td id="L1260" class="css-a4x74f"><span>1260</span></td><td id="LC1260" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1261" class="css-a4x74f"><span>1261</span></td><td id="LC1261" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1262" class="css-a4x74f"><span>1262</span></td><td id="LC1262" class="css-1dcdqdg"><code>	<span class="code-comment">// @method contains(otherBounds: LatLngBounds): Boolean</span>
</code></td></tr><tr><td id="L1263" class="css-a4x74f"><span>1263</span></td><td id="LC1263" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle contains the given one.</span>
</code></td></tr><tr><td id="L1264" class="css-a4x74f"><span>1264</span></td><td id="LC1264" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1265" class="css-a4x74f"><span>1265</span></td><td id="LC1265" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1266" class="css-a4x74f"><span>1266</span></td><td id="LC1266" class="css-1dcdqdg"><code>	<span class="code-comment">// @method contains (latlng: LatLng): Boolean</span>
</code></td></tr><tr><td id="L1267" class="css-a4x74f"><span>1267</span></td><td id="LC1267" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle contains the given point.</span>
</code></td></tr><tr><td id="L1268" class="css-a4x74f"><span>1268</span></td><td id="LC1268" class="css-1dcdqdg"><code>	contains: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{ <span class="code-comment">// (LatLngBounds) or (LatLng) -&gt; Boolean</span>
</code></td></tr><tr><td id="L1269" class="css-a4x74f"><span>1269</span></td><td id="LC1269" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> obj[<span class="code-number">0</span>] === <span class="code-string">'number'</span> || obj <span class="code-keyword">instanceof</span> LatLng || <span class="code-string">'lat'</span> <span class="code-keyword">in</span> obj) {
</code></td></tr><tr><td id="L1270" class="css-a4x74f"><span>1270</span></td><td id="LC1270" class="css-1dcdqdg"><code>			obj = toLatLng(obj);
</code></td></tr><tr><td id="L1271" class="css-a4x74f"><span>1271</span></td><td id="LC1271" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1272" class="css-a4x74f"><span>1272</span></td><td id="LC1272" class="css-1dcdqdg"><code>			obj = toLatLngBounds(obj);
</code></td></tr><tr><td id="L1273" class="css-a4x74f"><span>1273</span></td><td id="LC1273" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1274" class="css-a4x74f"><span>1274</span></td><td id="LC1274" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1275" class="css-a4x74f"><span>1275</span></td><td id="LC1275" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sw = <span class="code-keyword">this</span>._southWest,
</code></td></tr><tr><td id="L1276" class="css-a4x74f"><span>1276</span></td><td id="LC1276" class="css-1dcdqdg"><code>		    ne = <span class="code-keyword">this</span>._northEast,
</code></td></tr><tr><td id="L1277" class="css-a4x74f"><span>1277</span></td><td id="LC1277" class="css-1dcdqdg"><code>		    sw2, ne2;
</code></td></tr><tr><td id="L1278" class="css-a4x74f"><span>1278</span></td><td id="LC1278" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1279" class="css-a4x74f"><span>1279</span></td><td id="LC1279" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (obj <span class="code-keyword">instanceof</span> LatLngBounds) {
</code></td></tr><tr><td id="L1280" class="css-a4x74f"><span>1280</span></td><td id="LC1280" class="css-1dcdqdg"><code>			sw2 = obj.getSouthWest();
</code></td></tr><tr><td id="L1281" class="css-a4x74f"><span>1281</span></td><td id="LC1281" class="css-1dcdqdg"><code>			ne2 = obj.getNorthEast();
</code></td></tr><tr><td id="L1282" class="css-a4x74f"><span>1282</span></td><td id="LC1282" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L1283" class="css-a4x74f"><span>1283</span></td><td id="LC1283" class="css-1dcdqdg"><code>			sw2 = ne2 = obj;
</code></td></tr><tr><td id="L1284" class="css-a4x74f"><span>1284</span></td><td id="LC1284" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1285" class="css-a4x74f"><span>1285</span></td><td id="LC1285" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1286" class="css-a4x74f"><span>1286</span></td><td id="LC1286" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (sw2.lat &gt;= sw.lat) &amp;&amp; (ne2.lat &lt;= ne.lat) &amp;&amp;
</code></td></tr><tr><td id="L1287" class="css-a4x74f"><span>1287</span></td><td id="LC1287" class="css-1dcdqdg"><code>		       (sw2.lng &gt;= sw.lng) &amp;&amp; (ne2.lng &lt;= ne.lng);
</code></td></tr><tr><td id="L1288" class="css-a4x74f"><span>1288</span></td><td id="LC1288" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1289" class="css-a4x74f"><span>1289</span></td><td id="LC1289" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1290" class="css-a4x74f"><span>1290</span></td><td id="LC1290" class="css-1dcdqdg"><code>	<span class="code-comment">// @method intersects(otherBounds: LatLngBounds): Boolean</span>
</code></td></tr><tr><td id="L1291" class="css-a4x74f"><span>1291</span></td><td id="LC1291" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.</span>
</code></td></tr><tr><td id="L1292" class="css-a4x74f"><span>1292</span></td><td id="LC1292" class="css-1dcdqdg"><code>	intersects: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{
</code></td></tr><tr><td id="L1293" class="css-a4x74f"><span>1293</span></td><td id="LC1293" class="css-1dcdqdg"><code>		bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L1294" class="css-a4x74f"><span>1294</span></td><td id="LC1294" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1295" class="css-a4x74f"><span>1295</span></td><td id="LC1295" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sw = <span class="code-keyword">this</span>._southWest,
</code></td></tr><tr><td id="L1296" class="css-a4x74f"><span>1296</span></td><td id="LC1296" class="css-1dcdqdg"><code>		    ne = <span class="code-keyword">this</span>._northEast,
</code></td></tr><tr><td id="L1297" class="css-a4x74f"><span>1297</span></td><td id="LC1297" class="css-1dcdqdg"><code>		    sw2 = bounds.getSouthWest(),
</code></td></tr><tr><td id="L1298" class="css-a4x74f"><span>1298</span></td><td id="LC1298" class="css-1dcdqdg"><code>		    ne2 = bounds.getNorthEast(),
</code></td></tr><tr><td id="L1299" class="css-a4x74f"><span>1299</span></td><td id="LC1299" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1300" class="css-a4x74f"><span>1300</span></td><td id="LC1300" class="css-1dcdqdg"><code>		    latIntersects = (ne2.lat &gt;= sw.lat) &amp;&amp; (sw2.lat &lt;= ne.lat),
</code></td></tr><tr><td id="L1301" class="css-a4x74f"><span>1301</span></td><td id="LC1301" class="css-1dcdqdg"><code>		    lngIntersects = (ne2.lng &gt;= sw.lng) &amp;&amp; (sw2.lng &lt;= ne.lng);
</code></td></tr><tr><td id="L1302" class="css-a4x74f"><span>1302</span></td><td id="LC1302" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1303" class="css-a4x74f"><span>1303</span></td><td id="LC1303" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> latIntersects &amp;&amp; lngIntersects;
</code></td></tr><tr><td id="L1304" class="css-a4x74f"><span>1304</span></td><td id="LC1304" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1305" class="css-a4x74f"><span>1305</span></td><td id="LC1305" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1306" class="css-a4x74f"><span>1306</span></td><td id="LC1306" class="css-1dcdqdg"><code>	<span class="code-comment">// @method overlaps(otherBounds: LatLngBounds): Boolean</span>
</code></td></tr><tr><td id="L1307" class="css-a4x74f"><span>1307</span></td><td id="LC1307" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.</span>
</code></td></tr><tr><td id="L1308" class="css-a4x74f"><span>1308</span></td><td id="LC1308" class="css-1dcdqdg"><code>	overlaps: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{
</code></td></tr><tr><td id="L1309" class="css-a4x74f"><span>1309</span></td><td id="LC1309" class="css-1dcdqdg"><code>		bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L1310" class="css-a4x74f"><span>1310</span></td><td id="LC1310" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1311" class="css-a4x74f"><span>1311</span></td><td id="LC1311" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sw = <span class="code-keyword">this</span>._southWest,
</code></td></tr><tr><td id="L1312" class="css-a4x74f"><span>1312</span></td><td id="LC1312" class="css-1dcdqdg"><code>		    ne = <span class="code-keyword">this</span>._northEast,
</code></td></tr><tr><td id="L1313" class="css-a4x74f"><span>1313</span></td><td id="LC1313" class="css-1dcdqdg"><code>		    sw2 = bounds.getSouthWest(),
</code></td></tr><tr><td id="L1314" class="css-a4x74f"><span>1314</span></td><td id="LC1314" class="css-1dcdqdg"><code>		    ne2 = bounds.getNorthEast(),
</code></td></tr><tr><td id="L1315" class="css-a4x74f"><span>1315</span></td><td id="LC1315" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1316" class="css-a4x74f"><span>1316</span></td><td id="LC1316" class="css-1dcdqdg"><code>		    latOverlaps = (ne2.lat &gt; sw.lat) &amp;&amp; (sw2.lat &lt; ne.lat),
</code></td></tr><tr><td id="L1317" class="css-a4x74f"><span>1317</span></td><td id="LC1317" class="css-1dcdqdg"><code>		    lngOverlaps = (ne2.lng &gt; sw.lng) &amp;&amp; (sw2.lng &lt; ne.lng);
</code></td></tr><tr><td id="L1318" class="css-a4x74f"><span>1318</span></td><td id="LC1318" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1319" class="css-a4x74f"><span>1319</span></td><td id="LC1319" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> latOverlaps &amp;&amp; lngOverlaps;
</code></td></tr><tr><td id="L1320" class="css-a4x74f"><span>1320</span></td><td id="LC1320" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1321" class="css-a4x74f"><span>1321</span></td><td id="LC1321" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1322" class="css-a4x74f"><span>1322</span></td><td id="LC1322" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toBBoxString(): String</span>
</code></td></tr><tr><td id="L1323" class="css-a4x74f"><span>1323</span></td><td id="LC1323" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.</span>
</code></td></tr><tr><td id="L1324" class="css-a4x74f"><span>1324</span></td><td id="LC1324" class="css-1dcdqdg"><code>	toBBoxString: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1325" class="css-a4x74f"><span>1325</span></td><td id="LC1325" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> [<span class="code-keyword">this</span>.getWest(), <span class="code-keyword">this</span>.getSouth(), <span class="code-keyword">this</span>.getEast(), <span class="code-keyword">this</span>.getNorth()].join(<span class="code-string">','</span>);
</code></td></tr><tr><td id="L1326" class="css-a4x74f"><span>1326</span></td><td id="LC1326" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1327" class="css-a4x74f"><span>1327</span></td><td id="LC1327" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1328" class="css-a4x74f"><span>1328</span></td><td id="LC1328" class="css-1dcdqdg"><code>	<span class="code-comment">// @method equals(otherBounds: LatLngBounds, maxMargin?: Number): Boolean</span>
</code></td></tr><tr><td id="L1329" class="css-a4x74f"><span>1329</span></td><td id="LC1329" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds. The margin of error can be overridden by setting `maxMargin` to a small number.</span>
</code></td></tr><tr><td id="L1330" class="css-a4x74f"><span>1330</span></td><td id="LC1330" class="css-1dcdqdg"><code>	equals: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds, maxMargin</span>) </span>{
</code></td></tr><tr><td id="L1331" class="css-a4x74f"><span>1331</span></td><td id="LC1331" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!bounds) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L1332" class="css-a4x74f"><span>1332</span></td><td id="LC1332" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1333" class="css-a4x74f"><span>1333</span></td><td id="LC1333" class="css-1dcdqdg"><code>		bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L1334" class="css-a4x74f"><span>1334</span></td><td id="LC1334" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1335" class="css-a4x74f"><span>1335</span></td><td id="LC1335" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._southWest.equals(bounds.getSouthWest(), maxMargin) &amp;&amp;
</code></td></tr><tr><td id="L1336" class="css-a4x74f"><span>1336</span></td><td id="LC1336" class="css-1dcdqdg"><code>		       <span class="code-keyword">this</span>._northEast.equals(bounds.getNorthEast(), maxMargin);
</code></td></tr><tr><td id="L1337" class="css-a4x74f"><span>1337</span></td><td id="LC1337" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1338" class="css-a4x74f"><span>1338</span></td><td id="LC1338" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1339" class="css-a4x74f"><span>1339</span></td><td id="LC1339" class="css-1dcdqdg"><code>	<span class="code-comment">// @method isValid(): Boolean</span>
</code></td></tr><tr><td id="L1340" class="css-a4x74f"><span>1340</span></td><td id="LC1340" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the bounds are properly initialized.</span>
</code></td></tr><tr><td id="L1341" class="css-a4x74f"><span>1341</span></td><td id="LC1341" class="css-1dcdqdg"><code>	isValid: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1342" class="css-a4x74f"><span>1342</span></td><td id="LC1342" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !!(<span class="code-keyword">this</span>._southWest &amp;&amp; <span class="code-keyword">this</span>._northEast);
</code></td></tr><tr><td id="L1343" class="css-a4x74f"><span>1343</span></td><td id="LC1343" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1344" class="css-a4x74f"><span>1344</span></td><td id="LC1344" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L1345" class="css-a4x74f"><span>1345</span></td><td id="LC1345" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1346" class="css-a4x74f"><span>1346</span></td><td id="LC1346" class="css-1dcdqdg"><code><span class="code-comment">// TODO International date line?</span>
</code></td></tr><tr><td id="L1347" class="css-a4x74f"><span>1347</span></td><td id="LC1347" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1348" class="css-a4x74f"><span>1348</span></td><td id="LC1348" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.latLngBounds(corner1: LatLng, corner2: LatLng)</span>
</code></td></tr><tr><td id="L1349" class="css-a4x74f"><span>1349</span></td><td id="LC1349" class="css-1dcdqdg"><code><span class="code-comment">// Creates a `LatLngBounds` object by defining two diagonally opposite corners of the rectangle.</span>
</code></td></tr><tr><td id="L1350" class="css-a4x74f"><span>1350</span></td><td id="LC1350" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1351" class="css-a4x74f"><span>1351</span></td><td id="LC1351" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1352" class="css-a4x74f"><span>1352</span></td><td id="LC1352" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.latLngBounds(latlngs: LatLng[])</span>
</code></td></tr><tr><td id="L1353" class="css-a4x74f"><span>1353</span></td><td id="LC1353" class="css-1dcdqdg"><code><span class="code-comment">// Creates a `LatLngBounds` object defined by the geographical points it contains. Very useful for zooming the map to fit a particular set of locations with [`fitBounds`](#map-fitbounds).</span>
</code></td></tr><tr><td id="L1354" class="css-a4x74f"><span>1354</span></td><td id="LC1354" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toLatLngBounds</span>(<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L1355" class="css-a4x74f"><span>1355</span></td><td id="LC1355" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (a <span class="code-keyword">instanceof</span> LatLngBounds) {
</code></td></tr><tr><td id="L1356" class="css-a4x74f"><span>1356</span></td><td id="LC1356" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> a;
</code></td></tr><tr><td id="L1357" class="css-a4x74f"><span>1357</span></td><td id="LC1357" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1358" class="css-a4x74f"><span>1358</span></td><td id="LC1358" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLngBounds(a, b);
</code></td></tr><tr><td id="L1359" class="css-a4x74f"><span>1359</span></td><td id="LC1359" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1360" class="css-a4x74f"><span>1360</span></td><td id="LC1360" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1361" class="css-a4x74f"><span>1361</span></td><td id="LC1361" class="css-1dcdqdg"><code><span class="code-comment">/* @class LatLng
</span></code></td></tr><tr><td id="L1362" class="css-a4x74f"><span>1362</span></td><td id="LC1362" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.LatLng
</span></code></td></tr><tr><td id="L1363" class="css-a4x74f"><span>1363</span></td><td id="LC1363" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1364" class="css-a4x74f"><span>1364</span></td><td id="LC1364" class="css-1dcdqdg"><code><span class="code-comment"> * Represents a geographical point with a certain latitude and longitude.
</span></code></td></tr><tr><td id="L1365" class="css-a4x74f"><span>1365</span></td><td id="LC1365" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1366" class="css-a4x74f"><span>1366</span></td><td id="LC1366" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L1367" class="css-a4x74f"><span>1367</span></td><td id="LC1367" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1368" class="css-a4x74f"><span>1368</span></td><td id="LC1368" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1369" class="css-a4x74f"><span>1369</span></td><td id="LC1369" class="css-1dcdqdg"><code><span class="code-comment"> * var latlng = L.latLng(50.5, 30.5);
</span></code></td></tr><tr><td id="L1370" class="css-a4x74f"><span>1370</span></td><td id="LC1370" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1371" class="css-a4x74f"><span>1371</span></td><td id="LC1371" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1372" class="css-a4x74f"><span>1372</span></td><td id="LC1372" class="css-1dcdqdg"><code><span class="code-comment"> * All Leaflet methods that accept LatLng objects also accept them in a simple Array form and simple object form (unless noted otherwise), so these lines are equivalent:
</span></code></td></tr><tr><td id="L1373" class="css-a4x74f"><span>1373</span></td><td id="LC1373" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1374" class="css-a4x74f"><span>1374</span></td><td id="LC1374" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1375" class="css-a4x74f"><span>1375</span></td><td id="LC1375" class="css-1dcdqdg"><code><span class="code-comment"> * map.panTo([50, 30]);
</span></code></td></tr><tr><td id="L1376" class="css-a4x74f"><span>1376</span></td><td id="LC1376" class="css-1dcdqdg"><code><span class="code-comment"> * map.panTo({lon: 30, lat: 50});
</span></code></td></tr><tr><td id="L1377" class="css-a4x74f"><span>1377</span></td><td id="LC1377" class="css-1dcdqdg"><code><span class="code-comment"> * map.panTo({lat: 50, lng: 30});
</span></code></td></tr><tr><td id="L1378" class="css-a4x74f"><span>1378</span></td><td id="LC1378" class="css-1dcdqdg"><code><span class="code-comment"> * map.panTo(L.latLng(50, 30));
</span></code></td></tr><tr><td id="L1379" class="css-a4x74f"><span>1379</span></td><td id="LC1379" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1380" class="css-a4x74f"><span>1380</span></td><td id="LC1380" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1381" class="css-a4x74f"><span>1381</span></td><td id="LC1381" class="css-1dcdqdg"><code><span class="code-comment"> * Note that `LatLng` does not inherit from Leaflet's `Class` object,
</span></code></td></tr><tr><td id="L1382" class="css-a4x74f"><span>1382</span></td><td id="LC1382" class="css-1dcdqdg"><code><span class="code-comment"> * which means new classes can't inherit from it, and new methods
</span></code></td></tr><tr><td id="L1383" class="css-a4x74f"><span>1383</span></td><td id="LC1383" class="css-1dcdqdg"><code><span class="code-comment"> * can't be added to it with the `include` function.
</span></code></td></tr><tr><td id="L1384" class="css-a4x74f"><span>1384</span></td><td id="LC1384" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1385" class="css-a4x74f"><span>1385</span></td><td id="LC1385" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1386" class="css-a4x74f"><span>1386</span></td><td id="LC1386" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">LatLng</span>(<span class="code-params">lat, lng, alt</span>) </span>{
</code></td></tr><tr><td id="L1387" class="css-a4x74f"><span>1387</span></td><td id="LC1387" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-built_in">isNaN</span>(lat) || <span class="code-built_in">isNaN</span>(lng)) {
</code></td></tr><tr><td id="L1388" class="css-a4x74f"><span>1388</span></td><td id="LC1388" class="css-1dcdqdg"><code>		<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Invalid LatLng object: ('</span> + lat + <span class="code-string">', '</span> + lng + <span class="code-string">')'</span>);
</code></td></tr><tr><td id="L1389" class="css-a4x74f"><span>1389</span></td><td id="LC1389" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1390" class="css-a4x74f"><span>1390</span></td><td id="LC1390" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1391" class="css-a4x74f"><span>1391</span></td><td id="LC1391" class="css-1dcdqdg"><code>	<span class="code-comment">// @property lat: Number</span>
</code></td></tr><tr><td id="L1392" class="css-a4x74f"><span>1392</span></td><td id="LC1392" class="css-1dcdqdg"><code>	<span class="code-comment">// Latitude in degrees</span>
</code></td></tr><tr><td id="L1393" class="css-a4x74f"><span>1393</span></td><td id="LC1393" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>.lat = +lat;
</code></td></tr><tr><td id="L1394" class="css-a4x74f"><span>1394</span></td><td id="LC1394" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1395" class="css-a4x74f"><span>1395</span></td><td id="LC1395" class="css-1dcdqdg"><code>	<span class="code-comment">// @property lng: Number</span>
</code></td></tr><tr><td id="L1396" class="css-a4x74f"><span>1396</span></td><td id="LC1396" class="css-1dcdqdg"><code>	<span class="code-comment">// Longitude in degrees</span>
</code></td></tr><tr><td id="L1397" class="css-a4x74f"><span>1397</span></td><td id="LC1397" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>.lng = +lng;
</code></td></tr><tr><td id="L1398" class="css-a4x74f"><span>1398</span></td><td id="LC1398" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1399" class="css-a4x74f"><span>1399</span></td><td id="LC1399" class="css-1dcdqdg"><code>	<span class="code-comment">// @property alt: Number</span>
</code></td></tr><tr><td id="L1400" class="css-a4x74f"><span>1400</span></td><td id="LC1400" class="css-1dcdqdg"><code>	<span class="code-comment">// Altitude in meters (optional)</span>
</code></td></tr><tr><td id="L1401" class="css-a4x74f"><span>1401</span></td><td id="LC1401" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (alt !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L1402" class="css-a4x74f"><span>1402</span></td><td id="LC1402" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.alt = +alt;
</code></td></tr><tr><td id="L1403" class="css-a4x74f"><span>1403</span></td><td id="LC1403" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1404" class="css-a4x74f"><span>1404</span></td><td id="LC1404" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1405" class="css-a4x74f"><span>1405</span></td><td id="LC1405" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1406" class="css-a4x74f"><span>1406</span></td><td id="LC1406" class="css-1dcdqdg"><code>LatLng.prototype = {
</code></td></tr><tr><td id="L1407" class="css-a4x74f"><span>1407</span></td><td id="LC1407" class="css-1dcdqdg"><code>	<span class="code-comment">// @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean</span>
</code></td></tr><tr><td id="L1408" class="css-a4x74f"><span>1408</span></td><td id="LC1408" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overridden by setting `maxMargin` to a small number.</span>
</code></td></tr><tr><td id="L1409" class="css-a4x74f"><span>1409</span></td><td id="LC1409" class="css-1dcdqdg"><code>	equals: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj, maxMargin</span>) </span>{
</code></td></tr><tr><td id="L1410" class="css-a4x74f"><span>1410</span></td><td id="LC1410" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!obj) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L1411" class="css-a4x74f"><span>1411</span></td><td id="LC1411" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1412" class="css-a4x74f"><span>1412</span></td><td id="LC1412" class="css-1dcdqdg"><code>		obj = toLatLng(obj);
</code></td></tr><tr><td id="L1413" class="css-a4x74f"><span>1413</span></td><td id="LC1413" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1414" class="css-a4x74f"><span>1414</span></td><td id="LC1414" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> margin = <span class="code-built_in">Math</span>.max(
</code></td></tr><tr><td id="L1415" class="css-a4x74f"><span>1415</span></td><td id="LC1415" class="css-1dcdqdg"><code>		        <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.lat - obj.lat),
</code></td></tr><tr><td id="L1416" class="css-a4x74f"><span>1416</span></td><td id="LC1416" class="css-1dcdqdg"><code>		        <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.lng - obj.lng));
</code></td></tr><tr><td id="L1417" class="css-a4x74f"><span>1417</span></td><td id="LC1417" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1418" class="css-a4x74f"><span>1418</span></td><td id="LC1418" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> margin &lt;= (maxMargin === <span class="code-literal">undefined</span> ? <span class="code-number">1.0E-9</span> : maxMargin);
</code></td></tr><tr><td id="L1419" class="css-a4x74f"><span>1419</span></td><td id="LC1419" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1420" class="css-a4x74f"><span>1420</span></td><td id="LC1420" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1421" class="css-a4x74f"><span>1421</span></td><td id="LC1421" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toString(): String</span>
</code></td></tr><tr><td id="L1422" class="css-a4x74f"><span>1422</span></td><td id="LC1422" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a string representation of the point (for debugging purposes).</span>
</code></td></tr><tr><td id="L1423" class="css-a4x74f"><span>1423</span></td><td id="LC1423" class="css-1dcdqdg"><code>	toString: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">precision</span>) </span>{
</code></td></tr><tr><td id="L1424" class="css-a4x74f"><span>1424</span></td><td id="LC1424" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-string">'LatLng('</span> +
</code></td></tr><tr><td id="L1425" class="css-a4x74f"><span>1425</span></td><td id="LC1425" class="css-1dcdqdg"><code>		        formatNum(<span class="code-keyword">this</span>.lat, precision) + <span class="code-string">', '</span> +
</code></td></tr><tr><td id="L1426" class="css-a4x74f"><span>1426</span></td><td id="LC1426" class="css-1dcdqdg"><code>		        formatNum(<span class="code-keyword">this</span>.lng, precision) + <span class="code-string">')'</span>;
</code></td></tr><tr><td id="L1427" class="css-a4x74f"><span>1427</span></td><td id="LC1427" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1428" class="css-a4x74f"><span>1428</span></td><td id="LC1428" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1429" class="css-a4x74f"><span>1429</span></td><td id="LC1429" class="css-1dcdqdg"><code>	<span class="code-comment">// @method distanceTo(otherLatLng: LatLng): Number</span>
</code></td></tr><tr><td id="L1430" class="css-a4x74f"><span>1430</span></td><td id="LC1430" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the distance (in meters) to the given `LatLng` calculated using the [Spherical Law of Cosines](https://en.wikipedia.org/wiki/Spherical_law_of_cosines).</span>
</code></td></tr><tr><td id="L1431" class="css-a4x74f"><span>1431</span></td><td id="LC1431" class="css-1dcdqdg"><code>	distanceTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">other</span>) </span>{
</code></td></tr><tr><td id="L1432" class="css-a4x74f"><span>1432</span></td><td id="LC1432" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> Earth.distance(<span class="code-keyword">this</span>, toLatLng(other));
</code></td></tr><tr><td id="L1433" class="css-a4x74f"><span>1433</span></td><td id="LC1433" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1434" class="css-a4x74f"><span>1434</span></td><td id="LC1434" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1435" class="css-a4x74f"><span>1435</span></td><td id="LC1435" class="css-1dcdqdg"><code>	<span class="code-comment">// @method wrap(): LatLng</span>
</code></td></tr><tr><td id="L1436" class="css-a4x74f"><span>1436</span></td><td id="LC1436" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.</span>
</code></td></tr><tr><td id="L1437" class="css-a4x74f"><span>1437</span></td><td id="LC1437" class="css-1dcdqdg"><code>	wrap: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1438" class="css-a4x74f"><span>1438</span></td><td id="LC1438" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> Earth.wrapLatLng(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L1439" class="css-a4x74f"><span>1439</span></td><td id="LC1439" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1440" class="css-a4x74f"><span>1440</span></td><td id="LC1440" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1441" class="css-a4x74f"><span>1441</span></td><td id="LC1441" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toBounds(sizeInMeters: Number): LatLngBounds</span>
</code></td></tr><tr><td id="L1442" class="css-a4x74f"><span>1442</span></td><td id="LC1442" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters/2` meters apart from the `LatLng`.</span>
</code></td></tr><tr><td id="L1443" class="css-a4x74f"><span>1443</span></td><td id="LC1443" class="css-1dcdqdg"><code>	toBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">sizeInMeters</span>) </span>{
</code></td></tr><tr><td id="L1444" class="css-a4x74f"><span>1444</span></td><td id="LC1444" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> latAccuracy = <span class="code-number">180</span> * sizeInMeters / <span class="code-number">40075017</span>,
</code></td></tr><tr><td id="L1445" class="css-a4x74f"><span>1445</span></td><td id="LC1445" class="css-1dcdqdg"><code>		    lngAccuracy = latAccuracy / <span class="code-built_in">Math</span>.cos((<span class="code-built_in">Math</span>.PI / <span class="code-number">180</span>) * <span class="code-keyword">this</span>.lat);
</code></td></tr><tr><td id="L1446" class="css-a4x74f"><span>1446</span></td><td id="LC1446" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1447" class="css-a4x74f"><span>1447</span></td><td id="LC1447" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toLatLngBounds(
</code></td></tr><tr><td id="L1448" class="css-a4x74f"><span>1448</span></td><td id="LC1448" class="css-1dcdqdg"><code>		        [<span class="code-keyword">this</span>.lat - latAccuracy, <span class="code-keyword">this</span>.lng - lngAccuracy],
</code></td></tr><tr><td id="L1449" class="css-a4x74f"><span>1449</span></td><td id="LC1449" class="css-1dcdqdg"><code>		        [<span class="code-keyword">this</span>.lat + latAccuracy, <span class="code-keyword">this</span>.lng + lngAccuracy]);
</code></td></tr><tr><td id="L1450" class="css-a4x74f"><span>1450</span></td><td id="LC1450" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1451" class="css-a4x74f"><span>1451</span></td><td id="LC1451" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1452" class="css-a4x74f"><span>1452</span></td><td id="LC1452" class="css-1dcdqdg"><code>	clone: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1453" class="css-a4x74f"><span>1453</span></td><td id="LC1453" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(<span class="code-keyword">this</span>.lat, <span class="code-keyword">this</span>.lng, <span class="code-keyword">this</span>.alt);
</code></td></tr><tr><td id="L1454" class="css-a4x74f"><span>1454</span></td><td id="LC1454" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1455" class="css-a4x74f"><span>1455</span></td><td id="LC1455" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L1456" class="css-a4x74f"><span>1456</span></td><td id="LC1456" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1457" class="css-a4x74f"><span>1457</span></td><td id="LC1457" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1458" class="css-a4x74f"><span>1458</span></td><td id="LC1458" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1459" class="css-a4x74f"><span>1459</span></td><td id="LC1459" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.latLng(latitude: Number, longitude: Number, altitude?: Number): LatLng</span>
</code></td></tr><tr><td id="L1460" class="css-a4x74f"><span>1460</span></td><td id="LC1460" class="css-1dcdqdg"><code><span class="code-comment">// Creates an object representing a geographical point with the given latitude and longitude (and optionally altitude).</span>
</code></td></tr><tr><td id="L1461" class="css-a4x74f"><span>1461</span></td><td id="LC1461" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1462" class="css-a4x74f"><span>1462</span></td><td id="LC1462" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1463" class="css-a4x74f"><span>1463</span></td><td id="LC1463" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.latLng(coords: Array): LatLng</span>
</code></td></tr><tr><td id="L1464" class="css-a4x74f"><span>1464</span></td><td id="LC1464" class="css-1dcdqdg"><code><span class="code-comment">// Expects an array of the form `[Number, Number]` or `[Number, Number, Number]` instead.</span>
</code></td></tr><tr><td id="L1465" class="css-a4x74f"><span>1465</span></td><td id="LC1465" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1466" class="css-a4x74f"><span>1466</span></td><td id="LC1466" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1467" class="css-a4x74f"><span>1467</span></td><td id="LC1467" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.latLng(coords: Object): LatLng</span>
</code></td></tr><tr><td id="L1468" class="css-a4x74f"><span>1468</span></td><td id="LC1468" class="css-1dcdqdg"><code><span class="code-comment">// Expects an plain object of the form `{lat: Number, lng: Number}` or `{lat: Number, lng: Number, alt: Number}` instead.</span>
</code></td></tr><tr><td id="L1469" class="css-a4x74f"><span>1469</span></td><td id="LC1469" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1470" class="css-a4x74f"><span>1470</span></td><td id="LC1470" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toLatLng</span>(<span class="code-params">a, b, c</span>) </span>{
</code></td></tr><tr><td id="L1471" class="css-a4x74f"><span>1471</span></td><td id="LC1471" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (a <span class="code-keyword">instanceof</span> LatLng) {
</code></td></tr><tr><td id="L1472" class="css-a4x74f"><span>1472</span></td><td id="LC1472" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> a;
</code></td></tr><tr><td id="L1473" class="css-a4x74f"><span>1473</span></td><td id="LC1473" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1474" class="css-a4x74f"><span>1474</span></td><td id="LC1474" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (isArray(a) &amp;&amp; <span class="code-keyword">typeof</span> a[<span class="code-number">0</span>] !== <span class="code-string">'object'</span>) {
</code></td></tr><tr><td id="L1475" class="css-a4x74f"><span>1475</span></td><td id="LC1475" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (a.length === <span class="code-number">3</span>) {
</code></td></tr><tr><td id="L1476" class="css-a4x74f"><span>1476</span></td><td id="LC1476" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(a[<span class="code-number">0</span>], a[<span class="code-number">1</span>], a[<span class="code-number">2</span>]);
</code></td></tr><tr><td id="L1477" class="css-a4x74f"><span>1477</span></td><td id="LC1477" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1478" class="css-a4x74f"><span>1478</span></td><td id="LC1478" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (a.length === <span class="code-number">2</span>) {
</code></td></tr><tr><td id="L1479" class="css-a4x74f"><span>1479</span></td><td id="LC1479" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(a[<span class="code-number">0</span>], a[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L1480" class="css-a4x74f"><span>1480</span></td><td id="LC1480" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1481" class="css-a4x74f"><span>1481</span></td><td id="LC1481" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L1482" class="css-a4x74f"><span>1482</span></td><td id="LC1482" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1483" class="css-a4x74f"><span>1483</span></td><td id="LC1483" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (a === <span class="code-literal">undefined</span> || a === <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L1484" class="css-a4x74f"><span>1484</span></td><td id="LC1484" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> a;
</code></td></tr><tr><td id="L1485" class="css-a4x74f"><span>1485</span></td><td id="LC1485" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1486" class="css-a4x74f"><span>1486</span></td><td id="LC1486" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> a === <span class="code-string">'object'</span> &amp;&amp; <span class="code-string">'lat'</span> <span class="code-keyword">in</span> a) {
</code></td></tr><tr><td id="L1487" class="css-a4x74f"><span>1487</span></td><td id="LC1487" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(a.lat, <span class="code-string">'lng'</span> <span class="code-keyword">in</span> a ? a.lng : a.lon, a.alt);
</code></td></tr><tr><td id="L1488" class="css-a4x74f"><span>1488</span></td><td id="LC1488" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1489" class="css-a4x74f"><span>1489</span></td><td id="LC1489" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (b === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L1490" class="css-a4x74f"><span>1490</span></td><td id="LC1490" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L1491" class="css-a4x74f"><span>1491</span></td><td id="LC1491" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1492" class="css-a4x74f"><span>1492</span></td><td id="LC1492" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(a, b, c);
</code></td></tr><tr><td id="L1493" class="css-a4x74f"><span>1493</span></td><td id="LC1493" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1494" class="css-a4x74f"><span>1494</span></td><td id="LC1494" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1495" class="css-a4x74f"><span>1495</span></td><td id="LC1495" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1496" class="css-a4x74f"><span>1496</span></td><td id="LC1496" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace CRS
</span></code></td></tr><tr><td id="L1497" class="css-a4x74f"><span>1497</span></td><td id="LC1497" class="css-1dcdqdg"><code><span class="code-comment"> * @crs L.CRS.Base
</span></code></td></tr><tr><td id="L1498" class="css-a4x74f"><span>1498</span></td><td id="LC1498" class="css-1dcdqdg"><code><span class="code-comment"> * Object that defines coordinate reference systems for projecting
</span></code></td></tr><tr><td id="L1499" class="css-a4x74f"><span>1499</span></td><td id="LC1499" class="css-1dcdqdg"><code><span class="code-comment"> * geographical points into pixel (screen) coordinates and back (and to
</span></code></td></tr><tr><td id="L1500" class="css-a4x74f"><span>1500</span></td><td id="LC1500" class="css-1dcdqdg"><code><span class="code-comment"> * coordinates in other units for [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services). See
</span></code></td></tr><tr><td id="L1501" class="css-a4x74f"><span>1501</span></td><td id="LC1501" class="css-1dcdqdg"><code><span class="code-comment"> * [spatial reference system](https://en.wikipedia.org/wiki/Spatial_reference_system).
</span></code></td></tr><tr><td id="L1502" class="css-a4x74f"><span>1502</span></td><td id="LC1502" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1503" class="css-a4x74f"><span>1503</span></td><td id="LC1503" class="css-1dcdqdg"><code><span class="code-comment"> * Leaflet defines the most usual CRSs by default. If you want to use a
</span></code></td></tr><tr><td id="L1504" class="css-a4x74f"><span>1504</span></td><td id="LC1504" class="css-1dcdqdg"><code><span class="code-comment"> * CRS not defined by default, take a look at the
</span></code></td></tr><tr><td id="L1505" class="css-a4x74f"><span>1505</span></td><td id="LC1505" class="css-1dcdqdg"><code><span class="code-comment"> * [Proj4Leaflet](https://github.com/kartena/Proj4Leaflet) plugin.
</span></code></td></tr><tr><td id="L1506" class="css-a4x74f"><span>1506</span></td><td id="LC1506" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1507" class="css-a4x74f"><span>1507</span></td><td id="LC1507" class="css-1dcdqdg"><code><span class="code-comment"> * Note that the CRS instances do not inherit from Leaflet's `Class` object,
</span></code></td></tr><tr><td id="L1508" class="css-a4x74f"><span>1508</span></td><td id="LC1508" class="css-1dcdqdg"><code><span class="code-comment"> * and can't be instantiated. Also, new classes can't inherit from them,
</span></code></td></tr><tr><td id="L1509" class="css-a4x74f"><span>1509</span></td><td id="LC1509" class="css-1dcdqdg"><code><span class="code-comment"> * and methods can't be added to them with the `include` function.
</span></code></td></tr><tr><td id="L1510" class="css-a4x74f"><span>1510</span></td><td id="LC1510" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1511" class="css-a4x74f"><span>1511</span></td><td id="LC1511" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1512" class="css-a4x74f"><span>1512</span></td><td id="LC1512" class="css-1dcdqdg"><code><span class="code-keyword">var</span> CRS = {
</code></td></tr><tr><td id="L1513" class="css-a4x74f"><span>1513</span></td><td id="LC1513" class="css-1dcdqdg"><code>	<span class="code-comment">// @method latLngToPoint(latlng: LatLng, zoom: Number): Point</span>
</code></td></tr><tr><td id="L1514" class="css-a4x74f"><span>1514</span></td><td id="LC1514" class="css-1dcdqdg"><code>	<span class="code-comment">// Projects geographical coordinates into pixel coordinates for a given zoom.</span>
</code></td></tr><tr><td id="L1515" class="css-a4x74f"><span>1515</span></td><td id="LC1515" class="css-1dcdqdg"><code>	latLngToPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, zoom</span>) </span>{
</code></td></tr><tr><td id="L1516" class="css-a4x74f"><span>1516</span></td><td id="LC1516" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> projectedPoint = <span class="code-keyword">this</span>.projection.project(latlng),
</code></td></tr><tr><td id="L1517" class="css-a4x74f"><span>1517</span></td><td id="LC1517" class="css-1dcdqdg"><code>		    scale = <span class="code-keyword">this</span>.scale(zoom);
</code></td></tr><tr><td id="L1518" class="css-a4x74f"><span>1518</span></td><td id="LC1518" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1519" class="css-a4x74f"><span>1519</span></td><td id="LC1519" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.transformation._transform(projectedPoint, scale);
</code></td></tr><tr><td id="L1520" class="css-a4x74f"><span>1520</span></td><td id="LC1520" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1521" class="css-a4x74f"><span>1521</span></td><td id="LC1521" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1522" class="css-a4x74f"><span>1522</span></td><td id="LC1522" class="css-1dcdqdg"><code>	<span class="code-comment">// @method pointToLatLng(point: Point, zoom: Number): LatLng</span>
</code></td></tr><tr><td id="L1523" class="css-a4x74f"><span>1523</span></td><td id="LC1523" class="css-1dcdqdg"><code>	<span class="code-comment">// The inverse of `latLngToPoint`. Projects pixel coordinates on a given</span>
</code></td></tr><tr><td id="L1524" class="css-a4x74f"><span>1524</span></td><td id="LC1524" class="css-1dcdqdg"><code>	<span class="code-comment">// zoom into geographical coordinates.</span>
</code></td></tr><tr><td id="L1525" class="css-a4x74f"><span>1525</span></td><td id="LC1525" class="css-1dcdqdg"><code>	pointToLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point, zoom</span>) </span>{
</code></td></tr><tr><td id="L1526" class="css-a4x74f"><span>1526</span></td><td id="LC1526" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-keyword">this</span>.scale(zoom),
</code></td></tr><tr><td id="L1527" class="css-a4x74f"><span>1527</span></td><td id="LC1527" class="css-1dcdqdg"><code>		    untransformedPoint = <span class="code-keyword">this</span>.transformation.untransform(point, scale);
</code></td></tr><tr><td id="L1528" class="css-a4x74f"><span>1528</span></td><td id="LC1528" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1529" class="css-a4x74f"><span>1529</span></td><td id="LC1529" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.projection.unproject(untransformedPoint);
</code></td></tr><tr><td id="L1530" class="css-a4x74f"><span>1530</span></td><td id="LC1530" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1531" class="css-a4x74f"><span>1531</span></td><td id="LC1531" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1532" class="css-a4x74f"><span>1532</span></td><td id="LC1532" class="css-1dcdqdg"><code>	<span class="code-comment">// @method project(latlng: LatLng): Point</span>
</code></td></tr><tr><td id="L1533" class="css-a4x74f"><span>1533</span></td><td id="LC1533" class="css-1dcdqdg"><code>	<span class="code-comment">// Projects geographical coordinates into coordinates in units accepted for</span>
</code></td></tr><tr><td id="L1534" class="css-a4x74f"><span>1534</span></td><td id="LC1534" class="css-1dcdqdg"><code>	<span class="code-comment">// this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).</span>
</code></td></tr><tr><td id="L1535" class="css-a4x74f"><span>1535</span></td><td id="LC1535" class="css-1dcdqdg"><code>	project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L1536" class="css-a4x74f"><span>1536</span></td><td id="LC1536" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.projection.project(latlng);
</code></td></tr><tr><td id="L1537" class="css-a4x74f"><span>1537</span></td><td id="LC1537" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1538" class="css-a4x74f"><span>1538</span></td><td id="LC1538" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1539" class="css-a4x74f"><span>1539</span></td><td id="LC1539" class="css-1dcdqdg"><code>	<span class="code-comment">// @method unproject(point: Point): LatLng</span>
</code></td></tr><tr><td id="L1540" class="css-a4x74f"><span>1540</span></td><td id="LC1540" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a projected coordinate returns the corresponding LatLng.</span>
</code></td></tr><tr><td id="L1541" class="css-a4x74f"><span>1541</span></td><td id="LC1541" class="css-1dcdqdg"><code>	<span class="code-comment">// The inverse of `project`.</span>
</code></td></tr><tr><td id="L1542" class="css-a4x74f"><span>1542</span></td><td id="LC1542" class="css-1dcdqdg"><code>	unproject: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L1543" class="css-a4x74f"><span>1543</span></td><td id="LC1543" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.projection.unproject(point);
</code></td></tr><tr><td id="L1544" class="css-a4x74f"><span>1544</span></td><td id="LC1544" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1545" class="css-a4x74f"><span>1545</span></td><td id="LC1545" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1546" class="css-a4x74f"><span>1546</span></td><td id="LC1546" class="css-1dcdqdg"><code>	<span class="code-comment">// @method scale(zoom: Number): Number</span>
</code></td></tr><tr><td id="L1547" class="css-a4x74f"><span>1547</span></td><td id="LC1547" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the scale used when transforming projected coordinates into</span>
</code></td></tr><tr><td id="L1548" class="css-a4x74f"><span>1548</span></td><td id="LC1548" class="css-1dcdqdg"><code>	<span class="code-comment">// pixel coordinates for a particular zoom. For example, it returns</span>
</code></td></tr><tr><td id="L1549" class="css-a4x74f"><span>1549</span></td><td id="LC1549" class="css-1dcdqdg"><code>	<span class="code-comment">// `256 * 2^zoom` for Mercator-based CRS.</span>
</code></td></tr><tr><td id="L1550" class="css-a4x74f"><span>1550</span></td><td id="LC1550" class="css-1dcdqdg"><code>	scale: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L1551" class="css-a4x74f"><span>1551</span></td><td id="LC1551" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-number">256</span> * <span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>, zoom);
</code></td></tr><tr><td id="L1552" class="css-a4x74f"><span>1552</span></td><td id="LC1552" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1553" class="css-a4x74f"><span>1553</span></td><td id="LC1553" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1554" class="css-a4x74f"><span>1554</span></td><td id="LC1554" class="css-1dcdqdg"><code>	<span class="code-comment">// @method zoom(scale: Number): Number</span>
</code></td></tr><tr><td id="L1555" class="css-a4x74f"><span>1555</span></td><td id="LC1555" class="css-1dcdqdg"><code>	<span class="code-comment">// Inverse of `scale()`, returns the zoom level corresponding to a scale</span>
</code></td></tr><tr><td id="L1556" class="css-a4x74f"><span>1556</span></td><td id="LC1556" class="css-1dcdqdg"><code>	<span class="code-comment">// factor of `scale`.</span>
</code></td></tr><tr><td id="L1557" class="css-a4x74f"><span>1557</span></td><td id="LC1557" class="css-1dcdqdg"><code>	zoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">scale</span>) </span>{
</code></td></tr><tr><td id="L1558" class="css-a4x74f"><span>1558</span></td><td id="LC1558" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.log(scale / <span class="code-number">256</span>) / <span class="code-built_in">Math</span>.LN2;
</code></td></tr><tr><td id="L1559" class="css-a4x74f"><span>1559</span></td><td id="LC1559" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1560" class="css-a4x74f"><span>1560</span></td><td id="LC1560" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1561" class="css-a4x74f"><span>1561</span></td><td id="LC1561" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getProjectedBounds(zoom: Number): Bounds</span>
</code></td></tr><tr><td id="L1562" class="css-a4x74f"><span>1562</span></td><td id="LC1562" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the projection's bounds scaled and transformed for the provided `zoom`.</span>
</code></td></tr><tr><td id="L1563" class="css-a4x74f"><span>1563</span></td><td id="LC1563" class="css-1dcdqdg"><code>	getProjectedBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L1564" class="css-a4x74f"><span>1564</span></td><td id="LC1564" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.infinite) { <span class="code-keyword">return</span> <span class="code-literal">null</span>; }
</code></td></tr><tr><td id="L1565" class="css-a4x74f"><span>1565</span></td><td id="LC1565" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1566" class="css-a4x74f"><span>1566</span></td><td id="LC1566" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> b = <span class="code-keyword">this</span>.projection.bounds,
</code></td></tr><tr><td id="L1567" class="css-a4x74f"><span>1567</span></td><td id="LC1567" class="css-1dcdqdg"><code>		    s = <span class="code-keyword">this</span>.scale(zoom),
</code></td></tr><tr><td id="L1568" class="css-a4x74f"><span>1568</span></td><td id="LC1568" class="css-1dcdqdg"><code>		    min = <span class="code-keyword">this</span>.transformation.transform(b.min, s),
</code></td></tr><tr><td id="L1569" class="css-a4x74f"><span>1569</span></td><td id="LC1569" class="css-1dcdqdg"><code>		    max = <span class="code-keyword">this</span>.transformation.transform(b.max, s);
</code></td></tr><tr><td id="L1570" class="css-a4x74f"><span>1570</span></td><td id="LC1570" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1571" class="css-a4x74f"><span>1571</span></td><td id="LC1571" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Bounds(min, max);
</code></td></tr><tr><td id="L1572" class="css-a4x74f"><span>1572</span></td><td id="LC1572" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1573" class="css-a4x74f"><span>1573</span></td><td id="LC1573" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1574" class="css-a4x74f"><span>1574</span></td><td id="LC1574" class="css-1dcdqdg"><code>	<span class="code-comment">// @method distance(latlng1: LatLng, latlng2: LatLng): Number</span>
</code></td></tr><tr><td id="L1575" class="css-a4x74f"><span>1575</span></td><td id="LC1575" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the distance between two geographical coordinates.</span>
</code></td></tr><tr><td id="L1576" class="css-a4x74f"><span>1576</span></td><td id="LC1576" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1577" class="css-a4x74f"><span>1577</span></td><td id="LC1577" class="css-1dcdqdg"><code>	<span class="code-comment">// @property code: String</span>
</code></td></tr><tr><td id="L1578" class="css-a4x74f"><span>1578</span></td><td id="LC1578" class="css-1dcdqdg"><code>	<span class="code-comment">// Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)</span>
</code></td></tr><tr><td id="L1579" class="css-a4x74f"><span>1579</span></td><td id="LC1579" class="css-1dcdqdg"><code>	<span class="code-comment">//</span>
</code></td></tr><tr><td id="L1580" class="css-a4x74f"><span>1580</span></td><td id="LC1580" class="css-1dcdqdg"><code>	<span class="code-comment">// @property wrapLng: Number[]</span>
</code></td></tr><tr><td id="L1581" class="css-a4x74f"><span>1581</span></td><td id="LC1581" class="css-1dcdqdg"><code>	<span class="code-comment">// An array of two numbers defining whether the longitude (horizontal) coordinate</span>
</code></td></tr><tr><td id="L1582" class="css-a4x74f"><span>1582</span></td><td id="LC1582" class="css-1dcdqdg"><code>	<span class="code-comment">// axis wraps around a given range and how. Defaults to `[-180, 180]` in most</span>
</code></td></tr><tr><td id="L1583" class="css-a4x74f"><span>1583</span></td><td id="LC1583" class="css-1dcdqdg"><code>	<span class="code-comment">// geographical CRSs. If `undefined`, the longitude axis does not wrap around.</span>
</code></td></tr><tr><td id="L1584" class="css-a4x74f"><span>1584</span></td><td id="LC1584" class="css-1dcdqdg"><code>	<span class="code-comment">//</span>
</code></td></tr><tr><td id="L1585" class="css-a4x74f"><span>1585</span></td><td id="LC1585" class="css-1dcdqdg"><code>	<span class="code-comment">// @property wrapLat: Number[]</span>
</code></td></tr><tr><td id="L1586" class="css-a4x74f"><span>1586</span></td><td id="LC1586" class="css-1dcdqdg"><code>	<span class="code-comment">// Like `wrapLng`, but for the latitude (vertical) axis.</span>
</code></td></tr><tr><td id="L1587" class="css-a4x74f"><span>1587</span></td><td id="LC1587" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1588" class="css-a4x74f"><span>1588</span></td><td id="LC1588" class="css-1dcdqdg"><code>	<span class="code-comment">// wrapLng: [min, max],</span>
</code></td></tr><tr><td id="L1589" class="css-a4x74f"><span>1589</span></td><td id="LC1589" class="css-1dcdqdg"><code>	<span class="code-comment">// wrapLat: [min, max],</span>
</code></td></tr><tr><td id="L1590" class="css-a4x74f"><span>1590</span></td><td id="LC1590" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1591" class="css-a4x74f"><span>1591</span></td><td id="LC1591" class="css-1dcdqdg"><code>	<span class="code-comment">// @property infinite: Boolean</span>
</code></td></tr><tr><td id="L1592" class="css-a4x74f"><span>1592</span></td><td id="LC1592" class="css-1dcdqdg"><code>	<span class="code-comment">// If true, the coordinate space will be unbounded (infinite in both axes)</span>
</code></td></tr><tr><td id="L1593" class="css-a4x74f"><span>1593</span></td><td id="LC1593" class="css-1dcdqdg"><code>	infinite: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L1594" class="css-a4x74f"><span>1594</span></td><td id="LC1594" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1595" class="css-a4x74f"><span>1595</span></td><td id="LC1595" class="css-1dcdqdg"><code>	<span class="code-comment">// @method wrapLatLng(latlng: LatLng): LatLng</span>
</code></td></tr><tr><td id="L1596" class="css-a4x74f"><span>1596</span></td><td id="LC1596" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a `LatLng` where lat and lng has been wrapped according to the</span>
</code></td></tr><tr><td id="L1597" class="css-a4x74f"><span>1597</span></td><td id="LC1597" class="css-1dcdqdg"><code>	<span class="code-comment">// CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.</span>
</code></td></tr><tr><td id="L1598" class="css-a4x74f"><span>1598</span></td><td id="LC1598" class="css-1dcdqdg"><code>	wrapLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L1599" class="css-a4x74f"><span>1599</span></td><td id="LC1599" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> lng = <span class="code-keyword">this</span>.wrapLng ? wrapNum(latlng.lng, <span class="code-keyword">this</span>.wrapLng, <span class="code-literal">true</span>) : latlng.lng,
</code></td></tr><tr><td id="L1600" class="css-a4x74f"><span>1600</span></td><td id="LC1600" class="css-1dcdqdg"><code>		    lat = <span class="code-keyword">this</span>.wrapLat ? wrapNum(latlng.lat, <span class="code-keyword">this</span>.wrapLat, <span class="code-literal">true</span>) : latlng.lat,
</code></td></tr><tr><td id="L1601" class="css-a4x74f"><span>1601</span></td><td id="LC1601" class="css-1dcdqdg"><code>		    alt = latlng.alt;
</code></td></tr><tr><td id="L1602" class="css-a4x74f"><span>1602</span></td><td id="LC1602" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1603" class="css-a4x74f"><span>1603</span></td><td id="LC1603" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(lat, lng, alt);
</code></td></tr><tr><td id="L1604" class="css-a4x74f"><span>1604</span></td><td id="LC1604" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1605" class="css-a4x74f"><span>1605</span></td><td id="LC1605" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1606" class="css-a4x74f"><span>1606</span></td><td id="LC1606" class="css-1dcdqdg"><code>	<span class="code-comment">// @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds</span>
</code></td></tr><tr><td id="L1607" class="css-a4x74f"><span>1607</span></td><td id="LC1607" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a `LatLngBounds` with the same size as the given one, ensuring</span>
</code></td></tr><tr><td id="L1608" class="css-a4x74f"><span>1608</span></td><td id="LC1608" class="css-1dcdqdg"><code>	<span class="code-comment">// that its center is within the CRS's bounds.</span>
</code></td></tr><tr><td id="L1609" class="css-a4x74f"><span>1609</span></td><td id="LC1609" class="css-1dcdqdg"><code>	<span class="code-comment">// Only accepts actual `L.LatLngBounds` instances, not arrays.</span>
</code></td></tr><tr><td id="L1610" class="css-a4x74f"><span>1610</span></td><td id="LC1610" class="css-1dcdqdg"><code>	wrapLatLngBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{
</code></td></tr><tr><td id="L1611" class="css-a4x74f"><span>1611</span></td><td id="LC1611" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> center = bounds.getCenter(),
</code></td></tr><tr><td id="L1612" class="css-a4x74f"><span>1612</span></td><td id="LC1612" class="css-1dcdqdg"><code>		    newCenter = <span class="code-keyword">this</span>.wrapLatLng(center),
</code></td></tr><tr><td id="L1613" class="css-a4x74f"><span>1613</span></td><td id="LC1613" class="css-1dcdqdg"><code>		    latShift = center.lat - newCenter.lat,
</code></td></tr><tr><td id="L1614" class="css-a4x74f"><span>1614</span></td><td id="LC1614" class="css-1dcdqdg"><code>		    lngShift = center.lng - newCenter.lng;
</code></td></tr><tr><td id="L1615" class="css-a4x74f"><span>1615</span></td><td id="LC1615" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1616" class="css-a4x74f"><span>1616</span></td><td id="LC1616" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (latShift === <span class="code-number">0</span> &amp;&amp; lngShift === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L1617" class="css-a4x74f"><span>1617</span></td><td id="LC1617" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> bounds;
</code></td></tr><tr><td id="L1618" class="css-a4x74f"><span>1618</span></td><td id="LC1618" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1619" class="css-a4x74f"><span>1619</span></td><td id="LC1619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1620" class="css-a4x74f"><span>1620</span></td><td id="LC1620" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sw = bounds.getSouthWest(),
</code></td></tr><tr><td id="L1621" class="css-a4x74f"><span>1621</span></td><td id="LC1621" class="css-1dcdqdg"><code>		    ne = bounds.getNorthEast(),
</code></td></tr><tr><td id="L1622" class="css-a4x74f"><span>1622</span></td><td id="LC1622" class="css-1dcdqdg"><code>		    newSw = <span class="code-keyword">new</span> LatLng(sw.lat - latShift, sw.lng - lngShift),
</code></td></tr><tr><td id="L1623" class="css-a4x74f"><span>1623</span></td><td id="LC1623" class="css-1dcdqdg"><code>		    newNe = <span class="code-keyword">new</span> LatLng(ne.lat - latShift, ne.lng - lngShift);
</code></td></tr><tr><td id="L1624" class="css-a4x74f"><span>1624</span></td><td id="LC1624" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1625" class="css-a4x74f"><span>1625</span></td><td id="LC1625" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLngBounds(newSw, newNe);
</code></td></tr><tr><td id="L1626" class="css-a4x74f"><span>1626</span></td><td id="LC1626" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1627" class="css-a4x74f"><span>1627</span></td><td id="LC1627" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L1628" class="css-a4x74f"><span>1628</span></td><td id="LC1628" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1629" class="css-a4x74f"><span>1629</span></td><td id="LC1629" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1630" class="css-a4x74f"><span>1630</span></td><td id="LC1630" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace CRS
</span></code></td></tr><tr><td id="L1631" class="css-a4x74f"><span>1631</span></td><td id="LC1631" class="css-1dcdqdg"><code><span class="code-comment"> * @crs L.CRS.Earth
</span></code></td></tr><tr><td id="L1632" class="css-a4x74f"><span>1632</span></td><td id="LC1632" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1633" class="css-a4x74f"><span>1633</span></td><td id="LC1633" class="css-1dcdqdg"><code><span class="code-comment"> * Serves as the base for CRS that are global such that they cover the earth.
</span></code></td></tr><tr><td id="L1634" class="css-a4x74f"><span>1634</span></td><td id="LC1634" class="css-1dcdqdg"><code><span class="code-comment"> * Can only be used as the base for other CRS and cannot be used directly,
</span></code></td></tr><tr><td id="L1635" class="css-a4x74f"><span>1635</span></td><td id="LC1635" class="css-1dcdqdg"><code><span class="code-comment"> * since it does not have a `code`, `projection` or `transformation`. `distance()` returns
</span></code></td></tr><tr><td id="L1636" class="css-a4x74f"><span>1636</span></td><td id="LC1636" class="css-1dcdqdg"><code><span class="code-comment"> * meters.
</span></code></td></tr><tr><td id="L1637" class="css-a4x74f"><span>1637</span></td><td id="LC1637" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1638" class="css-a4x74f"><span>1638</span></td><td id="LC1638" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1639" class="css-a4x74f"><span>1639</span></td><td id="LC1639" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Earth = extend({}, CRS, {
</code></td></tr><tr><td id="L1640" class="css-a4x74f"><span>1640</span></td><td id="LC1640" class="css-1dcdqdg"><code>	wrapLng: [<span class="code-number">-180</span>, <span class="code-number">180</span>],
</code></td></tr><tr><td id="L1641" class="css-a4x74f"><span>1641</span></td><td id="LC1641" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1642" class="css-a4x74f"><span>1642</span></td><td id="LC1642" class="css-1dcdqdg"><code>	<span class="code-comment">// Mean Earth Radius, as recommended for use by</span>
</code></td></tr><tr><td id="L1643" class="css-a4x74f"><span>1643</span></td><td id="LC1643" class="css-1dcdqdg"><code>	<span class="code-comment">// the International Union of Geodesy and Geophysics,</span>
</code></td></tr><tr><td id="L1644" class="css-a4x74f"><span>1644</span></td><td id="LC1644" class="css-1dcdqdg"><code>	<span class="code-comment">// see https://rosettacode.org/wiki/Haversine_formula</span>
</code></td></tr><tr><td id="L1645" class="css-a4x74f"><span>1645</span></td><td id="LC1645" class="css-1dcdqdg"><code>	R: <span class="code-number">6371000</span>,
</code></td></tr><tr><td id="L1646" class="css-a4x74f"><span>1646</span></td><td id="LC1646" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1647" class="css-a4x74f"><span>1647</span></td><td id="LC1647" class="css-1dcdqdg"><code>	<span class="code-comment">// distance between two geographical points using spherical law of cosines approximation</span>
</code></td></tr><tr><td id="L1648" class="css-a4x74f"><span>1648</span></td><td id="LC1648" class="css-1dcdqdg"><code>	distance: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng1, latlng2</span>) </span>{
</code></td></tr><tr><td id="L1649" class="css-a4x74f"><span>1649</span></td><td id="LC1649" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> rad = <span class="code-built_in">Math</span>.PI / <span class="code-number">180</span>,
</code></td></tr><tr><td id="L1650" class="css-a4x74f"><span>1650</span></td><td id="LC1650" class="css-1dcdqdg"><code>		    lat1 = latlng1.lat * rad,
</code></td></tr><tr><td id="L1651" class="css-a4x74f"><span>1651</span></td><td id="LC1651" class="css-1dcdqdg"><code>		    lat2 = latlng2.lat * rad,
</code></td></tr><tr><td id="L1652" class="css-a4x74f"><span>1652</span></td><td id="LC1652" class="css-1dcdqdg"><code>		    sinDLat = <span class="code-built_in">Math</span>.sin((latlng2.lat - latlng1.lat) * rad / <span class="code-number">2</span>),
</code></td></tr><tr><td id="L1653" class="css-a4x74f"><span>1653</span></td><td id="LC1653" class="css-1dcdqdg"><code>		    sinDLon = <span class="code-built_in">Math</span>.sin((latlng2.lng - latlng1.lng) * rad / <span class="code-number">2</span>),
</code></td></tr><tr><td id="L1654" class="css-a4x74f"><span>1654</span></td><td id="LC1654" class="css-1dcdqdg"><code>		    a = sinDLat * sinDLat + <span class="code-built_in">Math</span>.cos(lat1) * <span class="code-built_in">Math</span>.cos(lat2) * sinDLon * sinDLon,
</code></td></tr><tr><td id="L1655" class="css-a4x74f"><span>1655</span></td><td id="LC1655" class="css-1dcdqdg"><code>		    c = <span class="code-number">2</span> * <span class="code-built_in">Math</span>.atan2(<span class="code-built_in">Math</span>.sqrt(a), <span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span> - a));
</code></td></tr><tr><td id="L1656" class="css-a4x74f"><span>1656</span></td><td id="LC1656" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.R * c;
</code></td></tr><tr><td id="L1657" class="css-a4x74f"><span>1657</span></td><td id="LC1657" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1658" class="css-a4x74f"><span>1658</span></td><td id="LC1658" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L1659" class="css-a4x74f"><span>1659</span></td><td id="LC1659" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1660" class="css-a4x74f"><span>1660</span></td><td id="LC1660" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1661" class="css-a4x74f"><span>1661</span></td><td id="LC1661" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Projection
</span></code></td></tr><tr><td id="L1662" class="css-a4x74f"><span>1662</span></td><td id="LC1662" class="css-1dcdqdg"><code><span class="code-comment"> * @projection L.Projection.SphericalMercator
</span></code></td></tr><tr><td id="L1663" class="css-a4x74f"><span>1663</span></td><td id="LC1663" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1664" class="css-a4x74f"><span>1664</span></td><td id="LC1664" class="css-1dcdqdg"><code><span class="code-comment"> * Spherical Mercator projection  the most common projection for online maps,
</span></code></td></tr><tr><td id="L1665" class="css-a4x74f"><span>1665</span></td><td id="LC1665" class="css-1dcdqdg"><code><span class="code-comment"> * used by almost all free and commercial tile providers. Assumes that Earth is
</span></code></td></tr><tr><td id="L1666" class="css-a4x74f"><span>1666</span></td><td id="LC1666" class="css-1dcdqdg"><code><span class="code-comment"> * a sphere. Used by the `EPSG:3857` CRS.
</span></code></td></tr><tr><td id="L1667" class="css-a4x74f"><span>1667</span></td><td id="LC1667" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1668" class="css-a4x74f"><span>1668</span></td><td id="LC1668" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1669" class="css-a4x74f"><span>1669</span></td><td id="LC1669" class="css-1dcdqdg"><code><span class="code-keyword">var</span> earthRadius = <span class="code-number">6378137</span>;
</code></td></tr><tr><td id="L1670" class="css-a4x74f"><span>1670</span></td><td id="LC1670" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1671" class="css-a4x74f"><span>1671</span></td><td id="LC1671" class="css-1dcdqdg"><code><span class="code-keyword">var</span> SphericalMercator = {
</code></td></tr><tr><td id="L1672" class="css-a4x74f"><span>1672</span></td><td id="LC1672" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1673" class="css-a4x74f"><span>1673</span></td><td id="LC1673" class="css-1dcdqdg"><code>	R: earthRadius,
</code></td></tr><tr><td id="L1674" class="css-a4x74f"><span>1674</span></td><td id="LC1674" class="css-1dcdqdg"><code>	MAX_LATITUDE: <span class="code-number">85.0511287798</span>,
</code></td></tr><tr><td id="L1675" class="css-a4x74f"><span>1675</span></td><td id="LC1675" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1676" class="css-a4x74f"><span>1676</span></td><td id="LC1676" class="css-1dcdqdg"><code>	project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L1677" class="css-a4x74f"><span>1677</span></td><td id="LC1677" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d = <span class="code-built_in">Math</span>.PI / <span class="code-number">180</span>,
</code></td></tr><tr><td id="L1678" class="css-a4x74f"><span>1678</span></td><td id="LC1678" class="css-1dcdqdg"><code>		    max = <span class="code-keyword">this</span>.MAX_LATITUDE,
</code></td></tr><tr><td id="L1679" class="css-a4x74f"><span>1679</span></td><td id="LC1679" class="css-1dcdqdg"><code>		    lat = <span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.min(max, latlng.lat), -max),
</code></td></tr><tr><td id="L1680" class="css-a4x74f"><span>1680</span></td><td id="LC1680" class="css-1dcdqdg"><code>		    sin = <span class="code-built_in">Math</span>.sin(lat * d);
</code></td></tr><tr><td id="L1681" class="css-a4x74f"><span>1681</span></td><td id="LC1681" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1682" class="css-a4x74f"><span>1682</span></td><td id="LC1682" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(
</code></td></tr><tr><td id="L1683" class="css-a4x74f"><span>1683</span></td><td id="LC1683" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.R * latlng.lng * d,
</code></td></tr><tr><td id="L1684" class="css-a4x74f"><span>1684</span></td><td id="LC1684" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.R * <span class="code-built_in">Math</span>.log((<span class="code-number">1</span> + sin) / (<span class="code-number">1</span> - sin)) / <span class="code-number">2</span>);
</code></td></tr><tr><td id="L1685" class="css-a4x74f"><span>1685</span></td><td id="LC1685" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1686" class="css-a4x74f"><span>1686</span></td><td id="LC1686" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1687" class="css-a4x74f"><span>1687</span></td><td id="LC1687" class="css-1dcdqdg"><code>	unproject: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L1688" class="css-a4x74f"><span>1688</span></td><td id="LC1688" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d = <span class="code-number">180</span> / <span class="code-built_in">Math</span>.PI;
</code></td></tr><tr><td id="L1689" class="css-a4x74f"><span>1689</span></td><td id="LC1689" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1690" class="css-a4x74f"><span>1690</span></td><td id="LC1690" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(
</code></td></tr><tr><td id="L1691" class="css-a4x74f"><span>1691</span></td><td id="LC1691" class="css-1dcdqdg"><code>			(<span class="code-number">2</span> * <span class="code-built_in">Math</span>.atan(<span class="code-built_in">Math</span>.exp(point.y / <span class="code-keyword">this</span>.R)) - (<span class="code-built_in">Math</span>.PI / <span class="code-number">2</span>)) * d,
</code></td></tr><tr><td id="L1692" class="css-a4x74f"><span>1692</span></td><td id="LC1692" class="css-1dcdqdg"><code>			point.x * d / <span class="code-keyword">this</span>.R);
</code></td></tr><tr><td id="L1693" class="css-a4x74f"><span>1693</span></td><td id="LC1693" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1694" class="css-a4x74f"><span>1694</span></td><td id="LC1694" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1695" class="css-a4x74f"><span>1695</span></td><td id="LC1695" class="css-1dcdqdg"><code>	bounds: (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1696" class="css-a4x74f"><span>1696</span></td><td id="LC1696" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d = earthRadius * <span class="code-built_in">Math</span>.PI;
</code></td></tr><tr><td id="L1697" class="css-a4x74f"><span>1697</span></td><td id="LC1697" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Bounds([-d, -d], [d, d]);
</code></td></tr><tr><td id="L1698" class="css-a4x74f"><span>1698</span></td><td id="LC1698" class="css-1dcdqdg"><code>	})()
</code></td></tr><tr><td id="L1699" class="css-a4x74f"><span>1699</span></td><td id="LC1699" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L1700" class="css-a4x74f"><span>1700</span></td><td id="LC1700" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1701" class="css-a4x74f"><span>1701</span></td><td id="LC1701" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1702" class="css-a4x74f"><span>1702</span></td><td id="LC1702" class="css-1dcdqdg"><code><span class="code-comment"> * @class Transformation
</span></code></td></tr><tr><td id="L1703" class="css-a4x74f"><span>1703</span></td><td id="LC1703" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Transformation
</span></code></td></tr><tr><td id="L1704" class="css-a4x74f"><span>1704</span></td><td id="LC1704" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1705" class="css-a4x74f"><span>1705</span></td><td id="LC1705" class="css-1dcdqdg"><code><span class="code-comment"> * Represents an affine transformation: a set of coefficients `a`, `b`, `c`, `d`
</span></code></td></tr><tr><td id="L1706" class="css-a4x74f"><span>1706</span></td><td id="LC1706" class="css-1dcdqdg"><code><span class="code-comment"> * for transforming a point of a form `(x, y)` into `(a*x + b, c*y + d)` and doing
</span></code></td></tr><tr><td id="L1707" class="css-a4x74f"><span>1707</span></td><td id="LC1707" class="css-1dcdqdg"><code><span class="code-comment"> * the reverse. Used by Leaflet in its projections code.
</span></code></td></tr><tr><td id="L1708" class="css-a4x74f"><span>1708</span></td><td id="LC1708" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1709" class="css-a4x74f"><span>1709</span></td><td id="LC1709" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L1710" class="css-a4x74f"><span>1710</span></td><td id="LC1710" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1711" class="css-a4x74f"><span>1711</span></td><td id="LC1711" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L1712" class="css-a4x74f"><span>1712</span></td><td id="LC1712" class="css-1dcdqdg"><code><span class="code-comment"> * var transformation = L.transformation(2, 5, -1, 10),
</span></code></td></tr><tr><td id="L1713" class="css-a4x74f"><span>1713</span></td><td id="LC1713" class="css-1dcdqdg"><code><span class="code-comment"> * 	p = L.point(1, 2),
</span></code></td></tr><tr><td id="L1714" class="css-a4x74f"><span>1714</span></td><td id="LC1714" class="css-1dcdqdg"><code><span class="code-comment"> * 	p2 = transformation.transform(p), //  L.point(7, 8)
</span></code></td></tr><tr><td id="L1715" class="css-a4x74f"><span>1715</span></td><td id="LC1715" class="css-1dcdqdg"><code><span class="code-comment"> * 	p3 = transformation.untransform(p2); //  L.point(1, 2)
</span></code></td></tr><tr><td id="L1716" class="css-a4x74f"><span>1716</span></td><td id="LC1716" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1717" class="css-a4x74f"><span>1717</span></td><td id="LC1717" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1718" class="css-a4x74f"><span>1718</span></td><td id="LC1718" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1719" class="css-a4x74f"><span>1719</span></td><td id="LC1719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1720" class="css-a4x74f"><span>1720</span></td><td id="LC1720" class="css-1dcdqdg"><code><span class="code-comment">// factory new L.Transformation(a: Number, b: Number, c: Number, d: Number)</span>
</code></td></tr><tr><td id="L1721" class="css-a4x74f"><span>1721</span></td><td id="LC1721" class="css-1dcdqdg"><code><span class="code-comment">// Creates a `Transformation` object with the given coefficients.</span>
</code></td></tr><tr><td id="L1722" class="css-a4x74f"><span>1722</span></td><td id="LC1722" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Transformation</span>(<span class="code-params">a, b, c, d</span>) </span>{
</code></td></tr><tr><td id="L1723" class="css-a4x74f"><span>1723</span></td><td id="LC1723" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (isArray(a)) {
</code></td></tr><tr><td id="L1724" class="css-a4x74f"><span>1724</span></td><td id="LC1724" class="css-1dcdqdg"><code>		<span class="code-comment">// use array properties</span>
</code></td></tr><tr><td id="L1725" class="css-a4x74f"><span>1725</span></td><td id="LC1725" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._a = a[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L1726" class="css-a4x74f"><span>1726</span></td><td id="LC1726" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._b = a[<span class="code-number">1</span>];
</code></td></tr><tr><td id="L1727" class="css-a4x74f"><span>1727</span></td><td id="LC1727" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._c = a[<span class="code-number">2</span>];
</code></td></tr><tr><td id="L1728" class="css-a4x74f"><span>1728</span></td><td id="LC1728" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._d = a[<span class="code-number">3</span>];
</code></td></tr><tr><td id="L1729" class="css-a4x74f"><span>1729</span></td><td id="LC1729" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L1730" class="css-a4x74f"><span>1730</span></td><td id="LC1730" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1731" class="css-a4x74f"><span>1731</span></td><td id="LC1731" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>._a = a;
</code></td></tr><tr><td id="L1732" class="css-a4x74f"><span>1732</span></td><td id="LC1732" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>._b = b;
</code></td></tr><tr><td id="L1733" class="css-a4x74f"><span>1733</span></td><td id="LC1733" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>._c = c;
</code></td></tr><tr><td id="L1734" class="css-a4x74f"><span>1734</span></td><td id="LC1734" class="css-1dcdqdg"><code>	<span class="code-keyword">this</span>._d = d;
</code></td></tr><tr><td id="L1735" class="css-a4x74f"><span>1735</span></td><td id="LC1735" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1736" class="css-a4x74f"><span>1736</span></td><td id="LC1736" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1737" class="css-a4x74f"><span>1737</span></td><td id="LC1737" class="css-1dcdqdg"><code>Transformation.prototype = {
</code></td></tr><tr><td id="L1738" class="css-a4x74f"><span>1738</span></td><td id="LC1738" class="css-1dcdqdg"><code>	<span class="code-comment">// @method transform(point: Point, scale?: Number): Point</span>
</code></td></tr><tr><td id="L1739" class="css-a4x74f"><span>1739</span></td><td id="LC1739" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a transformed point, optionally multiplied by the given scale.</span>
</code></td></tr><tr><td id="L1740" class="css-a4x74f"><span>1740</span></td><td id="LC1740" class="css-1dcdqdg"><code>	<span class="code-comment">// Only accepts actual `L.Point` instances, not arrays.</span>
</code></td></tr><tr><td id="L1741" class="css-a4x74f"><span>1741</span></td><td id="LC1741" class="css-1dcdqdg"><code>	transform: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point, scale</span>) </span>{ <span class="code-comment">// (Point, Number) -&gt; Point</span>
</code></td></tr><tr><td id="L1742" class="css-a4x74f"><span>1742</span></td><td id="LC1742" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transform(point.clone(), scale);
</code></td></tr><tr><td id="L1743" class="css-a4x74f"><span>1743</span></td><td id="LC1743" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1744" class="css-a4x74f"><span>1744</span></td><td id="LC1744" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1745" class="css-a4x74f"><span>1745</span></td><td id="LC1745" class="css-1dcdqdg"><code>	<span class="code-comment">// destructive transform (faster)</span>
</code></td></tr><tr><td id="L1746" class="css-a4x74f"><span>1746</span></td><td id="LC1746" class="css-1dcdqdg"><code>	_transform: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point, scale</span>) </span>{
</code></td></tr><tr><td id="L1747" class="css-a4x74f"><span>1747</span></td><td id="LC1747" class="css-1dcdqdg"><code>		scale = scale || <span class="code-number">1</span>;
</code></td></tr><tr><td id="L1748" class="css-a4x74f"><span>1748</span></td><td id="LC1748" class="css-1dcdqdg"><code>		point.x = scale * (<span class="code-keyword">this</span>._a * point.x + <span class="code-keyword">this</span>._b);
</code></td></tr><tr><td id="L1749" class="css-a4x74f"><span>1749</span></td><td id="LC1749" class="css-1dcdqdg"><code>		point.y = scale * (<span class="code-keyword">this</span>._c * point.y + <span class="code-keyword">this</span>._d);
</code></td></tr><tr><td id="L1750" class="css-a4x74f"><span>1750</span></td><td id="LC1750" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> point;
</code></td></tr><tr><td id="L1751" class="css-a4x74f"><span>1751</span></td><td id="LC1751" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L1752" class="css-a4x74f"><span>1752</span></td><td id="LC1752" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1753" class="css-a4x74f"><span>1753</span></td><td id="LC1753" class="css-1dcdqdg"><code>	<span class="code-comment">// @method untransform(point: Point, scale?: Number): Point</span>
</code></td></tr><tr><td id="L1754" class="css-a4x74f"><span>1754</span></td><td id="LC1754" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the reverse transformation of the given point, optionally divided</span>
</code></td></tr><tr><td id="L1755" class="css-a4x74f"><span>1755</span></td><td id="LC1755" class="css-1dcdqdg"><code>	<span class="code-comment">// by the given scale. Only accepts actual `L.Point` instances, not arrays.</span>
</code></td></tr><tr><td id="L1756" class="css-a4x74f"><span>1756</span></td><td id="LC1756" class="css-1dcdqdg"><code>	untransform: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point, scale</span>) </span>{
</code></td></tr><tr><td id="L1757" class="css-a4x74f"><span>1757</span></td><td id="LC1757" class="css-1dcdqdg"><code>		scale = scale || <span class="code-number">1</span>;
</code></td></tr><tr><td id="L1758" class="css-a4x74f"><span>1758</span></td><td id="LC1758" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(
</code></td></tr><tr><td id="L1759" class="css-a4x74f"><span>1759</span></td><td id="LC1759" class="css-1dcdqdg"><code>		        (point.x / scale - <span class="code-keyword">this</span>._b) / <span class="code-keyword">this</span>._a,
</code></td></tr><tr><td id="L1760" class="css-a4x74f"><span>1760</span></td><td id="LC1760" class="css-1dcdqdg"><code>		        (point.y / scale - <span class="code-keyword">this</span>._d) / <span class="code-keyword">this</span>._c);
</code></td></tr><tr><td id="L1761" class="css-a4x74f"><span>1761</span></td><td id="LC1761" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1762" class="css-a4x74f"><span>1762</span></td><td id="LC1762" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L1763" class="css-a4x74f"><span>1763</span></td><td id="LC1763" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1764" class="css-a4x74f"><span>1764</span></td><td id="LC1764" class="css-1dcdqdg"><code><span class="code-comment">// factory L.transformation(a: Number, b: Number, c: Number, d: Number)</span>
</code></td></tr><tr><td id="L1765" class="css-a4x74f"><span>1765</span></td><td id="LC1765" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1766" class="css-a4x74f"><span>1766</span></td><td id="LC1766" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.transformation(a: Number, b: Number, c: Number, d: Number)</span>
</code></td></tr><tr><td id="L1767" class="css-a4x74f"><span>1767</span></td><td id="LC1767" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a Transformation object with the given coefficients.</span>
</code></td></tr><tr><td id="L1768" class="css-a4x74f"><span>1768</span></td><td id="LC1768" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1769" class="css-a4x74f"><span>1769</span></td><td id="LC1769" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L1770" class="css-a4x74f"><span>1770</span></td><td id="LC1770" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.transformation(coefficients: Array): Transformation</span>
</code></td></tr><tr><td id="L1771" class="css-a4x74f"><span>1771</span></td><td id="LC1771" class="css-1dcdqdg"><code><span class="code-comment">// Expects an coefficients array of the form</span>
</code></td></tr><tr><td id="L1772" class="css-a4x74f"><span>1772</span></td><td id="LC1772" class="css-1dcdqdg"><code><span class="code-comment">// `[a: Number, b: Number, c: Number, d: Number]`.</span>
</code></td></tr><tr><td id="L1773" class="css-a4x74f"><span>1773</span></td><td id="LC1773" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1774" class="css-a4x74f"><span>1774</span></td><td id="LC1774" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toTransformation</span>(<span class="code-params">a, b, c, d</span>) </span>{
</code></td></tr><tr><td id="L1775" class="css-a4x74f"><span>1775</span></td><td id="LC1775" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Transformation(a, b, c, d);
</code></td></tr><tr><td id="L1776" class="css-a4x74f"><span>1776</span></td><td id="LC1776" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1777" class="css-a4x74f"><span>1777</span></td><td id="LC1777" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1778" class="css-a4x74f"><span>1778</span></td><td id="LC1778" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1779" class="css-a4x74f"><span>1779</span></td><td id="LC1779" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace CRS
</span></code></td></tr><tr><td id="L1780" class="css-a4x74f"><span>1780</span></td><td id="LC1780" class="css-1dcdqdg"><code><span class="code-comment"> * @crs L.CRS.EPSG3857
</span></code></td></tr><tr><td id="L1781" class="css-a4x74f"><span>1781</span></td><td id="LC1781" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1782" class="css-a4x74f"><span>1782</span></td><td id="LC1782" class="css-1dcdqdg"><code><span class="code-comment"> * The most common CRS for online maps, used by almost all free and commercial
</span></code></td></tr><tr><td id="L1783" class="css-a4x74f"><span>1783</span></td><td id="LC1783" class="css-1dcdqdg"><code><span class="code-comment"> * tile providers. Uses Spherical Mercator projection. Set in by default in
</span></code></td></tr><tr><td id="L1784" class="css-a4x74f"><span>1784</span></td><td id="LC1784" class="css-1dcdqdg"><code><span class="code-comment"> * Map's `crs` option.
</span></code></td></tr><tr><td id="L1785" class="css-a4x74f"><span>1785</span></td><td id="LC1785" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1786" class="css-a4x74f"><span>1786</span></td><td id="LC1786" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1787" class="css-a4x74f"><span>1787</span></td><td id="LC1787" class="css-1dcdqdg"><code><span class="code-keyword">var</span> EPSG3857 = extend({}, Earth, {
</code></td></tr><tr><td id="L1788" class="css-a4x74f"><span>1788</span></td><td id="LC1788" class="css-1dcdqdg"><code>	code: <span class="code-string">'EPSG:3857'</span>,
</code></td></tr><tr><td id="L1789" class="css-a4x74f"><span>1789</span></td><td id="LC1789" class="css-1dcdqdg"><code>	projection: SphericalMercator,
</code></td></tr><tr><td id="L1790" class="css-a4x74f"><span>1790</span></td><td id="LC1790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1791" class="css-a4x74f"><span>1791</span></td><td id="LC1791" class="css-1dcdqdg"><code>	transformation: (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1792" class="css-a4x74f"><span>1792</span></td><td id="LC1792" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-number">0.5</span> / (<span class="code-built_in">Math</span>.PI * SphericalMercator.R);
</code></td></tr><tr><td id="L1793" class="css-a4x74f"><span>1793</span></td><td id="LC1793" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toTransformation(scale, <span class="code-number">0.5</span>, -scale, <span class="code-number">0.5</span>);
</code></td></tr><tr><td id="L1794" class="css-a4x74f"><span>1794</span></td><td id="LC1794" class="css-1dcdqdg"><code>	}())
</code></td></tr><tr><td id="L1795" class="css-a4x74f"><span>1795</span></td><td id="LC1795" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L1796" class="css-a4x74f"><span>1796</span></td><td id="LC1796" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1797" class="css-a4x74f"><span>1797</span></td><td id="LC1797" class="css-1dcdqdg"><code><span class="code-keyword">var</span> EPSG900913 = extend({}, EPSG3857, {
</code></td></tr><tr><td id="L1798" class="css-a4x74f"><span>1798</span></td><td id="LC1798" class="css-1dcdqdg"><code>	code: <span class="code-string">'EPSG:900913'</span>
</code></td></tr><tr><td id="L1799" class="css-a4x74f"><span>1799</span></td><td id="LC1799" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L1800" class="css-a4x74f"><span>1800</span></td><td id="LC1800" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1801" class="css-a4x74f"><span>1801</span></td><td id="LC1801" class="css-1dcdqdg"><code><span class="code-comment">// @namespace SVG; @section</span>
</code></td></tr><tr><td id="L1802" class="css-a4x74f"><span>1802</span></td><td id="LC1802" class="css-1dcdqdg"><code><span class="code-comment">// There are several static functions which can be called without instantiating L.SVG:</span>
</code></td></tr><tr><td id="L1803" class="css-a4x74f"><span>1803</span></td><td id="LC1803" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1804" class="css-a4x74f"><span>1804</span></td><td id="LC1804" class="css-1dcdqdg"><code><span class="code-comment">// @function create(name: String): SVGElement</span>
</code></td></tr><tr><td id="L1805" class="css-a4x74f"><span>1805</span></td><td id="LC1805" class="css-1dcdqdg"><code><span class="code-comment">// Returns a instance of [SVGElement](https://developer.mozilla.org/docs/Web/API/SVGElement),</span>
</code></td></tr><tr><td id="L1806" class="css-a4x74f"><span>1806</span></td><td id="LC1806" class="css-1dcdqdg"><code><span class="code-comment">// corresponding to the class name passed. For example, using 'line' will return</span>
</code></td></tr><tr><td id="L1807" class="css-a4x74f"><span>1807</span></td><td id="LC1807" class="css-1dcdqdg"><code><span class="code-comment">// an instance of [SVGLineElement](https://developer.mozilla.org/docs/Web/API/SVGLineElement).</span>
</code></td></tr><tr><td id="L1808" class="css-a4x74f"><span>1808</span></td><td id="LC1808" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">svgCreate</span>(<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L1809" class="css-a4x74f"><span>1809</span></td><td id="LC1809" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-built_in">document</span>.createElementNS(<span class="code-string">'http://www.w3.org/2000/svg'</span>, name);
</code></td></tr><tr><td id="L1810" class="css-a4x74f"><span>1810</span></td><td id="LC1810" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1811" class="css-a4x74f"><span>1811</span></td><td id="LC1811" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1812" class="css-a4x74f"><span>1812</span></td><td id="LC1812" class="css-1dcdqdg"><code><span class="code-comment">// @function pointsToPath(rings: Point[], closed: Boolean): String</span>
</code></td></tr><tr><td id="L1813" class="css-a4x74f"><span>1813</span></td><td id="LC1813" class="css-1dcdqdg"><code><span class="code-comment">// Generates a SVG path string for multiple rings, with each ring turning</span>
</code></td></tr><tr><td id="L1814" class="css-a4x74f"><span>1814</span></td><td id="LC1814" class="css-1dcdqdg"><code><span class="code-comment">// into "M..L..L.." instructions</span>
</code></td></tr><tr><td id="L1815" class="css-a4x74f"><span>1815</span></td><td id="LC1815" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pointsToPath</span>(<span class="code-params">rings, closed</span>) </span>{
</code></td></tr><tr><td id="L1816" class="css-a4x74f"><span>1816</span></td><td id="LC1816" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> str = <span class="code-string">''</span>,
</code></td></tr><tr><td id="L1817" class="css-a4x74f"><span>1817</span></td><td id="LC1817" class="css-1dcdqdg"><code>	i, j, len, len2, points, p;
</code></td></tr><tr><td id="L1818" class="css-a4x74f"><span>1818</span></td><td id="LC1818" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1819" class="css-a4x74f"><span>1819</span></td><td id="LC1819" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = rings.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L1820" class="css-a4x74f"><span>1820</span></td><td id="LC1820" class="css-1dcdqdg"><code>		points = rings[i];
</code></td></tr><tr><td id="L1821" class="css-a4x74f"><span>1821</span></td><td id="LC1821" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1822" class="css-a4x74f"><span>1822</span></td><td id="LC1822" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (j = <span class="code-number">0</span>, len2 = points.length; j &lt; len2; j++) {
</code></td></tr><tr><td id="L1823" class="css-a4x74f"><span>1823</span></td><td id="LC1823" class="css-1dcdqdg"><code>			p = points[j];
</code></td></tr><tr><td id="L1824" class="css-a4x74f"><span>1824</span></td><td id="LC1824" class="css-1dcdqdg"><code>			str += (j ? <span class="code-string">'L'</span> : <span class="code-string">'M'</span>) + p.x + <span class="code-string">' '</span> + p.y;
</code></td></tr><tr><td id="L1825" class="css-a4x74f"><span>1825</span></td><td id="LC1825" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L1826" class="css-a4x74f"><span>1826</span></td><td id="LC1826" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1827" class="css-a4x74f"><span>1827</span></td><td id="LC1827" class="css-1dcdqdg"><code>		<span class="code-comment">// closes the ring for polygons; "x" is VML syntax</span>
</code></td></tr><tr><td id="L1828" class="css-a4x74f"><span>1828</span></td><td id="LC1828" class="css-1dcdqdg"><code>		str += closed ? (Browser.svg ? <span class="code-string">'z'</span> : <span class="code-string">'x'</span>) : <span class="code-string">''</span>;
</code></td></tr><tr><td id="L1829" class="css-a4x74f"><span>1829</span></td><td id="LC1829" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1830" class="css-a4x74f"><span>1830</span></td><td id="LC1830" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1831" class="css-a4x74f"><span>1831</span></td><td id="LC1831" class="css-1dcdqdg"><code>	<span class="code-comment">// SVG complains about empty path strings</span>
</code></td></tr><tr><td id="L1832" class="css-a4x74f"><span>1832</span></td><td id="LC1832" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> str || <span class="code-string">'M0 0'</span>;
</code></td></tr><tr><td id="L1833" class="css-a4x74f"><span>1833</span></td><td id="LC1833" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L1834" class="css-a4x74f"><span>1834</span></td><td id="LC1834" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1835" class="css-a4x74f"><span>1835</span></td><td id="LC1835" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L1836" class="css-a4x74f"><span>1836</span></td><td id="LC1836" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Browser
</span></code></td></tr><tr><td id="L1837" class="css-a4x74f"><span>1837</span></td><td id="LC1837" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Browser
</span></code></td></tr><tr><td id="L1838" class="css-a4x74f"><span>1838</span></td><td id="LC1838" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1839" class="css-a4x74f"><span>1839</span></td><td id="LC1839" class="css-1dcdqdg"><code><span class="code-comment"> * A namespace with static properties for browser/feature detection used by Leaflet internally.
</span></code></td></tr><tr><td id="L1840" class="css-a4x74f"><span>1840</span></td><td id="LC1840" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1841" class="css-a4x74f"><span>1841</span></td><td id="LC1841" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L1842" class="css-a4x74f"><span>1842</span></td><td id="LC1842" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L1843" class="css-a4x74f"><span>1843</span></td><td id="LC1843" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L1844" class="css-a4x74f"><span>1844</span></td><td id="LC1844" class="css-1dcdqdg"><code><span class="code-comment"> * if (L.Browser.ielt9) {
</span></code></td></tr><tr><td id="L1845" class="css-a4x74f"><span>1845</span></td><td id="LC1845" class="css-1dcdqdg"><code><span class="code-comment"> *   alert('Upgrade your browser, dude!');
</span></code></td></tr><tr><td id="L1846" class="css-a4x74f"><span>1846</span></td><td id="LC1846" class="css-1dcdqdg"><code><span class="code-comment"> * }
</span></code></td></tr><tr><td id="L1847" class="css-a4x74f"><span>1847</span></td><td id="LC1847" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L1848" class="css-a4x74f"><span>1848</span></td><td id="LC1848" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L1849" class="css-a4x74f"><span>1849</span></td><td id="LC1849" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1850" class="css-a4x74f"><span>1850</span></td><td id="LC1850" class="css-1dcdqdg"><code><span class="code-keyword">var</span> style = <span class="code-built_in">document</span>.documentElement.style;
</code></td></tr><tr><td id="L1851" class="css-a4x74f"><span>1851</span></td><td id="LC1851" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1852" class="css-a4x74f"><span>1852</span></td><td id="LC1852" class="css-1dcdqdg"><code><span class="code-comment">// @property ie: Boolean; `true` for all Internet Explorer versions (not Edge).</span>
</code></td></tr><tr><td id="L1853" class="css-a4x74f"><span>1853</span></td><td id="LC1853" class="css-1dcdqdg"><code><span class="code-keyword">var</span> ie = <span class="code-string">'ActiveXObject'</span> <span class="code-keyword">in</span> <span class="code-built_in">window</span>;
</code></td></tr><tr><td id="L1854" class="css-a4x74f"><span>1854</span></td><td id="LC1854" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1855" class="css-a4x74f"><span>1855</span></td><td id="LC1855" class="css-1dcdqdg"><code><span class="code-comment">// @property ielt9: Boolean; `true` for Internet Explorer versions less than 9.</span>
</code></td></tr><tr><td id="L1856" class="css-a4x74f"><span>1856</span></td><td id="LC1856" class="css-1dcdqdg"><code><span class="code-keyword">var</span> ielt9 = ie &amp;&amp; !<span class="code-built_in">document</span>.addEventListener;
</code></td></tr><tr><td id="L1857" class="css-a4x74f"><span>1857</span></td><td id="LC1857" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1858" class="css-a4x74f"><span>1858</span></td><td id="LC1858" class="css-1dcdqdg"><code><span class="code-comment">// @property edge: Boolean; `true` for the Edge web browser.</span>
</code></td></tr><tr><td id="L1859" class="css-a4x74f"><span>1859</span></td><td id="LC1859" class="css-1dcdqdg"><code><span class="code-keyword">var</span> edge = <span class="code-string">'msLaunchUri'</span> <span class="code-keyword">in</span> navigator &amp;&amp; !(<span class="code-string">'documentMode'</span> <span class="code-keyword">in</span> <span class="code-built_in">document</span>);
</code></td></tr><tr><td id="L1860" class="css-a4x74f"><span>1860</span></td><td id="LC1860" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1861" class="css-a4x74f"><span>1861</span></td><td id="LC1861" class="css-1dcdqdg"><code><span class="code-comment">// @property webkit: Boolean;</span>
</code></td></tr><tr><td id="L1862" class="css-a4x74f"><span>1862</span></td><td id="LC1862" class="css-1dcdqdg"><code><span class="code-comment">// `true` for webkit-based browsers like Chrome and Safari (including mobile versions).</span>
</code></td></tr><tr><td id="L1863" class="css-a4x74f"><span>1863</span></td><td id="LC1863" class="css-1dcdqdg"><code><span class="code-keyword">var</span> webkit = userAgentContains(<span class="code-string">'webkit'</span>);
</code></td></tr><tr><td id="L1864" class="css-a4x74f"><span>1864</span></td><td id="LC1864" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1865" class="css-a4x74f"><span>1865</span></td><td id="LC1865" class="css-1dcdqdg"><code><span class="code-comment">// @property android: Boolean</span>
</code></td></tr><tr><td id="L1866" class="css-a4x74f"><span>1866</span></td><td id="LC1866" class="css-1dcdqdg"><code><span class="code-comment">// **Deprecated.** `true` for any browser running on an Android platform.</span>
</code></td></tr><tr><td id="L1867" class="css-a4x74f"><span>1867</span></td><td id="LC1867" class="css-1dcdqdg"><code><span class="code-keyword">var</span> android = userAgentContains(<span class="code-string">'android'</span>);
</code></td></tr><tr><td id="L1868" class="css-a4x74f"><span>1868</span></td><td id="LC1868" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1869" class="css-a4x74f"><span>1869</span></td><td id="LC1869" class="css-1dcdqdg"><code><span class="code-comment">// @property android23: Boolean; **Deprecated.** `true` for browsers running on Android 2 or Android 3.</span>
</code></td></tr><tr><td id="L1870" class="css-a4x74f"><span>1870</span></td><td id="LC1870" class="css-1dcdqdg"><code><span class="code-keyword">var</span> android23 = userAgentContains(<span class="code-string">'android 2'</span>) || userAgentContains(<span class="code-string">'android 3'</span>);
</code></td></tr><tr><td id="L1871" class="css-a4x74f"><span>1871</span></td><td id="LC1871" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1872" class="css-a4x74f"><span>1872</span></td><td id="LC1872" class="css-1dcdqdg"><code><span class="code-comment">/* See https://stackoverflow.com/a/17961266 for details on detecting stock Android */</span>
</code></td></tr><tr><td id="L1873" class="css-a4x74f"><span>1873</span></td><td id="LC1873" class="css-1dcdqdg"><code><span class="code-keyword">var</span> webkitVer = <span class="code-built_in">parseInt</span>(<span class="code-regexp">/WebKit\/([0-9]+)|$/</span>.exec(navigator.userAgent)[<span class="code-number">1</span>], <span class="code-number">10</span>); <span class="code-comment">// also matches AppleWebKit</span>
</code></td></tr><tr><td id="L1874" class="css-a4x74f"><span>1874</span></td><td id="LC1874" class="css-1dcdqdg"><code><span class="code-comment">// @property androidStock: Boolean; **Deprecated.** `true` for the Android stock browser (i.e. not Chrome)</span>
</code></td></tr><tr><td id="L1875" class="css-a4x74f"><span>1875</span></td><td id="LC1875" class="css-1dcdqdg"><code><span class="code-keyword">var</span> androidStock = android &amp;&amp; userAgentContains(<span class="code-string">'Google'</span>) &amp;&amp; webkitVer &lt; <span class="code-number">537</span> &amp;&amp; !(<span class="code-string">'AudioNode'</span> <span class="code-keyword">in</span> <span class="code-built_in">window</span>);
</code></td></tr><tr><td id="L1876" class="css-a4x74f"><span>1876</span></td><td id="LC1876" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1877" class="css-a4x74f"><span>1877</span></td><td id="LC1877" class="css-1dcdqdg"><code><span class="code-comment">// @property opera: Boolean; `true` for the Opera browser</span>
</code></td></tr><tr><td id="L1878" class="css-a4x74f"><span>1878</span></td><td id="LC1878" class="css-1dcdqdg"><code><span class="code-keyword">var</span> opera = !!<span class="code-built_in">window</span>.opera;
</code></td></tr><tr><td id="L1879" class="css-a4x74f"><span>1879</span></td><td id="LC1879" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1880" class="css-a4x74f"><span>1880</span></td><td id="LC1880" class="css-1dcdqdg"><code><span class="code-comment">// @property chrome: Boolean; `true` for the Chrome browser.</span>
</code></td></tr><tr><td id="L1881" class="css-a4x74f"><span>1881</span></td><td id="LC1881" class="css-1dcdqdg"><code><span class="code-keyword">var</span> chrome = !edge &amp;&amp; userAgentContains(<span class="code-string">'chrome'</span>);
</code></td></tr><tr><td id="L1882" class="css-a4x74f"><span>1882</span></td><td id="LC1882" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1883" class="css-a4x74f"><span>1883</span></td><td id="LC1883" class="css-1dcdqdg"><code><span class="code-comment">// @property gecko: Boolean; `true` for gecko-based browsers like Firefox.</span>
</code></td></tr><tr><td id="L1884" class="css-a4x74f"><span>1884</span></td><td id="LC1884" class="css-1dcdqdg"><code><span class="code-keyword">var</span> gecko = userAgentContains(<span class="code-string">'gecko'</span>) &amp;&amp; !webkit &amp;&amp; !opera &amp;&amp; !ie;
</code></td></tr><tr><td id="L1885" class="css-a4x74f"><span>1885</span></td><td id="LC1885" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1886" class="css-a4x74f"><span>1886</span></td><td id="LC1886" class="css-1dcdqdg"><code><span class="code-comment">// @property safari: Boolean; `true` for the Safari browser.</span>
</code></td></tr><tr><td id="L1887" class="css-a4x74f"><span>1887</span></td><td id="LC1887" class="css-1dcdqdg"><code><span class="code-keyword">var</span> safari = !chrome &amp;&amp; userAgentContains(<span class="code-string">'safari'</span>);
</code></td></tr><tr><td id="L1888" class="css-a4x74f"><span>1888</span></td><td id="LC1888" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1889" class="css-a4x74f"><span>1889</span></td><td id="LC1889" class="css-1dcdqdg"><code><span class="code-keyword">var</span> phantom = userAgentContains(<span class="code-string">'phantom'</span>);
</code></td></tr><tr><td id="L1890" class="css-a4x74f"><span>1890</span></td><td id="LC1890" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1891" class="css-a4x74f"><span>1891</span></td><td id="LC1891" class="css-1dcdqdg"><code><span class="code-comment">// @property opera12: Boolean</span>
</code></td></tr><tr><td id="L1892" class="css-a4x74f"><span>1892</span></td><td id="LC1892" class="css-1dcdqdg"><code><span class="code-comment">// `true` for the Opera browser supporting CSS transforms (version 12 or later).</span>
</code></td></tr><tr><td id="L1893" class="css-a4x74f"><span>1893</span></td><td id="LC1893" class="css-1dcdqdg"><code><span class="code-keyword">var</span> opera12 = <span class="code-string">'OTransition'</span> <span class="code-keyword">in</span> style;
</code></td></tr><tr><td id="L1894" class="css-a4x74f"><span>1894</span></td><td id="LC1894" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1895" class="css-a4x74f"><span>1895</span></td><td id="LC1895" class="css-1dcdqdg"><code><span class="code-comment">// @property win: Boolean; `true` when the browser is running in a Windows platform</span>
</code></td></tr><tr><td id="L1896" class="css-a4x74f"><span>1896</span></td><td id="LC1896" class="css-1dcdqdg"><code><span class="code-keyword">var</span> win = navigator.platform.indexOf(<span class="code-string">'Win'</span>) === <span class="code-number">0</span>;
</code></td></tr><tr><td id="L1897" class="css-a4x74f"><span>1897</span></td><td id="LC1897" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1898" class="css-a4x74f"><span>1898</span></td><td id="LC1898" class="css-1dcdqdg"><code><span class="code-comment">// @property ie3d: Boolean; `true` for all Internet Explorer versions supporting CSS transforms.</span>
</code></td></tr><tr><td id="L1899" class="css-a4x74f"><span>1899</span></td><td id="LC1899" class="css-1dcdqdg"><code><span class="code-keyword">var</span> ie3d = ie &amp;&amp; (<span class="code-string">'transition'</span> <span class="code-keyword">in</span> style);
</code></td></tr><tr><td id="L1900" class="css-a4x74f"><span>1900</span></td><td id="LC1900" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1901" class="css-a4x74f"><span>1901</span></td><td id="LC1901" class="css-1dcdqdg"><code><span class="code-comment">// @property webkit3d: Boolean; `true` for webkit-based browsers supporting CSS transforms.</span>
</code></td></tr><tr><td id="L1902" class="css-a4x74f"><span>1902</span></td><td id="LC1902" class="css-1dcdqdg"><code><span class="code-keyword">var</span> webkit3d = (<span class="code-string">'WebKitCSSMatrix'</span> <span class="code-keyword">in</span> <span class="code-built_in">window</span>) &amp;&amp; (<span class="code-string">'m11'</span> <span class="code-keyword">in</span> <span class="code-keyword">new</span> <span class="code-built_in">window</span>.WebKitCSSMatrix()) &amp;&amp; !android23;
</code></td></tr><tr><td id="L1903" class="css-a4x74f"><span>1903</span></td><td id="LC1903" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1904" class="css-a4x74f"><span>1904</span></td><td id="LC1904" class="css-1dcdqdg"><code><span class="code-comment">// @property gecko3d: Boolean; `true` for gecko-based browsers supporting CSS transforms.</span>
</code></td></tr><tr><td id="L1905" class="css-a4x74f"><span>1905</span></td><td id="LC1905" class="css-1dcdqdg"><code><span class="code-keyword">var</span> gecko3d = <span class="code-string">'MozPerspective'</span> <span class="code-keyword">in</span> style;
</code></td></tr><tr><td id="L1906" class="css-a4x74f"><span>1906</span></td><td id="LC1906" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1907" class="css-a4x74f"><span>1907</span></td><td id="LC1907" class="css-1dcdqdg"><code><span class="code-comment">// @property any3d: Boolean</span>
</code></td></tr><tr><td id="L1908" class="css-a4x74f"><span>1908</span></td><td id="LC1908" class="css-1dcdqdg"><code><span class="code-comment">// `true` for all browsers supporting CSS transforms.</span>
</code></td></tr><tr><td id="L1909" class="css-a4x74f"><span>1909</span></td><td id="LC1909" class="css-1dcdqdg"><code><span class="code-keyword">var</span> any3d = !<span class="code-built_in">window</span>.L_DISABLE_3D &amp;&amp; (ie3d || webkit3d || gecko3d) &amp;&amp; !opera12 &amp;&amp; !phantom;
</code></td></tr><tr><td id="L1910" class="css-a4x74f"><span>1910</span></td><td id="LC1910" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1911" class="css-a4x74f"><span>1911</span></td><td id="LC1911" class="css-1dcdqdg"><code><span class="code-comment">// @property mobile: Boolean; `true` for all browsers running in a mobile device.</span>
</code></td></tr><tr><td id="L1912" class="css-a4x74f"><span>1912</span></td><td id="LC1912" class="css-1dcdqdg"><code><span class="code-keyword">var</span> mobile = <span class="code-keyword">typeof</span> orientation !== <span class="code-string">'undefined'</span> || userAgentContains(<span class="code-string">'mobile'</span>);
</code></td></tr><tr><td id="L1913" class="css-a4x74f"><span>1913</span></td><td id="LC1913" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1914" class="css-a4x74f"><span>1914</span></td><td id="LC1914" class="css-1dcdqdg"><code><span class="code-comment">// @property mobileWebkit: Boolean; `true` for all webkit-based browsers in a mobile device.</span>
</code></td></tr><tr><td id="L1915" class="css-a4x74f"><span>1915</span></td><td id="LC1915" class="css-1dcdqdg"><code><span class="code-keyword">var</span> mobileWebkit = mobile &amp;&amp; webkit;
</code></td></tr><tr><td id="L1916" class="css-a4x74f"><span>1916</span></td><td id="LC1916" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1917" class="css-a4x74f"><span>1917</span></td><td id="LC1917" class="css-1dcdqdg"><code><span class="code-comment">// @property mobileWebkit3d: Boolean</span>
</code></td></tr><tr><td id="L1918" class="css-a4x74f"><span>1918</span></td><td id="LC1918" class="css-1dcdqdg"><code><span class="code-comment">// `true` for all webkit-based browsers in a mobile device supporting CSS transforms.</span>
</code></td></tr><tr><td id="L1919" class="css-a4x74f"><span>1919</span></td><td id="LC1919" class="css-1dcdqdg"><code><span class="code-keyword">var</span> mobileWebkit3d = mobile &amp;&amp; webkit3d;
</code></td></tr><tr><td id="L1920" class="css-a4x74f"><span>1920</span></td><td id="LC1920" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1921" class="css-a4x74f"><span>1921</span></td><td id="LC1921" class="css-1dcdqdg"><code><span class="code-comment">// @property msPointer: Boolean</span>
</code></td></tr><tr><td id="L1922" class="css-a4x74f"><span>1922</span></td><td id="LC1922" class="css-1dcdqdg"><code><span class="code-comment">// `true` for browsers implementing the Microsoft touch events model (notably IE10).</span>
</code></td></tr><tr><td id="L1923" class="css-a4x74f"><span>1923</span></td><td id="LC1923" class="css-1dcdqdg"><code><span class="code-keyword">var</span> msPointer = !<span class="code-built_in">window</span>.PointerEvent &amp;&amp; <span class="code-built_in">window</span>.MSPointerEvent;
</code></td></tr><tr><td id="L1924" class="css-a4x74f"><span>1924</span></td><td id="LC1924" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1925" class="css-a4x74f"><span>1925</span></td><td id="LC1925" class="css-1dcdqdg"><code><span class="code-comment">// @property pointer: Boolean</span>
</code></td></tr><tr><td id="L1926" class="css-a4x74f"><span>1926</span></td><td id="LC1926" class="css-1dcdqdg"><code><span class="code-comment">// `true` for all browsers supporting [pointer events](https://msdn.microsoft.com/en-us/library/dn433244%28v=vs.85%29.aspx).</span>
</code></td></tr><tr><td id="L1927" class="css-a4x74f"><span>1927</span></td><td id="LC1927" class="css-1dcdqdg"><code><span class="code-keyword">var</span> pointer = !!(<span class="code-built_in">window</span>.PointerEvent || msPointer);
</code></td></tr><tr><td id="L1928" class="css-a4x74f"><span>1928</span></td><td id="LC1928" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1929" class="css-a4x74f"><span>1929</span></td><td id="LC1929" class="css-1dcdqdg"><code><span class="code-comment">// @property touchNative: Boolean</span>
</code></td></tr><tr><td id="L1930" class="css-a4x74f"><span>1930</span></td><td id="LC1930" class="css-1dcdqdg"><code><span class="code-comment">// `true` for all browsers supporting [touch events](https://developer.mozilla.org/docs/Web/API/Touch_events).</span>
</code></td></tr><tr><td id="L1931" class="css-a4x74f"><span>1931</span></td><td id="LC1931" class="css-1dcdqdg"><code><span class="code-comment">// **This does not necessarily mean** that the browser is running in a computer with</span>
</code></td></tr><tr><td id="L1932" class="css-a4x74f"><span>1932</span></td><td id="LC1932" class="css-1dcdqdg"><code><span class="code-comment">// a touchscreen, it only means that the browser is capable of understanding</span>
</code></td></tr><tr><td id="L1933" class="css-a4x74f"><span>1933</span></td><td id="LC1933" class="css-1dcdqdg"><code><span class="code-comment">// touch events.</span>
</code></td></tr><tr><td id="L1934" class="css-a4x74f"><span>1934</span></td><td id="LC1934" class="css-1dcdqdg"><code><span class="code-keyword">var</span> touchNative = <span class="code-string">'ontouchstart'</span> <span class="code-keyword">in</span> <span class="code-built_in">window</span> || !!<span class="code-built_in">window</span>.TouchEvent;
</code></td></tr><tr><td id="L1935" class="css-a4x74f"><span>1935</span></td><td id="LC1935" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1936" class="css-a4x74f"><span>1936</span></td><td id="LC1936" class="css-1dcdqdg"><code><span class="code-comment">// @property touch: Boolean</span>
</code></td></tr><tr><td id="L1937" class="css-a4x74f"><span>1937</span></td><td id="LC1937" class="css-1dcdqdg"><code><span class="code-comment">// `true` for all browsers supporting either [touch](#browser-touch) or [pointer](#browser-pointer) events.</span>
</code></td></tr><tr><td id="L1938" class="css-a4x74f"><span>1938</span></td><td id="LC1938" class="css-1dcdqdg"><code><span class="code-comment">// Note: pointer events will be preferred (if available), and processed for all `touch*` listeners.</span>
</code></td></tr><tr><td id="L1939" class="css-a4x74f"><span>1939</span></td><td id="LC1939" class="css-1dcdqdg"><code><span class="code-keyword">var</span> touch = !<span class="code-built_in">window</span>.L_NO_TOUCH &amp;&amp; (touchNative || pointer);
</code></td></tr><tr><td id="L1940" class="css-a4x74f"><span>1940</span></td><td id="LC1940" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1941" class="css-a4x74f"><span>1941</span></td><td id="LC1941" class="css-1dcdqdg"><code><span class="code-comment">// @property mobileOpera: Boolean; `true` for the Opera browser in a mobile device.</span>
</code></td></tr><tr><td id="L1942" class="css-a4x74f"><span>1942</span></td><td id="LC1942" class="css-1dcdqdg"><code><span class="code-keyword">var</span> mobileOpera = mobile &amp;&amp; opera;
</code></td></tr><tr><td id="L1943" class="css-a4x74f"><span>1943</span></td><td id="LC1943" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1944" class="css-a4x74f"><span>1944</span></td><td id="LC1944" class="css-1dcdqdg"><code><span class="code-comment">// @property mobileGecko: Boolean</span>
</code></td></tr><tr><td id="L1945" class="css-a4x74f"><span>1945</span></td><td id="LC1945" class="css-1dcdqdg"><code><span class="code-comment">// `true` for gecko-based browsers running in a mobile device.</span>
</code></td></tr><tr><td id="L1946" class="css-a4x74f"><span>1946</span></td><td id="LC1946" class="css-1dcdqdg"><code><span class="code-keyword">var</span> mobileGecko = mobile &amp;&amp; gecko;
</code></td></tr><tr><td id="L1947" class="css-a4x74f"><span>1947</span></td><td id="LC1947" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1948" class="css-a4x74f"><span>1948</span></td><td id="LC1948" class="css-1dcdqdg"><code><span class="code-comment">// @property retina: Boolean</span>
</code></td></tr><tr><td id="L1949" class="css-a4x74f"><span>1949</span></td><td id="LC1949" class="css-1dcdqdg"><code><span class="code-comment">// `true` for browsers on a high-resolution "retina" screen or on any screen when browser's display zoom is more than 100%.</span>
</code></td></tr><tr><td id="L1950" class="css-a4x74f"><span>1950</span></td><td id="LC1950" class="css-1dcdqdg"><code><span class="code-keyword">var</span> retina = (<span class="code-built_in">window</span>.devicePixelRatio || (<span class="code-built_in">window</span>.screen.deviceXDPI / <span class="code-built_in">window</span>.screen.logicalXDPI)) &gt; <span class="code-number">1</span>;
</code></td></tr><tr><td id="L1951" class="css-a4x74f"><span>1951</span></td><td id="LC1951" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1952" class="css-a4x74f"><span>1952</span></td><td id="LC1952" class="css-1dcdqdg"><code><span class="code-comment">// @property passiveEvents: Boolean</span>
</code></td></tr><tr><td id="L1953" class="css-a4x74f"><span>1953</span></td><td id="LC1953" class="css-1dcdqdg"><code><span class="code-comment">// `true` for browsers that support passive events.</span>
</code></td></tr><tr><td id="L1954" class="css-a4x74f"><span>1954</span></td><td id="LC1954" class="css-1dcdqdg"><code><span class="code-keyword">var</span> passiveEvents = (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1955" class="css-a4x74f"><span>1955</span></td><td id="LC1955" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> supportsPassiveOption = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1956" class="css-a4x74f"><span>1956</span></td><td id="LC1956" class="css-1dcdqdg"><code>	<span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1957" class="css-a4x74f"><span>1957</span></td><td id="LC1957" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> opts = <span class="code-built_in">Object</span>.defineProperty({}, <span class="code-string">'passive'</span>, {
</code></td></tr><tr><td id="L1958" class="css-a4x74f"><span>1958</span></td><td id="LC1958" class="css-1dcdqdg"><code>			<span class="code-keyword">get</span>: function () { <span class="code-comment">// eslint-disable-line getter-return</span>
</code></td></tr><tr><td id="L1959" class="css-a4x74f"><span>1959</span></td><td id="LC1959" class="css-1dcdqdg"><code>				supportsPassiveOption = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L1960" class="css-a4x74f"><span>1960</span></td><td id="LC1960" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L1961" class="css-a4x74f"><span>1961</span></td><td id="LC1961" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L1962" class="css-a4x74f"><span>1962</span></td><td id="LC1962" class="css-1dcdqdg"><code>		<span class="code-built_in">window</span>.addEventListener(<span class="code-string">'testPassiveEventSupport'</span>, falseFn, opts);
</code></td></tr><tr><td id="L1963" class="css-a4x74f"><span>1963</span></td><td id="LC1963" class="css-1dcdqdg"><code>		<span class="code-built_in">window</span>.removeEventListener(<span class="code-string">'testPassiveEventSupport'</span>, falseFn, opts);
</code></td></tr><tr><td id="L1964" class="css-a4x74f"><span>1964</span></td><td id="LC1964" class="css-1dcdqdg"><code>	} <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L1965" class="css-a4x74f"><span>1965</span></td><td id="LC1965" class="css-1dcdqdg"><code>		<span class="code-comment">// Errors can safely be ignored since this is only a browser support test.</span>
</code></td></tr><tr><td id="L1966" class="css-a4x74f"><span>1966</span></td><td id="LC1966" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1967" class="css-a4x74f"><span>1967</span></td><td id="LC1967" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> supportsPassiveOption;
</code></td></tr><tr><td id="L1968" class="css-a4x74f"><span>1968</span></td><td id="LC1968" class="css-1dcdqdg"><code>}());
</code></td></tr><tr><td id="L1969" class="css-a4x74f"><span>1969</span></td><td id="LC1969" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1970" class="css-a4x74f"><span>1970</span></td><td id="LC1970" class="css-1dcdqdg"><code><span class="code-comment">// @property canvas: Boolean</span>
</code></td></tr><tr><td id="L1971" class="css-a4x74f"><span>1971</span></td><td id="LC1971" class="css-1dcdqdg"><code><span class="code-comment">// `true` when the browser supports [`&lt;canvas&gt;`](https://developer.mozilla.org/docs/Web/API/Canvas_API).</span>
</code></td></tr><tr><td id="L1972" class="css-a4x74f"><span>1972</span></td><td id="LC1972" class="css-1dcdqdg"><code><span class="code-keyword">var</span> canvas$<span class="code-number">1</span> = (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1973" class="css-a4x74f"><span>1973</span></td><td id="LC1973" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> !!<span class="code-built_in">document</span>.createElement(<span class="code-string">'canvas'</span>).getContext;
</code></td></tr><tr><td id="L1974" class="css-a4x74f"><span>1974</span></td><td id="LC1974" class="css-1dcdqdg"><code>}());
</code></td></tr><tr><td id="L1975" class="css-a4x74f"><span>1975</span></td><td id="LC1975" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1976" class="css-a4x74f"><span>1976</span></td><td id="LC1976" class="css-1dcdqdg"><code><span class="code-comment">// @property svg: Boolean</span>
</code></td></tr><tr><td id="L1977" class="css-a4x74f"><span>1977</span></td><td id="LC1977" class="css-1dcdqdg"><code><span class="code-comment">// `true` when the browser supports [SVG](https://developer.mozilla.org/docs/Web/SVG).</span>
</code></td></tr><tr><td id="L1978" class="css-a4x74f"><span>1978</span></td><td id="LC1978" class="css-1dcdqdg"><code><span class="code-keyword">var</span> svg$<span class="code-number">1</span> = !!(<span class="code-built_in">document</span>.createElementNS &amp;&amp; svgCreate(<span class="code-string">'svg'</span>).createSVGRect);
</code></td></tr><tr><td id="L1979" class="css-a4x74f"><span>1979</span></td><td id="LC1979" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1980" class="css-a4x74f"><span>1980</span></td><td id="LC1980" class="css-1dcdqdg"><code><span class="code-comment">// @property vml: Boolean</span>
</code></td></tr><tr><td id="L1981" class="css-a4x74f"><span>1981</span></td><td id="LC1981" class="css-1dcdqdg"><code><span class="code-comment">// `true` if the browser supports [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language).</span>
</code></td></tr><tr><td id="L1982" class="css-a4x74f"><span>1982</span></td><td id="LC1982" class="css-1dcdqdg"><code><span class="code-keyword">var</span> vml = !svg$<span class="code-number">1</span> &amp;&amp; (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L1983" class="css-a4x74f"><span>1983</span></td><td id="LC1983" class="css-1dcdqdg"><code>	<span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L1984" class="css-a4x74f"><span>1984</span></td><td id="LC1984" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> div = <span class="code-built_in">document</span>.createElement(<span class="code-string">'div'</span>);
</code></td></tr><tr><td id="L1985" class="css-a4x74f"><span>1985</span></td><td id="LC1985" class="css-1dcdqdg"><code>		div.innerHTML = <span class="code-string">'&lt;v:shape adj="1"/&gt;'</span>;
</code></td></tr><tr><td id="L1986" class="css-a4x74f"><span>1986</span></td><td id="LC1986" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1987" class="css-a4x74f"><span>1987</span></td><td id="LC1987" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> shape = div.firstChild;
</code></td></tr><tr><td id="L1988" class="css-a4x74f"><span>1988</span></td><td id="LC1988" class="css-1dcdqdg"><code>		shape.style.behavior = <span class="code-string">'url(#default#VML)'</span>;
</code></td></tr><tr><td id="L1989" class="css-a4x74f"><span>1989</span></td><td id="LC1989" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1990" class="css-a4x74f"><span>1990</span></td><td id="LC1990" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> shape &amp;&amp; (<span class="code-keyword">typeof</span> shape.adj === <span class="code-string">'object'</span>);
</code></td></tr><tr><td id="L1991" class="css-a4x74f"><span>1991</span></td><td id="LC1991" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1992" class="css-a4x74f"><span>1992</span></td><td id="LC1992" class="css-1dcdqdg"><code>	} <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L1993" class="css-a4x74f"><span>1993</span></td><td id="LC1993" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L1994" class="css-a4x74f"><span>1994</span></td><td id="LC1994" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L1995" class="css-a4x74f"><span>1995</span></td><td id="LC1995" class="css-1dcdqdg"><code>}());
</code></td></tr><tr><td id="L1996" class="css-a4x74f"><span>1996</span></td><td id="LC1996" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1997" class="css-a4x74f"><span>1997</span></td><td id="LC1997" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L1998" class="css-a4x74f"><span>1998</span></td><td id="LC1998" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">userAgentContains</span>(<span class="code-params">str</span>) </span>{
</code></td></tr><tr><td id="L1999" class="css-a4x74f"><span>1999</span></td><td id="LC1999" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> navigator.userAgent.toLowerCase().indexOf(str) &gt;= <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2000" class="css-a4x74f"><span>2000</span></td><td id="LC2000" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2001" class="css-a4x74f"><span>2001</span></td><td id="LC2001" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2002" class="css-a4x74f"><span>2002</span></td><td id="LC2002" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2003" class="css-a4x74f"><span>2003</span></td><td id="LC2003" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Browser = {
</code></td></tr><tr><td id="L2004" class="css-a4x74f"><span>2004</span></td><td id="LC2004" class="css-1dcdqdg"><code>	ie: ie,
</code></td></tr><tr><td id="L2005" class="css-a4x74f"><span>2005</span></td><td id="LC2005" class="css-1dcdqdg"><code>	ielt9: ielt9,
</code></td></tr><tr><td id="L2006" class="css-a4x74f"><span>2006</span></td><td id="LC2006" class="css-1dcdqdg"><code>	edge: edge,
</code></td></tr><tr><td id="L2007" class="css-a4x74f"><span>2007</span></td><td id="LC2007" class="css-1dcdqdg"><code>	webkit: webkit,
</code></td></tr><tr><td id="L2008" class="css-a4x74f"><span>2008</span></td><td id="LC2008" class="css-1dcdqdg"><code>	android: android,
</code></td></tr><tr><td id="L2009" class="css-a4x74f"><span>2009</span></td><td id="LC2009" class="css-1dcdqdg"><code>	android23: android23,
</code></td></tr><tr><td id="L2010" class="css-a4x74f"><span>2010</span></td><td id="LC2010" class="css-1dcdqdg"><code>	androidStock: androidStock,
</code></td></tr><tr><td id="L2011" class="css-a4x74f"><span>2011</span></td><td id="LC2011" class="css-1dcdqdg"><code>	opera: opera,
</code></td></tr><tr><td id="L2012" class="css-a4x74f"><span>2012</span></td><td id="LC2012" class="css-1dcdqdg"><code>	chrome: chrome,
</code></td></tr><tr><td id="L2013" class="css-a4x74f"><span>2013</span></td><td id="LC2013" class="css-1dcdqdg"><code>	gecko: gecko,
</code></td></tr><tr><td id="L2014" class="css-a4x74f"><span>2014</span></td><td id="LC2014" class="css-1dcdqdg"><code>	safari: safari,
</code></td></tr><tr><td id="L2015" class="css-a4x74f"><span>2015</span></td><td id="LC2015" class="css-1dcdqdg"><code>	phantom: phantom,
</code></td></tr><tr><td id="L2016" class="css-a4x74f"><span>2016</span></td><td id="LC2016" class="css-1dcdqdg"><code>	opera12: opera12,
</code></td></tr><tr><td id="L2017" class="css-a4x74f"><span>2017</span></td><td id="LC2017" class="css-1dcdqdg"><code>	win: win,
</code></td></tr><tr><td id="L2018" class="css-a4x74f"><span>2018</span></td><td id="LC2018" class="css-1dcdqdg"><code>	ie3d: ie3d,
</code></td></tr><tr><td id="L2019" class="css-a4x74f"><span>2019</span></td><td id="LC2019" class="css-1dcdqdg"><code>	webkit3d: webkit3d,
</code></td></tr><tr><td id="L2020" class="css-a4x74f"><span>2020</span></td><td id="LC2020" class="css-1dcdqdg"><code>	gecko3d: gecko3d,
</code></td></tr><tr><td id="L2021" class="css-a4x74f"><span>2021</span></td><td id="LC2021" class="css-1dcdqdg"><code>	any3d: any3d,
</code></td></tr><tr><td id="L2022" class="css-a4x74f"><span>2022</span></td><td id="LC2022" class="css-1dcdqdg"><code>	mobile: mobile,
</code></td></tr><tr><td id="L2023" class="css-a4x74f"><span>2023</span></td><td id="LC2023" class="css-1dcdqdg"><code>	mobileWebkit: mobileWebkit,
</code></td></tr><tr><td id="L2024" class="css-a4x74f"><span>2024</span></td><td id="LC2024" class="css-1dcdqdg"><code>	mobileWebkit3d: mobileWebkit3d,
</code></td></tr><tr><td id="L2025" class="css-a4x74f"><span>2025</span></td><td id="LC2025" class="css-1dcdqdg"><code>	msPointer: msPointer,
</code></td></tr><tr><td id="L2026" class="css-a4x74f"><span>2026</span></td><td id="LC2026" class="css-1dcdqdg"><code>	pointer: pointer,
</code></td></tr><tr><td id="L2027" class="css-a4x74f"><span>2027</span></td><td id="LC2027" class="css-1dcdqdg"><code>	touch: touch,
</code></td></tr><tr><td id="L2028" class="css-a4x74f"><span>2028</span></td><td id="LC2028" class="css-1dcdqdg"><code>	touchNative: touchNative,
</code></td></tr><tr><td id="L2029" class="css-a4x74f"><span>2029</span></td><td id="LC2029" class="css-1dcdqdg"><code>	mobileOpera: mobileOpera,
</code></td></tr><tr><td id="L2030" class="css-a4x74f"><span>2030</span></td><td id="LC2030" class="css-1dcdqdg"><code>	mobileGecko: mobileGecko,
</code></td></tr><tr><td id="L2031" class="css-a4x74f"><span>2031</span></td><td id="LC2031" class="css-1dcdqdg"><code>	retina: retina,
</code></td></tr><tr><td id="L2032" class="css-a4x74f"><span>2032</span></td><td id="LC2032" class="css-1dcdqdg"><code>	passiveEvents: passiveEvents,
</code></td></tr><tr><td id="L2033" class="css-a4x74f"><span>2033</span></td><td id="LC2033" class="css-1dcdqdg"><code>	canvas: canvas$<span class="code-number">1</span>,
</code></td></tr><tr><td id="L2034" class="css-a4x74f"><span>2034</span></td><td id="LC2034" class="css-1dcdqdg"><code>	svg: svg$<span class="code-number">1</span>,
</code></td></tr><tr><td id="L2035" class="css-a4x74f"><span>2035</span></td><td id="LC2035" class="css-1dcdqdg"><code>	vml: vml,
</code></td></tr><tr><td id="L2036" class="css-a4x74f"><span>2036</span></td><td id="LC2036" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L2037" class="css-a4x74f"><span>2037</span></td><td id="LC2037" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2038" class="css-a4x74f"><span>2038</span></td><td id="LC2038" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L2039" class="css-a4x74f"><span>2039</span></td><td id="LC2039" class="css-1dcdqdg"><code><span class="code-comment"> * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.
</span></code></td></tr><tr><td id="L2040" class="css-a4x74f"><span>2040</span></td><td id="LC2040" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L2041" class="css-a4x74f"><span>2041</span></td><td id="LC2041" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2042" class="css-a4x74f"><span>2042</span></td><td id="LC2042" class="css-1dcdqdg"><code><span class="code-keyword">var</span> POINTER_DOWN =   Browser.msPointer ? <span class="code-string">'MSPointerDown'</span>   : <span class="code-string">'pointerdown'</span>;
</code></td></tr><tr><td id="L2043" class="css-a4x74f"><span>2043</span></td><td id="LC2043" class="css-1dcdqdg"><code><span class="code-keyword">var</span> POINTER_MOVE =   Browser.msPointer ? <span class="code-string">'MSPointerMove'</span>   : <span class="code-string">'pointermove'</span>;
</code></td></tr><tr><td id="L2044" class="css-a4x74f"><span>2044</span></td><td id="LC2044" class="css-1dcdqdg"><code><span class="code-keyword">var</span> POINTER_UP =     Browser.msPointer ? <span class="code-string">'MSPointerUp'</span>     : <span class="code-string">'pointerup'</span>;
</code></td></tr><tr><td id="L2045" class="css-a4x74f"><span>2045</span></td><td id="LC2045" class="css-1dcdqdg"><code><span class="code-keyword">var</span> POINTER_CANCEL = Browser.msPointer ? <span class="code-string">'MSPointerCancel'</span> : <span class="code-string">'pointercancel'</span>;
</code></td></tr><tr><td id="L2046" class="css-a4x74f"><span>2046</span></td><td id="LC2046" class="css-1dcdqdg"><code><span class="code-keyword">var</span> pEvent = {
</code></td></tr><tr><td id="L2047" class="css-a4x74f"><span>2047</span></td><td id="LC2047" class="css-1dcdqdg"><code>	touchstart  : POINTER_DOWN,
</code></td></tr><tr><td id="L2048" class="css-a4x74f"><span>2048</span></td><td id="LC2048" class="css-1dcdqdg"><code>	touchmove   : POINTER_MOVE,
</code></td></tr><tr><td id="L2049" class="css-a4x74f"><span>2049</span></td><td id="LC2049" class="css-1dcdqdg"><code>	touchend    : POINTER_UP,
</code></td></tr><tr><td id="L2050" class="css-a4x74f"><span>2050</span></td><td id="LC2050" class="css-1dcdqdg"><code>	touchcancel : POINTER_CANCEL
</code></td></tr><tr><td id="L2051" class="css-a4x74f"><span>2051</span></td><td id="LC2051" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L2052" class="css-a4x74f"><span>2052</span></td><td id="LC2052" class="css-1dcdqdg"><code><span class="code-keyword">var</span> handle = {
</code></td></tr><tr><td id="L2053" class="css-a4x74f"><span>2053</span></td><td id="LC2053" class="css-1dcdqdg"><code>	touchstart  : _onPointerStart,
</code></td></tr><tr><td id="L2054" class="css-a4x74f"><span>2054</span></td><td id="LC2054" class="css-1dcdqdg"><code>	touchmove   : _handlePointer,
</code></td></tr><tr><td id="L2055" class="css-a4x74f"><span>2055</span></td><td id="LC2055" class="css-1dcdqdg"><code>	touchend    : _handlePointer,
</code></td></tr><tr><td id="L2056" class="css-a4x74f"><span>2056</span></td><td id="LC2056" class="css-1dcdqdg"><code>	touchcancel : _handlePointer
</code></td></tr><tr><td id="L2057" class="css-a4x74f"><span>2057</span></td><td id="LC2057" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L2058" class="css-a4x74f"><span>2058</span></td><td id="LC2058" class="css-1dcdqdg"><code><span class="code-keyword">var</span> _pointers = {};
</code></td></tr><tr><td id="L2059" class="css-a4x74f"><span>2059</span></td><td id="LC2059" class="css-1dcdqdg"><code><span class="code-keyword">var</span> _pointerDocListener = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2060" class="css-a4x74f"><span>2060</span></td><td id="LC2060" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2061" class="css-a4x74f"><span>2061</span></td><td id="LC2061" class="css-1dcdqdg"><code><span class="code-comment">// Provides a touch events wrapper for (ms)pointer events.</span>
</code></td></tr><tr><td id="L2062" class="css-a4x74f"><span>2062</span></td><td id="LC2062" class="css-1dcdqdg"><code><span class="code-comment">// ref https://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890</span>
</code></td></tr><tr><td id="L2063" class="css-a4x74f"><span>2063</span></td><td id="LC2063" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2064" class="css-a4x74f"><span>2064</span></td><td id="LC2064" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addPointerListener</span>(<span class="code-params">obj, type, handler</span>) </span>{
</code></td></tr><tr><td id="L2065" class="css-a4x74f"><span>2065</span></td><td id="LC2065" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (type === <span class="code-string">'touchstart'</span>) {
</code></td></tr><tr><td id="L2066" class="css-a4x74f"><span>2066</span></td><td id="LC2066" class="css-1dcdqdg"><code>		_addPointerDocListener();
</code></td></tr><tr><td id="L2067" class="css-a4x74f"><span>2067</span></td><td id="LC2067" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2068" class="css-a4x74f"><span>2068</span></td><td id="LC2068" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!handle[type]) {
</code></td></tr><tr><td id="L2069" class="css-a4x74f"><span>2069</span></td><td id="LC2069" class="css-1dcdqdg"><code>		<span class="code-built_in">console</span>.warn(<span class="code-string">'wrong event specified:'</span>, type);
</code></td></tr><tr><td id="L2070" class="css-a4x74f"><span>2070</span></td><td id="LC2070" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> L.Util.falseFn;
</code></td></tr><tr><td id="L2071" class="css-a4x74f"><span>2071</span></td><td id="LC2071" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2072" class="css-a4x74f"><span>2072</span></td><td id="LC2072" class="css-1dcdqdg"><code>	handler = handle[type].bind(<span class="code-keyword">this</span>, handler);
</code></td></tr><tr><td id="L2073" class="css-a4x74f"><span>2073</span></td><td id="LC2073" class="css-1dcdqdg"><code>	obj.addEventListener(pEvent[type], handler, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2074" class="css-a4x74f"><span>2074</span></td><td id="LC2074" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> handler;
</code></td></tr><tr><td id="L2075" class="css-a4x74f"><span>2075</span></td><td id="LC2075" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2076" class="css-a4x74f"><span>2076</span></td><td id="LC2076" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2077" class="css-a4x74f"><span>2077</span></td><td id="LC2077" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">removePointerListener</span>(<span class="code-params">obj, type, handler</span>) </span>{
</code></td></tr><tr><td id="L2078" class="css-a4x74f"><span>2078</span></td><td id="LC2078" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!pEvent[type]) {
</code></td></tr><tr><td id="L2079" class="css-a4x74f"><span>2079</span></td><td id="LC2079" class="css-1dcdqdg"><code>		<span class="code-built_in">console</span>.warn(<span class="code-string">'wrong event specified:'</span>, type);
</code></td></tr><tr><td id="L2080" class="css-a4x74f"><span>2080</span></td><td id="LC2080" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2081" class="css-a4x74f"><span>2081</span></td><td id="LC2081" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2082" class="css-a4x74f"><span>2082</span></td><td id="LC2082" class="css-1dcdqdg"><code>	obj.removeEventListener(pEvent[type], handler, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2083" class="css-a4x74f"><span>2083</span></td><td id="LC2083" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2084" class="css-a4x74f"><span>2084</span></td><td id="LC2084" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2085" class="css-a4x74f"><span>2085</span></td><td id="LC2085" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_globalPointerDown</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2086" class="css-a4x74f"><span>2086</span></td><td id="LC2086" class="css-1dcdqdg"><code>	_pointers[e.pointerId] = e;
</code></td></tr><tr><td id="L2087" class="css-a4x74f"><span>2087</span></td><td id="LC2087" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2088" class="css-a4x74f"><span>2088</span></td><td id="LC2088" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2089" class="css-a4x74f"><span>2089</span></td><td id="LC2089" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_globalPointerMove</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2090" class="css-a4x74f"><span>2090</span></td><td id="LC2090" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (_pointers[e.pointerId]) {
</code></td></tr><tr><td id="L2091" class="css-a4x74f"><span>2091</span></td><td id="LC2091" class="css-1dcdqdg"><code>		_pointers[e.pointerId] = e;
</code></td></tr><tr><td id="L2092" class="css-a4x74f"><span>2092</span></td><td id="LC2092" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2093" class="css-a4x74f"><span>2093</span></td><td id="LC2093" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2094" class="css-a4x74f"><span>2094</span></td><td id="LC2094" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2095" class="css-a4x74f"><span>2095</span></td><td id="LC2095" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_globalPointerUp</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2096" class="css-a4x74f"><span>2096</span></td><td id="LC2096" class="css-1dcdqdg"><code>	<span class="code-keyword">delete</span> _pointers[e.pointerId];
</code></td></tr><tr><td id="L2097" class="css-a4x74f"><span>2097</span></td><td id="LC2097" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2098" class="css-a4x74f"><span>2098</span></td><td id="LC2098" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2099" class="css-a4x74f"><span>2099</span></td><td id="LC2099" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_addPointerDocListener</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2100" class="css-a4x74f"><span>2100</span></td><td id="LC2100" class="css-1dcdqdg"><code>	<span class="code-comment">// need to keep track of what pointers and how many are active to provide e.touches emulation</span>
</code></td></tr><tr><td id="L2101" class="css-a4x74f"><span>2101</span></td><td id="LC2101" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!_pointerDocListener) {
</code></td></tr><tr><td id="L2102" class="css-a4x74f"><span>2102</span></td><td id="LC2102" class="css-1dcdqdg"><code>		<span class="code-comment">// we listen document as any drags that end by moving the touch off the screen get fired there</span>
</code></td></tr><tr><td id="L2103" class="css-a4x74f"><span>2103</span></td><td id="LC2103" class="css-1dcdqdg"><code>		<span class="code-built_in">document</span>.addEventListener(POINTER_DOWN, _globalPointerDown, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2104" class="css-a4x74f"><span>2104</span></td><td id="LC2104" class="css-1dcdqdg"><code>		<span class="code-built_in">document</span>.addEventListener(POINTER_MOVE, _globalPointerMove, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2105" class="css-a4x74f"><span>2105</span></td><td id="LC2105" class="css-1dcdqdg"><code>		<span class="code-built_in">document</span>.addEventListener(POINTER_UP, _globalPointerUp, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2106" class="css-a4x74f"><span>2106</span></td><td id="LC2106" class="css-1dcdqdg"><code>		<span class="code-built_in">document</span>.addEventListener(POINTER_CANCEL, _globalPointerUp, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2107" class="css-a4x74f"><span>2107</span></td><td id="LC2107" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2108" class="css-a4x74f"><span>2108</span></td><td id="LC2108" class="css-1dcdqdg"><code>		_pointerDocListener = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2109" class="css-a4x74f"><span>2109</span></td><td id="LC2109" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2110" class="css-a4x74f"><span>2110</span></td><td id="LC2110" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2111" class="css-a4x74f"><span>2111</span></td><td id="LC2111" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2112" class="css-a4x74f"><span>2112</span></td><td id="LC2112" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_handlePointer</span>(<span class="code-params">handler, e</span>) </span>{
</code></td></tr><tr><td id="L2113" class="css-a4x74f"><span>2113</span></td><td id="LC2113" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (e.pointerType === (e.MSPOINTER_TYPE_MOUSE || <span class="code-string">'mouse'</span>)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L2114" class="css-a4x74f"><span>2114</span></td><td id="LC2114" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2115" class="css-a4x74f"><span>2115</span></td><td id="LC2115" class="css-1dcdqdg"><code>	e.touches = [];
</code></td></tr><tr><td id="L2116" class="css-a4x74f"><span>2116</span></td><td id="LC2116" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> _pointers) {
</code></td></tr><tr><td id="L2117" class="css-a4x74f"><span>2117</span></td><td id="LC2117" class="css-1dcdqdg"><code>		e.touches.push(_pointers[i]);
</code></td></tr><tr><td id="L2118" class="css-a4x74f"><span>2118</span></td><td id="LC2118" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2119" class="css-a4x74f"><span>2119</span></td><td id="LC2119" class="css-1dcdqdg"><code>	e.changedTouches = [e];
</code></td></tr><tr><td id="L2120" class="css-a4x74f"><span>2120</span></td><td id="LC2120" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2121" class="css-a4x74f"><span>2121</span></td><td id="LC2121" class="css-1dcdqdg"><code>	handler(e);
</code></td></tr><tr><td id="L2122" class="css-a4x74f"><span>2122</span></td><td id="LC2122" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2123" class="css-a4x74f"><span>2123</span></td><td id="LC2123" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2124" class="css-a4x74f"><span>2124</span></td><td id="LC2124" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_onPointerStart</span>(<span class="code-params">handler, e</span>) </span>{
</code></td></tr><tr><td id="L2125" class="css-a4x74f"><span>2125</span></td><td id="LC2125" class="css-1dcdqdg"><code>	<span class="code-comment">// IE10 specific: MsTouch needs preventDefault. See #2000</span>
</code></td></tr><tr><td id="L2126" class="css-a4x74f"><span>2126</span></td><td id="LC2126" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (e.MSPOINTER_TYPE_TOUCH &amp;&amp; e.pointerType === e.MSPOINTER_TYPE_TOUCH) {
</code></td></tr><tr><td id="L2127" class="css-a4x74f"><span>2127</span></td><td id="LC2127" class="css-1dcdqdg"><code>		preventDefault(e);
</code></td></tr><tr><td id="L2128" class="css-a4x74f"><span>2128</span></td><td id="LC2128" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2129" class="css-a4x74f"><span>2129</span></td><td id="LC2129" class="css-1dcdqdg"><code>	_handlePointer(handler, e);
</code></td></tr><tr><td id="L2130" class="css-a4x74f"><span>2130</span></td><td id="LC2130" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2131" class="css-a4x74f"><span>2131</span></td><td id="LC2131" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2132" class="css-a4x74f"><span>2132</span></td><td id="LC2132" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L2133" class="css-a4x74f"><span>2133</span></td><td id="LC2133" class="css-1dcdqdg"><code><span class="code-comment"> * Extends the event handling code with double tap support for mobile browsers.
</span></code></td></tr><tr><td id="L2134" class="css-a4x74f"><span>2134</span></td><td id="LC2134" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2135" class="css-a4x74f"><span>2135</span></td><td id="LC2135" class="css-1dcdqdg"><code><span class="code-comment"> * <span class="code-doctag">Note:</span> currently most browsers fire native dblclick, with only a few exceptions
</span></code></td></tr><tr><td id="L2136" class="css-a4x74f"><span>2136</span></td><td id="LC2136" class="css-1dcdqdg"><code><span class="code-comment"> * (see https://github.com/Leaflet/Leaflet/issues/7012#issuecomment-595087386)
</span></code></td></tr><tr><td id="L2137" class="css-a4x74f"><span>2137</span></td><td id="LC2137" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L2138" class="css-a4x74f"><span>2138</span></td><td id="LC2138" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2139" class="css-a4x74f"><span>2139</span></td><td id="LC2139" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">makeDblclick</span>(<span class="code-params">event</span>) </span>{
</code></td></tr><tr><td id="L2140" class="css-a4x74f"><span>2140</span></td><td id="LC2140" class="css-1dcdqdg"><code>	<span class="code-comment">// in modern browsers `type` cannot be just overridden:</span>
</code></td></tr><tr><td id="L2141" class="css-a4x74f"><span>2141</span></td><td id="LC2141" class="css-1dcdqdg"><code>	<span class="code-comment">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only</span>
</code></td></tr><tr><td id="L2142" class="css-a4x74f"><span>2142</span></td><td id="LC2142" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> newEvent = {},
</code></td></tr><tr><td id="L2143" class="css-a4x74f"><span>2143</span></td><td id="LC2143" class="css-1dcdqdg"><code>	    prop, i;
</code></td></tr><tr><td id="L2144" class="css-a4x74f"><span>2144</span></td><td id="LC2144" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> event) {
</code></td></tr><tr><td id="L2145" class="css-a4x74f"><span>2145</span></td><td id="LC2145" class="css-1dcdqdg"><code>		prop = event[i];
</code></td></tr><tr><td id="L2146" class="css-a4x74f"><span>2146</span></td><td id="LC2146" class="css-1dcdqdg"><code>		newEvent[i] = prop &amp;&amp; prop.bind ? prop.bind(event) : prop;
</code></td></tr><tr><td id="L2147" class="css-a4x74f"><span>2147</span></td><td id="LC2147" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2148" class="css-a4x74f"><span>2148</span></td><td id="LC2148" class="css-1dcdqdg"><code>	event = newEvent;
</code></td></tr><tr><td id="L2149" class="css-a4x74f"><span>2149</span></td><td id="LC2149" class="css-1dcdqdg"><code>	newEvent.type = <span class="code-string">'dblclick'</span>;
</code></td></tr><tr><td id="L2150" class="css-a4x74f"><span>2150</span></td><td id="LC2150" class="css-1dcdqdg"><code>	newEvent.detail = <span class="code-number">2</span>;
</code></td></tr><tr><td id="L2151" class="css-a4x74f"><span>2151</span></td><td id="LC2151" class="css-1dcdqdg"><code>	newEvent.isTrusted = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2152" class="css-a4x74f"><span>2152</span></td><td id="LC2152" class="css-1dcdqdg"><code>	newEvent._simulated = <span class="code-literal">true</span>; <span class="code-comment">// for debug purposes</span>
</code></td></tr><tr><td id="L2153" class="css-a4x74f"><span>2153</span></td><td id="LC2153" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> newEvent;
</code></td></tr><tr><td id="L2154" class="css-a4x74f"><span>2154</span></td><td id="LC2154" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2155" class="css-a4x74f"><span>2155</span></td><td id="LC2155" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2156" class="css-a4x74f"><span>2156</span></td><td id="LC2156" class="css-1dcdqdg"><code><span class="code-keyword">var</span> delay = <span class="code-number">200</span>;
</code></td></tr><tr><td id="L2157" class="css-a4x74f"><span>2157</span></td><td id="LC2157" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addDoubleTapListener</span>(<span class="code-params">obj, handler</span>) </span>{
</code></td></tr><tr><td id="L2158" class="css-a4x74f"><span>2158</span></td><td id="LC2158" class="css-1dcdqdg"><code>	<span class="code-comment">// Most browsers handle double tap natively</span>
</code></td></tr><tr><td id="L2159" class="css-a4x74f"><span>2159</span></td><td id="LC2159" class="css-1dcdqdg"><code>	obj.addEventListener(<span class="code-string">'dblclick'</span>, handler);
</code></td></tr><tr><td id="L2160" class="css-a4x74f"><span>2160</span></td><td id="LC2160" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2161" class="css-a4x74f"><span>2161</span></td><td id="LC2161" class="css-1dcdqdg"><code>	<span class="code-comment">// On some platforms the browser doesn't fire native dblclicks for touch events.</span>
</code></td></tr><tr><td id="L2162" class="css-a4x74f"><span>2162</span></td><td id="LC2162" class="css-1dcdqdg"><code>	<span class="code-comment">// It seems that in all such cases `detail` property of `click` event is always `1`.</span>
</code></td></tr><tr><td id="L2163" class="css-a4x74f"><span>2163</span></td><td id="LC2163" class="css-1dcdqdg"><code>	<span class="code-comment">// So here we rely on that fact to avoid excessive 'dblclick' simulation when not needed.</span>
</code></td></tr><tr><td id="L2164" class="css-a4x74f"><span>2164</span></td><td id="LC2164" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> last = <span class="code-number">0</span>,
</code></td></tr><tr><td id="L2165" class="css-a4x74f"><span>2165</span></td><td id="LC2165" class="css-1dcdqdg"><code>	    detail;
</code></td></tr><tr><td id="L2166" class="css-a4x74f"><span>2166</span></td><td id="LC2166" class="css-1dcdqdg"><code>	<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">simDblclick</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2167" class="css-a4x74f"><span>2167</span></td><td id="LC2167" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.detail !== <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L2168" class="css-a4x74f"><span>2168</span></td><td id="LC2168" class="css-1dcdqdg"><code>			detail = e.detail; <span class="code-comment">// keep in sync to avoid false dblclick in some cases</span>
</code></td></tr><tr><td id="L2169" class="css-a4x74f"><span>2169</span></td><td id="LC2169" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2170" class="css-a4x74f"><span>2170</span></td><td id="LC2170" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2171" class="css-a4x74f"><span>2171</span></td><td id="LC2171" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2172" class="css-a4x74f"><span>2172</span></td><td id="LC2172" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.pointerType === <span class="code-string">'mouse'</span> ||
</code></td></tr><tr><td id="L2173" class="css-a4x74f"><span>2173</span></td><td id="LC2173" class="css-1dcdqdg"><code>			(e.sourceCapabilities &amp;&amp; !e.sourceCapabilities.firesTouchEvents)) {
</code></td></tr><tr><td id="L2174" class="css-a4x74f"><span>2174</span></td><td id="LC2174" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2175" class="css-a4x74f"><span>2175</span></td><td id="LC2175" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L2176" class="css-a4x74f"><span>2176</span></td><td id="LC2176" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2177" class="css-a4x74f"><span>2177</span></td><td id="LC2177" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2178" class="css-a4x74f"><span>2178</span></td><td id="LC2178" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> now = <span class="code-built_in">Date</span>.now();
</code></td></tr><tr><td id="L2179" class="css-a4x74f"><span>2179</span></td><td id="LC2179" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (now - last &lt;= delay) {
</code></td></tr><tr><td id="L2180" class="css-a4x74f"><span>2180</span></td><td id="LC2180" class="css-1dcdqdg"><code>			detail++;
</code></td></tr><tr><td id="L2181" class="css-a4x74f"><span>2181</span></td><td id="LC2181" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (detail === <span class="code-number">2</span>) {
</code></td></tr><tr><td id="L2182" class="css-a4x74f"><span>2182</span></td><td id="LC2182" class="css-1dcdqdg"><code>				handler(makeDblclick(e));
</code></td></tr><tr><td id="L2183" class="css-a4x74f"><span>2183</span></td><td id="LC2183" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L2184" class="css-a4x74f"><span>2184</span></td><td id="LC2184" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2185" class="css-a4x74f"><span>2185</span></td><td id="LC2185" class="css-1dcdqdg"><code>			detail = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L2186" class="css-a4x74f"><span>2186</span></td><td id="LC2186" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2187" class="css-a4x74f"><span>2187</span></td><td id="LC2187" class="css-1dcdqdg"><code>		last = now;
</code></td></tr><tr><td id="L2188" class="css-a4x74f"><span>2188</span></td><td id="LC2188" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2189" class="css-a4x74f"><span>2189</span></td><td id="LC2189" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2190" class="css-a4x74f"><span>2190</span></td><td id="LC2190" class="css-1dcdqdg"><code>	obj.addEventListener(<span class="code-string">'click'</span>, simDblclick);
</code></td></tr><tr><td id="L2191" class="css-a4x74f"><span>2191</span></td><td id="LC2191" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2192" class="css-a4x74f"><span>2192</span></td><td id="LC2192" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L2193" class="css-a4x74f"><span>2193</span></td><td id="LC2193" class="css-1dcdqdg"><code>		dblclick: handler,
</code></td></tr><tr><td id="L2194" class="css-a4x74f"><span>2194</span></td><td id="LC2194" class="css-1dcdqdg"><code>		simDblclick: simDblclick
</code></td></tr><tr><td id="L2195" class="css-a4x74f"><span>2195</span></td><td id="LC2195" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2196" class="css-a4x74f"><span>2196</span></td><td id="LC2196" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2197" class="css-a4x74f"><span>2197</span></td><td id="LC2197" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2198" class="css-a4x74f"><span>2198</span></td><td id="LC2198" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">removeDoubleTapListener</span>(<span class="code-params">obj, handlers</span>) </span>{
</code></td></tr><tr><td id="L2199" class="css-a4x74f"><span>2199</span></td><td id="LC2199" class="css-1dcdqdg"><code>	obj.removeEventListener(<span class="code-string">'dblclick'</span>, handlers.dblclick);
</code></td></tr><tr><td id="L2200" class="css-a4x74f"><span>2200</span></td><td id="LC2200" class="css-1dcdqdg"><code>	obj.removeEventListener(<span class="code-string">'click'</span>, handlers.simDblclick);
</code></td></tr><tr><td id="L2201" class="css-a4x74f"><span>2201</span></td><td id="LC2201" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2202" class="css-a4x74f"><span>2202</span></td><td id="LC2202" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2203" class="css-a4x74f"><span>2203</span></td><td id="LC2203" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L2204" class="css-a4x74f"><span>2204</span></td><td id="LC2204" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace DomUtil
</span></code></td></tr><tr><td id="L2205" class="css-a4x74f"><span>2205</span></td><td id="LC2205" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2206" class="css-a4x74f"><span>2206</span></td><td id="LC2206" class="css-1dcdqdg"><code><span class="code-comment"> * Utility functions to work with the [DOM](https://developer.mozilla.org/docs/Web/API/Document_Object_Model)
</span></code></td></tr><tr><td id="L2207" class="css-a4x74f"><span>2207</span></td><td id="LC2207" class="css-1dcdqdg"><code><span class="code-comment"> * tree, used by Leaflet internally.
</span></code></td></tr><tr><td id="L2208" class="css-a4x74f"><span>2208</span></td><td id="LC2208" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2209" class="css-a4x74f"><span>2209</span></td><td id="LC2209" class="css-1dcdqdg"><code><span class="code-comment"> * Most functions expecting or returning a `HTMLElement` also work for
</span></code></td></tr><tr><td id="L2210" class="css-a4x74f"><span>2210</span></td><td id="LC2210" class="css-1dcdqdg"><code><span class="code-comment"> * SVG elements. The only difference is that classes refer to CSS classes
</span></code></td></tr><tr><td id="L2211" class="css-a4x74f"><span>2211</span></td><td id="LC2211" class="css-1dcdqdg"><code><span class="code-comment"> * in HTML and SVG classes in SVG.
</span></code></td></tr><tr><td id="L2212" class="css-a4x74f"><span>2212</span></td><td id="LC2212" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L2213" class="css-a4x74f"><span>2213</span></td><td id="LC2213" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2214" class="css-a4x74f"><span>2214</span></td><td id="LC2214" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2215" class="css-a4x74f"><span>2215</span></td><td id="LC2215" class="css-1dcdqdg"><code><span class="code-comment">// @property TRANSFORM: String</span>
</code></td></tr><tr><td id="L2216" class="css-a4x74f"><span>2216</span></td><td id="LC2216" class="css-1dcdqdg"><code><span class="code-comment">// Vendor-prefixed transform style name (e.g. `'webkitTransform'` for WebKit).</span>
</code></td></tr><tr><td id="L2217" class="css-a4x74f"><span>2217</span></td><td id="LC2217" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TRANSFORM = testProp(
</code></td></tr><tr><td id="L2218" class="css-a4x74f"><span>2218</span></td><td id="LC2218" class="css-1dcdqdg"><code>	[<span class="code-string">'transform'</span>, <span class="code-string">'webkitTransform'</span>, <span class="code-string">'OTransform'</span>, <span class="code-string">'MozTransform'</span>, <span class="code-string">'msTransform'</span>]);
</code></td></tr><tr><td id="L2219" class="css-a4x74f"><span>2219</span></td><td id="LC2219" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2220" class="css-a4x74f"><span>2220</span></td><td id="LC2220" class="css-1dcdqdg"><code><span class="code-comment">// webkitTransition comes first because some browser versions that drop vendor prefix don't do</span>
</code></td></tr><tr><td id="L2221" class="css-a4x74f"><span>2221</span></td><td id="LC2221" class="css-1dcdqdg"><code><span class="code-comment">// the same for the transitionend event, in particular the Android 4.1 stock browser</span>
</code></td></tr><tr><td id="L2222" class="css-a4x74f"><span>2222</span></td><td id="LC2222" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2223" class="css-a4x74f"><span>2223</span></td><td id="LC2223" class="css-1dcdqdg"><code><span class="code-comment">// @property TRANSITION: String</span>
</code></td></tr><tr><td id="L2224" class="css-a4x74f"><span>2224</span></td><td id="LC2224" class="css-1dcdqdg"><code><span class="code-comment">// Vendor-prefixed transition style name.</span>
</code></td></tr><tr><td id="L2225" class="css-a4x74f"><span>2225</span></td><td id="LC2225" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TRANSITION = testProp(
</code></td></tr><tr><td id="L2226" class="css-a4x74f"><span>2226</span></td><td id="LC2226" class="css-1dcdqdg"><code>	[<span class="code-string">'webkitTransition'</span>, <span class="code-string">'transition'</span>, <span class="code-string">'OTransition'</span>, <span class="code-string">'MozTransition'</span>, <span class="code-string">'msTransition'</span>]);
</code></td></tr><tr><td id="L2227" class="css-a4x74f"><span>2227</span></td><td id="LC2227" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2228" class="css-a4x74f"><span>2228</span></td><td id="LC2228" class="css-1dcdqdg"><code><span class="code-comment">// @property TRANSITION_END: String</span>
</code></td></tr><tr><td id="L2229" class="css-a4x74f"><span>2229</span></td><td id="LC2229" class="css-1dcdqdg"><code><span class="code-comment">// Vendor-prefixed transitionend event name.</span>
</code></td></tr><tr><td id="L2230" class="css-a4x74f"><span>2230</span></td><td id="LC2230" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TRANSITION_END =
</code></td></tr><tr><td id="L2231" class="css-a4x74f"><span>2231</span></td><td id="LC2231" class="css-1dcdqdg"><code>	TRANSITION === <span class="code-string">'webkitTransition'</span> || TRANSITION === <span class="code-string">'OTransition'</span> ? TRANSITION + <span class="code-string">'End'</span> : <span class="code-string">'transitionend'</span>;
</code></td></tr><tr><td id="L2232" class="css-a4x74f"><span>2232</span></td><td id="LC2232" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2233" class="css-a4x74f"><span>2233</span></td><td id="LC2233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2234" class="css-a4x74f"><span>2234</span></td><td id="LC2234" class="css-1dcdqdg"><code><span class="code-comment">// @function get(id: String|HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L2235" class="css-a4x74f"><span>2235</span></td><td id="LC2235" class="css-1dcdqdg"><code><span class="code-comment">// Returns an element given its DOM id, or returns the element itself</span>
</code></td></tr><tr><td id="L2236" class="css-a4x74f"><span>2236</span></td><td id="LC2236" class="css-1dcdqdg"><code><span class="code-comment">// if it was passed directly.</span>
</code></td></tr><tr><td id="L2237" class="css-a4x74f"><span>2237</span></td><td id="LC2237" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">get</span>(<span class="code-params">id</span>) </span>{
</code></td></tr><tr><td id="L2238" class="css-a4x74f"><span>2238</span></td><td id="LC2238" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">typeof</span> id === <span class="code-string">'string'</span> ? <span class="code-built_in">document</span>.getElementById(id) : id;
</code></td></tr><tr><td id="L2239" class="css-a4x74f"><span>2239</span></td><td id="LC2239" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2240" class="css-a4x74f"><span>2240</span></td><td id="LC2240" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2241" class="css-a4x74f"><span>2241</span></td><td id="LC2241" class="css-1dcdqdg"><code><span class="code-comment">// @function getStyle(el: HTMLElement, styleAttrib: String): String</span>
</code></td></tr><tr><td id="L2242" class="css-a4x74f"><span>2242</span></td><td id="LC2242" class="css-1dcdqdg"><code><span class="code-comment">// Returns the value for a certain style attribute on an element,</span>
</code></td></tr><tr><td id="L2243" class="css-a4x74f"><span>2243</span></td><td id="LC2243" class="css-1dcdqdg"><code><span class="code-comment">// including computed values or values set through CSS.</span>
</code></td></tr><tr><td id="L2244" class="css-a4x74f"><span>2244</span></td><td id="LC2244" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getStyle</span>(<span class="code-params">el, style</span>) </span>{
</code></td></tr><tr><td id="L2245" class="css-a4x74f"><span>2245</span></td><td id="LC2245" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> value = el.style[style] || (el.currentStyle &amp;&amp; el.currentStyle[style]);
</code></td></tr><tr><td id="L2246" class="css-a4x74f"><span>2246</span></td><td id="LC2246" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2247" class="css-a4x74f"><span>2247</span></td><td id="LC2247" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> ((!value || value === <span class="code-string">'auto'</span>) &amp;&amp; <span class="code-built_in">document</span>.defaultView) {
</code></td></tr><tr><td id="L2248" class="css-a4x74f"><span>2248</span></td><td id="LC2248" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> css = <span class="code-built_in">document</span>.defaultView.getComputedStyle(el, <span class="code-literal">null</span>);
</code></td></tr><tr><td id="L2249" class="css-a4x74f"><span>2249</span></td><td id="LC2249" class="css-1dcdqdg"><code>		value = css ? css[style] : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L2250" class="css-a4x74f"><span>2250</span></td><td id="LC2250" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2251" class="css-a4x74f"><span>2251</span></td><td id="LC2251" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> value === <span class="code-string">'auto'</span> ? <span class="code-literal">null</span> : value;
</code></td></tr><tr><td id="L2252" class="css-a4x74f"><span>2252</span></td><td id="LC2252" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2253" class="css-a4x74f"><span>2253</span></td><td id="LC2253" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2254" class="css-a4x74f"><span>2254</span></td><td id="LC2254" class="css-1dcdqdg"><code><span class="code-comment">// @function create(tagName: String, className?: String, container?: HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L2255" class="css-a4x74f"><span>2255</span></td><td id="LC2255" class="css-1dcdqdg"><code><span class="code-comment">// Creates an HTML element with `tagName`, sets its class to `className`, and optionally appends it to `container` element.</span>
</code></td></tr><tr><td id="L2256" class="css-a4x74f"><span>2256</span></td><td id="LC2256" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">create$1</span>(<span class="code-params">tagName, className, container</span>) </span>{
</code></td></tr><tr><td id="L2257" class="css-a4x74f"><span>2257</span></td><td id="LC2257" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> el = <span class="code-built_in">document</span>.createElement(tagName);
</code></td></tr><tr><td id="L2258" class="css-a4x74f"><span>2258</span></td><td id="LC2258" class="css-1dcdqdg"><code>	el.className = className || <span class="code-string">''</span>;
</code></td></tr><tr><td id="L2259" class="css-a4x74f"><span>2259</span></td><td id="LC2259" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2260" class="css-a4x74f"><span>2260</span></td><td id="LC2260" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (container) {
</code></td></tr><tr><td id="L2261" class="css-a4x74f"><span>2261</span></td><td id="LC2261" class="css-1dcdqdg"><code>		container.appendChild(el);
</code></td></tr><tr><td id="L2262" class="css-a4x74f"><span>2262</span></td><td id="LC2262" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2263" class="css-a4x74f"><span>2263</span></td><td id="LC2263" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> el;
</code></td></tr><tr><td id="L2264" class="css-a4x74f"><span>2264</span></td><td id="LC2264" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2265" class="css-a4x74f"><span>2265</span></td><td id="LC2265" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2266" class="css-a4x74f"><span>2266</span></td><td id="LC2266" class="css-1dcdqdg"><code><span class="code-comment">// @function remove(el: HTMLElement)</span>
</code></td></tr><tr><td id="L2267" class="css-a4x74f"><span>2267</span></td><td id="LC2267" class="css-1dcdqdg"><code><span class="code-comment">// Removes `el` from its parent element</span>
</code></td></tr><tr><td id="L2268" class="css-a4x74f"><span>2268</span></td><td id="LC2268" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">remove</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2269" class="css-a4x74f"><span>2269</span></td><td id="LC2269" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> parent = el.parentNode;
</code></td></tr><tr><td id="L2270" class="css-a4x74f"><span>2270</span></td><td id="LC2270" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (parent) {
</code></td></tr><tr><td id="L2271" class="css-a4x74f"><span>2271</span></td><td id="LC2271" class="css-1dcdqdg"><code>		parent.removeChild(el);
</code></td></tr><tr><td id="L2272" class="css-a4x74f"><span>2272</span></td><td id="LC2272" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2273" class="css-a4x74f"><span>2273</span></td><td id="LC2273" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2274" class="css-a4x74f"><span>2274</span></td><td id="LC2274" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2275" class="css-a4x74f"><span>2275</span></td><td id="LC2275" class="css-1dcdqdg"><code><span class="code-comment">// @function empty(el: HTMLElement)</span>
</code></td></tr><tr><td id="L2276" class="css-a4x74f"><span>2276</span></td><td id="LC2276" class="css-1dcdqdg"><code><span class="code-comment">// Removes all of `el`'s children elements from `el`</span>
</code></td></tr><tr><td id="L2277" class="css-a4x74f"><span>2277</span></td><td id="LC2277" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">empty</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2278" class="css-a4x74f"><span>2278</span></td><td id="LC2278" class="css-1dcdqdg"><code>	<span class="code-keyword">while</span> (el.firstChild) {
</code></td></tr><tr><td id="L2279" class="css-a4x74f"><span>2279</span></td><td id="LC2279" class="css-1dcdqdg"><code>		el.removeChild(el.firstChild);
</code></td></tr><tr><td id="L2280" class="css-a4x74f"><span>2280</span></td><td id="LC2280" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2281" class="css-a4x74f"><span>2281</span></td><td id="LC2281" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2282" class="css-a4x74f"><span>2282</span></td><td id="LC2282" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2283" class="css-a4x74f"><span>2283</span></td><td id="LC2283" class="css-1dcdqdg"><code><span class="code-comment">// @function toFront(el: HTMLElement)</span>
</code></td></tr><tr><td id="L2284" class="css-a4x74f"><span>2284</span></td><td id="LC2284" class="css-1dcdqdg"><code><span class="code-comment">// Makes `el` the last child of its parent, so it renders in front of the other children.</span>
</code></td></tr><tr><td id="L2285" class="css-a4x74f"><span>2285</span></td><td id="LC2285" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toFront</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2286" class="css-a4x74f"><span>2286</span></td><td id="LC2286" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> parent = el.parentNode;
</code></td></tr><tr><td id="L2287" class="css-a4x74f"><span>2287</span></td><td id="LC2287" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (parent &amp;&amp; parent.lastChild !== el) {
</code></td></tr><tr><td id="L2288" class="css-a4x74f"><span>2288</span></td><td id="LC2288" class="css-1dcdqdg"><code>		parent.appendChild(el);
</code></td></tr><tr><td id="L2289" class="css-a4x74f"><span>2289</span></td><td id="LC2289" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2290" class="css-a4x74f"><span>2290</span></td><td id="LC2290" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2291" class="css-a4x74f"><span>2291</span></td><td id="LC2291" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2292" class="css-a4x74f"><span>2292</span></td><td id="LC2292" class="css-1dcdqdg"><code><span class="code-comment">// @function toBack(el: HTMLElement)</span>
</code></td></tr><tr><td id="L2293" class="css-a4x74f"><span>2293</span></td><td id="LC2293" class="css-1dcdqdg"><code><span class="code-comment">// Makes `el` the first child of its parent, so it renders behind the other children.</span>
</code></td></tr><tr><td id="L2294" class="css-a4x74f"><span>2294</span></td><td id="LC2294" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">toBack</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2295" class="css-a4x74f"><span>2295</span></td><td id="LC2295" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> parent = el.parentNode;
</code></td></tr><tr><td id="L2296" class="css-a4x74f"><span>2296</span></td><td id="LC2296" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (parent &amp;&amp; parent.firstChild !== el) {
</code></td></tr><tr><td id="L2297" class="css-a4x74f"><span>2297</span></td><td id="LC2297" class="css-1dcdqdg"><code>		parent.insertBefore(el, parent.firstChild);
</code></td></tr><tr><td id="L2298" class="css-a4x74f"><span>2298</span></td><td id="LC2298" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2299" class="css-a4x74f"><span>2299</span></td><td id="LC2299" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2300" class="css-a4x74f"><span>2300</span></td><td id="LC2300" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2301" class="css-a4x74f"><span>2301</span></td><td id="LC2301" class="css-1dcdqdg"><code><span class="code-comment">// @function hasClass(el: HTMLElement, name: String): Boolean</span>
</code></td></tr><tr><td id="L2302" class="css-a4x74f"><span>2302</span></td><td id="LC2302" class="css-1dcdqdg"><code><span class="code-comment">// Returns `true` if the element's class attribute contains `name`.</span>
</code></td></tr><tr><td id="L2303" class="css-a4x74f"><span>2303</span></td><td id="LC2303" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hasClass</span>(<span class="code-params">el, name</span>) </span>{
</code></td></tr><tr><td id="L2304" class="css-a4x74f"><span>2304</span></td><td id="LC2304" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (el.classList !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L2305" class="css-a4x74f"><span>2305</span></td><td id="LC2305" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> el.classList.contains(name);
</code></td></tr><tr><td id="L2306" class="css-a4x74f"><span>2306</span></td><td id="LC2306" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2307" class="css-a4x74f"><span>2307</span></td><td id="LC2307" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> className = getClass(el);
</code></td></tr><tr><td id="L2308" class="css-a4x74f"><span>2308</span></td><td id="LC2308" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> className.length &gt; <span class="code-number">0</span> &amp;&amp; <span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">'(^|\\s)'</span> + name + <span class="code-string">'(\\s|$)'</span>).test(className);
</code></td></tr><tr><td id="L2309" class="css-a4x74f"><span>2309</span></td><td id="LC2309" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2310" class="css-a4x74f"><span>2310</span></td><td id="LC2310" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2311" class="css-a4x74f"><span>2311</span></td><td id="LC2311" class="css-1dcdqdg"><code><span class="code-comment">// @function addClass(el: HTMLElement, name: String)</span>
</code></td></tr><tr><td id="L2312" class="css-a4x74f"><span>2312</span></td><td id="LC2312" class="css-1dcdqdg"><code><span class="code-comment">// Adds `name` to the element's class attribute.</span>
</code></td></tr><tr><td id="L2313" class="css-a4x74f"><span>2313</span></td><td id="LC2313" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addClass</span>(<span class="code-params">el, name</span>) </span>{
</code></td></tr><tr><td id="L2314" class="css-a4x74f"><span>2314</span></td><td id="LC2314" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (el.classList !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L2315" class="css-a4x74f"><span>2315</span></td><td id="LC2315" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> classes = splitWords(name);
</code></td></tr><tr><td id="L2316" class="css-a4x74f"><span>2316</span></td><td id="LC2316" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = classes.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L2317" class="css-a4x74f"><span>2317</span></td><td id="LC2317" class="css-1dcdqdg"><code>			el.classList.add(classes[i]);
</code></td></tr><tr><td id="L2318" class="css-a4x74f"><span>2318</span></td><td id="LC2318" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2319" class="css-a4x74f"><span>2319</span></td><td id="LC2319" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (!hasClass(el, name)) {
</code></td></tr><tr><td id="L2320" class="css-a4x74f"><span>2320</span></td><td id="LC2320" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> className = getClass(el);
</code></td></tr><tr><td id="L2321" class="css-a4x74f"><span>2321</span></td><td id="LC2321" class="css-1dcdqdg"><code>		setClass(el, (className ? className + <span class="code-string">' '</span> : <span class="code-string">''</span>) + name);
</code></td></tr><tr><td id="L2322" class="css-a4x74f"><span>2322</span></td><td id="LC2322" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2323" class="css-a4x74f"><span>2323</span></td><td id="LC2323" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2324" class="css-a4x74f"><span>2324</span></td><td id="LC2324" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2325" class="css-a4x74f"><span>2325</span></td><td id="LC2325" class="css-1dcdqdg"><code><span class="code-comment">// @function removeClass(el: HTMLElement, name: String)</span>
</code></td></tr><tr><td id="L2326" class="css-a4x74f"><span>2326</span></td><td id="LC2326" class="css-1dcdqdg"><code><span class="code-comment">// Removes `name` from the element's class attribute.</span>
</code></td></tr><tr><td id="L2327" class="css-a4x74f"><span>2327</span></td><td id="LC2327" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">removeClass</span>(<span class="code-params">el, name</span>) </span>{
</code></td></tr><tr><td id="L2328" class="css-a4x74f"><span>2328</span></td><td id="LC2328" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (el.classList !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L2329" class="css-a4x74f"><span>2329</span></td><td id="LC2329" class="css-1dcdqdg"><code>		el.classList.remove(name);
</code></td></tr><tr><td id="L2330" class="css-a4x74f"><span>2330</span></td><td id="LC2330" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2331" class="css-a4x74f"><span>2331</span></td><td id="LC2331" class="css-1dcdqdg"><code>		setClass(el, trim((<span class="code-string">' '</span> + getClass(el) + <span class="code-string">' '</span>).replace(<span class="code-string">' '</span> + name + <span class="code-string">' '</span>, <span class="code-string">' '</span>)));
</code></td></tr><tr><td id="L2332" class="css-a4x74f"><span>2332</span></td><td id="LC2332" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2333" class="css-a4x74f"><span>2333</span></td><td id="LC2333" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2334" class="css-a4x74f"><span>2334</span></td><td id="LC2334" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2335" class="css-a4x74f"><span>2335</span></td><td id="LC2335" class="css-1dcdqdg"><code><span class="code-comment">// @function setClass(el: HTMLElement, name: String)</span>
</code></td></tr><tr><td id="L2336" class="css-a4x74f"><span>2336</span></td><td id="LC2336" class="css-1dcdqdg"><code><span class="code-comment">// Sets the element's class.</span>
</code></td></tr><tr><td id="L2337" class="css-a4x74f"><span>2337</span></td><td id="LC2337" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setClass</span>(<span class="code-params">el, name</span>) </span>{
</code></td></tr><tr><td id="L2338" class="css-a4x74f"><span>2338</span></td><td id="LC2338" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (el.className.baseVal === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L2339" class="css-a4x74f"><span>2339</span></td><td id="LC2339" class="css-1dcdqdg"><code>		el.className = name;
</code></td></tr><tr><td id="L2340" class="css-a4x74f"><span>2340</span></td><td id="LC2340" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2341" class="css-a4x74f"><span>2341</span></td><td id="LC2341" class="css-1dcdqdg"><code>		<span class="code-comment">// in case of SVG element</span>
</code></td></tr><tr><td id="L2342" class="css-a4x74f"><span>2342</span></td><td id="LC2342" class="css-1dcdqdg"><code>		el.className.baseVal = name;
</code></td></tr><tr><td id="L2343" class="css-a4x74f"><span>2343</span></td><td id="LC2343" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2344" class="css-a4x74f"><span>2344</span></td><td id="LC2344" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2345" class="css-a4x74f"><span>2345</span></td><td id="LC2345" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2346" class="css-a4x74f"><span>2346</span></td><td id="LC2346" class="css-1dcdqdg"><code><span class="code-comment">// @function getClass(el: HTMLElement): String</span>
</code></td></tr><tr><td id="L2347" class="css-a4x74f"><span>2347</span></td><td id="LC2347" class="css-1dcdqdg"><code><span class="code-comment">// Returns the element's class.</span>
</code></td></tr><tr><td id="L2348" class="css-a4x74f"><span>2348</span></td><td id="LC2348" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getClass</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2349" class="css-a4x74f"><span>2349</span></td><td id="LC2349" class="css-1dcdqdg"><code>	<span class="code-comment">// Check if the element is an SVGElementInstance and use the correspondingElement instead</span>
</code></td></tr><tr><td id="L2350" class="css-a4x74f"><span>2350</span></td><td id="LC2350" class="css-1dcdqdg"><code>	<span class="code-comment">// (Required for linked SVG elements in IE11.)</span>
</code></td></tr><tr><td id="L2351" class="css-a4x74f"><span>2351</span></td><td id="LC2351" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (el.correspondingElement) {
</code></td></tr><tr><td id="L2352" class="css-a4x74f"><span>2352</span></td><td id="LC2352" class="css-1dcdqdg"><code>		el = el.correspondingElement;
</code></td></tr><tr><td id="L2353" class="css-a4x74f"><span>2353</span></td><td id="LC2353" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2354" class="css-a4x74f"><span>2354</span></td><td id="LC2354" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> el.className.baseVal === <span class="code-literal">undefined</span> ? el.className : el.className.baseVal;
</code></td></tr><tr><td id="L2355" class="css-a4x74f"><span>2355</span></td><td id="LC2355" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2356" class="css-a4x74f"><span>2356</span></td><td id="LC2356" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2357" class="css-a4x74f"><span>2357</span></td><td id="LC2357" class="css-1dcdqdg"><code><span class="code-comment">// @function setOpacity(el: HTMLElement, opacity: Number)</span>
</code></td></tr><tr><td id="L2358" class="css-a4x74f"><span>2358</span></td><td id="LC2358" class="css-1dcdqdg"><code><span class="code-comment">// Set the opacity of an element (including old IE support).</span>
</code></td></tr><tr><td id="L2359" class="css-a4x74f"><span>2359</span></td><td id="LC2359" class="css-1dcdqdg"><code><span class="code-comment">// `opacity` must be a number from `0` to `1`.</span>
</code></td></tr><tr><td id="L2360" class="css-a4x74f"><span>2360</span></td><td id="LC2360" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setOpacity</span>(<span class="code-params">el, value</span>) </span>{
</code></td></tr><tr><td id="L2361" class="css-a4x74f"><span>2361</span></td><td id="LC2361" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-string">'opacity'</span> <span class="code-keyword">in</span> el.style) {
</code></td></tr><tr><td id="L2362" class="css-a4x74f"><span>2362</span></td><td id="LC2362" class="css-1dcdqdg"><code>		el.style.opacity = value;
</code></td></tr><tr><td id="L2363" class="css-a4x74f"><span>2363</span></td><td id="LC2363" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-string">'filter'</span> <span class="code-keyword">in</span> el.style) {
</code></td></tr><tr><td id="L2364" class="css-a4x74f"><span>2364</span></td><td id="LC2364" class="css-1dcdqdg"><code>		_setOpacityIE(el, value);
</code></td></tr><tr><td id="L2365" class="css-a4x74f"><span>2365</span></td><td id="LC2365" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2366" class="css-a4x74f"><span>2366</span></td><td id="LC2366" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2367" class="css-a4x74f"><span>2367</span></td><td id="LC2367" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2368" class="css-a4x74f"><span>2368</span></td><td id="LC2368" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_setOpacityIE</span>(<span class="code-params">el, value</span>) </span>{
</code></td></tr><tr><td id="L2369" class="css-a4x74f"><span>2369</span></td><td id="LC2369" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> filter = <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L2370" class="css-a4x74f"><span>2370</span></td><td id="LC2370" class="css-1dcdqdg"><code>	    filterName = <span class="code-string">'DXImageTransform.Microsoft.Alpha'</span>;
</code></td></tr><tr><td id="L2371" class="css-a4x74f"><span>2371</span></td><td id="LC2371" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2372" class="css-a4x74f"><span>2372</span></td><td id="LC2372" class="css-1dcdqdg"><code>	<span class="code-comment">// filters collection throws an error if we try to retrieve a filter that doesn't exist</span>
</code></td></tr><tr><td id="L2373" class="css-a4x74f"><span>2373</span></td><td id="LC2373" class="css-1dcdqdg"><code>	<span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L2374" class="css-a4x74f"><span>2374</span></td><td id="LC2374" class="css-1dcdqdg"><code>		filter = el.filters.item(filterName);
</code></td></tr><tr><td id="L2375" class="css-a4x74f"><span>2375</span></td><td id="LC2375" class="css-1dcdqdg"><code>	} <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L2376" class="css-a4x74f"><span>2376</span></td><td id="LC2376" class="css-1dcdqdg"><code>		<span class="code-comment">// don't set opacity to 1 if we haven't already set an opacity,</span>
</code></td></tr><tr><td id="L2377" class="css-a4x74f"><span>2377</span></td><td id="LC2377" class="css-1dcdqdg"><code>		<span class="code-comment">// it isn't needed and breaks transparent pngs.</span>
</code></td></tr><tr><td id="L2378" class="css-a4x74f"><span>2378</span></td><td id="LC2378" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (value === <span class="code-number">1</span>) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L2379" class="css-a4x74f"><span>2379</span></td><td id="LC2379" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2380" class="css-a4x74f"><span>2380</span></td><td id="LC2380" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2381" class="css-a4x74f"><span>2381</span></td><td id="LC2381" class="css-1dcdqdg"><code>	value = <span class="code-built_in">Math</span>.round(value * <span class="code-number">100</span>);
</code></td></tr><tr><td id="L2382" class="css-a4x74f"><span>2382</span></td><td id="LC2382" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2383" class="css-a4x74f"><span>2383</span></td><td id="LC2383" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (filter) {
</code></td></tr><tr><td id="L2384" class="css-a4x74f"><span>2384</span></td><td id="LC2384" class="css-1dcdqdg"><code>		filter.Enabled = (value !== <span class="code-number">100</span>);
</code></td></tr><tr><td id="L2385" class="css-a4x74f"><span>2385</span></td><td id="LC2385" class="css-1dcdqdg"><code>		filter.Opacity = value;
</code></td></tr><tr><td id="L2386" class="css-a4x74f"><span>2386</span></td><td id="LC2386" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2387" class="css-a4x74f"><span>2387</span></td><td id="LC2387" class="css-1dcdqdg"><code>		el.style.filter += <span class="code-string">' progid:'</span> + filterName + <span class="code-string">'(opacity='</span> + value + <span class="code-string">')'</span>;
</code></td></tr><tr><td id="L2388" class="css-a4x74f"><span>2388</span></td><td id="LC2388" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2389" class="css-a4x74f"><span>2389</span></td><td id="LC2389" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2390" class="css-a4x74f"><span>2390</span></td><td id="LC2390" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2391" class="css-a4x74f"><span>2391</span></td><td id="LC2391" class="css-1dcdqdg"><code><span class="code-comment">// @function testProp(props: String[]): String|false</span>
</code></td></tr><tr><td id="L2392" class="css-a4x74f"><span>2392</span></td><td id="LC2392" class="css-1dcdqdg"><code><span class="code-comment">// Goes through the array of style names and returns the first name</span>
</code></td></tr><tr><td id="L2393" class="css-a4x74f"><span>2393</span></td><td id="LC2393" class="css-1dcdqdg"><code><span class="code-comment">// that is a valid style name for an element. If no such name is found,</span>
</code></td></tr><tr><td id="L2394" class="css-a4x74f"><span>2394</span></td><td id="LC2394" class="css-1dcdqdg"><code><span class="code-comment">// it returns false. Useful for vendor-prefixed styles like `transform`.</span>
</code></td></tr><tr><td id="L2395" class="css-a4x74f"><span>2395</span></td><td id="LC2395" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">testProp</span>(<span class="code-params">props</span>) </span>{
</code></td></tr><tr><td id="L2396" class="css-a4x74f"><span>2396</span></td><td id="LC2396" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> style = <span class="code-built_in">document</span>.documentElement.style;
</code></td></tr><tr><td id="L2397" class="css-a4x74f"><span>2397</span></td><td id="LC2397" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2398" class="css-a4x74f"><span>2398</span></td><td id="LC2398" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; props.length; i++) {
</code></td></tr><tr><td id="L2399" class="css-a4x74f"><span>2399</span></td><td id="LC2399" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (props[i] <span class="code-keyword">in</span> style) {
</code></td></tr><tr><td id="L2400" class="css-a4x74f"><span>2400</span></td><td id="LC2400" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> props[i];
</code></td></tr><tr><td id="L2401" class="css-a4x74f"><span>2401</span></td><td id="LC2401" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2402" class="css-a4x74f"><span>2402</span></td><td id="LC2402" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2403" class="css-a4x74f"><span>2403</span></td><td id="LC2403" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2404" class="css-a4x74f"><span>2404</span></td><td id="LC2404" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2405" class="css-a4x74f"><span>2405</span></td><td id="LC2405" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2406" class="css-a4x74f"><span>2406</span></td><td id="LC2406" class="css-1dcdqdg"><code><span class="code-comment">// @function setTransform(el: HTMLElement, offset: Point, scale?: Number)</span>
</code></td></tr><tr><td id="L2407" class="css-a4x74f"><span>2407</span></td><td id="LC2407" class="css-1dcdqdg"><code><span class="code-comment">// Resets the 3D CSS transform of `el` so it is translated by `offset` pixels</span>
</code></td></tr><tr><td id="L2408" class="css-a4x74f"><span>2408</span></td><td id="LC2408" class="css-1dcdqdg"><code><span class="code-comment">// and optionally scaled by `scale`. Does not have an effect if the</span>
</code></td></tr><tr><td id="L2409" class="css-a4x74f"><span>2409</span></td><td id="LC2409" class="css-1dcdqdg"><code><span class="code-comment">// browser doesn't support 3D CSS transforms.</span>
</code></td></tr><tr><td id="L2410" class="css-a4x74f"><span>2410</span></td><td id="LC2410" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setTransform</span>(<span class="code-params">el, offset, scale</span>) </span>{
</code></td></tr><tr><td id="L2411" class="css-a4x74f"><span>2411</span></td><td id="LC2411" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> pos = offset || <span class="code-keyword">new</span> Point(<span class="code-number">0</span>, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L2412" class="css-a4x74f"><span>2412</span></td><td id="LC2412" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2413" class="css-a4x74f"><span>2413</span></td><td id="LC2413" class="css-1dcdqdg"><code>	el.style[TRANSFORM] =
</code></td></tr><tr><td id="L2414" class="css-a4x74f"><span>2414</span></td><td id="LC2414" class="css-1dcdqdg"><code>		(Browser.ie3d ?
</code></td></tr><tr><td id="L2415" class="css-a4x74f"><span>2415</span></td><td id="LC2415" class="css-1dcdqdg"><code>			<span class="code-string">'translate('</span> + pos.x + <span class="code-string">'px,'</span> + pos.y + <span class="code-string">'px)'</span> :
</code></td></tr><tr><td id="L2416" class="css-a4x74f"><span>2416</span></td><td id="LC2416" class="css-1dcdqdg"><code>			<span class="code-string">'translate3d('</span> + pos.x + <span class="code-string">'px,'</span> + pos.y + <span class="code-string">'px,0)'</span>) +
</code></td></tr><tr><td id="L2417" class="css-a4x74f"><span>2417</span></td><td id="LC2417" class="css-1dcdqdg"><code>		(scale ? <span class="code-string">' scale('</span> + scale + <span class="code-string">')'</span> : <span class="code-string">''</span>);
</code></td></tr><tr><td id="L2418" class="css-a4x74f"><span>2418</span></td><td id="LC2418" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2419" class="css-a4x74f"><span>2419</span></td><td id="LC2419" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2420" class="css-a4x74f"><span>2420</span></td><td id="LC2420" class="css-1dcdqdg"><code><span class="code-comment">// @function setPosition(el: HTMLElement, position: Point)</span>
</code></td></tr><tr><td id="L2421" class="css-a4x74f"><span>2421</span></td><td id="LC2421" class="css-1dcdqdg"><code><span class="code-comment">// Sets the position of `el` to coordinates specified by `position`,</span>
</code></td></tr><tr><td id="L2422" class="css-a4x74f"><span>2422</span></td><td id="LC2422" class="css-1dcdqdg"><code><span class="code-comment">// using CSS translate or top/left positioning depending on the browser</span>
</code></td></tr><tr><td id="L2423" class="css-a4x74f"><span>2423</span></td><td id="LC2423" class="css-1dcdqdg"><code><span class="code-comment">// (used by Leaflet internally to position its layers).</span>
</code></td></tr><tr><td id="L2424" class="css-a4x74f"><span>2424</span></td><td id="LC2424" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">setPosition</span>(<span class="code-params">el, point</span>) </span>{
</code></td></tr><tr><td id="L2425" class="css-a4x74f"><span>2425</span></td><td id="LC2425" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2426" class="css-a4x74f"><span>2426</span></td><td id="LC2426" class="css-1dcdqdg"><code>	<span class="code-comment">/*eslint-disable */</span>
</code></td></tr><tr><td id="L2427" class="css-a4x74f"><span>2427</span></td><td id="LC2427" class="css-1dcdqdg"><code>	el._leaflet_pos = point;
</code></td></tr><tr><td id="L2428" class="css-a4x74f"><span>2428</span></td><td id="LC2428" class="css-1dcdqdg"><code>	<span class="code-comment">/* eslint-enable */</span>
</code></td></tr><tr><td id="L2429" class="css-a4x74f"><span>2429</span></td><td id="LC2429" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2430" class="css-a4x74f"><span>2430</span></td><td id="LC2430" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (Browser.any3d) {
</code></td></tr><tr><td id="L2431" class="css-a4x74f"><span>2431</span></td><td id="LC2431" class="css-1dcdqdg"><code>		setTransform(el, point);
</code></td></tr><tr><td id="L2432" class="css-a4x74f"><span>2432</span></td><td id="LC2432" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2433" class="css-a4x74f"><span>2433</span></td><td id="LC2433" class="css-1dcdqdg"><code>		el.style.left = point.x + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L2434" class="css-a4x74f"><span>2434</span></td><td id="LC2434" class="css-1dcdqdg"><code>		el.style.top = point.y + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L2435" class="css-a4x74f"><span>2435</span></td><td id="LC2435" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2436" class="css-a4x74f"><span>2436</span></td><td id="LC2436" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2437" class="css-a4x74f"><span>2437</span></td><td id="LC2437" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2438" class="css-a4x74f"><span>2438</span></td><td id="LC2438" class="css-1dcdqdg"><code><span class="code-comment">// @function getPosition(el: HTMLElement): Point</span>
</code></td></tr><tr><td id="L2439" class="css-a4x74f"><span>2439</span></td><td id="LC2439" class="css-1dcdqdg"><code><span class="code-comment">// Returns the coordinates of an element previously positioned with setPosition.</span>
</code></td></tr><tr><td id="L2440" class="css-a4x74f"><span>2440</span></td><td id="LC2440" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getPosition</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2441" class="css-a4x74f"><span>2441</span></td><td id="LC2441" class="css-1dcdqdg"><code>	<span class="code-comment">// this method is only used for elements previously positioned using setPosition,</span>
</code></td></tr><tr><td id="L2442" class="css-a4x74f"><span>2442</span></td><td id="LC2442" class="css-1dcdqdg"><code>	<span class="code-comment">// so it's safe to cache the position for performance</span>
</code></td></tr><tr><td id="L2443" class="css-a4x74f"><span>2443</span></td><td id="LC2443" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2444" class="css-a4x74f"><span>2444</span></td><td id="LC2444" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> el._leaflet_pos || <span class="code-keyword">new</span> Point(<span class="code-number">0</span>, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L2445" class="css-a4x74f"><span>2445</span></td><td id="LC2445" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2446" class="css-a4x74f"><span>2446</span></td><td id="LC2446" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2447" class="css-a4x74f"><span>2447</span></td><td id="LC2447" class="css-1dcdqdg"><code><span class="code-comment">// @function disableTextSelection()</span>
</code></td></tr><tr><td id="L2448" class="css-a4x74f"><span>2448</span></td><td id="LC2448" class="css-1dcdqdg"><code><span class="code-comment">// Prevents the user from generating `selectstart` DOM events, usually generated</span>
</code></td></tr><tr><td id="L2449" class="css-a4x74f"><span>2449</span></td><td id="LC2449" class="css-1dcdqdg"><code><span class="code-comment">// when the user drags the mouse through a page with text. Used internally</span>
</code></td></tr><tr><td id="L2450" class="css-a4x74f"><span>2450</span></td><td id="LC2450" class="css-1dcdqdg"><code><span class="code-comment">// by Leaflet to override the behaviour of any click-and-drag interaction on</span>
</code></td></tr><tr><td id="L2451" class="css-a4x74f"><span>2451</span></td><td id="LC2451" class="css-1dcdqdg"><code><span class="code-comment">// the map. Affects drag interactions on the whole document.</span>
</code></td></tr><tr><td id="L2452" class="css-a4x74f"><span>2452</span></td><td id="LC2452" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2453" class="css-a4x74f"><span>2453</span></td><td id="LC2453" class="css-1dcdqdg"><code><span class="code-comment">// @function enableTextSelection()</span>
</code></td></tr><tr><td id="L2454" class="css-a4x74f"><span>2454</span></td><td id="LC2454" class="css-1dcdqdg"><code><span class="code-comment">// Cancels the effects of a previous [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection).</span>
</code></td></tr><tr><td id="L2455" class="css-a4x74f"><span>2455</span></td><td id="LC2455" class="css-1dcdqdg"><code><span class="code-keyword">var</span> disableTextSelection;
</code></td></tr><tr><td id="L2456" class="css-a4x74f"><span>2456</span></td><td id="LC2456" class="css-1dcdqdg"><code><span class="code-keyword">var</span> enableTextSelection;
</code></td></tr><tr><td id="L2457" class="css-a4x74f"><span>2457</span></td><td id="LC2457" class="css-1dcdqdg"><code><span class="code-keyword">var</span> _userSelect;
</code></td></tr><tr><td id="L2458" class="css-a4x74f"><span>2458</span></td><td id="LC2458" class="css-1dcdqdg"><code><span class="code-keyword">if</span> (<span class="code-string">'onselectstart'</span> <span class="code-keyword">in</span> <span class="code-built_in">document</span>) {
</code></td></tr><tr><td id="L2459" class="css-a4x74f"><span>2459</span></td><td id="LC2459" class="css-1dcdqdg"><code>	disableTextSelection = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2460" class="css-a4x74f"><span>2460</span></td><td id="LC2460" class="css-1dcdqdg"><code>		on(<span class="code-built_in">window</span>, <span class="code-string">'selectstart'</span>, preventDefault);
</code></td></tr><tr><td id="L2461" class="css-a4x74f"><span>2461</span></td><td id="LC2461" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2462" class="css-a4x74f"><span>2462</span></td><td id="LC2462" class="css-1dcdqdg"><code>	enableTextSelection = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2463" class="css-a4x74f"><span>2463</span></td><td id="LC2463" class="css-1dcdqdg"><code>		off(<span class="code-built_in">window</span>, <span class="code-string">'selectstart'</span>, preventDefault);
</code></td></tr><tr><td id="L2464" class="css-a4x74f"><span>2464</span></td><td id="LC2464" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2465" class="css-a4x74f"><span>2465</span></td><td id="LC2465" class="css-1dcdqdg"><code>} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2466" class="css-a4x74f"><span>2466</span></td><td id="LC2466" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> userSelectProperty = testProp(
</code></td></tr><tr><td id="L2467" class="css-a4x74f"><span>2467</span></td><td id="LC2467" class="css-1dcdqdg"><code>		[<span class="code-string">'userSelect'</span>, <span class="code-string">'WebkitUserSelect'</span>, <span class="code-string">'OUserSelect'</span>, <span class="code-string">'MozUserSelect'</span>, <span class="code-string">'msUserSelect'</span>]);
</code></td></tr><tr><td id="L2468" class="css-a4x74f"><span>2468</span></td><td id="LC2468" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2469" class="css-a4x74f"><span>2469</span></td><td id="LC2469" class="css-1dcdqdg"><code>	disableTextSelection = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2470" class="css-a4x74f"><span>2470</span></td><td id="LC2470" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (userSelectProperty) {
</code></td></tr><tr><td id="L2471" class="css-a4x74f"><span>2471</span></td><td id="LC2471" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> style = <span class="code-built_in">document</span>.documentElement.style;
</code></td></tr><tr><td id="L2472" class="css-a4x74f"><span>2472</span></td><td id="LC2472" class="css-1dcdqdg"><code>			_userSelect = style[userSelectProperty];
</code></td></tr><tr><td id="L2473" class="css-a4x74f"><span>2473</span></td><td id="LC2473" class="css-1dcdqdg"><code>			style[userSelectProperty] = <span class="code-string">'none'</span>;
</code></td></tr><tr><td id="L2474" class="css-a4x74f"><span>2474</span></td><td id="LC2474" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2475" class="css-a4x74f"><span>2475</span></td><td id="LC2475" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2476" class="css-a4x74f"><span>2476</span></td><td id="LC2476" class="css-1dcdqdg"><code>	enableTextSelection = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2477" class="css-a4x74f"><span>2477</span></td><td id="LC2477" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (userSelectProperty) {
</code></td></tr><tr><td id="L2478" class="css-a4x74f"><span>2478</span></td><td id="LC2478" class="css-1dcdqdg"><code>			<span class="code-built_in">document</span>.documentElement.style[userSelectProperty] = _userSelect;
</code></td></tr><tr><td id="L2479" class="css-a4x74f"><span>2479</span></td><td id="LC2479" class="css-1dcdqdg"><code>			_userSelect = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L2480" class="css-a4x74f"><span>2480</span></td><td id="LC2480" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2481" class="css-a4x74f"><span>2481</span></td><td id="LC2481" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2482" class="css-a4x74f"><span>2482</span></td><td id="LC2482" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2483" class="css-a4x74f"><span>2483</span></td><td id="LC2483" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2484" class="css-a4x74f"><span>2484</span></td><td id="LC2484" class="css-1dcdqdg"><code><span class="code-comment">// @function disableImageDrag()</span>
</code></td></tr><tr><td id="L2485" class="css-a4x74f"><span>2485</span></td><td id="LC2485" class="css-1dcdqdg"><code><span class="code-comment">// As [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection), but</span>
</code></td></tr><tr><td id="L2486" class="css-a4x74f"><span>2486</span></td><td id="LC2486" class="css-1dcdqdg"><code><span class="code-comment">// for `dragstart` DOM events, usually generated when the user drags an image.</span>
</code></td></tr><tr><td id="L2487" class="css-a4x74f"><span>2487</span></td><td id="LC2487" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">disableImageDrag</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2488" class="css-a4x74f"><span>2488</span></td><td id="LC2488" class="css-1dcdqdg"><code>	on(<span class="code-built_in">window</span>, <span class="code-string">'dragstart'</span>, preventDefault);
</code></td></tr><tr><td id="L2489" class="css-a4x74f"><span>2489</span></td><td id="LC2489" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2490" class="css-a4x74f"><span>2490</span></td><td id="LC2490" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2491" class="css-a4x74f"><span>2491</span></td><td id="LC2491" class="css-1dcdqdg"><code><span class="code-comment">// @function enableImageDrag()</span>
</code></td></tr><tr><td id="L2492" class="css-a4x74f"><span>2492</span></td><td id="LC2492" class="css-1dcdqdg"><code><span class="code-comment">// Cancels the effects of a previous [`L.DomUtil.disableImageDrag`](#domutil-disabletextselection).</span>
</code></td></tr><tr><td id="L2493" class="css-a4x74f"><span>2493</span></td><td id="LC2493" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">enableImageDrag</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2494" class="css-a4x74f"><span>2494</span></td><td id="LC2494" class="css-1dcdqdg"><code>	off(<span class="code-built_in">window</span>, <span class="code-string">'dragstart'</span>, preventDefault);
</code></td></tr><tr><td id="L2495" class="css-a4x74f"><span>2495</span></td><td id="LC2495" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2496" class="css-a4x74f"><span>2496</span></td><td id="LC2496" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2497" class="css-a4x74f"><span>2497</span></td><td id="LC2497" class="css-1dcdqdg"><code><span class="code-keyword">var</span> _outlineElement, _outlineStyle;
</code></td></tr><tr><td id="L2498" class="css-a4x74f"><span>2498</span></td><td id="LC2498" class="css-1dcdqdg"><code><span class="code-comment">// @function preventOutline(el: HTMLElement)</span>
</code></td></tr><tr><td id="L2499" class="css-a4x74f"><span>2499</span></td><td id="LC2499" class="css-1dcdqdg"><code><span class="code-comment">// Makes the [outline](https://developer.mozilla.org/docs/Web/CSS/outline)</span>
</code></td></tr><tr><td id="L2500" class="css-a4x74f"><span>2500</span></td><td id="LC2500" class="css-1dcdqdg"><code><span class="code-comment">// of the element `el` invisible. Used internally by Leaflet to prevent</span>
</code></td></tr><tr><td id="L2501" class="css-a4x74f"><span>2501</span></td><td id="LC2501" class="css-1dcdqdg"><code><span class="code-comment">// focusable elements from displaying an outline when the user performs a</span>
</code></td></tr><tr><td id="L2502" class="css-a4x74f"><span>2502</span></td><td id="LC2502" class="css-1dcdqdg"><code><span class="code-comment">// drag interaction on them.</span>
</code></td></tr><tr><td id="L2503" class="css-a4x74f"><span>2503</span></td><td id="LC2503" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">preventOutline</span>(<span class="code-params">element</span>) </span>{
</code></td></tr><tr><td id="L2504" class="css-a4x74f"><span>2504</span></td><td id="LC2504" class="css-1dcdqdg"><code>	<span class="code-keyword">while</span> (element.tabIndex === <span class="code-number">-1</span>) {
</code></td></tr><tr><td id="L2505" class="css-a4x74f"><span>2505</span></td><td id="LC2505" class="css-1dcdqdg"><code>		element = element.parentNode;
</code></td></tr><tr><td id="L2506" class="css-a4x74f"><span>2506</span></td><td id="LC2506" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2507" class="css-a4x74f"><span>2507</span></td><td id="LC2507" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!element.style) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L2508" class="css-a4x74f"><span>2508</span></td><td id="LC2508" class="css-1dcdqdg"><code>	restoreOutline();
</code></td></tr><tr><td id="L2509" class="css-a4x74f"><span>2509</span></td><td id="LC2509" class="css-1dcdqdg"><code>	_outlineElement = element;
</code></td></tr><tr><td id="L2510" class="css-a4x74f"><span>2510</span></td><td id="LC2510" class="css-1dcdqdg"><code>	_outlineStyle = element.style.outline;
</code></td></tr><tr><td id="L2511" class="css-a4x74f"><span>2511</span></td><td id="LC2511" class="css-1dcdqdg"><code>	element.style.outline = <span class="code-string">'none'</span>;
</code></td></tr><tr><td id="L2512" class="css-a4x74f"><span>2512</span></td><td id="LC2512" class="css-1dcdqdg"><code>	on(<span class="code-built_in">window</span>, <span class="code-string">'keydown'</span>, restoreOutline);
</code></td></tr><tr><td id="L2513" class="css-a4x74f"><span>2513</span></td><td id="LC2513" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2514" class="css-a4x74f"><span>2514</span></td><td id="LC2514" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2515" class="css-a4x74f"><span>2515</span></td><td id="LC2515" class="css-1dcdqdg"><code><span class="code-comment">// @function restoreOutline()</span>
</code></td></tr><tr><td id="L2516" class="css-a4x74f"><span>2516</span></td><td id="LC2516" class="css-1dcdqdg"><code><span class="code-comment">// Cancels the effects of a previous [`L.DomUtil.preventOutline`]().</span>
</code></td></tr><tr><td id="L2517" class="css-a4x74f"><span>2517</span></td><td id="LC2517" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">restoreOutline</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2518" class="css-a4x74f"><span>2518</span></td><td id="LC2518" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!_outlineElement) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L2519" class="css-a4x74f"><span>2519</span></td><td id="LC2519" class="css-1dcdqdg"><code>	_outlineElement.style.outline = _outlineStyle;
</code></td></tr><tr><td id="L2520" class="css-a4x74f"><span>2520</span></td><td id="LC2520" class="css-1dcdqdg"><code>	_outlineElement = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L2521" class="css-a4x74f"><span>2521</span></td><td id="LC2521" class="css-1dcdqdg"><code>	_outlineStyle = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L2522" class="css-a4x74f"><span>2522</span></td><td id="LC2522" class="css-1dcdqdg"><code>	off(<span class="code-built_in">window</span>, <span class="code-string">'keydown'</span>, restoreOutline);
</code></td></tr><tr><td id="L2523" class="css-a4x74f"><span>2523</span></td><td id="LC2523" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2524" class="css-a4x74f"><span>2524</span></td><td id="LC2524" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2525" class="css-a4x74f"><span>2525</span></td><td id="LC2525" class="css-1dcdqdg"><code><span class="code-comment">// @function getSizedParentNode(el: HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L2526" class="css-a4x74f"><span>2526</span></td><td id="LC2526" class="css-1dcdqdg"><code><span class="code-comment">// Finds the closest parent node which size (width and height) is not null.</span>
</code></td></tr><tr><td id="L2527" class="css-a4x74f"><span>2527</span></td><td id="LC2527" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getSizedParentNode</span>(<span class="code-params">element</span>) </span>{
</code></td></tr><tr><td id="L2528" class="css-a4x74f"><span>2528</span></td><td id="LC2528" class="css-1dcdqdg"><code>	<span class="code-keyword">do</span> {
</code></td></tr><tr><td id="L2529" class="css-a4x74f"><span>2529</span></td><td id="LC2529" class="css-1dcdqdg"><code>		element = element.parentNode;
</code></td></tr><tr><td id="L2530" class="css-a4x74f"><span>2530</span></td><td id="LC2530" class="css-1dcdqdg"><code>	} <span class="code-keyword">while</span> ((!element.offsetWidth || !element.offsetHeight) &amp;&amp; element !== <span class="code-built_in">document</span>.body);
</code></td></tr><tr><td id="L2531" class="css-a4x74f"><span>2531</span></td><td id="LC2531" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> element;
</code></td></tr><tr><td id="L2532" class="css-a4x74f"><span>2532</span></td><td id="LC2532" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2533" class="css-a4x74f"><span>2533</span></td><td id="LC2533" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2534" class="css-a4x74f"><span>2534</span></td><td id="LC2534" class="css-1dcdqdg"><code><span class="code-comment">// @function getScale(el: HTMLElement): Object</span>
</code></td></tr><tr><td id="L2535" class="css-a4x74f"><span>2535</span></td><td id="LC2535" class="css-1dcdqdg"><code><span class="code-comment">// Computes the CSS scale currently applied on the element.</span>
</code></td></tr><tr><td id="L2536" class="css-a4x74f"><span>2536</span></td><td id="LC2536" class="css-1dcdqdg"><code><span class="code-comment">// Returns an object with `x` and `y` members as horizontal and vertical scales respectively,</span>
</code></td></tr><tr><td id="L2537" class="css-a4x74f"><span>2537</span></td><td id="LC2537" class="css-1dcdqdg"><code><span class="code-comment">// and `boundingClientRect` as the result of [`getBoundingClientRect()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect).</span>
</code></td></tr><tr><td id="L2538" class="css-a4x74f"><span>2538</span></td><td id="LC2538" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getScale</span>(<span class="code-params">element</span>) </span>{
</code></td></tr><tr><td id="L2539" class="css-a4x74f"><span>2539</span></td><td id="LC2539" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> rect = element.getBoundingClientRect(); <span class="code-comment">// Read-only in old browsers.</span>
</code></td></tr><tr><td id="L2540" class="css-a4x74f"><span>2540</span></td><td id="LC2540" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2541" class="css-a4x74f"><span>2541</span></td><td id="LC2541" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L2542" class="css-a4x74f"><span>2542</span></td><td id="LC2542" class="css-1dcdqdg"><code>		x: rect.width / element.offsetWidth || <span class="code-number">1</span>,
</code></td></tr><tr><td id="L2543" class="css-a4x74f"><span>2543</span></td><td id="LC2543" class="css-1dcdqdg"><code>		y: rect.height / element.offsetHeight || <span class="code-number">1</span>,
</code></td></tr><tr><td id="L2544" class="css-a4x74f"><span>2544</span></td><td id="LC2544" class="css-1dcdqdg"><code>		boundingClientRect: rect
</code></td></tr><tr><td id="L2545" class="css-a4x74f"><span>2545</span></td><td id="LC2545" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2546" class="css-a4x74f"><span>2546</span></td><td id="LC2546" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2547" class="css-a4x74f"><span>2547</span></td><td id="LC2547" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2548" class="css-a4x74f"><span>2548</span></td><td id="LC2548" class="css-1dcdqdg"><code><span class="code-keyword">var</span> DomUtil = {
</code></td></tr><tr><td id="L2549" class="css-a4x74f"><span>2549</span></td><td id="LC2549" class="css-1dcdqdg"><code>  __proto__: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L2550" class="css-a4x74f"><span>2550</span></td><td id="LC2550" class="css-1dcdqdg"><code>  TRANSFORM: TRANSFORM,
</code></td></tr><tr><td id="L2551" class="css-a4x74f"><span>2551</span></td><td id="LC2551" class="css-1dcdqdg"><code>  TRANSITION: TRANSITION,
</code></td></tr><tr><td id="L2552" class="css-a4x74f"><span>2552</span></td><td id="LC2552" class="css-1dcdqdg"><code>  TRANSITION_END: TRANSITION_END,
</code></td></tr><tr><td id="L2553" class="css-a4x74f"><span>2553</span></td><td id="LC2553" class="css-1dcdqdg"><code>  <span class="code-keyword">get</span>: <span class="code-keyword">get</span>,
</code></td></tr><tr><td id="L2554" class="css-a4x74f"><span>2554</span></td><td id="LC2554" class="css-1dcdqdg"><code>  getStyle: getStyle,
</code></td></tr><tr><td id="L2555" class="css-a4x74f"><span>2555</span></td><td id="LC2555" class="css-1dcdqdg"><code>  create: create$1,
</code></td></tr><tr><td id="L2556" class="css-a4x74f"><span>2556</span></td><td id="LC2556" class="css-1dcdqdg"><code>  remove: remove,
</code></td></tr><tr><td id="L2557" class="css-a4x74f"><span>2557</span></td><td id="LC2557" class="css-1dcdqdg"><code>  empty: empty,
</code></td></tr><tr><td id="L2558" class="css-a4x74f"><span>2558</span></td><td id="LC2558" class="css-1dcdqdg"><code>  toFront: toFront,
</code></td></tr><tr><td id="L2559" class="css-a4x74f"><span>2559</span></td><td id="LC2559" class="css-1dcdqdg"><code>  toBack: toBack,
</code></td></tr><tr><td id="L2560" class="css-a4x74f"><span>2560</span></td><td id="LC2560" class="css-1dcdqdg"><code>  hasClass: hasClass,
</code></td></tr><tr><td id="L2561" class="css-a4x74f"><span>2561</span></td><td id="LC2561" class="css-1dcdqdg"><code>  addClass: addClass,
</code></td></tr><tr><td id="L2562" class="css-a4x74f"><span>2562</span></td><td id="LC2562" class="css-1dcdqdg"><code>  removeClass: removeClass,
</code></td></tr><tr><td id="L2563" class="css-a4x74f"><span>2563</span></td><td id="LC2563" class="css-1dcdqdg"><code>  setClass: setClass,
</code></td></tr><tr><td id="L2564" class="css-a4x74f"><span>2564</span></td><td id="LC2564" class="css-1dcdqdg"><code>  getClass: getClass,
</code></td></tr><tr><td id="L2565" class="css-a4x74f"><span>2565</span></td><td id="LC2565" class="css-1dcdqdg"><code>  setOpacity: setOpacity,
</code></td></tr><tr><td id="L2566" class="css-a4x74f"><span>2566</span></td><td id="LC2566" class="css-1dcdqdg"><code>  testProp: testProp,
</code></td></tr><tr><td id="L2567" class="css-a4x74f"><span>2567</span></td><td id="LC2567" class="css-1dcdqdg"><code>  setTransform: setTransform,
</code></td></tr><tr><td id="L2568" class="css-a4x74f"><span>2568</span></td><td id="LC2568" class="css-1dcdqdg"><code>  setPosition: setPosition,
</code></td></tr><tr><td id="L2569" class="css-a4x74f"><span>2569</span></td><td id="LC2569" class="css-1dcdqdg"><code>  getPosition: getPosition,
</code></td></tr><tr><td id="L2570" class="css-a4x74f"><span>2570</span></td><td id="LC2570" class="css-1dcdqdg"><code>  <span class="code-keyword">get</span> disableTextSelection () { <span class="code-keyword">return</span> disableTextSelection; },
</code></td></tr><tr><td id="L2571" class="css-a4x74f"><span>2571</span></td><td id="LC2571" class="css-1dcdqdg"><code>  <span class="code-keyword">get</span> enableTextSelection () { <span class="code-keyword">return</span> enableTextSelection; },
</code></td></tr><tr><td id="L2572" class="css-a4x74f"><span>2572</span></td><td id="LC2572" class="css-1dcdqdg"><code>  disableImageDrag: disableImageDrag,
</code></td></tr><tr><td id="L2573" class="css-a4x74f"><span>2573</span></td><td id="LC2573" class="css-1dcdqdg"><code>  enableImageDrag: enableImageDrag,
</code></td></tr><tr><td id="L2574" class="css-a4x74f"><span>2574</span></td><td id="LC2574" class="css-1dcdqdg"><code>  preventOutline: preventOutline,
</code></td></tr><tr><td id="L2575" class="css-a4x74f"><span>2575</span></td><td id="LC2575" class="css-1dcdqdg"><code>  restoreOutline: restoreOutline,
</code></td></tr><tr><td id="L2576" class="css-a4x74f"><span>2576</span></td><td id="LC2576" class="css-1dcdqdg"><code>  getSizedParentNode: getSizedParentNode,
</code></td></tr><tr><td id="L2577" class="css-a4x74f"><span>2577</span></td><td id="LC2577" class="css-1dcdqdg"><code>  getScale: getScale
</code></td></tr><tr><td id="L2578" class="css-a4x74f"><span>2578</span></td><td id="LC2578" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L2579" class="css-a4x74f"><span>2579</span></td><td id="LC2579" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2580" class="css-a4x74f"><span>2580</span></td><td id="LC2580" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L2581" class="css-a4x74f"><span>2581</span></td><td id="LC2581" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace DomEvent
</span></code></td></tr><tr><td id="L2582" class="css-a4x74f"><span>2582</span></td><td id="LC2582" class="css-1dcdqdg"><code><span class="code-comment"> * Utility functions to work with the [DOM events](https://developer.mozilla.org/docs/Web/API/Event), used by Leaflet internally.
</span></code></td></tr><tr><td id="L2583" class="css-a4x74f"><span>2583</span></td><td id="LC2583" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L2584" class="css-a4x74f"><span>2584</span></td><td id="LC2584" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2585" class="css-a4x74f"><span>2585</span></td><td id="LC2585" class="css-1dcdqdg"><code><span class="code-comment">// Inspired by John Resig, Dean Edwards and YUI addEvent implementations.</span>
</code></td></tr><tr><td id="L2586" class="css-a4x74f"><span>2586</span></td><td id="LC2586" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2587" class="css-a4x74f"><span>2587</span></td><td id="LC2587" class="css-1dcdqdg"><code><span class="code-comment">// @function on(el: HTMLElement, types: String, fn: Function, context?: Object): this</span>
</code></td></tr><tr><td id="L2588" class="css-a4x74f"><span>2588</span></td><td id="LC2588" class="css-1dcdqdg"><code><span class="code-comment">// Adds a listener function (`fn`) to a particular DOM event type of the</span>
</code></td></tr><tr><td id="L2589" class="css-a4x74f"><span>2589</span></td><td id="LC2589" class="css-1dcdqdg"><code><span class="code-comment">// element `el`. You can optionally specify the context of the listener</span>
</code></td></tr><tr><td id="L2590" class="css-a4x74f"><span>2590</span></td><td id="LC2590" class="css-1dcdqdg"><code><span class="code-comment">// (object the `this` keyword will point to). You can also pass several</span>
</code></td></tr><tr><td id="L2591" class="css-a4x74f"><span>2591</span></td><td id="LC2591" class="css-1dcdqdg"><code><span class="code-comment">// space-separated types (e.g. `'click dblclick'`).</span>
</code></td></tr><tr><td id="L2592" class="css-a4x74f"><span>2592</span></td><td id="LC2592" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2593" class="css-a4x74f"><span>2593</span></td><td id="LC2593" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L2594" class="css-a4x74f"><span>2594</span></td><td id="LC2594" class="css-1dcdqdg"><code><span class="code-comment">// @function on(el: HTMLElement, eventMap: Object, context?: Object): this</span>
</code></td></tr><tr><td id="L2595" class="css-a4x74f"><span>2595</span></td><td id="LC2595" class="css-1dcdqdg"><code><span class="code-comment">// Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`</span>
</code></td></tr><tr><td id="L2596" class="css-a4x74f"><span>2596</span></td><td id="LC2596" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">on</span>(<span class="code-params">obj, types, fn, context</span>) </span>{
</code></td></tr><tr><td id="L2597" class="css-a4x74f"><span>2597</span></td><td id="LC2597" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2598" class="css-a4x74f"><span>2598</span></td><td id="LC2598" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (types &amp;&amp; <span class="code-keyword">typeof</span> types === <span class="code-string">'object'</span>) {
</code></td></tr><tr><td id="L2599" class="css-a4x74f"><span>2599</span></td><td id="LC2599" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> type <span class="code-keyword">in</span> types) {
</code></td></tr><tr><td id="L2600" class="css-a4x74f"><span>2600</span></td><td id="LC2600" class="css-1dcdqdg"><code>			addOne(obj, type, types[type], fn);
</code></td></tr><tr><td id="L2601" class="css-a4x74f"><span>2601</span></td><td id="LC2601" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2602" class="css-a4x74f"><span>2602</span></td><td id="LC2602" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2603" class="css-a4x74f"><span>2603</span></td><td id="LC2603" class="css-1dcdqdg"><code>		types = splitWords(types);
</code></td></tr><tr><td id="L2604" class="css-a4x74f"><span>2604</span></td><td id="LC2604" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2605" class="css-a4x74f"><span>2605</span></td><td id="LC2605" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = types.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L2606" class="css-a4x74f"><span>2606</span></td><td id="LC2606" class="css-1dcdqdg"><code>			addOne(obj, types[i], fn, context);
</code></td></tr><tr><td id="L2607" class="css-a4x74f"><span>2607</span></td><td id="LC2607" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2608" class="css-a4x74f"><span>2608</span></td><td id="LC2608" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2609" class="css-a4x74f"><span>2609</span></td><td id="LC2609" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2610" class="css-a4x74f"><span>2610</span></td><td id="LC2610" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2611" class="css-a4x74f"><span>2611</span></td><td id="LC2611" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2612" class="css-a4x74f"><span>2612</span></td><td id="LC2612" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2613" class="css-a4x74f"><span>2613</span></td><td id="LC2613" class="css-1dcdqdg"><code><span class="code-keyword">var</span> eventsKey = <span class="code-string">'_leaflet_events'</span>;
</code></td></tr><tr><td id="L2614" class="css-a4x74f"><span>2614</span></td><td id="LC2614" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2615" class="css-a4x74f"><span>2615</span></td><td id="LC2615" class="css-1dcdqdg"><code><span class="code-comment">// @function off(el: HTMLElement, types: String, fn: Function, context?: Object): this</span>
</code></td></tr><tr><td id="L2616" class="css-a4x74f"><span>2616</span></td><td id="LC2616" class="css-1dcdqdg"><code><span class="code-comment">// Removes a previously added listener function.</span>
</code></td></tr><tr><td id="L2617" class="css-a4x74f"><span>2617</span></td><td id="LC2617" class="css-1dcdqdg"><code><span class="code-comment">// Note that if you passed a custom context to on, you must pass the same</span>
</code></td></tr><tr><td id="L2618" class="css-a4x74f"><span>2618</span></td><td id="LC2618" class="css-1dcdqdg"><code><span class="code-comment">// context to `off` in order to remove the listener.</span>
</code></td></tr><tr><td id="L2619" class="css-a4x74f"><span>2619</span></td><td id="LC2619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2620" class="css-a4x74f"><span>2620</span></td><td id="LC2620" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L2621" class="css-a4x74f"><span>2621</span></td><td id="LC2621" class="css-1dcdqdg"><code><span class="code-comment">// @function off(el: HTMLElement, eventMap: Object, context?: Object): this</span>
</code></td></tr><tr><td id="L2622" class="css-a4x74f"><span>2622</span></td><td id="LC2622" class="css-1dcdqdg"><code><span class="code-comment">// Removes a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`</span>
</code></td></tr><tr><td id="L2623" class="css-a4x74f"><span>2623</span></td><td id="LC2623" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2624" class="css-a4x74f"><span>2624</span></td><td id="LC2624" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L2625" class="css-a4x74f"><span>2625</span></td><td id="LC2625" class="css-1dcdqdg"><code><span class="code-comment">// @function off(el: HTMLElement, types: String): this</span>
</code></td></tr><tr><td id="L2626" class="css-a4x74f"><span>2626</span></td><td id="LC2626" class="css-1dcdqdg"><code><span class="code-comment">// Removes all previously added listeners of given types.</span>
</code></td></tr><tr><td id="L2627" class="css-a4x74f"><span>2627</span></td><td id="LC2627" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2628" class="css-a4x74f"><span>2628</span></td><td id="LC2628" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L2629" class="css-a4x74f"><span>2629</span></td><td id="LC2629" class="css-1dcdqdg"><code><span class="code-comment">// @function off(el: HTMLElement): this</span>
</code></td></tr><tr><td id="L2630" class="css-a4x74f"><span>2630</span></td><td id="LC2630" class="css-1dcdqdg"><code><span class="code-comment">// Removes all previously added listeners from given HTMLElement</span>
</code></td></tr><tr><td id="L2631" class="css-a4x74f"><span>2631</span></td><td id="LC2631" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">off</span>(<span class="code-params">obj, types, fn, context</span>) </span>{
</code></td></tr><tr><td id="L2632" class="css-a4x74f"><span>2632</span></td><td id="LC2632" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2633" class="css-a4x74f"><span>2633</span></td><td id="LC2633" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length === <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L2634" class="css-a4x74f"><span>2634</span></td><td id="LC2634" class="css-1dcdqdg"><code>		batchRemove(obj);
</code></td></tr><tr><td id="L2635" class="css-a4x74f"><span>2635</span></td><td id="LC2635" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> obj[eventsKey];
</code></td></tr><tr><td id="L2636" class="css-a4x74f"><span>2636</span></td><td id="LC2636" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2637" class="css-a4x74f"><span>2637</span></td><td id="LC2637" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (types &amp;&amp; <span class="code-keyword">typeof</span> types === <span class="code-string">'object'</span>) {
</code></td></tr><tr><td id="L2638" class="css-a4x74f"><span>2638</span></td><td id="LC2638" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> type <span class="code-keyword">in</span> types) {
</code></td></tr><tr><td id="L2639" class="css-a4x74f"><span>2639</span></td><td id="LC2639" class="css-1dcdqdg"><code>			removeOne(obj, type, types[type], fn);
</code></td></tr><tr><td id="L2640" class="css-a4x74f"><span>2640</span></td><td id="LC2640" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2641" class="css-a4x74f"><span>2641</span></td><td id="LC2641" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2642" class="css-a4x74f"><span>2642</span></td><td id="LC2642" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2643" class="css-a4x74f"><span>2643</span></td><td id="LC2643" class="css-1dcdqdg"><code>		types = splitWords(types);
</code></td></tr><tr><td id="L2644" class="css-a4x74f"><span>2644</span></td><td id="LC2644" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2645" class="css-a4x74f"><span>2645</span></td><td id="LC2645" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length === <span class="code-number">2</span>) {
</code></td></tr><tr><td id="L2646" class="css-a4x74f"><span>2646</span></td><td id="LC2646" class="css-1dcdqdg"><code>			batchRemove(obj, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">type</span>) </span>{
</code></td></tr><tr><td id="L2647" class="css-a4x74f"><span>2647</span></td><td id="LC2647" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> indexOf(types, type) !== <span class="code-number">-1</span>;
</code></td></tr><tr><td id="L2648" class="css-a4x74f"><span>2648</span></td><td id="LC2648" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L2649" class="css-a4x74f"><span>2649</span></td><td id="LC2649" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2650" class="css-a4x74f"><span>2650</span></td><td id="LC2650" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = types.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L2651" class="css-a4x74f"><span>2651</span></td><td id="LC2651" class="css-1dcdqdg"><code>				removeOne(obj, types[i], fn, context);
</code></td></tr><tr><td id="L2652" class="css-a4x74f"><span>2652</span></td><td id="LC2652" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L2653" class="css-a4x74f"><span>2653</span></td><td id="LC2653" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2654" class="css-a4x74f"><span>2654</span></td><td id="LC2654" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2655" class="css-a4x74f"><span>2655</span></td><td id="LC2655" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2656" class="css-a4x74f"><span>2656</span></td><td id="LC2656" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2657" class="css-a4x74f"><span>2657</span></td><td id="LC2657" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2658" class="css-a4x74f"><span>2658</span></td><td id="LC2658" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2659" class="css-a4x74f"><span>2659</span></td><td id="LC2659" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">batchRemove</span>(<span class="code-params">obj, filterFn</span>) </span>{
</code></td></tr><tr><td id="L2660" class="css-a4x74f"><span>2660</span></td><td id="LC2660" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> obj[eventsKey]) {
</code></td></tr><tr><td id="L2661" class="css-a4x74f"><span>2661</span></td><td id="LC2661" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> type = id.split(<span class="code-regexp">/\d/</span>)[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L2662" class="css-a4x74f"><span>2662</span></td><td id="LC2662" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!filterFn || filterFn(type)) {
</code></td></tr><tr><td id="L2663" class="css-a4x74f"><span>2663</span></td><td id="LC2663" class="css-1dcdqdg"><code>			removeOne(obj, type, <span class="code-literal">null</span>, <span class="code-literal">null</span>, id);
</code></td></tr><tr><td id="L2664" class="css-a4x74f"><span>2664</span></td><td id="LC2664" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2665" class="css-a4x74f"><span>2665</span></td><td id="LC2665" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2666" class="css-a4x74f"><span>2666</span></td><td id="LC2666" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2667" class="css-a4x74f"><span>2667</span></td><td id="LC2667" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2668" class="css-a4x74f"><span>2668</span></td><td id="LC2668" class="css-1dcdqdg"><code><span class="code-keyword">var</span> mouseSubst = {
</code></td></tr><tr><td id="L2669" class="css-a4x74f"><span>2669</span></td><td id="LC2669" class="css-1dcdqdg"><code>	mouseenter: <span class="code-string">'mouseover'</span>,
</code></td></tr><tr><td id="L2670" class="css-a4x74f"><span>2670</span></td><td id="LC2670" class="css-1dcdqdg"><code>	mouseleave: <span class="code-string">'mouseout'</span>,
</code></td></tr><tr><td id="L2671" class="css-a4x74f"><span>2671</span></td><td id="LC2671" class="css-1dcdqdg"><code>	wheel: !(<span class="code-string">'onwheel'</span> <span class="code-keyword">in</span> <span class="code-built_in">window</span>) &amp;&amp; <span class="code-string">'mousewheel'</span>
</code></td></tr><tr><td id="L2672" class="css-a4x74f"><span>2672</span></td><td id="LC2672" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L2673" class="css-a4x74f"><span>2673</span></td><td id="LC2673" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2674" class="css-a4x74f"><span>2674</span></td><td id="LC2674" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">addOne</span>(<span class="code-params">obj, type, fn, context</span>) </span>{
</code></td></tr><tr><td id="L2675" class="css-a4x74f"><span>2675</span></td><td id="LC2675" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> id = type + stamp(fn) + (context ? <span class="code-string">'_'</span> + stamp(context) : <span class="code-string">''</span>);
</code></td></tr><tr><td id="L2676" class="css-a4x74f"><span>2676</span></td><td id="LC2676" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2677" class="css-a4x74f"><span>2677</span></td><td id="LC2677" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (obj[eventsKey] &amp;&amp; obj[eventsKey][id]) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L2678" class="css-a4x74f"><span>2678</span></td><td id="LC2678" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2679" class="css-a4x74f"><span>2679</span></td><td id="LC2679" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> handler = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2680" class="css-a4x74f"><span>2680</span></td><td id="LC2680" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> fn.call(context || obj, e || <span class="code-built_in">window</span>.event);
</code></td></tr><tr><td id="L2681" class="css-a4x74f"><span>2681</span></td><td id="LC2681" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L2682" class="css-a4x74f"><span>2682</span></td><td id="LC2682" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2683" class="css-a4x74f"><span>2683</span></td><td id="LC2683" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> originalHandler = handler;
</code></td></tr><tr><td id="L2684" class="css-a4x74f"><span>2684</span></td><td id="LC2684" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2685" class="css-a4x74f"><span>2685</span></td><td id="LC2685" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!Browser.touchNative &amp;&amp; Browser.pointer &amp;&amp; type.indexOf(<span class="code-string">'touch'</span>) === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2686" class="css-a4x74f"><span>2686</span></td><td id="LC2686" class="css-1dcdqdg"><code>		<span class="code-comment">// Needs DomEvent.Pointer.js</span>
</code></td></tr><tr><td id="L2687" class="css-a4x74f"><span>2687</span></td><td id="LC2687" class="css-1dcdqdg"><code>		handler = addPointerListener(obj, type, handler);
</code></td></tr><tr><td id="L2688" class="css-a4x74f"><span>2688</span></td><td id="LC2688" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2689" class="css-a4x74f"><span>2689</span></td><td id="LC2689" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (Browser.touch &amp;&amp; (type === <span class="code-string">'dblclick'</span>)) {
</code></td></tr><tr><td id="L2690" class="css-a4x74f"><span>2690</span></td><td id="LC2690" class="css-1dcdqdg"><code>		handler = addDoubleTapListener(obj, handler);
</code></td></tr><tr><td id="L2691" class="css-a4x74f"><span>2691</span></td><td id="LC2691" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2692" class="css-a4x74f"><span>2692</span></td><td id="LC2692" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-string">'addEventListener'</span> <span class="code-keyword">in</span> obj) {
</code></td></tr><tr><td id="L2693" class="css-a4x74f"><span>2693</span></td><td id="LC2693" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2694" class="css-a4x74f"><span>2694</span></td><td id="LC2694" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (type === <span class="code-string">'touchstart'</span> || type === <span class="code-string">'touchmove'</span> || type === <span class="code-string">'wheel'</span> ||  type === <span class="code-string">'mousewheel'</span>) {
</code></td></tr><tr><td id="L2695" class="css-a4x74f"><span>2695</span></td><td id="LC2695" class="css-1dcdqdg"><code>			obj.addEventListener(mouseSubst[type] || type, handler, Browser.passiveEvents ? {<span class="code-attr">passive</span>: <span class="code-literal">false</span>} : <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2696" class="css-a4x74f"><span>2696</span></td><td id="LC2696" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2697" class="css-a4x74f"><span>2697</span></td><td id="LC2697" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (type === <span class="code-string">'mouseenter'</span> || type === <span class="code-string">'mouseleave'</span>) {
</code></td></tr><tr><td id="L2698" class="css-a4x74f"><span>2698</span></td><td id="LC2698" class="css-1dcdqdg"><code>			handler = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2699" class="css-a4x74f"><span>2699</span></td><td id="LC2699" class="css-1dcdqdg"><code>				e = e || <span class="code-built_in">window</span>.event;
</code></td></tr><tr><td id="L2700" class="css-a4x74f"><span>2700</span></td><td id="LC2700" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (isExternalTarget(obj, e)) {
</code></td></tr><tr><td id="L2701" class="css-a4x74f"><span>2701</span></td><td id="LC2701" class="css-1dcdqdg"><code>					originalHandler(e);
</code></td></tr><tr><td id="L2702" class="css-a4x74f"><span>2702</span></td><td id="LC2702" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L2703" class="css-a4x74f"><span>2703</span></td><td id="LC2703" class="css-1dcdqdg"><code>			};
</code></td></tr><tr><td id="L2704" class="css-a4x74f"><span>2704</span></td><td id="LC2704" class="css-1dcdqdg"><code>			obj.addEventListener(mouseSubst[type], handler, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2705" class="css-a4x74f"><span>2705</span></td><td id="LC2705" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2706" class="css-a4x74f"><span>2706</span></td><td id="LC2706" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2707" class="css-a4x74f"><span>2707</span></td><td id="LC2707" class="css-1dcdqdg"><code>			obj.addEventListener(type, originalHandler, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2708" class="css-a4x74f"><span>2708</span></td><td id="LC2708" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2709" class="css-a4x74f"><span>2709</span></td><td id="LC2709" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2710" class="css-a4x74f"><span>2710</span></td><td id="LC2710" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2711" class="css-a4x74f"><span>2711</span></td><td id="LC2711" class="css-1dcdqdg"><code>		obj.attachEvent(<span class="code-string">'on'</span> + type, handler);
</code></td></tr><tr><td id="L2712" class="css-a4x74f"><span>2712</span></td><td id="LC2712" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2713" class="css-a4x74f"><span>2713</span></td><td id="LC2713" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2714" class="css-a4x74f"><span>2714</span></td><td id="LC2714" class="css-1dcdqdg"><code>	obj[eventsKey] = obj[eventsKey] || {};
</code></td></tr><tr><td id="L2715" class="css-a4x74f"><span>2715</span></td><td id="LC2715" class="css-1dcdqdg"><code>	obj[eventsKey][id] = handler;
</code></td></tr><tr><td id="L2716" class="css-a4x74f"><span>2716</span></td><td id="LC2716" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2717" class="css-a4x74f"><span>2717</span></td><td id="LC2717" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2718" class="css-a4x74f"><span>2718</span></td><td id="LC2718" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">removeOne</span>(<span class="code-params">obj, type, fn, context, id</span>) </span>{
</code></td></tr><tr><td id="L2719" class="css-a4x74f"><span>2719</span></td><td id="LC2719" class="css-1dcdqdg"><code>	id = id || type + stamp(fn) + (context ? <span class="code-string">'_'</span> + stamp(context) : <span class="code-string">''</span>);
</code></td></tr><tr><td id="L2720" class="css-a4x74f"><span>2720</span></td><td id="LC2720" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> handler = obj[eventsKey] &amp;&amp; obj[eventsKey][id];
</code></td></tr><tr><td id="L2721" class="css-a4x74f"><span>2721</span></td><td id="LC2721" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2722" class="css-a4x74f"><span>2722</span></td><td id="LC2722" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!handler) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L2723" class="css-a4x74f"><span>2723</span></td><td id="LC2723" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2724" class="css-a4x74f"><span>2724</span></td><td id="LC2724" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!Browser.touchNative &amp;&amp; Browser.pointer &amp;&amp; type.indexOf(<span class="code-string">'touch'</span>) === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L2725" class="css-a4x74f"><span>2725</span></td><td id="LC2725" class="css-1dcdqdg"><code>		removePointerListener(obj, type, handler);
</code></td></tr><tr><td id="L2726" class="css-a4x74f"><span>2726</span></td><td id="LC2726" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2727" class="css-a4x74f"><span>2727</span></td><td id="LC2727" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (Browser.touch &amp;&amp; (type === <span class="code-string">'dblclick'</span>)) {
</code></td></tr><tr><td id="L2728" class="css-a4x74f"><span>2728</span></td><td id="LC2728" class="css-1dcdqdg"><code>		removeDoubleTapListener(obj, handler);
</code></td></tr><tr><td id="L2729" class="css-a4x74f"><span>2729</span></td><td id="LC2729" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2730" class="css-a4x74f"><span>2730</span></td><td id="LC2730" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-string">'removeEventListener'</span> <span class="code-keyword">in</span> obj) {
</code></td></tr><tr><td id="L2731" class="css-a4x74f"><span>2731</span></td><td id="LC2731" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2732" class="css-a4x74f"><span>2732</span></td><td id="LC2732" class="css-1dcdqdg"><code>		obj.removeEventListener(mouseSubst[type] || type, handler, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L2733" class="css-a4x74f"><span>2733</span></td><td id="LC2733" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2734" class="css-a4x74f"><span>2734</span></td><td id="LC2734" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2735" class="css-a4x74f"><span>2735</span></td><td id="LC2735" class="css-1dcdqdg"><code>		obj.detachEvent(<span class="code-string">'on'</span> + type, handler);
</code></td></tr><tr><td id="L2736" class="css-a4x74f"><span>2736</span></td><td id="LC2736" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2737" class="css-a4x74f"><span>2737</span></td><td id="LC2737" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2738" class="css-a4x74f"><span>2738</span></td><td id="LC2738" class="css-1dcdqdg"><code>	obj[eventsKey][id] = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L2739" class="css-a4x74f"><span>2739</span></td><td id="LC2739" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2740" class="css-a4x74f"><span>2740</span></td><td id="LC2740" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2741" class="css-a4x74f"><span>2741</span></td><td id="LC2741" class="css-1dcdqdg"><code><span class="code-comment">// @function stopPropagation(ev: DOMEvent): this</span>
</code></td></tr><tr><td id="L2742" class="css-a4x74f"><span>2742</span></td><td id="LC2742" class="css-1dcdqdg"><code><span class="code-comment">// Stop the given event from propagation to parent elements. Used inside the listener functions:</span>
</code></td></tr><tr><td id="L2743" class="css-a4x74f"><span>2743</span></td><td id="LC2743" class="css-1dcdqdg"><code><span class="code-comment">// ```js</span>
</code></td></tr><tr><td id="L2744" class="css-a4x74f"><span>2744</span></td><td id="LC2744" class="css-1dcdqdg"><code><span class="code-comment">// L.DomEvent.on(div, 'click', function (ev) {</span>
</code></td></tr><tr><td id="L2745" class="css-a4x74f"><span>2745</span></td><td id="LC2745" class="css-1dcdqdg"><code><span class="code-comment">// 	L.DomEvent.stopPropagation(ev);</span>
</code></td></tr><tr><td id="L2746" class="css-a4x74f"><span>2746</span></td><td id="LC2746" class="css-1dcdqdg"><code><span class="code-comment">// });</span>
</code></td></tr><tr><td id="L2747" class="css-a4x74f"><span>2747</span></td><td id="LC2747" class="css-1dcdqdg"><code><span class="code-comment">// ```</span>
</code></td></tr><tr><td id="L2748" class="css-a4x74f"><span>2748</span></td><td id="LC2748" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">stopPropagation</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2749" class="css-a4x74f"><span>2749</span></td><td id="LC2749" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2750" class="css-a4x74f"><span>2750</span></td><td id="LC2750" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (e.stopPropagation) {
</code></td></tr><tr><td id="L2751" class="css-a4x74f"><span>2751</span></td><td id="LC2751" class="css-1dcdqdg"><code>		e.stopPropagation();
</code></td></tr><tr><td id="L2752" class="css-a4x74f"><span>2752</span></td><td id="LC2752" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (e.originalEvent) {  <span class="code-comment">// In case of Leaflet event.</span>
</code></td></tr><tr><td id="L2753" class="css-a4x74f"><span>2753</span></td><td id="LC2753" class="css-1dcdqdg"><code>		e.originalEvent._stopped = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2754" class="css-a4x74f"><span>2754</span></td><td id="LC2754" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2755" class="css-a4x74f"><span>2755</span></td><td id="LC2755" class="css-1dcdqdg"><code>		e.cancelBubble = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2756" class="css-a4x74f"><span>2756</span></td><td id="LC2756" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2757" class="css-a4x74f"><span>2757</span></td><td id="LC2757" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2758" class="css-a4x74f"><span>2758</span></td><td id="LC2758" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2759" class="css-a4x74f"><span>2759</span></td><td id="LC2759" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2760" class="css-a4x74f"><span>2760</span></td><td id="LC2760" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2761" class="css-a4x74f"><span>2761</span></td><td id="LC2761" class="css-1dcdqdg"><code><span class="code-comment">// @function disableScrollPropagation(el: HTMLElement): this</span>
</code></td></tr><tr><td id="L2762" class="css-a4x74f"><span>2762</span></td><td id="LC2762" class="css-1dcdqdg"><code><span class="code-comment">// Adds `stopPropagation` to the element's `'wheel'` events (plus browser variants).</span>
</code></td></tr><tr><td id="L2763" class="css-a4x74f"><span>2763</span></td><td id="LC2763" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">disableScrollPropagation</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2764" class="css-a4x74f"><span>2764</span></td><td id="LC2764" class="css-1dcdqdg"><code>	addOne(el, <span class="code-string">'wheel'</span>, stopPropagation);
</code></td></tr><tr><td id="L2765" class="css-a4x74f"><span>2765</span></td><td id="LC2765" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2766" class="css-a4x74f"><span>2766</span></td><td id="LC2766" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2767" class="css-a4x74f"><span>2767</span></td><td id="LC2767" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2768" class="css-a4x74f"><span>2768</span></td><td id="LC2768" class="css-1dcdqdg"><code><span class="code-comment">// @function disableClickPropagation(el: HTMLElement): this</span>
</code></td></tr><tr><td id="L2769" class="css-a4x74f"><span>2769</span></td><td id="LC2769" class="css-1dcdqdg"><code><span class="code-comment">// Adds `stopPropagation` to the element's `'click'`, `'dblclick'`, `'contextmenu'`,</span>
</code></td></tr><tr><td id="L2770" class="css-a4x74f"><span>2770</span></td><td id="LC2770" class="css-1dcdqdg"><code><span class="code-comment">// `'mousedown'` and `'touchstart'` events (plus browser variants).</span>
</code></td></tr><tr><td id="L2771" class="css-a4x74f"><span>2771</span></td><td id="LC2771" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">disableClickPropagation</span>(<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L2772" class="css-a4x74f"><span>2772</span></td><td id="LC2772" class="css-1dcdqdg"><code>	on(el, <span class="code-string">'mousedown touchstart dblclick contextmenu'</span>, stopPropagation);
</code></td></tr><tr><td id="L2773" class="css-a4x74f"><span>2773</span></td><td id="LC2773" class="css-1dcdqdg"><code>	el[<span class="code-string">'_leaflet_disable_click'</span>] = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2774" class="css-a4x74f"><span>2774</span></td><td id="LC2774" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2775" class="css-a4x74f"><span>2775</span></td><td id="LC2775" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2776" class="css-a4x74f"><span>2776</span></td><td id="LC2776" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2777" class="css-a4x74f"><span>2777</span></td><td id="LC2777" class="css-1dcdqdg"><code><span class="code-comment">// @function preventDefault(ev: DOMEvent): this</span>
</code></td></tr><tr><td id="L2778" class="css-a4x74f"><span>2778</span></td><td id="LC2778" class="css-1dcdqdg"><code><span class="code-comment">// Prevents the default action of the DOM Event `ev` from happening (such as</span>
</code></td></tr><tr><td id="L2779" class="css-a4x74f"><span>2779</span></td><td id="LC2779" class="css-1dcdqdg"><code><span class="code-comment">// following a link in the href of the a element, or doing a POST request</span>
</code></td></tr><tr><td id="L2780" class="css-a4x74f"><span>2780</span></td><td id="LC2780" class="css-1dcdqdg"><code><span class="code-comment">// with page reload when a `&lt;form&gt;` is submitted).</span>
</code></td></tr><tr><td id="L2781" class="css-a4x74f"><span>2781</span></td><td id="LC2781" class="css-1dcdqdg"><code><span class="code-comment">// Use it inside listener functions.</span>
</code></td></tr><tr><td id="L2782" class="css-a4x74f"><span>2782</span></td><td id="LC2782" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">preventDefault</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2783" class="css-a4x74f"><span>2783</span></td><td id="LC2783" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (e.preventDefault) {
</code></td></tr><tr><td id="L2784" class="css-a4x74f"><span>2784</span></td><td id="LC2784" class="css-1dcdqdg"><code>		e.preventDefault();
</code></td></tr><tr><td id="L2785" class="css-a4x74f"><span>2785</span></td><td id="LC2785" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2786" class="css-a4x74f"><span>2786</span></td><td id="LC2786" class="css-1dcdqdg"><code>		e.returnValue = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2787" class="css-a4x74f"><span>2787</span></td><td id="LC2787" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2788" class="css-a4x74f"><span>2788</span></td><td id="LC2788" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2789" class="css-a4x74f"><span>2789</span></td><td id="LC2789" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2790" class="css-a4x74f"><span>2790</span></td><td id="LC2790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2791" class="css-a4x74f"><span>2791</span></td><td id="LC2791" class="css-1dcdqdg"><code><span class="code-comment">// @function stop(ev: DOMEvent): this</span>
</code></td></tr><tr><td id="L2792" class="css-a4x74f"><span>2792</span></td><td id="LC2792" class="css-1dcdqdg"><code><span class="code-comment">// Does `stopPropagation` and `preventDefault` at the same time.</span>
</code></td></tr><tr><td id="L2793" class="css-a4x74f"><span>2793</span></td><td id="LC2793" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">stop</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2794" class="css-a4x74f"><span>2794</span></td><td id="LC2794" class="css-1dcdqdg"><code>	preventDefault(e);
</code></td></tr><tr><td id="L2795" class="css-a4x74f"><span>2795</span></td><td id="LC2795" class="css-1dcdqdg"><code>	stopPropagation(e);
</code></td></tr><tr><td id="L2796" class="css-a4x74f"><span>2796</span></td><td id="LC2796" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L2797" class="css-a4x74f"><span>2797</span></td><td id="LC2797" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2798" class="css-a4x74f"><span>2798</span></td><td id="LC2798" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2799" class="css-a4x74f"><span>2799</span></td><td id="LC2799" class="css-1dcdqdg"><code><span class="code-comment">// @function getMousePosition(ev: DOMEvent, container?: HTMLElement): Point</span>
</code></td></tr><tr><td id="L2800" class="css-a4x74f"><span>2800</span></td><td id="LC2800" class="css-1dcdqdg"><code><span class="code-comment">// Gets normalized mouse position from a DOM event relative to the</span>
</code></td></tr><tr><td id="L2801" class="css-a4x74f"><span>2801</span></td><td id="LC2801" class="css-1dcdqdg"><code><span class="code-comment">// `container` (border excluded) or to the whole page if not specified.</span>
</code></td></tr><tr><td id="L2802" class="css-a4x74f"><span>2802</span></td><td id="LC2802" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getMousePosition</span>(<span class="code-params">e, container</span>) </span>{
</code></td></tr><tr><td id="L2803" class="css-a4x74f"><span>2803</span></td><td id="LC2803" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!container) {
</code></td></tr><tr><td id="L2804" class="css-a4x74f"><span>2804</span></td><td id="LC2804" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(e.clientX, e.clientY);
</code></td></tr><tr><td id="L2805" class="css-a4x74f"><span>2805</span></td><td id="LC2805" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2806" class="css-a4x74f"><span>2806</span></td><td id="LC2806" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2807" class="css-a4x74f"><span>2807</span></td><td id="LC2807" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> scale = getScale(container),
</code></td></tr><tr><td id="L2808" class="css-a4x74f"><span>2808</span></td><td id="LC2808" class="css-1dcdqdg"><code>	    offset = scale.boundingClientRect; <span class="code-comment">// left and top  values are in page scale (like the event clientX/Y)</span>
</code></td></tr><tr><td id="L2809" class="css-a4x74f"><span>2809</span></td><td id="LC2809" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2810" class="css-a4x74f"><span>2810</span></td><td id="LC2810" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(
</code></td></tr><tr><td id="L2811" class="css-a4x74f"><span>2811</span></td><td id="LC2811" class="css-1dcdqdg"><code>		<span class="code-comment">// offset.left/top values are in page scale (like clientX/Y),</span>
</code></td></tr><tr><td id="L2812" class="css-a4x74f"><span>2812</span></td><td id="LC2812" class="css-1dcdqdg"><code>		<span class="code-comment">// whereas clientLeft/Top (border width) values are the original values (before CSS scale applies).</span>
</code></td></tr><tr><td id="L2813" class="css-a4x74f"><span>2813</span></td><td id="LC2813" class="css-1dcdqdg"><code>		(e.clientX - offset.left) / scale.x - container.clientLeft,
</code></td></tr><tr><td id="L2814" class="css-a4x74f"><span>2814</span></td><td id="LC2814" class="css-1dcdqdg"><code>		(e.clientY - offset.top) / scale.y - container.clientTop
</code></td></tr><tr><td id="L2815" class="css-a4x74f"><span>2815</span></td><td id="LC2815" class="css-1dcdqdg"><code>	);
</code></td></tr><tr><td id="L2816" class="css-a4x74f"><span>2816</span></td><td id="LC2816" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2817" class="css-a4x74f"><span>2817</span></td><td id="LC2817" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2818" class="css-a4x74f"><span>2818</span></td><td id="LC2818" class="css-1dcdqdg"><code><span class="code-comment">// Chrome on Win scrolls double the pixels as in other platforms (see #4538),</span>
</code></td></tr><tr><td id="L2819" class="css-a4x74f"><span>2819</span></td><td id="LC2819" class="css-1dcdqdg"><code><span class="code-comment">// and Firefox scrolls device pixels, not CSS pixels</span>
</code></td></tr><tr><td id="L2820" class="css-a4x74f"><span>2820</span></td><td id="LC2820" class="css-1dcdqdg"><code><span class="code-keyword">var</span> wheelPxFactor =
</code></td></tr><tr><td id="L2821" class="css-a4x74f"><span>2821</span></td><td id="LC2821" class="css-1dcdqdg"><code>	(Browser.win &amp;&amp; Browser.chrome) ? <span class="code-number">2</span> * <span class="code-built_in">window</span>.devicePixelRatio :
</code></td></tr><tr><td id="L2822" class="css-a4x74f"><span>2822</span></td><td id="LC2822" class="css-1dcdqdg"><code>	Browser.gecko ? <span class="code-built_in">window</span>.devicePixelRatio : <span class="code-number">1</span>;
</code></td></tr><tr><td id="L2823" class="css-a4x74f"><span>2823</span></td><td id="LC2823" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2824" class="css-a4x74f"><span>2824</span></td><td id="LC2824" class="css-1dcdqdg"><code><span class="code-comment">// @function getWheelDelta(ev: DOMEvent): Number</span>
</code></td></tr><tr><td id="L2825" class="css-a4x74f"><span>2825</span></td><td id="LC2825" class="css-1dcdqdg"><code><span class="code-comment">// Gets normalized wheel delta from a wheel DOM event, in vertical</span>
</code></td></tr><tr><td id="L2826" class="css-a4x74f"><span>2826</span></td><td id="LC2826" class="css-1dcdqdg"><code><span class="code-comment">// pixels scrolled (negative if scrolling down).</span>
</code></td></tr><tr><td id="L2827" class="css-a4x74f"><span>2827</span></td><td id="LC2827" class="css-1dcdqdg"><code><span class="code-comment">// Events from pointing devices without precise scrolling are mapped to</span>
</code></td></tr><tr><td id="L2828" class="css-a4x74f"><span>2828</span></td><td id="LC2828" class="css-1dcdqdg"><code><span class="code-comment">// a best guess of 60 pixels.</span>
</code></td></tr><tr><td id="L2829" class="css-a4x74f"><span>2829</span></td><td id="LC2829" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getWheelDelta</span>(<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L2830" class="css-a4x74f"><span>2830</span></td><td id="LC2830" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> (Browser.edge) ? e.wheelDeltaY / <span class="code-number">2</span> : <span class="code-comment">// Don't trust window-geometry-based delta</span>
</code></td></tr><tr><td id="L2831" class="css-a4x74f"><span>2831</span></td><td id="LC2831" class="css-1dcdqdg"><code>	       (e.deltaY &amp;&amp; e.deltaMode === <span class="code-number">0</span>) ? -e.deltaY / wheelPxFactor : <span class="code-comment">// Pixels</span>
</code></td></tr><tr><td id="L2832" class="css-a4x74f"><span>2832</span></td><td id="LC2832" class="css-1dcdqdg"><code>	       (e.deltaY &amp;&amp; e.deltaMode === <span class="code-number">1</span>) ? -e.deltaY * <span class="code-number">20</span> : <span class="code-comment">// Lines</span>
</code></td></tr><tr><td id="L2833" class="css-a4x74f"><span>2833</span></td><td id="LC2833" class="css-1dcdqdg"><code>	       (e.deltaY &amp;&amp; e.deltaMode === <span class="code-number">2</span>) ? -e.deltaY * <span class="code-number">60</span> : <span class="code-comment">// Pages</span>
</code></td></tr><tr><td id="L2834" class="css-a4x74f"><span>2834</span></td><td id="LC2834" class="css-1dcdqdg"><code>	       (e.deltaX || e.deltaZ) ? <span class="code-number">0</span> :	<span class="code-comment">// Skip horizontal/depth wheel events</span>
</code></td></tr><tr><td id="L2835" class="css-a4x74f"><span>2835</span></td><td id="LC2835" class="css-1dcdqdg"><code>	       e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / <span class="code-number">2</span> : <span class="code-comment">// Legacy IE pixels</span>
</code></td></tr><tr><td id="L2836" class="css-a4x74f"><span>2836</span></td><td id="LC2836" class="css-1dcdqdg"><code>	       (e.detail &amp;&amp; <span class="code-built_in">Math</span>.abs(e.detail) &lt; <span class="code-number">32765</span>) ? -e.detail * <span class="code-number">20</span> : <span class="code-comment">// Legacy Moz lines</span>
</code></td></tr><tr><td id="L2837" class="css-a4x74f"><span>2837</span></td><td id="LC2837" class="css-1dcdqdg"><code>	       e.detail ? e.detail / <span class="code-number">-32765</span> * <span class="code-number">60</span> : <span class="code-comment">// Legacy Moz pages</span>
</code></td></tr><tr><td id="L2838" class="css-a4x74f"><span>2838</span></td><td id="LC2838" class="css-1dcdqdg"><code>	       <span class="code-number">0</span>;
</code></td></tr><tr><td id="L2839" class="css-a4x74f"><span>2839</span></td><td id="LC2839" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2840" class="css-a4x74f"><span>2840</span></td><td id="LC2840" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2841" class="css-a4x74f"><span>2841</span></td><td id="LC2841" class="css-1dcdqdg"><code><span class="code-comment">// check if element really left/entered the event target (for mouseenter/mouseleave)</span>
</code></td></tr><tr><td id="L2842" class="css-a4x74f"><span>2842</span></td><td id="LC2842" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isExternalTarget</span>(<span class="code-params">el, e</span>) </span>{
</code></td></tr><tr><td id="L2843" class="css-a4x74f"><span>2843</span></td><td id="LC2843" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2844" class="css-a4x74f"><span>2844</span></td><td id="LC2844" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> related = e.relatedTarget;
</code></td></tr><tr><td id="L2845" class="css-a4x74f"><span>2845</span></td><td id="LC2845" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2846" class="css-a4x74f"><span>2846</span></td><td id="LC2846" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!related) { <span class="code-keyword">return</span> <span class="code-literal">true</span>; }
</code></td></tr><tr><td id="L2847" class="css-a4x74f"><span>2847</span></td><td id="LC2847" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2848" class="css-a4x74f"><span>2848</span></td><td id="LC2848" class="css-1dcdqdg"><code>	<span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L2849" class="css-a4x74f"><span>2849</span></td><td id="LC2849" class="css-1dcdqdg"><code>		<span class="code-keyword">while</span> (related &amp;&amp; (related !== el)) {
</code></td></tr><tr><td id="L2850" class="css-a4x74f"><span>2850</span></td><td id="LC2850" class="css-1dcdqdg"><code>			related = related.parentNode;
</code></td></tr><tr><td id="L2851" class="css-a4x74f"><span>2851</span></td><td id="LC2851" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2852" class="css-a4x74f"><span>2852</span></td><td id="LC2852" class="css-1dcdqdg"><code>	} <span class="code-keyword">catch</span> (err) {
</code></td></tr><tr><td id="L2853" class="css-a4x74f"><span>2853</span></td><td id="LC2853" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2854" class="css-a4x74f"><span>2854</span></td><td id="LC2854" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2855" class="css-a4x74f"><span>2855</span></td><td id="LC2855" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> (related !== el);
</code></td></tr><tr><td id="L2856" class="css-a4x74f"><span>2856</span></td><td id="LC2856" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L2857" class="css-a4x74f"><span>2857</span></td><td id="LC2857" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2858" class="css-a4x74f"><span>2858</span></td><td id="LC2858" class="css-1dcdqdg"><code><span class="code-keyword">var</span> DomEvent = {
</code></td></tr><tr><td id="L2859" class="css-a4x74f"><span>2859</span></td><td id="LC2859" class="css-1dcdqdg"><code>  __proto__: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L2860" class="css-a4x74f"><span>2860</span></td><td id="LC2860" class="css-1dcdqdg"><code>  on: on,
</code></td></tr><tr><td id="L2861" class="css-a4x74f"><span>2861</span></td><td id="LC2861" class="css-1dcdqdg"><code>  off: off,
</code></td></tr><tr><td id="L2862" class="css-a4x74f"><span>2862</span></td><td id="LC2862" class="css-1dcdqdg"><code>  stopPropagation: stopPropagation,
</code></td></tr><tr><td id="L2863" class="css-a4x74f"><span>2863</span></td><td id="LC2863" class="css-1dcdqdg"><code>  disableScrollPropagation: disableScrollPropagation,
</code></td></tr><tr><td id="L2864" class="css-a4x74f"><span>2864</span></td><td id="LC2864" class="css-1dcdqdg"><code>  disableClickPropagation: disableClickPropagation,
</code></td></tr><tr><td id="L2865" class="css-a4x74f"><span>2865</span></td><td id="LC2865" class="css-1dcdqdg"><code>  preventDefault: preventDefault,
</code></td></tr><tr><td id="L2866" class="css-a4x74f"><span>2866</span></td><td id="LC2866" class="css-1dcdqdg"><code>  stop: stop,
</code></td></tr><tr><td id="L2867" class="css-a4x74f"><span>2867</span></td><td id="LC2867" class="css-1dcdqdg"><code>  getMousePosition: getMousePosition,
</code></td></tr><tr><td id="L2868" class="css-a4x74f"><span>2868</span></td><td id="LC2868" class="css-1dcdqdg"><code>  getWheelDelta: getWheelDelta,
</code></td></tr><tr><td id="L2869" class="css-a4x74f"><span>2869</span></td><td id="LC2869" class="css-1dcdqdg"><code>  isExternalTarget: isExternalTarget,
</code></td></tr><tr><td id="L2870" class="css-a4x74f"><span>2870</span></td><td id="LC2870" class="css-1dcdqdg"><code>  addListener: on,
</code></td></tr><tr><td id="L2871" class="css-a4x74f"><span>2871</span></td><td id="LC2871" class="css-1dcdqdg"><code>  removeListener: off
</code></td></tr><tr><td id="L2872" class="css-a4x74f"><span>2872</span></td><td id="LC2872" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L2873" class="css-a4x74f"><span>2873</span></td><td id="LC2873" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2874" class="css-a4x74f"><span>2874</span></td><td id="LC2874" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L2875" class="css-a4x74f"><span>2875</span></td><td id="LC2875" class="css-1dcdqdg"><code><span class="code-comment"> * @class PosAnimation
</span></code></td></tr><tr><td id="L2876" class="css-a4x74f"><span>2876</span></td><td id="LC2876" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.PosAnimation
</span></code></td></tr><tr><td id="L2877" class="css-a4x74f"><span>2877</span></td><td id="LC2877" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Evented
</span></code></td></tr><tr><td id="L2878" class="css-a4x74f"><span>2878</span></td><td id="LC2878" class="css-1dcdqdg"><code><span class="code-comment"> * Used internally for panning animations, utilizing CSS3 Transitions for modern browsers and a timer fallback for IE6-9.
</span></code></td></tr><tr><td id="L2879" class="css-a4x74f"><span>2879</span></td><td id="LC2879" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2880" class="css-a4x74f"><span>2880</span></td><td id="LC2880" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L2881" class="css-a4x74f"><span>2881</span></td><td id="LC2881" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L2882" class="css-a4x74f"><span>2882</span></td><td id="LC2882" class="css-1dcdqdg"><code><span class="code-comment"> * var fx = new L.PosAnimation();
</span></code></td></tr><tr><td id="L2883" class="css-a4x74f"><span>2883</span></td><td id="LC2883" class="css-1dcdqdg"><code><span class="code-comment"> * fx.run(el, [300, 500], 0.5);
</span></code></td></tr><tr><td id="L2884" class="css-a4x74f"><span>2884</span></td><td id="LC2884" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L2885" class="css-a4x74f"><span>2885</span></td><td id="LC2885" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2886" class="css-a4x74f"><span>2886</span></td><td id="LC2886" class="css-1dcdqdg"><code><span class="code-comment"> * @constructor L.PosAnimation()
</span></code></td></tr><tr><td id="L2887" class="css-a4x74f"><span>2887</span></td><td id="LC2887" class="css-1dcdqdg"><code><span class="code-comment"> * Creates a `PosAnimation` object.
</span></code></td></tr><tr><td id="L2888" class="css-a4x74f"><span>2888</span></td><td id="LC2888" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2889" class="css-a4x74f"><span>2889</span></td><td id="LC2889" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L2890" class="css-a4x74f"><span>2890</span></td><td id="LC2890" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2891" class="css-a4x74f"><span>2891</span></td><td id="LC2891" class="css-1dcdqdg"><code><span class="code-keyword">var</span> PosAnimation = Evented.extend({
</code></td></tr><tr><td id="L2892" class="css-a4x74f"><span>2892</span></td><td id="LC2892" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2893" class="css-a4x74f"><span>2893</span></td><td id="LC2893" class="css-1dcdqdg"><code>	<span class="code-comment">// @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)</span>
</code></td></tr><tr><td id="L2894" class="css-a4x74f"><span>2894</span></td><td id="LC2894" class="css-1dcdqdg"><code>	<span class="code-comment">// Run an animation of a given element to a new position, optionally setting</span>
</code></td></tr><tr><td id="L2895" class="css-a4x74f"><span>2895</span></td><td id="LC2895" class="css-1dcdqdg"><code>	<span class="code-comment">// duration in seconds (`0.25` by default) and easing linearity factor (3rd</span>
</code></td></tr><tr><td id="L2896" class="css-a4x74f"><span>2896</span></td><td id="LC2896" class="css-1dcdqdg"><code>	<span class="code-comment">// argument of the [cubic bezier curve](https://cubic-bezier.com/#0,0,.5,1),</span>
</code></td></tr><tr><td id="L2897" class="css-a4x74f"><span>2897</span></td><td id="LC2897" class="css-1dcdqdg"><code>	<span class="code-comment">// `0.5` by default).</span>
</code></td></tr><tr><td id="L2898" class="css-a4x74f"><span>2898</span></td><td id="LC2898" class="css-1dcdqdg"><code>	run: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">el, newPos, duration, easeLinearity</span>) </span>{
</code></td></tr><tr><td id="L2899" class="css-a4x74f"><span>2899</span></td><td id="LC2899" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.stop();
</code></td></tr><tr><td id="L2900" class="css-a4x74f"><span>2900</span></td><td id="LC2900" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2901" class="css-a4x74f"><span>2901</span></td><td id="LC2901" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._el = el;
</code></td></tr><tr><td id="L2902" class="css-a4x74f"><span>2902</span></td><td id="LC2902" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._inProgress = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L2903" class="css-a4x74f"><span>2903</span></td><td id="LC2903" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._duration = duration || <span class="code-number">0.25</span>;
</code></td></tr><tr><td id="L2904" class="css-a4x74f"><span>2904</span></td><td id="LC2904" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._easeOutPower = <span class="code-number">1</span> / <span class="code-built_in">Math</span>.max(easeLinearity || <span class="code-number">0.5</span>, <span class="code-number">0.2</span>);
</code></td></tr><tr><td id="L2905" class="css-a4x74f"><span>2905</span></td><td id="LC2905" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2906" class="css-a4x74f"><span>2906</span></td><td id="LC2906" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startPos = getPosition(el);
</code></td></tr><tr><td id="L2907" class="css-a4x74f"><span>2907</span></td><td id="LC2907" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._offset = newPos.subtract(<span class="code-keyword">this</span>._startPos);
</code></td></tr><tr><td id="L2908" class="css-a4x74f"><span>2908</span></td><td id="LC2908" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startTime = +<span class="code-keyword">new</span> <span class="code-built_in">Date</span>();
</code></td></tr><tr><td id="L2909" class="css-a4x74f"><span>2909</span></td><td id="LC2909" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2910" class="css-a4x74f"><span>2910</span></td><td id="LC2910" class="css-1dcdqdg"><code>		<span class="code-comment">// @event start: Event</span>
</code></td></tr><tr><td id="L2911" class="css-a4x74f"><span>2911</span></td><td id="LC2911" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the animation starts</span>
</code></td></tr><tr><td id="L2912" class="css-a4x74f"><span>2912</span></td><td id="LC2912" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'start'</span>);
</code></td></tr><tr><td id="L2913" class="css-a4x74f"><span>2913</span></td><td id="LC2913" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2914" class="css-a4x74f"><span>2914</span></td><td id="LC2914" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._animate();
</code></td></tr><tr><td id="L2915" class="css-a4x74f"><span>2915</span></td><td id="LC2915" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L2916" class="css-a4x74f"><span>2916</span></td><td id="LC2916" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2917" class="css-a4x74f"><span>2917</span></td><td id="LC2917" class="css-1dcdqdg"><code>	<span class="code-comment">// @method stop()</span>
</code></td></tr><tr><td id="L2918" class="css-a4x74f"><span>2918</span></td><td id="LC2918" class="css-1dcdqdg"><code>	<span class="code-comment">// Stops the animation (if currently running).</span>
</code></td></tr><tr><td id="L2919" class="css-a4x74f"><span>2919</span></td><td id="LC2919" class="css-1dcdqdg"><code>	stop: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2920" class="css-a4x74f"><span>2920</span></td><td id="LC2920" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._inProgress) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L2921" class="css-a4x74f"><span>2921</span></td><td id="LC2921" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2922" class="css-a4x74f"><span>2922</span></td><td id="LC2922" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._step(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L2923" class="css-a4x74f"><span>2923</span></td><td id="LC2923" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._complete();
</code></td></tr><tr><td id="L2924" class="css-a4x74f"><span>2924</span></td><td id="LC2924" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L2925" class="css-a4x74f"><span>2925</span></td><td id="LC2925" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2926" class="css-a4x74f"><span>2926</span></td><td id="LC2926" class="css-1dcdqdg"><code>	_animate: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2927" class="css-a4x74f"><span>2927</span></td><td id="LC2927" class="css-1dcdqdg"><code>		<span class="code-comment">// animation loop</span>
</code></td></tr><tr><td id="L2928" class="css-a4x74f"><span>2928</span></td><td id="LC2928" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._animId = requestAnimFrame(<span class="code-keyword">this</span>._animate, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L2929" class="css-a4x74f"><span>2929</span></td><td id="LC2929" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._step();
</code></td></tr><tr><td id="L2930" class="css-a4x74f"><span>2930</span></td><td id="LC2930" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L2931" class="css-a4x74f"><span>2931</span></td><td id="LC2931" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2932" class="css-a4x74f"><span>2932</span></td><td id="LC2932" class="css-1dcdqdg"><code>	_step: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">round</span>) </span>{
</code></td></tr><tr><td id="L2933" class="css-a4x74f"><span>2933</span></td><td id="LC2933" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> elapsed = (+<span class="code-keyword">new</span> <span class="code-built_in">Date</span>()) - <span class="code-keyword">this</span>._startTime,
</code></td></tr><tr><td id="L2934" class="css-a4x74f"><span>2934</span></td><td id="LC2934" class="css-1dcdqdg"><code>		    duration = <span class="code-keyword">this</span>._duration * <span class="code-number">1000</span>;
</code></td></tr><tr><td id="L2935" class="css-a4x74f"><span>2935</span></td><td id="LC2935" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2936" class="css-a4x74f"><span>2936</span></td><td id="LC2936" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (elapsed &lt; duration) {
</code></td></tr><tr><td id="L2937" class="css-a4x74f"><span>2937</span></td><td id="LC2937" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._runFrame(<span class="code-keyword">this</span>._easeOut(elapsed / duration), round);
</code></td></tr><tr><td id="L2938" class="css-a4x74f"><span>2938</span></td><td id="LC2938" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L2939" class="css-a4x74f"><span>2939</span></td><td id="LC2939" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._runFrame(<span class="code-number">1</span>);
</code></td></tr><tr><td id="L2940" class="css-a4x74f"><span>2940</span></td><td id="LC2940" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._complete();
</code></td></tr><tr><td id="L2941" class="css-a4x74f"><span>2941</span></td><td id="LC2941" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2942" class="css-a4x74f"><span>2942</span></td><td id="LC2942" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L2943" class="css-a4x74f"><span>2943</span></td><td id="LC2943" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2944" class="css-a4x74f"><span>2944</span></td><td id="LC2944" class="css-1dcdqdg"><code>	_runFrame: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">progress, round</span>) </span>{
</code></td></tr><tr><td id="L2945" class="css-a4x74f"><span>2945</span></td><td id="LC2945" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._startPos.add(<span class="code-keyword">this</span>._offset.multiplyBy(progress));
</code></td></tr><tr><td id="L2946" class="css-a4x74f"><span>2946</span></td><td id="LC2946" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (round) {
</code></td></tr><tr><td id="L2947" class="css-a4x74f"><span>2947</span></td><td id="LC2947" class="css-1dcdqdg"><code>			pos._round();
</code></td></tr><tr><td id="L2948" class="css-a4x74f"><span>2948</span></td><td id="LC2948" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L2949" class="css-a4x74f"><span>2949</span></td><td id="LC2949" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._el, pos);
</code></td></tr><tr><td id="L2950" class="css-a4x74f"><span>2950</span></td><td id="LC2950" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2951" class="css-a4x74f"><span>2951</span></td><td id="LC2951" class="css-1dcdqdg"><code>		<span class="code-comment">// @event step: Event</span>
</code></td></tr><tr><td id="L2952" class="css-a4x74f"><span>2952</span></td><td id="LC2952" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired continuously during the animation.</span>
</code></td></tr><tr><td id="L2953" class="css-a4x74f"><span>2953</span></td><td id="LC2953" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'step'</span>);
</code></td></tr><tr><td id="L2954" class="css-a4x74f"><span>2954</span></td><td id="LC2954" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L2955" class="css-a4x74f"><span>2955</span></td><td id="LC2955" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2956" class="css-a4x74f"><span>2956</span></td><td id="LC2956" class="css-1dcdqdg"><code>	_complete: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L2957" class="css-a4x74f"><span>2957</span></td><td id="LC2957" class="css-1dcdqdg"><code>		cancelAnimFrame(<span class="code-keyword">this</span>._animId);
</code></td></tr><tr><td id="L2958" class="css-a4x74f"><span>2958</span></td><td id="LC2958" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2959" class="css-a4x74f"><span>2959</span></td><td id="LC2959" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._inProgress = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L2960" class="css-a4x74f"><span>2960</span></td><td id="LC2960" class="css-1dcdqdg"><code>		<span class="code-comment">// @event end: Event</span>
</code></td></tr><tr><td id="L2961" class="css-a4x74f"><span>2961</span></td><td id="LC2961" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the animation ends.</span>
</code></td></tr><tr><td id="L2962" class="css-a4x74f"><span>2962</span></td><td id="LC2962" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'end'</span>);
</code></td></tr><tr><td id="L2963" class="css-a4x74f"><span>2963</span></td><td id="LC2963" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L2964" class="css-a4x74f"><span>2964</span></td><td id="LC2964" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2965" class="css-a4x74f"><span>2965</span></td><td id="LC2965" class="css-1dcdqdg"><code>	_easeOut: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">t</span>) </span>{
</code></td></tr><tr><td id="L2966" class="css-a4x74f"><span>2966</span></td><td id="LC2966" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-number">1</span> - <span class="code-built_in">Math</span>.pow(<span class="code-number">1</span> - t, <span class="code-keyword">this</span>._easeOutPower);
</code></td></tr><tr><td id="L2967" class="css-a4x74f"><span>2967</span></td><td id="LC2967" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L2968" class="css-a4x74f"><span>2968</span></td><td id="LC2968" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L2969" class="css-a4x74f"><span>2969</span></td><td id="LC2969" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2970" class="css-a4x74f"><span>2970</span></td><td id="LC2970" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L2971" class="css-a4x74f"><span>2971</span></td><td id="LC2971" class="css-1dcdqdg"><code><span class="code-comment"> * @class Map
</span></code></td></tr><tr><td id="L2972" class="css-a4x74f"><span>2972</span></td><td id="LC2972" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Map
</span></code></td></tr><tr><td id="L2973" class="css-a4x74f"><span>2973</span></td><td id="LC2973" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Evented
</span></code></td></tr><tr><td id="L2974" class="css-a4x74f"><span>2974</span></td><td id="LC2974" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2975" class="css-a4x74f"><span>2975</span></td><td id="LC2975" class="css-1dcdqdg"><code><span class="code-comment"> * The central class of the API  it is used to create a map on a page and manipulate it.
</span></code></td></tr><tr><td id="L2976" class="css-a4x74f"><span>2976</span></td><td id="LC2976" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2977" class="css-a4x74f"><span>2977</span></td><td id="LC2977" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L2978" class="css-a4x74f"><span>2978</span></td><td id="LC2978" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2979" class="css-a4x74f"><span>2979</span></td><td id="LC2979" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L2980" class="css-a4x74f"><span>2980</span></td><td id="LC2980" class="css-1dcdqdg"><code><span class="code-comment"> * // initialize the map on the "map" div with a given center and zoom
</span></code></td></tr><tr><td id="L2981" class="css-a4x74f"><span>2981</span></td><td id="LC2981" class="css-1dcdqdg"><code><span class="code-comment"> * var map = L.map('map', {
</span></code></td></tr><tr><td id="L2982" class="css-a4x74f"><span>2982</span></td><td id="LC2982" class="css-1dcdqdg"><code><span class="code-comment"> * 	center: [51.505, -0.09],
</span></code></td></tr><tr><td id="L2983" class="css-a4x74f"><span>2983</span></td><td id="LC2983" class="css-1dcdqdg"><code><span class="code-comment"> * 	zoom: 13
</span></code></td></tr><tr><td id="L2984" class="css-a4x74f"><span>2984</span></td><td id="LC2984" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L2985" class="css-a4x74f"><span>2985</span></td><td id="LC2985" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L2986" class="css-a4x74f"><span>2986</span></td><td id="LC2986" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L2987" class="css-a4x74f"><span>2987</span></td><td id="LC2987" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L2988" class="css-a4x74f"><span>2988</span></td><td id="LC2988" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2989" class="css-a4x74f"><span>2989</span></td><td id="LC2989" class="css-1dcdqdg"><code><span class="code-keyword">var</span> <span class="code-built_in">Map</span> = Evented.extend({
</code></td></tr><tr><td id="L2990" class="css-a4x74f"><span>2990</span></td><td id="LC2990" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2991" class="css-a4x74f"><span>2991</span></td><td id="LC2991" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L2992" class="css-a4x74f"><span>2992</span></td><td id="LC2992" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Map State Options</span>
</code></td></tr><tr><td id="L2993" class="css-a4x74f"><span>2993</span></td><td id="LC2993" class="css-1dcdqdg"><code>		<span class="code-comment">// @option crs: CRS = L.CRS.EPSG3857</span>
</code></td></tr><tr><td id="L2994" class="css-a4x74f"><span>2994</span></td><td id="LC2994" class="css-1dcdqdg"><code>		<span class="code-comment">// The [Coordinate Reference System](#crs) to use. Don't change this if you're not</span>
</code></td></tr><tr><td id="L2995" class="css-a4x74f"><span>2995</span></td><td id="LC2995" class="css-1dcdqdg"><code>		<span class="code-comment">// sure what it means.</span>
</code></td></tr><tr><td id="L2996" class="css-a4x74f"><span>2996</span></td><td id="LC2996" class="css-1dcdqdg"><code>		crs: EPSG3857,
</code></td></tr><tr><td id="L2997" class="css-a4x74f"><span>2997</span></td><td id="LC2997" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L2998" class="css-a4x74f"><span>2998</span></td><td id="LC2998" class="css-1dcdqdg"><code>		<span class="code-comment">// @option center: LatLng = undefined</span>
</code></td></tr><tr><td id="L2999" class="css-a4x74f"><span>2999</span></td><td id="LC2999" class="css-1dcdqdg"><code>		<span class="code-comment">// Initial geographic center of the map</span>
</code></td></tr><tr><td id="L3000" class="css-a4x74f"><span>3000</span></td><td id="LC3000" class="css-1dcdqdg"><code>		center: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L3001" class="css-a4x74f"><span>3001</span></td><td id="LC3001" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3002" class="css-a4x74f"><span>3002</span></td><td id="LC3002" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoom: Number = undefined</span>
</code></td></tr><tr><td id="L3003" class="css-a4x74f"><span>3003</span></td><td id="LC3003" class="css-1dcdqdg"><code>		<span class="code-comment">// Initial map zoom level</span>
</code></td></tr><tr><td id="L3004" class="css-a4x74f"><span>3004</span></td><td id="LC3004" class="css-1dcdqdg"><code>		zoom: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L3005" class="css-a4x74f"><span>3005</span></td><td id="LC3005" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3006" class="css-a4x74f"><span>3006</span></td><td id="LC3006" class="css-1dcdqdg"><code>		<span class="code-comment">// @option minZoom: Number = *</span>
</code></td></tr><tr><td id="L3007" class="css-a4x74f"><span>3007</span></td><td id="LC3007" class="css-1dcdqdg"><code>		<span class="code-comment">// Minimum zoom level of the map.</span>
</code></td></tr><tr><td id="L3008" class="css-a4x74f"><span>3008</span></td><td id="LC3008" class="css-1dcdqdg"><code>		<span class="code-comment">// If not specified and at least one `GridLayer` or `TileLayer` is in the map,</span>
</code></td></tr><tr><td id="L3009" class="css-a4x74f"><span>3009</span></td><td id="LC3009" class="css-1dcdqdg"><code>		<span class="code-comment">// the lowest of their `minZoom` options will be used instead.</span>
</code></td></tr><tr><td id="L3010" class="css-a4x74f"><span>3010</span></td><td id="LC3010" class="css-1dcdqdg"><code>		minZoom: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L3011" class="css-a4x74f"><span>3011</span></td><td id="LC3011" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3012" class="css-a4x74f"><span>3012</span></td><td id="LC3012" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxZoom: Number = *</span>
</code></td></tr><tr><td id="L3013" class="css-a4x74f"><span>3013</span></td><td id="LC3013" class="css-1dcdqdg"><code>		<span class="code-comment">// Maximum zoom level of the map.</span>
</code></td></tr><tr><td id="L3014" class="css-a4x74f"><span>3014</span></td><td id="LC3014" class="css-1dcdqdg"><code>		<span class="code-comment">// If not specified and at least one `GridLayer` or `TileLayer` is in the map,</span>
</code></td></tr><tr><td id="L3015" class="css-a4x74f"><span>3015</span></td><td id="LC3015" class="css-1dcdqdg"><code>		<span class="code-comment">// the highest of their `maxZoom` options will be used instead.</span>
</code></td></tr><tr><td id="L3016" class="css-a4x74f"><span>3016</span></td><td id="LC3016" class="css-1dcdqdg"><code>		maxZoom: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L3017" class="css-a4x74f"><span>3017</span></td><td id="LC3017" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3018" class="css-a4x74f"><span>3018</span></td><td id="LC3018" class="css-1dcdqdg"><code>		<span class="code-comment">// @option layers: Layer[] = []</span>
</code></td></tr><tr><td id="L3019" class="css-a4x74f"><span>3019</span></td><td id="LC3019" class="css-1dcdqdg"><code>		<span class="code-comment">// Array of layers that will be added to the map initially</span>
</code></td></tr><tr><td id="L3020" class="css-a4x74f"><span>3020</span></td><td id="LC3020" class="css-1dcdqdg"><code>		layers: [],
</code></td></tr><tr><td id="L3021" class="css-a4x74f"><span>3021</span></td><td id="LC3021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3022" class="css-a4x74f"><span>3022</span></td><td id="LC3022" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxBounds: LatLngBounds = null</span>
</code></td></tr><tr><td id="L3023" class="css-a4x74f"><span>3023</span></td><td id="LC3023" class="css-1dcdqdg"><code>		<span class="code-comment">// When this option is set, the map restricts the view to the given</span>
</code></td></tr><tr><td id="L3024" class="css-a4x74f"><span>3024</span></td><td id="LC3024" class="css-1dcdqdg"><code>		<span class="code-comment">// geographical bounds, bouncing the user back if the user tries to pan</span>
</code></td></tr><tr><td id="L3025" class="css-a4x74f"><span>3025</span></td><td id="LC3025" class="css-1dcdqdg"><code>		<span class="code-comment">// outside the view. To set the restriction dynamically, use</span>
</code></td></tr><tr><td id="L3026" class="css-a4x74f"><span>3026</span></td><td id="LC3026" class="css-1dcdqdg"><code>		<span class="code-comment">// [`setMaxBounds`](#map-setmaxbounds) method.</span>
</code></td></tr><tr><td id="L3027" class="css-a4x74f"><span>3027</span></td><td id="LC3027" class="css-1dcdqdg"><code>		maxBounds: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L3028" class="css-a4x74f"><span>3028</span></td><td id="LC3028" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3029" class="css-a4x74f"><span>3029</span></td><td id="LC3029" class="css-1dcdqdg"><code>		<span class="code-comment">// @option renderer: Renderer = *</span>
</code></td></tr><tr><td id="L3030" class="css-a4x74f"><span>3030</span></td><td id="LC3030" class="css-1dcdqdg"><code>		<span class="code-comment">// The default method for drawing vector layers on the map. `L.SVG`</span>
</code></td></tr><tr><td id="L3031" class="css-a4x74f"><span>3031</span></td><td id="LC3031" class="css-1dcdqdg"><code>		<span class="code-comment">// or `L.Canvas` by default depending on browser support.</span>
</code></td></tr><tr><td id="L3032" class="css-a4x74f"><span>3032</span></td><td id="LC3032" class="css-1dcdqdg"><code>		renderer: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L3033" class="css-a4x74f"><span>3033</span></td><td id="LC3033" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3034" class="css-a4x74f"><span>3034</span></td><td id="LC3034" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3035" class="css-a4x74f"><span>3035</span></td><td id="LC3035" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Animation Options</span>
</code></td></tr><tr><td id="L3036" class="css-a4x74f"><span>3036</span></td><td id="LC3036" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomAnimation: Boolean = true</span>
</code></td></tr><tr><td id="L3037" class="css-a4x74f"><span>3037</span></td><td id="LC3037" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the map zoom animation is enabled. By default it's enabled</span>
</code></td></tr><tr><td id="L3038" class="css-a4x74f"><span>3038</span></td><td id="LC3038" class="css-1dcdqdg"><code>		<span class="code-comment">// in all browsers that support CSS3 Transitions except Android.</span>
</code></td></tr><tr><td id="L3039" class="css-a4x74f"><span>3039</span></td><td id="LC3039" class="css-1dcdqdg"><code>		zoomAnimation: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L3040" class="css-a4x74f"><span>3040</span></td><td id="LC3040" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3041" class="css-a4x74f"><span>3041</span></td><td id="LC3041" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomAnimationThreshold: Number = 4</span>
</code></td></tr><tr><td id="L3042" class="css-a4x74f"><span>3042</span></td><td id="LC3042" class="css-1dcdqdg"><code>		<span class="code-comment">// Won't animate zoom if the zoom difference exceeds this value.</span>
</code></td></tr><tr><td id="L3043" class="css-a4x74f"><span>3043</span></td><td id="LC3043" class="css-1dcdqdg"><code>		zoomAnimationThreshold: <span class="code-number">4</span>,
</code></td></tr><tr><td id="L3044" class="css-a4x74f"><span>3044</span></td><td id="LC3044" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3045" class="css-a4x74f"><span>3045</span></td><td id="LC3045" class="css-1dcdqdg"><code>		<span class="code-comment">// @option fadeAnimation: Boolean = true</span>
</code></td></tr><tr><td id="L3046" class="css-a4x74f"><span>3046</span></td><td id="LC3046" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the tile fade animation is enabled. By default it's enabled</span>
</code></td></tr><tr><td id="L3047" class="css-a4x74f"><span>3047</span></td><td id="LC3047" class="css-1dcdqdg"><code>		<span class="code-comment">// in all browsers that support CSS3 Transitions except Android.</span>
</code></td></tr><tr><td id="L3048" class="css-a4x74f"><span>3048</span></td><td id="LC3048" class="css-1dcdqdg"><code>		fadeAnimation: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L3049" class="css-a4x74f"><span>3049</span></td><td id="LC3049" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3050" class="css-a4x74f"><span>3050</span></td><td id="LC3050" class="css-1dcdqdg"><code>		<span class="code-comment">// @option markerZoomAnimation: Boolean = true</span>
</code></td></tr><tr><td id="L3051" class="css-a4x74f"><span>3051</span></td><td id="LC3051" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether markers animate their zoom with the zoom animation, if disabled</span>
</code></td></tr><tr><td id="L3052" class="css-a4x74f"><span>3052</span></td><td id="LC3052" class="css-1dcdqdg"><code>		<span class="code-comment">// they will disappear for the length of the animation. By default it's</span>
</code></td></tr><tr><td id="L3053" class="css-a4x74f"><span>3053</span></td><td id="LC3053" class="css-1dcdqdg"><code>		<span class="code-comment">// enabled in all browsers that support CSS3 Transitions except Android.</span>
</code></td></tr><tr><td id="L3054" class="css-a4x74f"><span>3054</span></td><td id="LC3054" class="css-1dcdqdg"><code>		markerZoomAnimation: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L3055" class="css-a4x74f"><span>3055</span></td><td id="LC3055" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3056" class="css-a4x74f"><span>3056</span></td><td id="LC3056" class="css-1dcdqdg"><code>		<span class="code-comment">// @option transform3DLimit: Number = 2^23</span>
</code></td></tr><tr><td id="L3057" class="css-a4x74f"><span>3057</span></td><td id="LC3057" class="css-1dcdqdg"><code>		<span class="code-comment">// Defines the maximum size of a CSS translation transform. The default</span>
</code></td></tr><tr><td id="L3058" class="css-a4x74f"><span>3058</span></td><td id="LC3058" class="css-1dcdqdg"><code>		<span class="code-comment">// value should not be changed unless a web browser positions layers in</span>
</code></td></tr><tr><td id="L3059" class="css-a4x74f"><span>3059</span></td><td id="LC3059" class="css-1dcdqdg"><code>		<span class="code-comment">// the wrong place after doing a large `panBy`.</span>
</code></td></tr><tr><td id="L3060" class="css-a4x74f"><span>3060</span></td><td id="LC3060" class="css-1dcdqdg"><code>		transform3DLimit: <span class="code-number">8388608</span>, <span class="code-comment">// Precision limit of a 32-bit float</span>
</code></td></tr><tr><td id="L3061" class="css-a4x74f"><span>3061</span></td><td id="LC3061" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3062" class="css-a4x74f"><span>3062</span></td><td id="LC3062" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L3063" class="css-a4x74f"><span>3063</span></td><td id="LC3063" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomSnap: Number = 1</span>
</code></td></tr><tr><td id="L3064" class="css-a4x74f"><span>3064</span></td><td id="LC3064" class="css-1dcdqdg"><code>		<span class="code-comment">// Forces the map's zoom level to always be a multiple of this, particularly</span>
</code></td></tr><tr><td id="L3065" class="css-a4x74f"><span>3065</span></td><td id="LC3065" class="css-1dcdqdg"><code>		<span class="code-comment">// right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.</span>
</code></td></tr><tr><td id="L3066" class="css-a4x74f"><span>3066</span></td><td id="LC3066" class="css-1dcdqdg"><code>		<span class="code-comment">// By default, the zoom level snaps to the nearest integer; lower values</span>
</code></td></tr><tr><td id="L3067" class="css-a4x74f"><span>3067</span></td><td id="LC3067" class="css-1dcdqdg"><code>		<span class="code-comment">// (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`</span>
</code></td></tr><tr><td id="L3068" class="css-a4x74f"><span>3068</span></td><td id="LC3068" class="css-1dcdqdg"><code>		<span class="code-comment">// means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.</span>
</code></td></tr><tr><td id="L3069" class="css-a4x74f"><span>3069</span></td><td id="LC3069" class="css-1dcdqdg"><code>		zoomSnap: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L3070" class="css-a4x74f"><span>3070</span></td><td id="LC3070" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3071" class="css-a4x74f"><span>3071</span></td><td id="LC3071" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomDelta: Number = 1</span>
</code></td></tr><tr><td id="L3072" class="css-a4x74f"><span>3072</span></td><td id="LC3072" class="css-1dcdqdg"><code>		<span class="code-comment">// Controls how much the map's zoom level will change after a</span>
</code></td></tr><tr><td id="L3073" class="css-a4x74f"><span>3073</span></td><td id="LC3073" class="css-1dcdqdg"><code>		<span class="code-comment">// [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`</span>
</code></td></tr><tr><td id="L3074" class="css-a4x74f"><span>3074</span></td><td id="LC3074" class="css-1dcdqdg"><code>		<span class="code-comment">// or `-` on the keyboard, or using the [zoom controls](#control-zoom).</span>
</code></td></tr><tr><td id="L3075" class="css-a4x74f"><span>3075</span></td><td id="LC3075" class="css-1dcdqdg"><code>		<span class="code-comment">// Values smaller than `1` (e.g. `0.5`) allow for greater granularity.</span>
</code></td></tr><tr><td id="L3076" class="css-a4x74f"><span>3076</span></td><td id="LC3076" class="css-1dcdqdg"><code>		zoomDelta: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L3077" class="css-a4x74f"><span>3077</span></td><td id="LC3077" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3078" class="css-a4x74f"><span>3078</span></td><td id="LC3078" class="css-1dcdqdg"><code>		<span class="code-comment">// @option trackResize: Boolean = true</span>
</code></td></tr><tr><td id="L3079" class="css-a4x74f"><span>3079</span></td><td id="LC3079" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the map automatically handles browser window resize to update itself.</span>
</code></td></tr><tr><td id="L3080" class="css-a4x74f"><span>3080</span></td><td id="LC3080" class="css-1dcdqdg"><code>		trackResize: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L3081" class="css-a4x74f"><span>3081</span></td><td id="LC3081" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3082" class="css-a4x74f"><span>3082</span></td><td id="LC3082" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3083" class="css-a4x74f"><span>3083</span></td><td id="LC3083" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">id, options</span>) </span>{ <span class="code-comment">// (HTMLElement or String, Object)</span>
</code></td></tr><tr><td id="L3084" class="css-a4x74f"><span>3084</span></td><td id="LC3084" class="css-1dcdqdg"><code>		options = setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L3085" class="css-a4x74f"><span>3085</span></td><td id="LC3085" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3086" class="css-a4x74f"><span>3086</span></td><td id="LC3086" class="css-1dcdqdg"><code>		<span class="code-comment">// Make sure to assign internal flags at the beginning,</span>
</code></td></tr><tr><td id="L3087" class="css-a4x74f"><span>3087</span></td><td id="LC3087" class="css-1dcdqdg"><code>		<span class="code-comment">// to avoid inconsistent state in some edge cases.</span>
</code></td></tr><tr><td id="L3088" class="css-a4x74f"><span>3088</span></td><td id="LC3088" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._handlers = [];
</code></td></tr><tr><td id="L3089" class="css-a4x74f"><span>3089</span></td><td id="LC3089" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers = {};
</code></td></tr><tr><td id="L3090" class="css-a4x74f"><span>3090</span></td><td id="LC3090" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomBoundLayers = {};
</code></td></tr><tr><td id="L3091" class="css-a4x74f"><span>3091</span></td><td id="LC3091" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._sizeChanged = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3092" class="css-a4x74f"><span>3092</span></td><td id="LC3092" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3093" class="css-a4x74f"><span>3093</span></td><td id="LC3093" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initContainer(id);
</code></td></tr><tr><td id="L3094" class="css-a4x74f"><span>3094</span></td><td id="LC3094" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initLayout();
</code></td></tr><tr><td id="L3095" class="css-a4x74f"><span>3095</span></td><td id="LC3095" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3096" class="css-a4x74f"><span>3096</span></td><td id="LC3096" class="css-1dcdqdg"><code>		<span class="code-comment">// hack for https://github.com/Leaflet/Leaflet/issues/1980</span>
</code></td></tr><tr><td id="L3097" class="css-a4x74f"><span>3097</span></td><td id="LC3097" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._onResize = bind(<span class="code-keyword">this</span>._onResize, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3098" class="css-a4x74f"><span>3098</span></td><td id="LC3098" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3099" class="css-a4x74f"><span>3099</span></td><td id="LC3099" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initEvents();
</code></td></tr><tr><td id="L3100" class="css-a4x74f"><span>3100</span></td><td id="LC3100" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3101" class="css-a4x74f"><span>3101</span></td><td id="LC3101" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.maxBounds) {
</code></td></tr><tr><td id="L3102" class="css-a4x74f"><span>3102</span></td><td id="LC3102" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.setMaxBounds(options.maxBounds);
</code></td></tr><tr><td id="L3103" class="css-a4x74f"><span>3103</span></td><td id="LC3103" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3104" class="css-a4x74f"><span>3104</span></td><td id="LC3104" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3105" class="css-a4x74f"><span>3105</span></td><td id="LC3105" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.zoom !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3106" class="css-a4x74f"><span>3106</span></td><td id="LC3106" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zoom = <span class="code-keyword">this</span>._limitZoom(options.zoom);
</code></td></tr><tr><td id="L3107" class="css-a4x74f"><span>3107</span></td><td id="LC3107" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3108" class="css-a4x74f"><span>3108</span></td><td id="LC3108" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3109" class="css-a4x74f"><span>3109</span></td><td id="LC3109" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.center &amp;&amp; options.zoom !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3110" class="css-a4x74f"><span>3110</span></td><td id="LC3110" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.setView(toLatLng(options.center), options.zoom, {<span class="code-attr">reset</span>: <span class="code-literal">true</span>});
</code></td></tr><tr><td id="L3111" class="css-a4x74f"><span>3111</span></td><td id="LC3111" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3112" class="css-a4x74f"><span>3112</span></td><td id="LC3112" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3113" class="css-a4x74f"><span>3113</span></td><td id="LC3113" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.callInitHooks();
</code></td></tr><tr><td id="L3114" class="css-a4x74f"><span>3114</span></td><td id="LC3114" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3115" class="css-a4x74f"><span>3115</span></td><td id="LC3115" class="css-1dcdqdg"><code>		<span class="code-comment">// don't animate on browsers without hardware-accelerated transitions or old Android/Opera</span>
</code></td></tr><tr><td id="L3116" class="css-a4x74f"><span>3116</span></td><td id="LC3116" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomAnimated = TRANSITION &amp;&amp; Browser.any3d &amp;&amp; !Browser.mobileOpera &amp;&amp;
</code></td></tr><tr><td id="L3117" class="css-a4x74f"><span>3117</span></td><td id="LC3117" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.options.zoomAnimation;
</code></td></tr><tr><td id="L3118" class="css-a4x74f"><span>3118</span></td><td id="LC3118" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3119" class="css-a4x74f"><span>3119</span></td><td id="LC3119" class="css-1dcdqdg"><code>		<span class="code-comment">// zoom transitions run with the same duration for all layers, so if one of transitionend events</span>
</code></td></tr><tr><td id="L3120" class="css-a4x74f"><span>3120</span></td><td id="LC3120" class="css-1dcdqdg"><code>		<span class="code-comment">// happens after starting zoom animation (propagating to the map pane), we know that it ended globally</span>
</code></td></tr><tr><td id="L3121" class="css-a4x74f"><span>3121</span></td><td id="LC3121" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L3122" class="css-a4x74f"><span>3122</span></td><td id="LC3122" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._createAnimProxy();
</code></td></tr><tr><td id="L3123" class="css-a4x74f"><span>3123</span></td><td id="LC3123" class="css-1dcdqdg"><code>			on(<span class="code-keyword">this</span>._proxy, TRANSITION_END, <span class="code-keyword">this</span>._catchTransitionEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3124" class="css-a4x74f"><span>3124</span></td><td id="LC3124" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3125" class="css-a4x74f"><span>3125</span></td><td id="LC3125" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3126" class="css-a4x74f"><span>3126</span></td><td id="LC3126" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._addLayers(<span class="code-keyword">this</span>.options.layers);
</code></td></tr><tr><td id="L3127" class="css-a4x74f"><span>3127</span></td><td id="LC3127" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3128" class="css-a4x74f"><span>3128</span></td><td id="LC3128" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3129" class="css-a4x74f"><span>3129</span></td><td id="LC3129" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3130" class="css-a4x74f"><span>3130</span></td><td id="LC3130" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Methods for modifying map state</span>
</code></td></tr><tr><td id="L3131" class="css-a4x74f"><span>3131</span></td><td id="LC3131" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3132" class="css-a4x74f"><span>3132</span></td><td id="LC3132" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this</span>
</code></td></tr><tr><td id="L3133" class="css-a4x74f"><span>3133</span></td><td id="LC3133" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the view of the map (geographical center and zoom) with the given</span>
</code></td></tr><tr><td id="L3134" class="css-a4x74f"><span>3134</span></td><td id="LC3134" class="css-1dcdqdg"><code>	<span class="code-comment">// animation options.</span>
</code></td></tr><tr><td id="L3135" class="css-a4x74f"><span>3135</span></td><td id="LC3135" class="css-1dcdqdg"><code>	setView: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom, options</span>) </span>{
</code></td></tr><tr><td id="L3136" class="css-a4x74f"><span>3136</span></td><td id="LC3136" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3137" class="css-a4x74f"><span>3137</span></td><td id="LC3137" class="css-1dcdqdg"><code>		zoom = zoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>._zoom : <span class="code-keyword">this</span>._limitZoom(zoom);
</code></td></tr><tr><td id="L3138" class="css-a4x74f"><span>3138</span></td><td id="LC3138" class="css-1dcdqdg"><code>		center = <span class="code-keyword">this</span>._limitCenter(toLatLng(center), zoom, <span class="code-keyword">this</span>.options.maxBounds);
</code></td></tr><tr><td id="L3139" class="css-a4x74f"><span>3139</span></td><td id="LC3139" class="css-1dcdqdg"><code>		options = options || {};
</code></td></tr><tr><td id="L3140" class="css-a4x74f"><span>3140</span></td><td id="LC3140" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3141" class="css-a4x74f"><span>3141</span></td><td id="LC3141" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._stop();
</code></td></tr><tr><td id="L3142" class="css-a4x74f"><span>3142</span></td><td id="LC3142" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3143" class="css-a4x74f"><span>3143</span></td><td id="LC3143" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded &amp;&amp; !options.reset &amp;&amp; options !== <span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L3144" class="css-a4x74f"><span>3144</span></td><td id="LC3144" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3145" class="css-a4x74f"><span>3145</span></td><td id="LC3145" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.animate !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3146" class="css-a4x74f"><span>3146</span></td><td id="LC3146" class="css-1dcdqdg"><code>				options.zoom = extend({<span class="code-attr">animate</span>: options.animate}, options.zoom);
</code></td></tr><tr><td id="L3147" class="css-a4x74f"><span>3147</span></td><td id="LC3147" class="css-1dcdqdg"><code>				options.pan = extend({<span class="code-attr">animate</span>: options.animate, <span class="code-attr">duration</span>: options.duration}, options.pan);
</code></td></tr><tr><td id="L3148" class="css-a4x74f"><span>3148</span></td><td id="LC3148" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3149" class="css-a4x74f"><span>3149</span></td><td id="LC3149" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3150" class="css-a4x74f"><span>3150</span></td><td id="LC3150" class="css-1dcdqdg"><code>			<span class="code-comment">// try animating pan or zoom</span>
</code></td></tr><tr><td id="L3151" class="css-a4x74f"><span>3151</span></td><td id="LC3151" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> moved = (<span class="code-keyword">this</span>._zoom !== zoom) ?
</code></td></tr><tr><td id="L3152" class="css-a4x74f"><span>3152</span></td><td id="LC3152" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._tryAnimatedZoom &amp;&amp; <span class="code-keyword">this</span>._tryAnimatedZoom(center, zoom, options.zoom) :
</code></td></tr><tr><td id="L3153" class="css-a4x74f"><span>3153</span></td><td id="LC3153" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._tryAnimatedPan(center, options.pan);
</code></td></tr><tr><td id="L3154" class="css-a4x74f"><span>3154</span></td><td id="LC3154" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3155" class="css-a4x74f"><span>3155</span></td><td id="LC3155" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (moved) {
</code></td></tr><tr><td id="L3156" class="css-a4x74f"><span>3156</span></td><td id="LC3156" class="css-1dcdqdg"><code>				<span class="code-comment">// prevent resize handler call, the view will refresh after animation anyway</span>
</code></td></tr><tr><td id="L3157" class="css-a4x74f"><span>3157</span></td><td id="LC3157" class="css-1dcdqdg"><code>				clearTimeout(<span class="code-keyword">this</span>._sizeTimer);
</code></td></tr><tr><td id="L3158" class="css-a4x74f"><span>3158</span></td><td id="LC3158" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3159" class="css-a4x74f"><span>3159</span></td><td id="LC3159" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3160" class="css-a4x74f"><span>3160</span></td><td id="LC3160" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3161" class="css-a4x74f"><span>3161</span></td><td id="LC3161" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3162" class="css-a4x74f"><span>3162</span></td><td id="LC3162" class="css-1dcdqdg"><code>		<span class="code-comment">// animation didn't start, just reset the map view</span>
</code></td></tr><tr><td id="L3163" class="css-a4x74f"><span>3163</span></td><td id="LC3163" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetView(center, zoom);
</code></td></tr><tr><td id="L3164" class="css-a4x74f"><span>3164</span></td><td id="LC3164" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3165" class="css-a4x74f"><span>3165</span></td><td id="LC3165" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3166" class="css-a4x74f"><span>3166</span></td><td id="LC3166" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3167" class="css-a4x74f"><span>3167</span></td><td id="LC3167" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3168" class="css-a4x74f"><span>3168</span></td><td id="LC3168" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZoom(zoom: Number, options?: Zoom/pan options): this</span>
</code></td></tr><tr><td id="L3169" class="css-a4x74f"><span>3169</span></td><td id="LC3169" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the zoom of the map.</span>
</code></td></tr><tr><td id="L3170" class="css-a4x74f"><span>3170</span></td><td id="LC3170" class="css-1dcdqdg"><code>	setZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom, options</span>) </span>{
</code></td></tr><tr><td id="L3171" class="css-a4x74f"><span>3171</span></td><td id="LC3171" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L3172" class="css-a4x74f"><span>3172</span></td><td id="LC3172" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zoom = zoom;
</code></td></tr><tr><td id="L3173" class="css-a4x74f"><span>3173</span></td><td id="LC3173" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3174" class="css-a4x74f"><span>3174</span></td><td id="LC3174" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3175" class="css-a4x74f"><span>3175</span></td><td id="LC3175" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setView(<span class="code-keyword">this</span>.getCenter(), zoom, {<span class="code-attr">zoom</span>: options});
</code></td></tr><tr><td id="L3176" class="css-a4x74f"><span>3176</span></td><td id="LC3176" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3177" class="css-a4x74f"><span>3177</span></td><td id="LC3177" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3178" class="css-a4x74f"><span>3178</span></td><td id="LC3178" class="css-1dcdqdg"><code>	<span class="code-comment">// @method zoomIn(delta?: Number, options?: Zoom options): this</span>
</code></td></tr><tr><td id="L3179" class="css-a4x74f"><span>3179</span></td><td id="LC3179" class="css-1dcdqdg"><code>	<span class="code-comment">// Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).</span>
</code></td></tr><tr><td id="L3180" class="css-a4x74f"><span>3180</span></td><td id="LC3180" class="css-1dcdqdg"><code>	zoomIn: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">delta, options</span>) </span>{
</code></td></tr><tr><td id="L3181" class="css-a4x74f"><span>3181</span></td><td id="LC3181" class="css-1dcdqdg"><code>		delta = delta || (Browser.any3d ? <span class="code-keyword">this</span>.options.zoomDelta : <span class="code-number">1</span>);
</code></td></tr><tr><td id="L3182" class="css-a4x74f"><span>3182</span></td><td id="LC3182" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setZoom(<span class="code-keyword">this</span>._zoom + delta, options);
</code></td></tr><tr><td id="L3183" class="css-a4x74f"><span>3183</span></td><td id="LC3183" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3184" class="css-a4x74f"><span>3184</span></td><td id="LC3184" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3185" class="css-a4x74f"><span>3185</span></td><td id="LC3185" class="css-1dcdqdg"><code>	<span class="code-comment">// @method zoomOut(delta?: Number, options?: Zoom options): this</span>
</code></td></tr><tr><td id="L3186" class="css-a4x74f"><span>3186</span></td><td id="LC3186" class="css-1dcdqdg"><code>	<span class="code-comment">// Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).</span>
</code></td></tr><tr><td id="L3187" class="css-a4x74f"><span>3187</span></td><td id="LC3187" class="css-1dcdqdg"><code>	zoomOut: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">delta, options</span>) </span>{
</code></td></tr><tr><td id="L3188" class="css-a4x74f"><span>3188</span></td><td id="LC3188" class="css-1dcdqdg"><code>		delta = delta || (Browser.any3d ? <span class="code-keyword">this</span>.options.zoomDelta : <span class="code-number">1</span>);
</code></td></tr><tr><td id="L3189" class="css-a4x74f"><span>3189</span></td><td id="LC3189" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setZoom(<span class="code-keyword">this</span>._zoom - delta, options);
</code></td></tr><tr><td id="L3190" class="css-a4x74f"><span>3190</span></td><td id="LC3190" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3191" class="css-a4x74f"><span>3191</span></td><td id="LC3191" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3192" class="css-a4x74f"><span>3192</span></td><td id="LC3192" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this</span>
</code></td></tr><tr><td id="L3193" class="css-a4x74f"><span>3193</span></td><td id="LC3193" class="css-1dcdqdg"><code>	<span class="code-comment">// Zooms the map while keeping a specified geographical point on the map</span>
</code></td></tr><tr><td id="L3194" class="css-a4x74f"><span>3194</span></td><td id="LC3194" class="css-1dcdqdg"><code>	<span class="code-comment">// stationary (e.g. used internally for scroll zoom and double-click zoom).</span>
</code></td></tr><tr><td id="L3195" class="css-a4x74f"><span>3195</span></td><td id="LC3195" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L3196" class="css-a4x74f"><span>3196</span></td><td id="LC3196" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this</span>
</code></td></tr><tr><td id="L3197" class="css-a4x74f"><span>3197</span></td><td id="LC3197" class="css-1dcdqdg"><code>	<span class="code-comment">// Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.</span>
</code></td></tr><tr><td id="L3198" class="css-a4x74f"><span>3198</span></td><td id="LC3198" class="css-1dcdqdg"><code>	setZoomAround: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, zoom, options</span>) </span>{
</code></td></tr><tr><td id="L3199" class="css-a4x74f"><span>3199</span></td><td id="LC3199" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-keyword">this</span>.getZoomScale(zoom),
</code></td></tr><tr><td id="L3200" class="css-a4x74f"><span>3200</span></td><td id="LC3200" class="css-1dcdqdg"><code>		    viewHalf = <span class="code-keyword">this</span>.getSize().divideBy(<span class="code-number">2</span>),
</code></td></tr><tr><td id="L3201" class="css-a4x74f"><span>3201</span></td><td id="LC3201" class="css-1dcdqdg"><code>		    containerPoint = latlng <span class="code-keyword">instanceof</span> Point ? latlng : <span class="code-keyword">this</span>.latLngToContainerPoint(latlng),
</code></td></tr><tr><td id="L3202" class="css-a4x74f"><span>3202</span></td><td id="LC3202" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3203" class="css-a4x74f"><span>3203</span></td><td id="LC3203" class="css-1dcdqdg"><code>		    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(<span class="code-number">1</span> - <span class="code-number">1</span> / scale),
</code></td></tr><tr><td id="L3204" class="css-a4x74f"><span>3204</span></td><td id="LC3204" class="css-1dcdqdg"><code>		    newCenter = <span class="code-keyword">this</span>.containerPointToLatLng(viewHalf.add(centerOffset));
</code></td></tr><tr><td id="L3205" class="css-a4x74f"><span>3205</span></td><td id="LC3205" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3206" class="css-a4x74f"><span>3206</span></td><td id="LC3206" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setView(newCenter, zoom, {<span class="code-attr">zoom</span>: options});
</code></td></tr><tr><td id="L3207" class="css-a4x74f"><span>3207</span></td><td id="LC3207" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3208" class="css-a4x74f"><span>3208</span></td><td id="LC3208" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3209" class="css-a4x74f"><span>3209</span></td><td id="LC3209" class="css-1dcdqdg"><code>	_getBoundsCenterZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds, options</span>) </span>{
</code></td></tr><tr><td id="L3210" class="css-a4x74f"><span>3210</span></td><td id="LC3210" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3211" class="css-a4x74f"><span>3211</span></td><td id="LC3211" class="css-1dcdqdg"><code>		options = options || {};
</code></td></tr><tr><td id="L3212" class="css-a4x74f"><span>3212</span></td><td id="LC3212" class="css-1dcdqdg"><code>		bounds = bounds.getBounds ? bounds.getBounds() : toLatLngBounds(bounds);
</code></td></tr><tr><td id="L3213" class="css-a4x74f"><span>3213</span></td><td id="LC3213" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3214" class="css-a4x74f"><span>3214</span></td><td id="LC3214" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> paddingTL = toPoint(options.paddingTopLeft || options.padding || [<span class="code-number">0</span>, <span class="code-number">0</span>]),
</code></td></tr><tr><td id="L3215" class="css-a4x74f"><span>3215</span></td><td id="LC3215" class="css-1dcdqdg"><code>		    paddingBR = toPoint(options.paddingBottomRight || options.padding || [<span class="code-number">0</span>, <span class="code-number">0</span>]),
</code></td></tr><tr><td id="L3216" class="css-a4x74f"><span>3216</span></td><td id="LC3216" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3217" class="css-a4x74f"><span>3217</span></td><td id="LC3217" class="css-1dcdqdg"><code>		    zoom = <span class="code-keyword">this</span>.getBoundsZoom(bounds, <span class="code-literal">false</span>, paddingTL.add(paddingBR));
</code></td></tr><tr><td id="L3218" class="css-a4x74f"><span>3218</span></td><td id="LC3218" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3219" class="css-a4x74f"><span>3219</span></td><td id="LC3219" class="css-1dcdqdg"><code>		zoom = (<span class="code-keyword">typeof</span> options.maxZoom === <span class="code-string">'number'</span>) ? <span class="code-built_in">Math</span>.min(options.maxZoom, zoom) : zoom;
</code></td></tr><tr><td id="L3220" class="css-a4x74f"><span>3220</span></td><td id="LC3220" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3221" class="css-a4x74f"><span>3221</span></td><td id="LC3221" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoom === <span class="code-literal">Infinity</span>) {
</code></td></tr><tr><td id="L3222" class="css-a4x74f"><span>3222</span></td><td id="LC3222" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L3223" class="css-a4x74f"><span>3223</span></td><td id="LC3223" class="css-1dcdqdg"><code>				center: bounds.getCenter(),
</code></td></tr><tr><td id="L3224" class="css-a4x74f"><span>3224</span></td><td id="LC3224" class="css-1dcdqdg"><code>				zoom: zoom
</code></td></tr><tr><td id="L3225" class="css-a4x74f"><span>3225</span></td><td id="LC3225" class="css-1dcdqdg"><code>			};
</code></td></tr><tr><td id="L3226" class="css-a4x74f"><span>3226</span></td><td id="LC3226" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3227" class="css-a4x74f"><span>3227</span></td><td id="LC3227" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3228" class="css-a4x74f"><span>3228</span></td><td id="LC3228" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> paddingOffset = paddingBR.subtract(paddingTL).divideBy(<span class="code-number">2</span>),
</code></td></tr><tr><td id="L3229" class="css-a4x74f"><span>3229</span></td><td id="LC3229" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3230" class="css-a4x74f"><span>3230</span></td><td id="LC3230" class="css-1dcdqdg"><code>		    swPoint = <span class="code-keyword">this</span>.project(bounds.getSouthWest(), zoom),
</code></td></tr><tr><td id="L3231" class="css-a4x74f"><span>3231</span></td><td id="LC3231" class="css-1dcdqdg"><code>		    nePoint = <span class="code-keyword">this</span>.project(bounds.getNorthEast(), zoom),
</code></td></tr><tr><td id="L3232" class="css-a4x74f"><span>3232</span></td><td id="LC3232" class="css-1dcdqdg"><code>		    center = <span class="code-keyword">this</span>.unproject(swPoint.add(nePoint).divideBy(<span class="code-number">2</span>).add(paddingOffset), zoom);
</code></td></tr><tr><td id="L3233" class="css-a4x74f"><span>3233</span></td><td id="LC3233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3234" class="css-a4x74f"><span>3234</span></td><td id="LC3234" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L3235" class="css-a4x74f"><span>3235</span></td><td id="LC3235" class="css-1dcdqdg"><code>			center: center,
</code></td></tr><tr><td id="L3236" class="css-a4x74f"><span>3236</span></td><td id="LC3236" class="css-1dcdqdg"><code>			zoom: zoom
</code></td></tr><tr><td id="L3237" class="css-a4x74f"><span>3237</span></td><td id="LC3237" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L3238" class="css-a4x74f"><span>3238</span></td><td id="LC3238" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3239" class="css-a4x74f"><span>3239</span></td><td id="LC3239" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3240" class="css-a4x74f"><span>3240</span></td><td id="LC3240" class="css-1dcdqdg"><code>	<span class="code-comment">// @method fitBounds(bounds: LatLngBounds, options?: fitBounds options): this</span>
</code></td></tr><tr><td id="L3241" class="css-a4x74f"><span>3241</span></td><td id="LC3241" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets a map view that contains the given geographical bounds with the</span>
</code></td></tr><tr><td id="L3242" class="css-a4x74f"><span>3242</span></td><td id="LC3242" class="css-1dcdqdg"><code>	<span class="code-comment">// maximum zoom level possible.</span>
</code></td></tr><tr><td id="L3243" class="css-a4x74f"><span>3243</span></td><td id="LC3243" class="css-1dcdqdg"><code>	fitBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds, options</span>) </span>{
</code></td></tr><tr><td id="L3244" class="css-a4x74f"><span>3244</span></td><td id="LC3244" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3245" class="css-a4x74f"><span>3245</span></td><td id="LC3245" class="css-1dcdqdg"><code>		bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L3246" class="css-a4x74f"><span>3246</span></td><td id="LC3246" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3247" class="css-a4x74f"><span>3247</span></td><td id="LC3247" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!bounds.isValid()) {
</code></td></tr><tr><td id="L3248" class="css-a4x74f"><span>3248</span></td><td id="LC3248" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Bounds are not valid.'</span>);
</code></td></tr><tr><td id="L3249" class="css-a4x74f"><span>3249</span></td><td id="LC3249" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3250" class="css-a4x74f"><span>3250</span></td><td id="LC3250" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3251" class="css-a4x74f"><span>3251</span></td><td id="LC3251" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> target = <span class="code-keyword">this</span>._getBoundsCenterZoom(bounds, options);
</code></td></tr><tr><td id="L3252" class="css-a4x74f"><span>3252</span></td><td id="LC3252" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setView(target.center, target.zoom, options);
</code></td></tr><tr><td id="L3253" class="css-a4x74f"><span>3253</span></td><td id="LC3253" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3254" class="css-a4x74f"><span>3254</span></td><td id="LC3254" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3255" class="css-a4x74f"><span>3255</span></td><td id="LC3255" class="css-1dcdqdg"><code>	<span class="code-comment">// @method fitWorld(options?: fitBounds options): this</span>
</code></td></tr><tr><td id="L3256" class="css-a4x74f"><span>3256</span></td><td id="LC3256" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets a map view that mostly contains the whole world with the maximum</span>
</code></td></tr><tr><td id="L3257" class="css-a4x74f"><span>3257</span></td><td id="LC3257" class="css-1dcdqdg"><code>	<span class="code-comment">// zoom level possible.</span>
</code></td></tr><tr><td id="L3258" class="css-a4x74f"><span>3258</span></td><td id="LC3258" class="css-1dcdqdg"><code>	fitWorld: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L3259" class="css-a4x74f"><span>3259</span></td><td id="LC3259" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fitBounds([[<span class="code-number">-90</span>, <span class="code-number">-180</span>], [<span class="code-number">90</span>, <span class="code-number">180</span>]], options);
</code></td></tr><tr><td id="L3260" class="css-a4x74f"><span>3260</span></td><td id="LC3260" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3261" class="css-a4x74f"><span>3261</span></td><td id="LC3261" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3262" class="css-a4x74f"><span>3262</span></td><td id="LC3262" class="css-1dcdqdg"><code>	<span class="code-comment">// @method panTo(latlng: LatLng, options?: Pan options): this</span>
</code></td></tr><tr><td id="L3263" class="css-a4x74f"><span>3263</span></td><td id="LC3263" class="css-1dcdqdg"><code>	<span class="code-comment">// Pans the map to a given center.</span>
</code></td></tr><tr><td id="L3264" class="css-a4x74f"><span>3264</span></td><td id="LC3264" class="css-1dcdqdg"><code>	panTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, options</span>) </span>{ <span class="code-comment">// (LatLng)</span>
</code></td></tr><tr><td id="L3265" class="css-a4x74f"><span>3265</span></td><td id="LC3265" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setView(center, <span class="code-keyword">this</span>._zoom, {<span class="code-attr">pan</span>: options});
</code></td></tr><tr><td id="L3266" class="css-a4x74f"><span>3266</span></td><td id="LC3266" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3267" class="css-a4x74f"><span>3267</span></td><td id="LC3267" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3268" class="css-a4x74f"><span>3268</span></td><td id="LC3268" class="css-1dcdqdg"><code>	<span class="code-comment">// @method panBy(offset: Point, options?: Pan options): this</span>
</code></td></tr><tr><td id="L3269" class="css-a4x74f"><span>3269</span></td><td id="LC3269" class="css-1dcdqdg"><code>	<span class="code-comment">// Pans the map by a given number of pixels (animated).</span>
</code></td></tr><tr><td id="L3270" class="css-a4x74f"><span>3270</span></td><td id="LC3270" class="css-1dcdqdg"><code>	panBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">offset, options</span>) </span>{
</code></td></tr><tr><td id="L3271" class="css-a4x74f"><span>3271</span></td><td id="LC3271" class="css-1dcdqdg"><code>		offset = toPoint(offset).round();
</code></td></tr><tr><td id="L3272" class="css-a4x74f"><span>3272</span></td><td id="LC3272" class="css-1dcdqdg"><code>		options = options || {};
</code></td></tr><tr><td id="L3273" class="css-a4x74f"><span>3273</span></td><td id="LC3273" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3274" class="css-a4x74f"><span>3274</span></td><td id="LC3274" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!offset.x &amp;&amp; !offset.y) {
</code></td></tr><tr><td id="L3275" class="css-a4x74f"><span>3275</span></td><td id="LC3275" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L3276" class="css-a4x74f"><span>3276</span></td><td id="LC3276" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3277" class="css-a4x74f"><span>3277</span></td><td id="LC3277" class="css-1dcdqdg"><code>		<span class="code-comment">// If we pan too far, Chrome gets issues with tiles</span>
</code></td></tr><tr><td id="L3278" class="css-a4x74f"><span>3278</span></td><td id="LC3278" class="css-1dcdqdg"><code>		<span class="code-comment">// and makes them disappear or appear in the wrong place (slightly offset) #2602</span>
</code></td></tr><tr><td id="L3279" class="css-a4x74f"><span>3279</span></td><td id="LC3279" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.animate !== <span class="code-literal">true</span> &amp;&amp; !<span class="code-keyword">this</span>.getSize().contains(offset)) {
</code></td></tr><tr><td id="L3280" class="css-a4x74f"><span>3280</span></td><td id="LC3280" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._resetView(<span class="code-keyword">this</span>.unproject(<span class="code-keyword">this</span>.project(<span class="code-keyword">this</span>.getCenter()).add(offset)), <span class="code-keyword">this</span>.getZoom());
</code></td></tr><tr><td id="L3281" class="css-a4x74f"><span>3281</span></td><td id="LC3281" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3282" class="css-a4x74f"><span>3282</span></td><td id="LC3282" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3283" class="css-a4x74f"><span>3283</span></td><td id="LC3283" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3284" class="css-a4x74f"><span>3284</span></td><td id="LC3284" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._panAnim) {
</code></td></tr><tr><td id="L3285" class="css-a4x74f"><span>3285</span></td><td id="LC3285" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panAnim = <span class="code-keyword">new</span> PosAnimation();
</code></td></tr><tr><td id="L3286" class="css-a4x74f"><span>3286</span></td><td id="LC3286" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3287" class="css-a4x74f"><span>3287</span></td><td id="LC3287" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panAnim.on({
</code></td></tr><tr><td id="L3288" class="css-a4x74f"><span>3288</span></td><td id="LC3288" class="css-1dcdqdg"><code>				<span class="code-string">'step'</span>: <span class="code-keyword">this</span>._onPanTransitionStep,
</code></td></tr><tr><td id="L3289" class="css-a4x74f"><span>3289</span></td><td id="LC3289" class="css-1dcdqdg"><code>				<span class="code-string">'end'</span>: <span class="code-keyword">this</span>._onPanTransitionEnd
</code></td></tr><tr><td id="L3290" class="css-a4x74f"><span>3290</span></td><td id="LC3290" class="css-1dcdqdg"><code>			}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3291" class="css-a4x74f"><span>3291</span></td><td id="LC3291" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3292" class="css-a4x74f"><span>3292</span></td><td id="LC3292" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3293" class="css-a4x74f"><span>3293</span></td><td id="LC3293" class="css-1dcdqdg"><code>		<span class="code-comment">// don't fire movestart if animating inertia</span>
</code></td></tr><tr><td id="L3294" class="css-a4x74f"><span>3294</span></td><td id="LC3294" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!options.noMoveStart) {
</code></td></tr><tr><td id="L3295" class="css-a4x74f"><span>3295</span></td><td id="LC3295" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'movestart'</span>);
</code></td></tr><tr><td id="L3296" class="css-a4x74f"><span>3296</span></td><td id="LC3296" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3297" class="css-a4x74f"><span>3297</span></td><td id="LC3297" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3298" class="css-a4x74f"><span>3298</span></td><td id="LC3298" class="css-1dcdqdg"><code>		<span class="code-comment">// animate pan unless animate: false specified</span>
</code></td></tr><tr><td id="L3299" class="css-a4x74f"><span>3299</span></td><td id="LC3299" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.animate !== <span class="code-literal">false</span>) {
</code></td></tr><tr><td id="L3300" class="css-a4x74f"><span>3300</span></td><td id="LC3300" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._mapPane, <span class="code-string">'leaflet-pan-anim'</span>);
</code></td></tr><tr><td id="L3301" class="css-a4x74f"><span>3301</span></td><td id="LC3301" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3302" class="css-a4x74f"><span>3302</span></td><td id="LC3302" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> newPos = <span class="code-keyword">this</span>._getMapPanePos().subtract(offset).round();
</code></td></tr><tr><td id="L3303" class="css-a4x74f"><span>3303</span></td><td id="LC3303" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panAnim.run(<span class="code-keyword">this</span>._mapPane, newPos, options.duration || <span class="code-number">0.25</span>, options.easeLinearity);
</code></td></tr><tr><td id="L3304" class="css-a4x74f"><span>3304</span></td><td id="LC3304" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3305" class="css-a4x74f"><span>3305</span></td><td id="LC3305" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._rawPanBy(offset);
</code></td></tr><tr><td id="L3306" class="css-a4x74f"><span>3306</span></td><td id="LC3306" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>).fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L3307" class="css-a4x74f"><span>3307</span></td><td id="LC3307" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3308" class="css-a4x74f"><span>3308</span></td><td id="LC3308" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3309" class="css-a4x74f"><span>3309</span></td><td id="LC3309" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3310" class="css-a4x74f"><span>3310</span></td><td id="LC3310" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3311" class="css-a4x74f"><span>3311</span></td><td id="LC3311" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3312" class="css-a4x74f"><span>3312</span></td><td id="LC3312" class="css-1dcdqdg"><code>	<span class="code-comment">// @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this</span>
</code></td></tr><tr><td id="L3313" class="css-a4x74f"><span>3313</span></td><td id="LC3313" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the view of the map (geographical center and zoom) performing a smooth</span>
</code></td></tr><tr><td id="L3314" class="css-a4x74f"><span>3314</span></td><td id="LC3314" class="css-1dcdqdg"><code>	<span class="code-comment">// pan-zoom animation.</span>
</code></td></tr><tr><td id="L3315" class="css-a4x74f"><span>3315</span></td><td id="LC3315" class="css-1dcdqdg"><code>	flyTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">targetCenter, targetZoom, options</span>) </span>{
</code></td></tr><tr><td id="L3316" class="css-a4x74f"><span>3316</span></td><td id="LC3316" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3317" class="css-a4x74f"><span>3317</span></td><td id="LC3317" class="css-1dcdqdg"><code>		options = options || {};
</code></td></tr><tr><td id="L3318" class="css-a4x74f"><span>3318</span></td><td id="LC3318" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.animate === <span class="code-literal">false</span> || !Browser.any3d) {
</code></td></tr><tr><td id="L3319" class="css-a4x74f"><span>3319</span></td><td id="LC3319" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setView(targetCenter, targetZoom, options);
</code></td></tr><tr><td id="L3320" class="css-a4x74f"><span>3320</span></td><td id="LC3320" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3321" class="css-a4x74f"><span>3321</span></td><td id="LC3321" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3322" class="css-a4x74f"><span>3322</span></td><td id="LC3322" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._stop();
</code></td></tr><tr><td id="L3323" class="css-a4x74f"><span>3323</span></td><td id="LC3323" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3324" class="css-a4x74f"><span>3324</span></td><td id="LC3324" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> <span class="code-keyword">from</span> = <span class="code-keyword">this</span>.project(<span class="code-keyword">this</span>.getCenter()),
</code></td></tr><tr><td id="L3325" class="css-a4x74f"><span>3325</span></td><td id="LC3325" class="css-1dcdqdg"><code>		    to = <span class="code-keyword">this</span>.project(targetCenter),
</code></td></tr><tr><td id="L3326" class="css-a4x74f"><span>3326</span></td><td id="LC3326" class="css-1dcdqdg"><code>		    size = <span class="code-keyword">this</span>.getSize(),
</code></td></tr><tr><td id="L3327" class="css-a4x74f"><span>3327</span></td><td id="LC3327" class="css-1dcdqdg"><code>		    startZoom = <span class="code-keyword">this</span>._zoom;
</code></td></tr><tr><td id="L3328" class="css-a4x74f"><span>3328</span></td><td id="LC3328" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3329" class="css-a4x74f"><span>3329</span></td><td id="LC3329" class="css-1dcdqdg"><code>		targetCenter = toLatLng(targetCenter);
</code></td></tr><tr><td id="L3330" class="css-a4x74f"><span>3330</span></td><td id="LC3330" class="css-1dcdqdg"><code>		targetZoom = targetZoom === <span class="code-literal">undefined</span> ? startZoom : targetZoom;
</code></td></tr><tr><td id="L3331" class="css-a4x74f"><span>3331</span></td><td id="LC3331" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3332" class="css-a4x74f"><span>3332</span></td><td id="LC3332" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> w0 = <span class="code-built_in">Math</span>.max(size.x, size.y),
</code></td></tr><tr><td id="L3333" class="css-a4x74f"><span>3333</span></td><td id="LC3333" class="css-1dcdqdg"><code>		    w1 = w0 * <span class="code-keyword">this</span>.getZoomScale(startZoom, targetZoom),
</code></td></tr><tr><td id="L3334" class="css-a4x74f"><span>3334</span></td><td id="LC3334" class="css-1dcdqdg"><code>		    u1 = (to.distanceTo(<span class="code-keyword">from</span>)) || <span class="code-number">1</span>,
</code></td></tr><tr><td id="L3335" class="css-a4x74f"><span>3335</span></td><td id="LC3335" class="css-1dcdqdg"><code>		    rho = <span class="code-number">1.42</span>,
</code></td></tr><tr><td id="L3336" class="css-a4x74f"><span>3336</span></td><td id="LC3336" class="css-1dcdqdg"><code>		    rho2 = rho * rho;
</code></td></tr><tr><td id="L3337" class="css-a4x74f"><span>3337</span></td><td id="LC3337" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3338" class="css-a4x74f"><span>3338</span></td><td id="LC3338" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">i</span>) </span>{
</code></td></tr><tr><td id="L3339" class="css-a4x74f"><span>3339</span></td><td id="LC3339" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> s1 = i ? <span class="code-number">-1</span> : <span class="code-number">1</span>,
</code></td></tr><tr><td id="L3340" class="css-a4x74f"><span>3340</span></td><td id="LC3340" class="css-1dcdqdg"><code>			    s2 = i ? w1 : w0,
</code></td></tr><tr><td id="L3341" class="css-a4x74f"><span>3341</span></td><td id="LC3341" class="css-1dcdqdg"><code>			    t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1,
</code></td></tr><tr><td id="L3342" class="css-a4x74f"><span>3342</span></td><td id="LC3342" class="css-1dcdqdg"><code>			    b1 = <span class="code-number">2</span> * s2 * rho2 * u1,
</code></td></tr><tr><td id="L3343" class="css-a4x74f"><span>3343</span></td><td id="LC3343" class="css-1dcdqdg"><code>			    b = t1 / b1,
</code></td></tr><tr><td id="L3344" class="css-a4x74f"><span>3344</span></td><td id="LC3344" class="css-1dcdqdg"><code>			    sq = <span class="code-built_in">Math</span>.sqrt(b * b + <span class="code-number">1</span>) - b;
</code></td></tr><tr><td id="L3345" class="css-a4x74f"><span>3345</span></td><td id="LC3345" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3346" class="css-a4x74f"><span>3346</span></td><td id="LC3346" class="css-1dcdqdg"><code>			    <span class="code-comment">// workaround for floating point precision bug when sq = 0, log = -Infinite,</span>
</code></td></tr><tr><td id="L3347" class="css-a4x74f"><span>3347</span></td><td id="LC3347" class="css-1dcdqdg"><code>			    <span class="code-comment">// thus triggering an infinite loop in flyTo</span>
</code></td></tr><tr><td id="L3348" class="css-a4x74f"><span>3348</span></td><td id="LC3348" class="css-1dcdqdg"><code>			    <span class="code-keyword">var</span> log = sq &lt; <span class="code-number">0.000000001</span> ? <span class="code-number">-18</span> : <span class="code-built_in">Math</span>.log(sq);
</code></td></tr><tr><td id="L3349" class="css-a4x74f"><span>3349</span></td><td id="LC3349" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3350" class="css-a4x74f"><span>3350</span></td><td id="LC3350" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> log;
</code></td></tr><tr><td id="L3351" class="css-a4x74f"><span>3351</span></td><td id="LC3351" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3352" class="css-a4x74f"><span>3352</span></td><td id="LC3352" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3353" class="css-a4x74f"><span>3353</span></td><td id="LC3353" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sinh</span>(<span class="code-params">n</span>) </span>{ <span class="code-keyword">return</span> (<span class="code-built_in">Math</span>.exp(n) - <span class="code-built_in">Math</span>.exp(-n)) / <span class="code-number">2</span>; }
</code></td></tr><tr><td id="L3354" class="css-a4x74f"><span>3354</span></td><td id="LC3354" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cosh</span>(<span class="code-params">n</span>) </span>{ <span class="code-keyword">return</span> (<span class="code-built_in">Math</span>.exp(n) + <span class="code-built_in">Math</span>.exp(-n)) / <span class="code-number">2</span>; }
</code></td></tr><tr><td id="L3355" class="css-a4x74f"><span>3355</span></td><td id="LC3355" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tanh</span>(<span class="code-params">n</span>) </span>{ <span class="code-keyword">return</span> sinh(n) / cosh(n); }
</code></td></tr><tr><td id="L3356" class="css-a4x74f"><span>3356</span></td><td id="LC3356" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3357" class="css-a4x74f"><span>3357</span></td><td id="LC3357" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> r0 = r(<span class="code-number">0</span>);
</code></td></tr><tr><td id="L3358" class="css-a4x74f"><span>3358</span></td><td id="LC3358" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3359" class="css-a4x74f"><span>3359</span></td><td id="LC3359" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">s</span>) </span>{ <span class="code-keyword">return</span> w0 * (cosh(r0) / cosh(r0 + rho * s)); }
</code></td></tr><tr><td id="L3360" class="css-a4x74f"><span>3360</span></td><td id="LC3360" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">s</span>) </span>{ <span class="code-keyword">return</span> w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2; }
</code></td></tr><tr><td id="L3361" class="css-a4x74f"><span>3361</span></td><td id="LC3361" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3362" class="css-a4x74f"><span>3362</span></td><td id="LC3362" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">easeOut</span>(<span class="code-params">t</span>) </span>{ <span class="code-keyword">return</span> <span class="code-number">1</span> - <span class="code-built_in">Math</span>.pow(<span class="code-number">1</span> - t, <span class="code-number">1.5</span>); }
</code></td></tr><tr><td id="L3363" class="css-a4x74f"><span>3363</span></td><td id="LC3363" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3364" class="css-a4x74f"><span>3364</span></td><td id="LC3364" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> start = <span class="code-built_in">Date</span>.now(),
</code></td></tr><tr><td id="L3365" class="css-a4x74f"><span>3365</span></td><td id="LC3365" class="css-1dcdqdg"><code>		    S = (r(<span class="code-number">1</span>) - r0) / rho,
</code></td></tr><tr><td id="L3366" class="css-a4x74f"><span>3366</span></td><td id="LC3366" class="css-1dcdqdg"><code>		    duration = options.duration ? <span class="code-number">1000</span> * options.duration : <span class="code-number">1000</span> * S * <span class="code-number">0.8</span>;
</code></td></tr><tr><td id="L3367" class="css-a4x74f"><span>3367</span></td><td id="LC3367" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3368" class="css-a4x74f"><span>3368</span></td><td id="LC3368" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">frame</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3369" class="css-a4x74f"><span>3369</span></td><td id="LC3369" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> t = (<span class="code-built_in">Date</span>.now() - start) / duration,
</code></td></tr><tr><td id="L3370" class="css-a4x74f"><span>3370</span></td><td id="LC3370" class="css-1dcdqdg"><code>			    s = easeOut(t) * S;
</code></td></tr><tr><td id="L3371" class="css-a4x74f"><span>3371</span></td><td id="LC3371" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3372" class="css-a4x74f"><span>3372</span></td><td id="LC3372" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (t &lt;= <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L3373" class="css-a4x74f"><span>3373</span></td><td id="LC3373" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._flyToFrame = requestAnimFrame(frame, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3374" class="css-a4x74f"><span>3374</span></td><td id="LC3374" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3375" class="css-a4x74f"><span>3375</span></td><td id="LC3375" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._move(
</code></td></tr><tr><td id="L3376" class="css-a4x74f"><span>3376</span></td><td id="LC3376" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>.unproject(<span class="code-keyword">from</span>.add(to.subtract(<span class="code-keyword">from</span>).multiplyBy(u(s) / u1)), startZoom),
</code></td></tr><tr><td id="L3377" class="css-a4x74f"><span>3377</span></td><td id="LC3377" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>.getScaleZoom(w0 / w(s), startZoom),
</code></td></tr><tr><td id="L3378" class="css-a4x74f"><span>3378</span></td><td id="LC3378" class="css-1dcdqdg"><code>					{<span class="code-attr">flyTo</span>: <span class="code-literal">true</span>});
</code></td></tr><tr><td id="L3379" class="css-a4x74f"><span>3379</span></td><td id="LC3379" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3380" class="css-a4x74f"><span>3380</span></td><td id="LC3380" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3381" class="css-a4x74f"><span>3381</span></td><td id="LC3381" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>
</code></td></tr><tr><td id="L3382" class="css-a4x74f"><span>3382</span></td><td id="LC3382" class="css-1dcdqdg"><code>					._move(targetCenter, targetZoom)
</code></td></tr><tr><td id="L3383" class="css-a4x74f"><span>3383</span></td><td id="LC3383" class="css-1dcdqdg"><code>					._moveEnd(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L3384" class="css-a4x74f"><span>3384</span></td><td id="LC3384" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3385" class="css-a4x74f"><span>3385</span></td><td id="LC3385" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3386" class="css-a4x74f"><span>3386</span></td><td id="LC3386" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3387" class="css-a4x74f"><span>3387</span></td><td id="LC3387" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moveStart(<span class="code-literal">true</span>, options.noMoveStart);
</code></td></tr><tr><td id="L3388" class="css-a4x74f"><span>3388</span></td><td id="LC3388" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3389" class="css-a4x74f"><span>3389</span></td><td id="LC3389" class="css-1dcdqdg"><code>		frame.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3390" class="css-a4x74f"><span>3390</span></td><td id="LC3390" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3391" class="css-a4x74f"><span>3391</span></td><td id="LC3391" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3392" class="css-a4x74f"><span>3392</span></td><td id="LC3392" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3393" class="css-a4x74f"><span>3393</span></td><td id="LC3393" class="css-1dcdqdg"><code>	<span class="code-comment">// @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this</span>
</code></td></tr><tr><td id="L3394" class="css-a4x74f"><span>3394</span></td><td id="LC3394" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),</span>
</code></td></tr><tr><td id="L3395" class="css-a4x74f"><span>3395</span></td><td id="LC3395" class="css-1dcdqdg"><code>	<span class="code-comment">// but takes a bounds parameter like [`fitBounds`](#map-fitbounds).</span>
</code></td></tr><tr><td id="L3396" class="css-a4x74f"><span>3396</span></td><td id="LC3396" class="css-1dcdqdg"><code>	flyToBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds, options</span>) </span>{
</code></td></tr><tr><td id="L3397" class="css-a4x74f"><span>3397</span></td><td id="LC3397" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> target = <span class="code-keyword">this</span>._getBoundsCenterZoom(bounds, options);
</code></td></tr><tr><td id="L3398" class="css-a4x74f"><span>3398</span></td><td id="LC3398" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.flyTo(target.center, target.zoom, options);
</code></td></tr><tr><td id="L3399" class="css-a4x74f"><span>3399</span></td><td id="LC3399" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3400" class="css-a4x74f"><span>3400</span></td><td id="LC3400" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3401" class="css-a4x74f"><span>3401</span></td><td id="LC3401" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setMaxBounds(bounds: LatLngBounds): this</span>
</code></td></tr><tr><td id="L3402" class="css-a4x74f"><span>3402</span></td><td id="LC3402" class="css-1dcdqdg"><code>	<span class="code-comment">// Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).</span>
</code></td></tr><tr><td id="L3403" class="css-a4x74f"><span>3403</span></td><td id="LC3403" class="css-1dcdqdg"><code>	setMaxBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{
</code></td></tr><tr><td id="L3404" class="css-a4x74f"><span>3404</span></td><td id="LC3404" class="css-1dcdqdg"><code>		bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L3405" class="css-a4x74f"><span>3405</span></td><td id="LC3405" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3406" class="css-a4x74f"><span>3406</span></td><td id="LC3406" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!bounds.isValid()) {
</code></td></tr><tr><td id="L3407" class="css-a4x74f"><span>3407</span></td><td id="LC3407" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.options.maxBounds = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L3408" class="css-a4x74f"><span>3408</span></td><td id="LC3408" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>.off(<span class="code-string">'moveend'</span>, <span class="code-keyword">this</span>._panInsideMaxBounds);
</code></td></tr><tr><td id="L3409" class="css-a4x74f"><span>3409</span></td><td id="LC3409" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.maxBounds) {
</code></td></tr><tr><td id="L3410" class="css-a4x74f"><span>3410</span></td><td id="LC3410" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.off(<span class="code-string">'moveend'</span>, <span class="code-keyword">this</span>._panInsideMaxBounds);
</code></td></tr><tr><td id="L3411" class="css-a4x74f"><span>3411</span></td><td id="LC3411" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3412" class="css-a4x74f"><span>3412</span></td><td id="LC3412" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3413" class="css-a4x74f"><span>3413</span></td><td id="LC3413" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.maxBounds = bounds;
</code></td></tr><tr><td id="L3414" class="css-a4x74f"><span>3414</span></td><td id="LC3414" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3415" class="css-a4x74f"><span>3415</span></td><td id="LC3415" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L3416" class="css-a4x74f"><span>3416</span></td><td id="LC3416" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panInsideMaxBounds();
</code></td></tr><tr><td id="L3417" class="css-a4x74f"><span>3417</span></td><td id="LC3417" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3418" class="css-a4x74f"><span>3418</span></td><td id="LC3418" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3419" class="css-a4x74f"><span>3419</span></td><td id="LC3419" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.on(<span class="code-string">'moveend'</span>, <span class="code-keyword">this</span>._panInsideMaxBounds);
</code></td></tr><tr><td id="L3420" class="css-a4x74f"><span>3420</span></td><td id="LC3420" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3421" class="css-a4x74f"><span>3421</span></td><td id="LC3421" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3422" class="css-a4x74f"><span>3422</span></td><td id="LC3422" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setMinZoom(zoom: Number): this</span>
</code></td></tr><tr><td id="L3423" class="css-a4x74f"><span>3423</span></td><td id="LC3423" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).</span>
</code></td></tr><tr><td id="L3424" class="css-a4x74f"><span>3424</span></td><td id="LC3424" class="css-1dcdqdg"><code>	setMinZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L3425" class="css-a4x74f"><span>3425</span></td><td id="LC3425" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> oldZoom = <span class="code-keyword">this</span>.options.minZoom;
</code></td></tr><tr><td id="L3426" class="css-a4x74f"><span>3426</span></td><td id="LC3426" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.minZoom = zoom;
</code></td></tr><tr><td id="L3427" class="css-a4x74f"><span>3427</span></td><td id="LC3427" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3428" class="css-a4x74f"><span>3428</span></td><td id="LC3428" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded &amp;&amp; oldZoom !== zoom) {
</code></td></tr><tr><td id="L3429" class="css-a4x74f"><span>3429</span></td><td id="LC3429" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoomlevelschange'</span>);
</code></td></tr><tr><td id="L3430" class="css-a4x74f"><span>3430</span></td><td id="LC3430" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3431" class="css-a4x74f"><span>3431</span></td><td id="LC3431" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.getZoom() &lt; <span class="code-keyword">this</span>.options.minZoom) {
</code></td></tr><tr><td id="L3432" class="css-a4x74f"><span>3432</span></td><td id="LC3432" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setZoom(zoom);
</code></td></tr><tr><td id="L3433" class="css-a4x74f"><span>3433</span></td><td id="LC3433" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3434" class="css-a4x74f"><span>3434</span></td><td id="LC3434" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3435" class="css-a4x74f"><span>3435</span></td><td id="LC3435" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3436" class="css-a4x74f"><span>3436</span></td><td id="LC3436" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3437" class="css-a4x74f"><span>3437</span></td><td id="LC3437" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3438" class="css-a4x74f"><span>3438</span></td><td id="LC3438" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3439" class="css-a4x74f"><span>3439</span></td><td id="LC3439" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setMaxZoom(zoom: Number): this</span>
</code></td></tr><tr><td id="L3440" class="css-a4x74f"><span>3440</span></td><td id="LC3440" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).</span>
</code></td></tr><tr><td id="L3441" class="css-a4x74f"><span>3441</span></td><td id="LC3441" class="css-1dcdqdg"><code>	setMaxZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L3442" class="css-a4x74f"><span>3442</span></td><td id="LC3442" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> oldZoom = <span class="code-keyword">this</span>.options.maxZoom;
</code></td></tr><tr><td id="L3443" class="css-a4x74f"><span>3443</span></td><td id="LC3443" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.maxZoom = zoom;
</code></td></tr><tr><td id="L3444" class="css-a4x74f"><span>3444</span></td><td id="LC3444" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3445" class="css-a4x74f"><span>3445</span></td><td id="LC3445" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded &amp;&amp; oldZoom !== zoom) {
</code></td></tr><tr><td id="L3446" class="css-a4x74f"><span>3446</span></td><td id="LC3446" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoomlevelschange'</span>);
</code></td></tr><tr><td id="L3447" class="css-a4x74f"><span>3447</span></td><td id="LC3447" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3448" class="css-a4x74f"><span>3448</span></td><td id="LC3448" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.getZoom() &gt; <span class="code-keyword">this</span>.options.maxZoom) {
</code></td></tr><tr><td id="L3449" class="css-a4x74f"><span>3449</span></td><td id="LC3449" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setZoom(zoom);
</code></td></tr><tr><td id="L3450" class="css-a4x74f"><span>3450</span></td><td id="LC3450" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3451" class="css-a4x74f"><span>3451</span></td><td id="LC3451" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3452" class="css-a4x74f"><span>3452</span></td><td id="LC3452" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3453" class="css-a4x74f"><span>3453</span></td><td id="LC3453" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3454" class="css-a4x74f"><span>3454</span></td><td id="LC3454" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3455" class="css-a4x74f"><span>3455</span></td><td id="LC3455" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3456" class="css-a4x74f"><span>3456</span></td><td id="LC3456" class="css-1dcdqdg"><code>	<span class="code-comment">// @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this</span>
</code></td></tr><tr><td id="L3457" class="css-a4x74f"><span>3457</span></td><td id="LC3457" class="css-1dcdqdg"><code>	<span class="code-comment">// Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.</span>
</code></td></tr><tr><td id="L3458" class="css-a4x74f"><span>3458</span></td><td id="LC3458" class="css-1dcdqdg"><code>	panInsideBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds, options</span>) </span>{
</code></td></tr><tr><td id="L3459" class="css-a4x74f"><span>3459</span></td><td id="LC3459" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._enforcingBounds = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3460" class="css-a4x74f"><span>3460</span></td><td id="LC3460" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> center = <span class="code-keyword">this</span>.getCenter(),
</code></td></tr><tr><td id="L3461" class="css-a4x74f"><span>3461</span></td><td id="LC3461" class="css-1dcdqdg"><code>		    newCenter = <span class="code-keyword">this</span>._limitCenter(center, <span class="code-keyword">this</span>._zoom, toLatLngBounds(bounds));
</code></td></tr><tr><td id="L3462" class="css-a4x74f"><span>3462</span></td><td id="LC3462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3463" class="css-a4x74f"><span>3463</span></td><td id="LC3463" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!center.equals(newCenter)) {
</code></td></tr><tr><td id="L3464" class="css-a4x74f"><span>3464</span></td><td id="LC3464" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.panTo(newCenter, options);
</code></td></tr><tr><td id="L3465" class="css-a4x74f"><span>3465</span></td><td id="LC3465" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3466" class="css-a4x74f"><span>3466</span></td><td id="LC3466" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3467" class="css-a4x74f"><span>3467</span></td><td id="LC3467" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._enforcingBounds = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3468" class="css-a4x74f"><span>3468</span></td><td id="LC3468" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3469" class="css-a4x74f"><span>3469</span></td><td id="LC3469" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3470" class="css-a4x74f"><span>3470</span></td><td id="LC3470" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3471" class="css-a4x74f"><span>3471</span></td><td id="LC3471" class="css-1dcdqdg"><code>	<span class="code-comment">// @method panInside(latlng: LatLng, options?: padding options): this</span>
</code></td></tr><tr><td id="L3472" class="css-a4x74f"><span>3472</span></td><td id="LC3472" class="css-1dcdqdg"><code>	<span class="code-comment">// Pans the map the minimum amount to make the `latlng` visible. Use</span>
</code></td></tr><tr><td id="L3473" class="css-a4x74f"><span>3473</span></td><td id="LC3473" class="css-1dcdqdg"><code>	<span class="code-comment">// padding options to fit the display to more restricted bounds.</span>
</code></td></tr><tr><td id="L3474" class="css-a4x74f"><span>3474</span></td><td id="LC3474" class="css-1dcdqdg"><code>	<span class="code-comment">// If `latlng` is already within the (optionally padded) display bounds,</span>
</code></td></tr><tr><td id="L3475" class="css-a4x74f"><span>3475</span></td><td id="LC3475" class="css-1dcdqdg"><code>	<span class="code-comment">// the map will not be panned.</span>
</code></td></tr><tr><td id="L3476" class="css-a4x74f"><span>3476</span></td><td id="LC3476" class="css-1dcdqdg"><code>	panInside: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, options</span>) </span>{
</code></td></tr><tr><td id="L3477" class="css-a4x74f"><span>3477</span></td><td id="LC3477" class="css-1dcdqdg"><code>		options = options || {};
</code></td></tr><tr><td id="L3478" class="css-a4x74f"><span>3478</span></td><td id="LC3478" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3479" class="css-a4x74f"><span>3479</span></td><td id="LC3479" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> paddingTL = toPoint(options.paddingTopLeft || options.padding || [<span class="code-number">0</span>, <span class="code-number">0</span>]),
</code></td></tr><tr><td id="L3480" class="css-a4x74f"><span>3480</span></td><td id="LC3480" class="css-1dcdqdg"><code>		    paddingBR = toPoint(options.paddingBottomRight || options.padding || [<span class="code-number">0</span>, <span class="code-number">0</span>]),
</code></td></tr><tr><td id="L3481" class="css-a4x74f"><span>3481</span></td><td id="LC3481" class="css-1dcdqdg"><code>		    pixelCenter = <span class="code-keyword">this</span>.project(<span class="code-keyword">this</span>.getCenter()),
</code></td></tr><tr><td id="L3482" class="css-a4x74f"><span>3482</span></td><td id="LC3482" class="css-1dcdqdg"><code>		    pixelPoint = <span class="code-keyword">this</span>.project(latlng),
</code></td></tr><tr><td id="L3483" class="css-a4x74f"><span>3483</span></td><td id="LC3483" class="css-1dcdqdg"><code>		    pixelBounds = <span class="code-keyword">this</span>.getPixelBounds(),
</code></td></tr><tr><td id="L3484" class="css-a4x74f"><span>3484</span></td><td id="LC3484" class="css-1dcdqdg"><code>		    paddedBounds = toBounds([pixelBounds.min.add(paddingTL), pixelBounds.max.subtract(paddingBR)]),
</code></td></tr><tr><td id="L3485" class="css-a4x74f"><span>3485</span></td><td id="LC3485" class="css-1dcdqdg"><code>		    paddedSize = paddedBounds.getSize();
</code></td></tr><tr><td id="L3486" class="css-a4x74f"><span>3486</span></td><td id="LC3486" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3487" class="css-a4x74f"><span>3487</span></td><td id="LC3487" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!paddedBounds.contains(pixelPoint)) {
</code></td></tr><tr><td id="L3488" class="css-a4x74f"><span>3488</span></td><td id="LC3488" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._enforcingBounds = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3489" class="css-a4x74f"><span>3489</span></td><td id="LC3489" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> centerOffset = pixelPoint.subtract(paddedBounds.getCenter());
</code></td></tr><tr><td id="L3490" class="css-a4x74f"><span>3490</span></td><td id="LC3490" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> offset = paddedBounds.extend(pixelPoint).getSize().subtract(paddedSize);
</code></td></tr><tr><td id="L3491" class="css-a4x74f"><span>3491</span></td><td id="LC3491" class="css-1dcdqdg"><code>			pixelCenter.x += centerOffset.x &lt; <span class="code-number">0</span> ? -offset.x : offset.x;
</code></td></tr><tr><td id="L3492" class="css-a4x74f"><span>3492</span></td><td id="LC3492" class="css-1dcdqdg"><code>			pixelCenter.y += centerOffset.y &lt; <span class="code-number">0</span> ? -offset.y : offset.y;
</code></td></tr><tr><td id="L3493" class="css-a4x74f"><span>3493</span></td><td id="LC3493" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.panTo(<span class="code-keyword">this</span>.unproject(pixelCenter), options);
</code></td></tr><tr><td id="L3494" class="css-a4x74f"><span>3494</span></td><td id="LC3494" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._enforcingBounds = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3495" class="css-a4x74f"><span>3495</span></td><td id="LC3495" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3496" class="css-a4x74f"><span>3496</span></td><td id="LC3496" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3497" class="css-a4x74f"><span>3497</span></td><td id="LC3497" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3498" class="css-a4x74f"><span>3498</span></td><td id="LC3498" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3499" class="css-a4x74f"><span>3499</span></td><td id="LC3499" class="css-1dcdqdg"><code>	<span class="code-comment">// @method invalidateSize(options: Zoom/pan options): this</span>
</code></td></tr><tr><td id="L3500" class="css-a4x74f"><span>3500</span></td><td id="LC3500" class="css-1dcdqdg"><code>	<span class="code-comment">// Checks if the map container size changed and updates the map if so </span>
</code></td></tr><tr><td id="L3501" class="css-a4x74f"><span>3501</span></td><td id="LC3501" class="css-1dcdqdg"><code>	<span class="code-comment">// call it after you've changed the map size dynamically, also animating</span>
</code></td></tr><tr><td id="L3502" class="css-a4x74f"><span>3502</span></td><td id="LC3502" class="css-1dcdqdg"><code>	<span class="code-comment">// pan by default. If `options.pan` is `false`, panning will not occur.</span>
</code></td></tr><tr><td id="L3503" class="css-a4x74f"><span>3503</span></td><td id="LC3503" class="css-1dcdqdg"><code>	<span class="code-comment">// If `options.debounceMoveend` is `true`, it will delay `moveend` event so</span>
</code></td></tr><tr><td id="L3504" class="css-a4x74f"><span>3504</span></td><td id="LC3504" class="css-1dcdqdg"><code>	<span class="code-comment">// that it doesn't happen often even if the method is called many</span>
</code></td></tr><tr><td id="L3505" class="css-a4x74f"><span>3505</span></td><td id="LC3505" class="css-1dcdqdg"><code>	<span class="code-comment">// times in a row.</span>
</code></td></tr><tr><td id="L3506" class="css-a4x74f"><span>3506</span></td><td id="LC3506" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3507" class="css-a4x74f"><span>3507</span></td><td id="LC3507" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L3508" class="css-a4x74f"><span>3508</span></td><td id="LC3508" class="css-1dcdqdg"><code>	<span class="code-comment">// @method invalidateSize(animate: Boolean): this</span>
</code></td></tr><tr><td id="L3509" class="css-a4x74f"><span>3509</span></td><td id="LC3509" class="css-1dcdqdg"><code>	<span class="code-comment">// Checks if the map container size changed and updates the map if so </span>
</code></td></tr><tr><td id="L3510" class="css-a4x74f"><span>3510</span></td><td id="LC3510" class="css-1dcdqdg"><code>	<span class="code-comment">// call it after you've changed the map size dynamically, also animating</span>
</code></td></tr><tr><td id="L3511" class="css-a4x74f"><span>3511</span></td><td id="LC3511" class="css-1dcdqdg"><code>	<span class="code-comment">// pan by default.</span>
</code></td></tr><tr><td id="L3512" class="css-a4x74f"><span>3512</span></td><td id="LC3512" class="css-1dcdqdg"><code>	invalidateSize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L3513" class="css-a4x74f"><span>3513</span></td><td id="LC3513" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._loaded) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L3514" class="css-a4x74f"><span>3514</span></td><td id="LC3514" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3515" class="css-a4x74f"><span>3515</span></td><td id="LC3515" class="css-1dcdqdg"><code>		options = extend({
</code></td></tr><tr><td id="L3516" class="css-a4x74f"><span>3516</span></td><td id="LC3516" class="css-1dcdqdg"><code>			animate: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L3517" class="css-a4x74f"><span>3517</span></td><td id="LC3517" class="css-1dcdqdg"><code>			pan: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L3518" class="css-a4x74f"><span>3518</span></td><td id="LC3518" class="css-1dcdqdg"><code>		}, options === <span class="code-literal">true</span> ? {<span class="code-attr">animate</span>: <span class="code-literal">true</span>} : options);
</code></td></tr><tr><td id="L3519" class="css-a4x74f"><span>3519</span></td><td id="LC3519" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3520" class="css-a4x74f"><span>3520</span></td><td id="LC3520" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> oldSize = <span class="code-keyword">this</span>.getSize();
</code></td></tr><tr><td id="L3521" class="css-a4x74f"><span>3521</span></td><td id="LC3521" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._sizeChanged = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L3522" class="css-a4x74f"><span>3522</span></td><td id="LC3522" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._lastCenter = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L3523" class="css-a4x74f"><span>3523</span></td><td id="LC3523" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3524" class="css-a4x74f"><span>3524</span></td><td id="LC3524" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> newSize = <span class="code-keyword">this</span>.getSize(),
</code></td></tr><tr><td id="L3525" class="css-a4x74f"><span>3525</span></td><td id="LC3525" class="css-1dcdqdg"><code>		    oldCenter = oldSize.divideBy(<span class="code-number">2</span>).round(),
</code></td></tr><tr><td id="L3526" class="css-a4x74f"><span>3526</span></td><td id="LC3526" class="css-1dcdqdg"><code>		    newCenter = newSize.divideBy(<span class="code-number">2</span>).round(),
</code></td></tr><tr><td id="L3527" class="css-a4x74f"><span>3527</span></td><td id="LC3527" class="css-1dcdqdg"><code>		    offset = oldCenter.subtract(newCenter);
</code></td></tr><tr><td id="L3528" class="css-a4x74f"><span>3528</span></td><td id="LC3528" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3529" class="css-a4x74f"><span>3529</span></td><td id="LC3529" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!offset.x &amp;&amp; !offset.y) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L3530" class="css-a4x74f"><span>3530</span></td><td id="LC3530" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3531" class="css-a4x74f"><span>3531</span></td><td id="LC3531" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.animate &amp;&amp; options.pan) {
</code></td></tr><tr><td id="L3532" class="css-a4x74f"><span>3532</span></td><td id="LC3532" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.panBy(offset);
</code></td></tr><tr><td id="L3533" class="css-a4x74f"><span>3533</span></td><td id="LC3533" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3534" class="css-a4x74f"><span>3534</span></td><td id="LC3534" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3535" class="css-a4x74f"><span>3535</span></td><td id="LC3535" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.pan) {
</code></td></tr><tr><td id="L3536" class="css-a4x74f"><span>3536</span></td><td id="LC3536" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._rawPanBy(offset);
</code></td></tr><tr><td id="L3537" class="css-a4x74f"><span>3537</span></td><td id="LC3537" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3538" class="css-a4x74f"><span>3538</span></td><td id="LC3538" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3539" class="css-a4x74f"><span>3539</span></td><td id="LC3539" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>);
</code></td></tr><tr><td id="L3540" class="css-a4x74f"><span>3540</span></td><td id="LC3540" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3541" class="css-a4x74f"><span>3541</span></td><td id="LC3541" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.debounceMoveend) {
</code></td></tr><tr><td id="L3542" class="css-a4x74f"><span>3542</span></td><td id="LC3542" class="css-1dcdqdg"><code>				clearTimeout(<span class="code-keyword">this</span>._sizeTimer);
</code></td></tr><tr><td id="L3543" class="css-a4x74f"><span>3543</span></td><td id="LC3543" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._sizeTimer = setTimeout(bind(<span class="code-keyword">this</span>.fire, <span class="code-keyword">this</span>, <span class="code-string">'moveend'</span>), <span class="code-number">200</span>);
</code></td></tr><tr><td id="L3544" class="css-a4x74f"><span>3544</span></td><td id="LC3544" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3545" class="css-a4x74f"><span>3545</span></td><td id="LC3545" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L3546" class="css-a4x74f"><span>3546</span></td><td id="LC3546" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3547" class="css-a4x74f"><span>3547</span></td><td id="LC3547" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3548" class="css-a4x74f"><span>3548</span></td><td id="LC3548" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3549" class="css-a4x74f"><span>3549</span></td><td id="LC3549" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Map state change events</span>
</code></td></tr><tr><td id="L3550" class="css-a4x74f"><span>3550</span></td><td id="LC3550" class="css-1dcdqdg"><code>		<span class="code-comment">// @event resize: ResizeEvent</span>
</code></td></tr><tr><td id="L3551" class="css-a4x74f"><span>3551</span></td><td id="LC3551" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the map is resized.</span>
</code></td></tr><tr><td id="L3552" class="css-a4x74f"><span>3552</span></td><td id="LC3552" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'resize'</span>, {
</code></td></tr><tr><td id="L3553" class="css-a4x74f"><span>3553</span></td><td id="LC3553" class="css-1dcdqdg"><code>			oldSize: oldSize,
</code></td></tr><tr><td id="L3554" class="css-a4x74f"><span>3554</span></td><td id="LC3554" class="css-1dcdqdg"><code>			newSize: newSize
</code></td></tr><tr><td id="L3555" class="css-a4x74f"><span>3555</span></td><td id="LC3555" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L3556" class="css-a4x74f"><span>3556</span></td><td id="LC3556" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3557" class="css-a4x74f"><span>3557</span></td><td id="LC3557" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3558" class="css-a4x74f"><span>3558</span></td><td id="LC3558" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Methods for modifying map state</span>
</code></td></tr><tr><td id="L3559" class="css-a4x74f"><span>3559</span></td><td id="LC3559" class="css-1dcdqdg"><code>	<span class="code-comment">// @method stop(): this</span>
</code></td></tr><tr><td id="L3560" class="css-a4x74f"><span>3560</span></td><td id="LC3560" class="css-1dcdqdg"><code>	<span class="code-comment">// Stops the currently running `panTo` or `flyTo` animation, if any.</span>
</code></td></tr><tr><td id="L3561" class="css-a4x74f"><span>3561</span></td><td id="LC3561" class="css-1dcdqdg"><code>	stop: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3562" class="css-a4x74f"><span>3562</span></td><td id="LC3562" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.setZoom(<span class="code-keyword">this</span>._limitZoom(<span class="code-keyword">this</span>._zoom));
</code></td></tr><tr><td id="L3563" class="css-a4x74f"><span>3563</span></td><td id="LC3563" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.zoomSnap) {
</code></td></tr><tr><td id="L3564" class="css-a4x74f"><span>3564</span></td><td id="LC3564" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'viewreset'</span>);
</code></td></tr><tr><td id="L3565" class="css-a4x74f"><span>3565</span></td><td id="LC3565" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3566" class="css-a4x74f"><span>3566</span></td><td id="LC3566" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._stop();
</code></td></tr><tr><td id="L3567" class="css-a4x74f"><span>3567</span></td><td id="LC3567" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3568" class="css-a4x74f"><span>3568</span></td><td id="LC3568" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3569" class="css-a4x74f"><span>3569</span></td><td id="LC3569" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Geolocation methods</span>
</code></td></tr><tr><td id="L3570" class="css-a4x74f"><span>3570</span></td><td id="LC3570" class="css-1dcdqdg"><code>	<span class="code-comment">// @method locate(options?: Locate options): this</span>
</code></td></tr><tr><td id="L3571" class="css-a4x74f"><span>3571</span></td><td id="LC3571" class="css-1dcdqdg"><code>	<span class="code-comment">// Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)</span>
</code></td></tr><tr><td id="L3572" class="css-a4x74f"><span>3572</span></td><td id="LC3572" class="css-1dcdqdg"><code>	<span class="code-comment">// event with location data on success or a [`locationerror`](#map-locationerror) event on failure,</span>
</code></td></tr><tr><td id="L3573" class="css-a4x74f"><span>3573</span></td><td id="LC3573" class="css-1dcdqdg"><code>	<span class="code-comment">// and optionally sets the map view to the user's location with respect to</span>
</code></td></tr><tr><td id="L3574" class="css-a4x74f"><span>3574</span></td><td id="LC3574" class="css-1dcdqdg"><code>	<span class="code-comment">// detection accuracy (or to the world view if geolocation failed).</span>
</code></td></tr><tr><td id="L3575" class="css-a4x74f"><span>3575</span></td><td id="LC3575" class="css-1dcdqdg"><code>	<span class="code-comment">// Note that, if your page doesn't use HTTPS, this method will fail in</span>
</code></td></tr><tr><td id="L3576" class="css-a4x74f"><span>3576</span></td><td id="LC3576" class="css-1dcdqdg"><code>	<span class="code-comment">// modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))</span>
</code></td></tr><tr><td id="L3577" class="css-a4x74f"><span>3577</span></td><td id="LC3577" class="css-1dcdqdg"><code>	<span class="code-comment">// See `Locate options` for more details.</span>
</code></td></tr><tr><td id="L3578" class="css-a4x74f"><span>3578</span></td><td id="LC3578" class="css-1dcdqdg"><code>	locate: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L3579" class="css-a4x74f"><span>3579</span></td><td id="LC3579" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3580" class="css-a4x74f"><span>3580</span></td><td id="LC3580" class="css-1dcdqdg"><code>		options = <span class="code-keyword">this</span>._locateOptions = extend({
</code></td></tr><tr><td id="L3581" class="css-a4x74f"><span>3581</span></td><td id="LC3581" class="css-1dcdqdg"><code>			timeout: <span class="code-number">10000</span>,
</code></td></tr><tr><td id="L3582" class="css-a4x74f"><span>3582</span></td><td id="LC3582" class="css-1dcdqdg"><code>			watch: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L3583" class="css-a4x74f"><span>3583</span></td><td id="LC3583" class="css-1dcdqdg"><code>			<span class="code-comment">// setView: false</span>
</code></td></tr><tr><td id="L3584" class="css-a4x74f"><span>3584</span></td><td id="LC3584" class="css-1dcdqdg"><code>			<span class="code-comment">// maxZoom: &lt;Number&gt;</span>
</code></td></tr><tr><td id="L3585" class="css-a4x74f"><span>3585</span></td><td id="LC3585" class="css-1dcdqdg"><code>			<span class="code-comment">// maximumAge: 0</span>
</code></td></tr><tr><td id="L3586" class="css-a4x74f"><span>3586</span></td><td id="LC3586" class="css-1dcdqdg"><code>			<span class="code-comment">// enableHighAccuracy: false</span>
</code></td></tr><tr><td id="L3587" class="css-a4x74f"><span>3587</span></td><td id="LC3587" class="css-1dcdqdg"><code>		}, options);
</code></td></tr><tr><td id="L3588" class="css-a4x74f"><span>3588</span></td><td id="LC3588" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3589" class="css-a4x74f"><span>3589</span></td><td id="LC3589" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!(<span class="code-string">'geolocation'</span> <span class="code-keyword">in</span> navigator)) {
</code></td></tr><tr><td id="L3590" class="css-a4x74f"><span>3590</span></td><td id="LC3590" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._handleGeolocationError({
</code></td></tr><tr><td id="L3591" class="css-a4x74f"><span>3591</span></td><td id="LC3591" class="css-1dcdqdg"><code>				code: <span class="code-number">0</span>,
</code></td></tr><tr><td id="L3592" class="css-a4x74f"><span>3592</span></td><td id="LC3592" class="css-1dcdqdg"><code>				message: <span class="code-string">'Geolocation not supported.'</span>
</code></td></tr><tr><td id="L3593" class="css-a4x74f"><span>3593</span></td><td id="LC3593" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L3594" class="css-a4x74f"><span>3594</span></td><td id="LC3594" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3595" class="css-a4x74f"><span>3595</span></td><td id="LC3595" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3596" class="css-a4x74f"><span>3596</span></td><td id="LC3596" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3597" class="css-a4x74f"><span>3597</span></td><td id="LC3597" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> onResponse = bind(<span class="code-keyword">this</span>._handleGeolocationResponse, <span class="code-keyword">this</span>),
</code></td></tr><tr><td id="L3598" class="css-a4x74f"><span>3598</span></td><td id="LC3598" class="css-1dcdqdg"><code>		    onError = bind(<span class="code-keyword">this</span>._handleGeolocationError, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3599" class="css-a4x74f"><span>3599</span></td><td id="LC3599" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3600" class="css-a4x74f"><span>3600</span></td><td id="LC3600" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.watch) {
</code></td></tr><tr><td id="L3601" class="css-a4x74f"><span>3601</span></td><td id="LC3601" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._locationWatchId =
</code></td></tr><tr><td id="L3602" class="css-a4x74f"><span>3602</span></td><td id="LC3602" class="css-1dcdqdg"><code>			        navigator.geolocation.watchPosition(onResponse, onError, options);
</code></td></tr><tr><td id="L3603" class="css-a4x74f"><span>3603</span></td><td id="LC3603" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L3604" class="css-a4x74f"><span>3604</span></td><td id="LC3604" class="css-1dcdqdg"><code>			navigator.geolocation.getCurrentPosition(onResponse, onError, options);
</code></td></tr><tr><td id="L3605" class="css-a4x74f"><span>3605</span></td><td id="LC3605" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3606" class="css-a4x74f"><span>3606</span></td><td id="LC3606" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3607" class="css-a4x74f"><span>3607</span></td><td id="LC3607" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3608" class="css-a4x74f"><span>3608</span></td><td id="LC3608" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3609" class="css-a4x74f"><span>3609</span></td><td id="LC3609" class="css-1dcdqdg"><code>	<span class="code-comment">// @method stopLocate(): this</span>
</code></td></tr><tr><td id="L3610" class="css-a4x74f"><span>3610</span></td><td id="LC3610" class="css-1dcdqdg"><code>	<span class="code-comment">// Stops watching location previously initiated by `map.locate({watch: true})`</span>
</code></td></tr><tr><td id="L3611" class="css-a4x74f"><span>3611</span></td><td id="LC3611" class="css-1dcdqdg"><code>	<span class="code-comment">// and aborts resetting the map view if map.locate was called with</span>
</code></td></tr><tr><td id="L3612" class="css-a4x74f"><span>3612</span></td><td id="LC3612" class="css-1dcdqdg"><code>	<span class="code-comment">// `{setView: true}`.</span>
</code></td></tr><tr><td id="L3613" class="css-a4x74f"><span>3613</span></td><td id="LC3613" class="css-1dcdqdg"><code>	stopLocate: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3614" class="css-a4x74f"><span>3614</span></td><td id="LC3614" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (navigator.geolocation &amp;&amp; navigator.geolocation.clearWatch) {
</code></td></tr><tr><td id="L3615" class="css-a4x74f"><span>3615</span></td><td id="LC3615" class="css-1dcdqdg"><code>			navigator.geolocation.clearWatch(<span class="code-keyword">this</span>._locationWatchId);
</code></td></tr><tr><td id="L3616" class="css-a4x74f"><span>3616</span></td><td id="LC3616" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3617" class="css-a4x74f"><span>3617</span></td><td id="LC3617" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._locateOptions) {
</code></td></tr><tr><td id="L3618" class="css-a4x74f"><span>3618</span></td><td id="LC3618" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._locateOptions.setView = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3619" class="css-a4x74f"><span>3619</span></td><td id="LC3619" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3620" class="css-a4x74f"><span>3620</span></td><td id="LC3620" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3621" class="css-a4x74f"><span>3621</span></td><td id="LC3621" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3622" class="css-a4x74f"><span>3622</span></td><td id="LC3622" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3623" class="css-a4x74f"><span>3623</span></td><td id="LC3623" class="css-1dcdqdg"><code>	_handleGeolocationError: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">error</span>) </span>{
</code></td></tr><tr><td id="L3624" class="css-a4x74f"><span>3624</span></td><td id="LC3624" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._container._leaflet_id) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L3625" class="css-a4x74f"><span>3625</span></td><td id="LC3625" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3626" class="css-a4x74f"><span>3626</span></td><td id="LC3626" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> c = error.code,
</code></td></tr><tr><td id="L3627" class="css-a4x74f"><span>3627</span></td><td id="LC3627" class="css-1dcdqdg"><code>		    message = error.message ||
</code></td></tr><tr><td id="L3628" class="css-a4x74f"><span>3628</span></td><td id="LC3628" class="css-1dcdqdg"><code>		            (c === <span class="code-number">1</span> ? <span class="code-string">'permission denied'</span> :
</code></td></tr><tr><td id="L3629" class="css-a4x74f"><span>3629</span></td><td id="LC3629" class="css-1dcdqdg"><code>		            (c === <span class="code-number">2</span> ? <span class="code-string">'position unavailable'</span> : <span class="code-string">'timeout'</span>));
</code></td></tr><tr><td id="L3630" class="css-a4x74f"><span>3630</span></td><td id="LC3630" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3631" class="css-a4x74f"><span>3631</span></td><td id="LC3631" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._locateOptions.setView &amp;&amp; !<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L3632" class="css-a4x74f"><span>3632</span></td><td id="LC3632" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fitWorld();
</code></td></tr><tr><td id="L3633" class="css-a4x74f"><span>3633</span></td><td id="LC3633" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3634" class="css-a4x74f"><span>3634</span></td><td id="LC3634" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3635" class="css-a4x74f"><span>3635</span></td><td id="LC3635" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Location events</span>
</code></td></tr><tr><td id="L3636" class="css-a4x74f"><span>3636</span></td><td id="LC3636" class="css-1dcdqdg"><code>		<span class="code-comment">// @event locationerror: ErrorEvent</span>
</code></td></tr><tr><td id="L3637" class="css-a4x74f"><span>3637</span></td><td id="LC3637" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when geolocation (using the [`locate`](#map-locate) method) failed.</span>
</code></td></tr><tr><td id="L3638" class="css-a4x74f"><span>3638</span></td><td id="LC3638" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'locationerror'</span>, {
</code></td></tr><tr><td id="L3639" class="css-a4x74f"><span>3639</span></td><td id="LC3639" class="css-1dcdqdg"><code>			code: c,
</code></td></tr><tr><td id="L3640" class="css-a4x74f"><span>3640</span></td><td id="LC3640" class="css-1dcdqdg"><code>			message: <span class="code-string">'Geolocation error: '</span> + message + <span class="code-string">'.'</span>
</code></td></tr><tr><td id="L3641" class="css-a4x74f"><span>3641</span></td><td id="LC3641" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L3642" class="css-a4x74f"><span>3642</span></td><td id="LC3642" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3643" class="css-a4x74f"><span>3643</span></td><td id="LC3643" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3644" class="css-a4x74f"><span>3644</span></td><td id="LC3644" class="css-1dcdqdg"><code>	_handleGeolocationResponse: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">pos</span>) </span>{
</code></td></tr><tr><td id="L3645" class="css-a4x74f"><span>3645</span></td><td id="LC3645" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._container._leaflet_id) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L3646" class="css-a4x74f"><span>3646</span></td><td id="LC3646" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3647" class="css-a4x74f"><span>3647</span></td><td id="LC3647" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> lat = pos.coords.latitude,
</code></td></tr><tr><td id="L3648" class="css-a4x74f"><span>3648</span></td><td id="LC3648" class="css-1dcdqdg"><code>		    lng = pos.coords.longitude,
</code></td></tr><tr><td id="L3649" class="css-a4x74f"><span>3649</span></td><td id="LC3649" class="css-1dcdqdg"><code>		    latlng = <span class="code-keyword">new</span> LatLng(lat, lng),
</code></td></tr><tr><td id="L3650" class="css-a4x74f"><span>3650</span></td><td id="LC3650" class="css-1dcdqdg"><code>		    bounds = latlng.toBounds(pos.coords.accuracy * <span class="code-number">2</span>),
</code></td></tr><tr><td id="L3651" class="css-a4x74f"><span>3651</span></td><td id="LC3651" class="css-1dcdqdg"><code>		    options = <span class="code-keyword">this</span>._locateOptions;
</code></td></tr><tr><td id="L3652" class="css-a4x74f"><span>3652</span></td><td id="LC3652" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3653" class="css-a4x74f"><span>3653</span></td><td id="LC3653" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.setView) {
</code></td></tr><tr><td id="L3654" class="css-a4x74f"><span>3654</span></td><td id="LC3654" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> zoom = <span class="code-keyword">this</span>.getBoundsZoom(bounds);
</code></td></tr><tr><td id="L3655" class="css-a4x74f"><span>3655</span></td><td id="LC3655" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.setView(latlng, options.maxZoom ? <span class="code-built_in">Math</span>.min(zoom, options.maxZoom) : zoom);
</code></td></tr><tr><td id="L3656" class="css-a4x74f"><span>3656</span></td><td id="LC3656" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3657" class="css-a4x74f"><span>3657</span></td><td id="LC3657" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3658" class="css-a4x74f"><span>3658</span></td><td id="LC3658" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> data = {
</code></td></tr><tr><td id="L3659" class="css-a4x74f"><span>3659</span></td><td id="LC3659" class="css-1dcdqdg"><code>			latlng: latlng,
</code></td></tr><tr><td id="L3660" class="css-a4x74f"><span>3660</span></td><td id="LC3660" class="css-1dcdqdg"><code>			bounds: bounds,
</code></td></tr><tr><td id="L3661" class="css-a4x74f"><span>3661</span></td><td id="LC3661" class="css-1dcdqdg"><code>			timestamp: pos.timestamp
</code></td></tr><tr><td id="L3662" class="css-a4x74f"><span>3662</span></td><td id="LC3662" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L3663" class="css-a4x74f"><span>3663</span></td><td id="LC3663" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3664" class="css-a4x74f"><span>3664</span></td><td id="LC3664" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> pos.coords) {
</code></td></tr><tr><td id="L3665" class="css-a4x74f"><span>3665</span></td><td id="LC3665" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> pos.coords[i] === <span class="code-string">'number'</span>) {
</code></td></tr><tr><td id="L3666" class="css-a4x74f"><span>3666</span></td><td id="LC3666" class="css-1dcdqdg"><code>				data[i] = pos.coords[i];
</code></td></tr><tr><td id="L3667" class="css-a4x74f"><span>3667</span></td><td id="LC3667" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L3668" class="css-a4x74f"><span>3668</span></td><td id="LC3668" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3669" class="css-a4x74f"><span>3669</span></td><td id="LC3669" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3670" class="css-a4x74f"><span>3670</span></td><td id="LC3670" class="css-1dcdqdg"><code>		<span class="code-comment">// @event locationfound: LocationEvent</span>
</code></td></tr><tr><td id="L3671" class="css-a4x74f"><span>3671</span></td><td id="LC3671" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when geolocation (using the [`locate`](#map-locate) method)</span>
</code></td></tr><tr><td id="L3672" class="css-a4x74f"><span>3672</span></td><td id="LC3672" class="css-1dcdqdg"><code>		<span class="code-comment">// went successfully.</span>
</code></td></tr><tr><td id="L3673" class="css-a4x74f"><span>3673</span></td><td id="LC3673" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'locationfound'</span>, data);
</code></td></tr><tr><td id="L3674" class="css-a4x74f"><span>3674</span></td><td id="LC3674" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3675" class="css-a4x74f"><span>3675</span></td><td id="LC3675" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3676" class="css-a4x74f"><span>3676</span></td><td id="LC3676" class="css-1dcdqdg"><code>	<span class="code-comment">// TODO Appropriate docs section?</span>
</code></td></tr><tr><td id="L3677" class="css-a4x74f"><span>3677</span></td><td id="LC3677" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Other Methods</span>
</code></td></tr><tr><td id="L3678" class="css-a4x74f"><span>3678</span></td><td id="LC3678" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addHandler(name: String, HandlerClass: Function): this</span>
</code></td></tr><tr><td id="L3679" class="css-a4x74f"><span>3679</span></td><td id="LC3679" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds a new `Handler` to the map, given its name and constructor function.</span>
</code></td></tr><tr><td id="L3680" class="css-a4x74f"><span>3680</span></td><td id="LC3680" class="css-1dcdqdg"><code>	addHandler: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name, HandlerClass</span>) </span>{
</code></td></tr><tr><td id="L3681" class="css-a4x74f"><span>3681</span></td><td id="LC3681" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!HandlerClass) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L3682" class="css-a4x74f"><span>3682</span></td><td id="LC3682" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3683" class="css-a4x74f"><span>3683</span></td><td id="LC3683" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> handler = <span class="code-keyword">this</span>[name] = <span class="code-keyword">new</span> HandlerClass(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L3684" class="css-a4x74f"><span>3684</span></td><td id="LC3684" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3685" class="css-a4x74f"><span>3685</span></td><td id="LC3685" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._handlers.push(handler);
</code></td></tr><tr><td id="L3686" class="css-a4x74f"><span>3686</span></td><td id="LC3686" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3687" class="css-a4x74f"><span>3687</span></td><td id="LC3687" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options[name]) {
</code></td></tr><tr><td id="L3688" class="css-a4x74f"><span>3688</span></td><td id="LC3688" class="css-1dcdqdg"><code>			handler.enable();
</code></td></tr><tr><td id="L3689" class="css-a4x74f"><span>3689</span></td><td id="LC3689" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3690" class="css-a4x74f"><span>3690</span></td><td id="LC3690" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3691" class="css-a4x74f"><span>3691</span></td><td id="LC3691" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3692" class="css-a4x74f"><span>3692</span></td><td id="LC3692" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3693" class="css-a4x74f"><span>3693</span></td><td id="LC3693" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3694" class="css-a4x74f"><span>3694</span></td><td id="LC3694" class="css-1dcdqdg"><code>	<span class="code-comment">// @method remove(): this</span>
</code></td></tr><tr><td id="L3695" class="css-a4x74f"><span>3695</span></td><td id="LC3695" class="css-1dcdqdg"><code>	<span class="code-comment">// Destroys the map and clears all related event listeners.</span>
</code></td></tr><tr><td id="L3696" class="css-a4x74f"><span>3696</span></td><td id="LC3696" class="css-1dcdqdg"><code>	remove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3697" class="css-a4x74f"><span>3697</span></td><td id="LC3697" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3698" class="css-a4x74f"><span>3698</span></td><td id="LC3698" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initEvents(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L3699" class="css-a4x74f"><span>3699</span></td><td id="LC3699" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.maxBounds) { <span class="code-keyword">this</span>.off(<span class="code-string">'moveend'</span>, <span class="code-keyword">this</span>._panInsideMaxBounds); }
</code></td></tr><tr><td id="L3700" class="css-a4x74f"><span>3700</span></td><td id="LC3700" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3701" class="css-a4x74f"><span>3701</span></td><td id="LC3701" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._containerId !== <span class="code-keyword">this</span>._container._leaflet_id) {
</code></td></tr><tr><td id="L3702" class="css-a4x74f"><span>3702</span></td><td id="LC3702" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Map container is being reused by another instance'</span>);
</code></td></tr><tr><td id="L3703" class="css-a4x74f"><span>3703</span></td><td id="LC3703" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3704" class="css-a4x74f"><span>3704</span></td><td id="LC3704" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3705" class="css-a4x74f"><span>3705</span></td><td id="LC3705" class="css-1dcdqdg"><code>		<span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L3706" class="css-a4x74f"><span>3706</span></td><td id="LC3706" class="css-1dcdqdg"><code>			<span class="code-comment">// throws error in IE6-8</span>
</code></td></tr><tr><td id="L3707" class="css-a4x74f"><span>3707</span></td><td id="LC3707" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._container._leaflet_id;
</code></td></tr><tr><td id="L3708" class="css-a4x74f"><span>3708</span></td><td id="LC3708" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._containerId;
</code></td></tr><tr><td id="L3709" class="css-a4x74f"><span>3709</span></td><td id="LC3709" class="css-1dcdqdg"><code>		} <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L3710" class="css-a4x74f"><span>3710</span></td><td id="LC3710" class="css-1dcdqdg"><code>			<span class="code-comment">/*eslint-disable */</span>
</code></td></tr><tr><td id="L3711" class="css-a4x74f"><span>3711</span></td><td id="LC3711" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._container._leaflet_id = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3712" class="css-a4x74f"><span>3712</span></td><td id="LC3712" class="css-1dcdqdg"><code>			<span class="code-comment">/* eslint-enable */</span>
</code></td></tr><tr><td id="L3713" class="css-a4x74f"><span>3713</span></td><td id="LC3713" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._containerId = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L3714" class="css-a4x74f"><span>3714</span></td><td id="LC3714" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3715" class="css-a4x74f"><span>3715</span></td><td id="LC3715" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3716" class="css-a4x74f"><span>3716</span></td><td id="LC3716" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._locationWatchId !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L3717" class="css-a4x74f"><span>3717</span></td><td id="LC3717" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.stopLocate();
</code></td></tr><tr><td id="L3718" class="css-a4x74f"><span>3718</span></td><td id="LC3718" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3719" class="css-a4x74f"><span>3719</span></td><td id="LC3719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3720" class="css-a4x74f"><span>3720</span></td><td id="LC3720" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._stop();
</code></td></tr><tr><td id="L3721" class="css-a4x74f"><span>3721</span></td><td id="LC3721" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3722" class="css-a4x74f"><span>3722</span></td><td id="LC3722" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._mapPane);
</code></td></tr><tr><td id="L3723" class="css-a4x74f"><span>3723</span></td><td id="LC3723" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3724" class="css-a4x74f"><span>3724</span></td><td id="LC3724" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._clearControlPos) {
</code></td></tr><tr><td id="L3725" class="css-a4x74f"><span>3725</span></td><td id="LC3725" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._clearControlPos();
</code></td></tr><tr><td id="L3726" class="css-a4x74f"><span>3726</span></td><td id="LC3726" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3727" class="css-a4x74f"><span>3727</span></td><td id="LC3727" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._resizeRequest) {
</code></td></tr><tr><td id="L3728" class="css-a4x74f"><span>3728</span></td><td id="LC3728" class="css-1dcdqdg"><code>			cancelAnimFrame(<span class="code-keyword">this</span>._resizeRequest);
</code></td></tr><tr><td id="L3729" class="css-a4x74f"><span>3729</span></td><td id="LC3729" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._resizeRequest = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L3730" class="css-a4x74f"><span>3730</span></td><td id="LC3730" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3731" class="css-a4x74f"><span>3731</span></td><td id="LC3731" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3732" class="css-a4x74f"><span>3732</span></td><td id="LC3732" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._clearHandlers();
</code></td></tr><tr><td id="L3733" class="css-a4x74f"><span>3733</span></td><td id="LC3733" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3734" class="css-a4x74f"><span>3734</span></td><td id="LC3734" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L3735" class="css-a4x74f"><span>3735</span></td><td id="LC3735" class="css-1dcdqdg"><code>			<span class="code-comment">// @section Map state change events</span>
</code></td></tr><tr><td id="L3736" class="css-a4x74f"><span>3736</span></td><td id="LC3736" class="css-1dcdqdg"><code>			<span class="code-comment">// @event unload: Event</span>
</code></td></tr><tr><td id="L3737" class="css-a4x74f"><span>3737</span></td><td id="LC3737" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when the map is destroyed with [remove](#map-remove) method.</span>
</code></td></tr><tr><td id="L3738" class="css-a4x74f"><span>3738</span></td><td id="LC3738" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'unload'</span>);
</code></td></tr><tr><td id="L3739" class="css-a4x74f"><span>3739</span></td><td id="LC3739" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3740" class="css-a4x74f"><span>3740</span></td><td id="LC3740" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3741" class="css-a4x74f"><span>3741</span></td><td id="LC3741" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i;
</code></td></tr><tr><td id="L3742" class="css-a4x74f"><span>3742</span></td><td id="LC3742" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L3743" class="css-a4x74f"><span>3743</span></td><td id="LC3743" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers[i].remove();
</code></td></tr><tr><td id="L3744" class="css-a4x74f"><span>3744</span></td><td id="LC3744" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3745" class="css-a4x74f"><span>3745</span></td><td id="LC3745" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._panes) {
</code></td></tr><tr><td id="L3746" class="css-a4x74f"><span>3746</span></td><td id="LC3746" class="css-1dcdqdg"><code>			remove(<span class="code-keyword">this</span>._panes[i]);
</code></td></tr><tr><td id="L3747" class="css-a4x74f"><span>3747</span></td><td id="LC3747" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3748" class="css-a4x74f"><span>3748</span></td><td id="LC3748" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3749" class="css-a4x74f"><span>3749</span></td><td id="LC3749" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers = [];
</code></td></tr><tr><td id="L3750" class="css-a4x74f"><span>3750</span></td><td id="LC3750" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._panes = [];
</code></td></tr><tr><td id="L3751" class="css-a4x74f"><span>3751</span></td><td id="LC3751" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._mapPane;
</code></td></tr><tr><td id="L3752" class="css-a4x74f"><span>3752</span></td><td id="LC3752" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._renderer;
</code></td></tr><tr><td id="L3753" class="css-a4x74f"><span>3753</span></td><td id="LC3753" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3754" class="css-a4x74f"><span>3754</span></td><td id="LC3754" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L3755" class="css-a4x74f"><span>3755</span></td><td id="LC3755" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3756" class="css-a4x74f"><span>3756</span></td><td id="LC3756" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3757" class="css-a4x74f"><span>3757</span></td><td id="LC3757" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Other Methods</span>
</code></td></tr><tr><td id="L3758" class="css-a4x74f"><span>3758</span></td><td id="LC3758" class="css-1dcdqdg"><code>	<span class="code-comment">// @method createPane(name: String, container?: HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L3759" class="css-a4x74f"><span>3759</span></td><td id="LC3759" class="css-1dcdqdg"><code>	<span class="code-comment">// Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,</span>
</code></td></tr><tr><td id="L3760" class="css-a4x74f"><span>3760</span></td><td id="LC3760" class="css-1dcdqdg"><code>	<span class="code-comment">// then returns it. The pane is created as a child of `container`, or</span>
</code></td></tr><tr><td id="L3761" class="css-a4x74f"><span>3761</span></td><td id="LC3761" class="css-1dcdqdg"><code>	<span class="code-comment">// as a child of the main map pane if not set.</span>
</code></td></tr><tr><td id="L3762" class="css-a4x74f"><span>3762</span></td><td id="LC3762" class="css-1dcdqdg"><code>	createPane: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name, container</span>) </span>{
</code></td></tr><tr><td id="L3763" class="css-a4x74f"><span>3763</span></td><td id="LC3763" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> className = <span class="code-string">'leaflet-pane'</span> + (name ? <span class="code-string">' leaflet-'</span> + name.replace(<span class="code-string">'Pane'</span>, <span class="code-string">''</span>) + <span class="code-string">'-pane'</span> : <span class="code-string">''</span>),
</code></td></tr><tr><td id="L3764" class="css-a4x74f"><span>3764</span></td><td id="LC3764" class="css-1dcdqdg"><code>		    pane = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className, container || <span class="code-keyword">this</span>._mapPane);
</code></td></tr><tr><td id="L3765" class="css-a4x74f"><span>3765</span></td><td id="LC3765" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3766" class="css-a4x74f"><span>3766</span></td><td id="LC3766" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (name) {
</code></td></tr><tr><td id="L3767" class="css-a4x74f"><span>3767</span></td><td id="LC3767" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panes[name] = pane;
</code></td></tr><tr><td id="L3768" class="css-a4x74f"><span>3768</span></td><td id="LC3768" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3769" class="css-a4x74f"><span>3769</span></td><td id="LC3769" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> pane;
</code></td></tr><tr><td id="L3770" class="css-a4x74f"><span>3770</span></td><td id="LC3770" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3771" class="css-a4x74f"><span>3771</span></td><td id="LC3771" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3772" class="css-a4x74f"><span>3772</span></td><td id="LC3772" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Methods for Getting Map State</span>
</code></td></tr><tr><td id="L3773" class="css-a4x74f"><span>3773</span></td><td id="LC3773" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3774" class="css-a4x74f"><span>3774</span></td><td id="LC3774" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getCenter(): LatLng</span>
</code></td></tr><tr><td id="L3775" class="css-a4x74f"><span>3775</span></td><td id="LC3775" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the geographical center of the map view</span>
</code></td></tr><tr><td id="L3776" class="css-a4x74f"><span>3776</span></td><td id="LC3776" class="css-1dcdqdg"><code>	getCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3777" class="css-a4x74f"><span>3777</span></td><td id="LC3777" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._checkIfLoaded();
</code></td></tr><tr><td id="L3778" class="css-a4x74f"><span>3778</span></td><td id="LC3778" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3779" class="css-a4x74f"><span>3779</span></td><td id="LC3779" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._lastCenter &amp;&amp; !<span class="code-keyword">this</span>._moved()) {
</code></td></tr><tr><td id="L3780" class="css-a4x74f"><span>3780</span></td><td id="LC3780" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>._lastCenter;
</code></td></tr><tr><td id="L3781" class="css-a4x74f"><span>3781</span></td><td id="LC3781" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3782" class="css-a4x74f"><span>3782</span></td><td id="LC3782" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.layerPointToLatLng(<span class="code-keyword">this</span>._getCenterLayerPoint());
</code></td></tr><tr><td id="L3783" class="css-a4x74f"><span>3783</span></td><td id="LC3783" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3784" class="css-a4x74f"><span>3784</span></td><td id="LC3784" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3785" class="css-a4x74f"><span>3785</span></td><td id="LC3785" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getZoom(): Number</span>
</code></td></tr><tr><td id="L3786" class="css-a4x74f"><span>3786</span></td><td id="LC3786" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current zoom level of the map view</span>
</code></td></tr><tr><td id="L3787" class="css-a4x74f"><span>3787</span></td><td id="LC3787" class="css-1dcdqdg"><code>	getZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3788" class="css-a4x74f"><span>3788</span></td><td id="LC3788" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._zoom;
</code></td></tr><tr><td id="L3789" class="css-a4x74f"><span>3789</span></td><td id="LC3789" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3790" class="css-a4x74f"><span>3790</span></td><td id="LC3790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3791" class="css-a4x74f"><span>3791</span></td><td id="LC3791" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBounds(): LatLngBounds</span>
</code></td></tr><tr><td id="L3792" class="css-a4x74f"><span>3792</span></td><td id="LC3792" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the geographical bounds visible in the current map view</span>
</code></td></tr><tr><td id="L3793" class="css-a4x74f"><span>3793</span></td><td id="LC3793" class="css-1dcdqdg"><code>	getBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3794" class="css-a4x74f"><span>3794</span></td><td id="LC3794" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">this</span>.getPixelBounds(),
</code></td></tr><tr><td id="L3795" class="css-a4x74f"><span>3795</span></td><td id="LC3795" class="css-1dcdqdg"><code>		    sw = <span class="code-keyword">this</span>.unproject(bounds.getBottomLeft()),
</code></td></tr><tr><td id="L3796" class="css-a4x74f"><span>3796</span></td><td id="LC3796" class="css-1dcdqdg"><code>		    ne = <span class="code-keyword">this</span>.unproject(bounds.getTopRight());
</code></td></tr><tr><td id="L3797" class="css-a4x74f"><span>3797</span></td><td id="LC3797" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3798" class="css-a4x74f"><span>3798</span></td><td id="LC3798" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLngBounds(sw, ne);
</code></td></tr><tr><td id="L3799" class="css-a4x74f"><span>3799</span></td><td id="LC3799" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3800" class="css-a4x74f"><span>3800</span></td><td id="LC3800" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3801" class="css-a4x74f"><span>3801</span></td><td id="LC3801" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getMinZoom(): Number</span>
</code></td></tr><tr><td id="L3802" class="css-a4x74f"><span>3802</span></td><td id="LC3802" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.</span>
</code></td></tr><tr><td id="L3803" class="css-a4x74f"><span>3803</span></td><td id="LC3803" class="css-1dcdqdg"><code>	getMinZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3804" class="css-a4x74f"><span>3804</span></td><td id="LC3804" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.minZoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>._layersMinZoom || <span class="code-number">0</span> : <span class="code-keyword">this</span>.options.minZoom;
</code></td></tr><tr><td id="L3805" class="css-a4x74f"><span>3805</span></td><td id="LC3805" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3806" class="css-a4x74f"><span>3806</span></td><td id="LC3806" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3807" class="css-a4x74f"><span>3807</span></td><td id="LC3807" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getMaxZoom(): Number</span>
</code></td></tr><tr><td id="L3808" class="css-a4x74f"><span>3808</span></td><td id="LC3808" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).</span>
</code></td></tr><tr><td id="L3809" class="css-a4x74f"><span>3809</span></td><td id="LC3809" class="css-1dcdqdg"><code>	getMaxZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3810" class="css-a4x74f"><span>3810</span></td><td id="LC3810" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.maxZoom === <span class="code-literal">undefined</span> ?
</code></td></tr><tr><td id="L3811" class="css-a4x74f"><span>3811</span></td><td id="LC3811" class="css-1dcdqdg"><code>			(<span class="code-keyword">this</span>._layersMaxZoom === <span class="code-literal">undefined</span> ? <span class="code-literal">Infinity</span> : <span class="code-keyword">this</span>._layersMaxZoom) :
</code></td></tr><tr><td id="L3812" class="css-a4x74f"><span>3812</span></td><td id="LC3812" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.options.maxZoom;
</code></td></tr><tr><td id="L3813" class="css-a4x74f"><span>3813</span></td><td id="LC3813" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3814" class="css-a4x74f"><span>3814</span></td><td id="LC3814" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3815" class="css-a4x74f"><span>3815</span></td><td id="LC3815" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean, padding?: Point): Number</span>
</code></td></tr><tr><td id="L3816" class="css-a4x74f"><span>3816</span></td><td id="LC3816" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the maximum zoom level on which the given bounds fit to the map</span>
</code></td></tr><tr><td id="L3817" class="css-a4x74f"><span>3817</span></td><td id="LC3817" class="css-1dcdqdg"><code>	<span class="code-comment">// view in its entirety. If `inside` (optional) is set to `true`, the method</span>
</code></td></tr><tr><td id="L3818" class="css-a4x74f"><span>3818</span></td><td id="LC3818" class="css-1dcdqdg"><code>	<span class="code-comment">// instead returns the minimum zoom level on which the map view fits into</span>
</code></td></tr><tr><td id="L3819" class="css-a4x74f"><span>3819</span></td><td id="LC3819" class="css-1dcdqdg"><code>	<span class="code-comment">// the given bounds in its entirety.</span>
</code></td></tr><tr><td id="L3820" class="css-a4x74f"><span>3820</span></td><td id="LC3820" class="css-1dcdqdg"><code>	getBoundsZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds, inside, padding</span>) </span>{ <span class="code-comment">// (LatLngBounds[, Boolean, Point]) -&gt; Number</span>
</code></td></tr><tr><td id="L3821" class="css-a4x74f"><span>3821</span></td><td id="LC3821" class="css-1dcdqdg"><code>		bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L3822" class="css-a4x74f"><span>3822</span></td><td id="LC3822" class="css-1dcdqdg"><code>		padding = toPoint(padding || [<span class="code-number">0</span>, <span class="code-number">0</span>]);
</code></td></tr><tr><td id="L3823" class="css-a4x74f"><span>3823</span></td><td id="LC3823" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3824" class="css-a4x74f"><span>3824</span></td><td id="LC3824" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoom = <span class="code-keyword">this</span>.getZoom() || <span class="code-number">0</span>,
</code></td></tr><tr><td id="L3825" class="css-a4x74f"><span>3825</span></td><td id="LC3825" class="css-1dcdqdg"><code>		    min = <span class="code-keyword">this</span>.getMinZoom(),
</code></td></tr><tr><td id="L3826" class="css-a4x74f"><span>3826</span></td><td id="LC3826" class="css-1dcdqdg"><code>		    max = <span class="code-keyword">this</span>.getMaxZoom(),
</code></td></tr><tr><td id="L3827" class="css-a4x74f"><span>3827</span></td><td id="LC3827" class="css-1dcdqdg"><code>		    nw = bounds.getNorthWest(),
</code></td></tr><tr><td id="L3828" class="css-a4x74f"><span>3828</span></td><td id="LC3828" class="css-1dcdqdg"><code>		    se = bounds.getSouthEast(),
</code></td></tr><tr><td id="L3829" class="css-a4x74f"><span>3829</span></td><td id="LC3829" class="css-1dcdqdg"><code>		    size = <span class="code-keyword">this</span>.getSize().subtract(padding),
</code></td></tr><tr><td id="L3830" class="css-a4x74f"><span>3830</span></td><td id="LC3830" class="css-1dcdqdg"><code>		    boundsSize = toBounds(<span class="code-keyword">this</span>.project(se, zoom), <span class="code-keyword">this</span>.project(nw, zoom)).getSize(),
</code></td></tr><tr><td id="L3831" class="css-a4x74f"><span>3831</span></td><td id="LC3831" class="css-1dcdqdg"><code>		    snap = Browser.any3d ? <span class="code-keyword">this</span>.options.zoomSnap : <span class="code-number">1</span>,
</code></td></tr><tr><td id="L3832" class="css-a4x74f"><span>3832</span></td><td id="LC3832" class="css-1dcdqdg"><code>		    scalex = size.x / boundsSize.x,
</code></td></tr><tr><td id="L3833" class="css-a4x74f"><span>3833</span></td><td id="LC3833" class="css-1dcdqdg"><code>		    scaley = size.y / boundsSize.y,
</code></td></tr><tr><td id="L3834" class="css-a4x74f"><span>3834</span></td><td id="LC3834" class="css-1dcdqdg"><code>		    scale = inside ? <span class="code-built_in">Math</span>.max(scalex, scaley) : <span class="code-built_in">Math</span>.min(scalex, scaley);
</code></td></tr><tr><td id="L3835" class="css-a4x74f"><span>3835</span></td><td id="LC3835" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3836" class="css-a4x74f"><span>3836</span></td><td id="LC3836" class="css-1dcdqdg"><code>		zoom = <span class="code-keyword">this</span>.getScaleZoom(scale, zoom);
</code></td></tr><tr><td id="L3837" class="css-a4x74f"><span>3837</span></td><td id="LC3837" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3838" class="css-a4x74f"><span>3838</span></td><td id="LC3838" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (snap) {
</code></td></tr><tr><td id="L3839" class="css-a4x74f"><span>3839</span></td><td id="LC3839" class="css-1dcdqdg"><code>			zoom = <span class="code-built_in">Math</span>.round(zoom / (snap / <span class="code-number">100</span>)) * (snap / <span class="code-number">100</span>); <span class="code-comment">// don't jump if within 1% of a snap level</span>
</code></td></tr><tr><td id="L3840" class="css-a4x74f"><span>3840</span></td><td id="LC3840" class="css-1dcdqdg"><code>			zoom = inside ? <span class="code-built_in">Math</span>.ceil(zoom / snap) * snap : <span class="code-built_in">Math</span>.floor(zoom / snap) * snap;
</code></td></tr><tr><td id="L3841" class="css-a4x74f"><span>3841</span></td><td id="LC3841" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3842" class="css-a4x74f"><span>3842</span></td><td id="LC3842" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3843" class="css-a4x74f"><span>3843</span></td><td id="LC3843" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(min, <span class="code-built_in">Math</span>.min(max, zoom));
</code></td></tr><tr><td id="L3844" class="css-a4x74f"><span>3844</span></td><td id="LC3844" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3845" class="css-a4x74f"><span>3845</span></td><td id="LC3845" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3846" class="css-a4x74f"><span>3846</span></td><td id="LC3846" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getSize(): Point</span>
</code></td></tr><tr><td id="L3847" class="css-a4x74f"><span>3847</span></td><td id="LC3847" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current size of the map container (in pixels).</span>
</code></td></tr><tr><td id="L3848" class="css-a4x74f"><span>3848</span></td><td id="LC3848" class="css-1dcdqdg"><code>	getSize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3849" class="css-a4x74f"><span>3849</span></td><td id="LC3849" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._size || <span class="code-keyword">this</span>._sizeChanged) {
</code></td></tr><tr><td id="L3850" class="css-a4x74f"><span>3850</span></td><td id="LC3850" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._size = <span class="code-keyword">new</span> Point(
</code></td></tr><tr><td id="L3851" class="css-a4x74f"><span>3851</span></td><td id="LC3851" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._container.clientWidth || <span class="code-number">0</span>,
</code></td></tr><tr><td id="L3852" class="css-a4x74f"><span>3852</span></td><td id="LC3852" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._container.clientHeight || <span class="code-number">0</span>);
</code></td></tr><tr><td id="L3853" class="css-a4x74f"><span>3853</span></td><td id="LC3853" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3854" class="css-a4x74f"><span>3854</span></td><td id="LC3854" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._sizeChanged = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L3855" class="css-a4x74f"><span>3855</span></td><td id="LC3855" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L3856" class="css-a4x74f"><span>3856</span></td><td id="LC3856" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._size.clone();
</code></td></tr><tr><td id="L3857" class="css-a4x74f"><span>3857</span></td><td id="LC3857" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3858" class="css-a4x74f"><span>3858</span></td><td id="LC3858" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3859" class="css-a4x74f"><span>3859</span></td><td id="LC3859" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPixelBounds(): Bounds</span>
</code></td></tr><tr><td id="L3860" class="css-a4x74f"><span>3860</span></td><td id="LC3860" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the bounds of the current map view in projected pixel</span>
</code></td></tr><tr><td id="L3861" class="css-a4x74f"><span>3861</span></td><td id="LC3861" class="css-1dcdqdg"><code>	<span class="code-comment">// coordinates (sometimes useful in layer and overlay implementations).</span>
</code></td></tr><tr><td id="L3862" class="css-a4x74f"><span>3862</span></td><td id="LC3862" class="css-1dcdqdg"><code>	getPixelBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom</span>) </span>{
</code></td></tr><tr><td id="L3863" class="css-a4x74f"><span>3863</span></td><td id="LC3863" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> topLeftPoint = <span class="code-keyword">this</span>._getTopLeftPoint(center, zoom);
</code></td></tr><tr><td id="L3864" class="css-a4x74f"><span>3864</span></td><td id="LC3864" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Bounds(topLeftPoint, topLeftPoint.add(<span class="code-keyword">this</span>.getSize()));
</code></td></tr><tr><td id="L3865" class="css-a4x74f"><span>3865</span></td><td id="LC3865" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3866" class="css-a4x74f"><span>3866</span></td><td id="LC3866" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3867" class="css-a4x74f"><span>3867</span></td><td id="LC3867" class="css-1dcdqdg"><code>	<span class="code-comment">// <span class="code-doctag">TODO:</span> Check semantics - isn't the pixel origin the 0,0 coord relative to</span>
</code></td></tr><tr><td id="L3868" class="css-a4x74f"><span>3868</span></td><td id="LC3868" class="css-1dcdqdg"><code>	<span class="code-comment">// the map pane? "left point of the map layer" can be confusing, specially</span>
</code></td></tr><tr><td id="L3869" class="css-a4x74f"><span>3869</span></td><td id="LC3869" class="css-1dcdqdg"><code>	<span class="code-comment">// since there can be negative offsets.</span>
</code></td></tr><tr><td id="L3870" class="css-a4x74f"><span>3870</span></td><td id="LC3870" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPixelOrigin(): Point</span>
</code></td></tr><tr><td id="L3871" class="css-a4x74f"><span>3871</span></td><td id="LC3871" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the projected pixel coordinates of the top left point of</span>
</code></td></tr><tr><td id="L3872" class="css-a4x74f"><span>3872</span></td><td id="LC3872" class="css-1dcdqdg"><code>	<span class="code-comment">// the map layer (useful in custom layer and overlay implementations).</span>
</code></td></tr><tr><td id="L3873" class="css-a4x74f"><span>3873</span></td><td id="LC3873" class="css-1dcdqdg"><code>	getPixelOrigin: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3874" class="css-a4x74f"><span>3874</span></td><td id="LC3874" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._checkIfLoaded();
</code></td></tr><tr><td id="L3875" class="css-a4x74f"><span>3875</span></td><td id="LC3875" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._pixelOrigin;
</code></td></tr><tr><td id="L3876" class="css-a4x74f"><span>3876</span></td><td id="LC3876" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3877" class="css-a4x74f"><span>3877</span></td><td id="LC3877" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3878" class="css-a4x74f"><span>3878</span></td><td id="LC3878" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPixelWorldBounds(zoom?: Number): Bounds</span>
</code></td></tr><tr><td id="L3879" class="css-a4x74f"><span>3879</span></td><td id="LC3879" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the world's bounds in pixel coordinates for zoom level `zoom`.</span>
</code></td></tr><tr><td id="L3880" class="css-a4x74f"><span>3880</span></td><td id="LC3880" class="css-1dcdqdg"><code>	<span class="code-comment">// If `zoom` is omitted, the map's current zoom level is used.</span>
</code></td></tr><tr><td id="L3881" class="css-a4x74f"><span>3881</span></td><td id="LC3881" class="css-1dcdqdg"><code>	getPixelWorldBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L3882" class="css-a4x74f"><span>3882</span></td><td id="LC3882" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.crs.getProjectedBounds(zoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>.getZoom() : zoom);
</code></td></tr><tr><td id="L3883" class="css-a4x74f"><span>3883</span></td><td id="LC3883" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3884" class="css-a4x74f"><span>3884</span></td><td id="LC3884" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3885" class="css-a4x74f"><span>3885</span></td><td id="LC3885" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Other Methods</span>
</code></td></tr><tr><td id="L3886" class="css-a4x74f"><span>3886</span></td><td id="LC3886" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3887" class="css-a4x74f"><span>3887</span></td><td id="LC3887" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPane(pane: String|HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L3888" class="css-a4x74f"><span>3888</span></td><td id="LC3888" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a [map pane](#map-pane), given its name or its HTML element (its identity).</span>
</code></td></tr><tr><td id="L3889" class="css-a4x74f"><span>3889</span></td><td id="LC3889" class="css-1dcdqdg"><code>	getPane: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">pane</span>) </span>{
</code></td></tr><tr><td id="L3890" class="css-a4x74f"><span>3890</span></td><td id="LC3890" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">typeof</span> pane === <span class="code-string">'string'</span> ? <span class="code-keyword">this</span>._panes[pane] : pane;
</code></td></tr><tr><td id="L3891" class="css-a4x74f"><span>3891</span></td><td id="LC3891" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3892" class="css-a4x74f"><span>3892</span></td><td id="LC3892" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3893" class="css-a4x74f"><span>3893</span></td><td id="LC3893" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPanes(): Object</span>
</code></td></tr><tr><td id="L3894" class="css-a4x74f"><span>3894</span></td><td id="LC3894" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a plain object containing the names of all [panes](#map-pane) as keys and</span>
</code></td></tr><tr><td id="L3895" class="css-a4x74f"><span>3895</span></td><td id="LC3895" class="css-1dcdqdg"><code>	<span class="code-comment">// the panes as values.</span>
</code></td></tr><tr><td id="L3896" class="css-a4x74f"><span>3896</span></td><td id="LC3896" class="css-1dcdqdg"><code>	getPanes: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3897" class="css-a4x74f"><span>3897</span></td><td id="LC3897" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._panes;
</code></td></tr><tr><td id="L3898" class="css-a4x74f"><span>3898</span></td><td id="LC3898" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3899" class="css-a4x74f"><span>3899</span></td><td id="LC3899" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3900" class="css-a4x74f"><span>3900</span></td><td id="LC3900" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getContainer: HTMLElement</span>
</code></td></tr><tr><td id="L3901" class="css-a4x74f"><span>3901</span></td><td id="LC3901" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the HTML element that contains the map.</span>
</code></td></tr><tr><td id="L3902" class="css-a4x74f"><span>3902</span></td><td id="LC3902" class="css-1dcdqdg"><code>	getContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L3903" class="css-a4x74f"><span>3903</span></td><td id="LC3903" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L3904" class="css-a4x74f"><span>3904</span></td><td id="LC3904" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3905" class="css-a4x74f"><span>3905</span></td><td id="LC3905" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3906" class="css-a4x74f"><span>3906</span></td><td id="LC3906" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3907" class="css-a4x74f"><span>3907</span></td><td id="LC3907" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Conversion Methods</span>
</code></td></tr><tr><td id="L3908" class="css-a4x74f"><span>3908</span></td><td id="LC3908" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3909" class="css-a4x74f"><span>3909</span></td><td id="LC3909" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getZoomScale(toZoom: Number, fromZoom: Number): Number</span>
</code></td></tr><tr><td id="L3910" class="css-a4x74f"><span>3910</span></td><td id="LC3910" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the scale factor to be applied to a map transition from zoom level</span>
</code></td></tr><tr><td id="L3911" class="css-a4x74f"><span>3911</span></td><td id="LC3911" class="css-1dcdqdg"><code>	<span class="code-comment">// `fromZoom` to `toZoom`. Used internally to help with zoom animations.</span>
</code></td></tr><tr><td id="L3912" class="css-a4x74f"><span>3912</span></td><td id="LC3912" class="css-1dcdqdg"><code>	getZoomScale: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">toZoom, fromZoom</span>) </span>{
</code></td></tr><tr><td id="L3913" class="css-a4x74f"><span>3913</span></td><td id="LC3913" class="css-1dcdqdg"><code>		<span class="code-comment">// TODO replace with universal implementation after refactoring projections</span>
</code></td></tr><tr><td id="L3914" class="css-a4x74f"><span>3914</span></td><td id="LC3914" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> crs = <span class="code-keyword">this</span>.options.crs;
</code></td></tr><tr><td id="L3915" class="css-a4x74f"><span>3915</span></td><td id="LC3915" class="css-1dcdqdg"><code>		fromZoom = fromZoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>._zoom : fromZoom;
</code></td></tr><tr><td id="L3916" class="css-a4x74f"><span>3916</span></td><td id="LC3916" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> crs.scale(toZoom) / crs.scale(fromZoom);
</code></td></tr><tr><td id="L3917" class="css-a4x74f"><span>3917</span></td><td id="LC3917" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3918" class="css-a4x74f"><span>3918</span></td><td id="LC3918" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3919" class="css-a4x74f"><span>3919</span></td><td id="LC3919" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getScaleZoom(scale: Number, fromZoom: Number): Number</span>
</code></td></tr><tr><td id="L3920" class="css-a4x74f"><span>3920</span></td><td id="LC3920" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the zoom level that the map would end up at, if it is at `fromZoom`</span>
</code></td></tr><tr><td id="L3921" class="css-a4x74f"><span>3921</span></td><td id="LC3921" class="css-1dcdqdg"><code>	<span class="code-comment">// level and everything is scaled by a factor of `scale`. Inverse of</span>
</code></td></tr><tr><td id="L3922" class="css-a4x74f"><span>3922</span></td><td id="LC3922" class="css-1dcdqdg"><code>	<span class="code-comment">// [`getZoomScale`](#map-getZoomScale).</span>
</code></td></tr><tr><td id="L3923" class="css-a4x74f"><span>3923</span></td><td id="LC3923" class="css-1dcdqdg"><code>	getScaleZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">scale, fromZoom</span>) </span>{
</code></td></tr><tr><td id="L3924" class="css-a4x74f"><span>3924</span></td><td id="LC3924" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> crs = <span class="code-keyword">this</span>.options.crs;
</code></td></tr><tr><td id="L3925" class="css-a4x74f"><span>3925</span></td><td id="LC3925" class="css-1dcdqdg"><code>		fromZoom = fromZoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>._zoom : fromZoom;
</code></td></tr><tr><td id="L3926" class="css-a4x74f"><span>3926</span></td><td id="LC3926" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoom = crs.zoom(scale * crs.scale(fromZoom));
</code></td></tr><tr><td id="L3927" class="css-a4x74f"><span>3927</span></td><td id="LC3927" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">isNaN</span>(zoom) ? <span class="code-literal">Infinity</span> : zoom;
</code></td></tr><tr><td id="L3928" class="css-a4x74f"><span>3928</span></td><td id="LC3928" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3929" class="css-a4x74f"><span>3929</span></td><td id="LC3929" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3930" class="css-a4x74f"><span>3930</span></td><td id="LC3930" class="css-1dcdqdg"><code>	<span class="code-comment">// @method project(latlng: LatLng, zoom: Number): Point</span>
</code></td></tr><tr><td id="L3931" class="css-a4x74f"><span>3931</span></td><td id="LC3931" class="css-1dcdqdg"><code>	<span class="code-comment">// Projects a geographical coordinate `LatLng` according to the projection</span>
</code></td></tr><tr><td id="L3932" class="css-a4x74f"><span>3932</span></td><td id="LC3932" class="css-1dcdqdg"><code>	<span class="code-comment">// of the map's CRS, then scales it according to `zoom` and the CRS's</span>
</code></td></tr><tr><td id="L3933" class="css-a4x74f"><span>3933</span></td><td id="LC3933" class="css-1dcdqdg"><code>	<span class="code-comment">// `Transformation`. The result is pixel coordinate relative to</span>
</code></td></tr><tr><td id="L3934" class="css-a4x74f"><span>3934</span></td><td id="LC3934" class="css-1dcdqdg"><code>	<span class="code-comment">// the CRS origin.</span>
</code></td></tr><tr><td id="L3935" class="css-a4x74f"><span>3935</span></td><td id="LC3935" class="css-1dcdqdg"><code>	project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, zoom</span>) </span>{
</code></td></tr><tr><td id="L3936" class="css-a4x74f"><span>3936</span></td><td id="LC3936" class="css-1dcdqdg"><code>		zoom = zoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>._zoom : zoom;
</code></td></tr><tr><td id="L3937" class="css-a4x74f"><span>3937</span></td><td id="LC3937" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.crs.latLngToPoint(toLatLng(latlng), zoom);
</code></td></tr><tr><td id="L3938" class="css-a4x74f"><span>3938</span></td><td id="LC3938" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3939" class="css-a4x74f"><span>3939</span></td><td id="LC3939" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3940" class="css-a4x74f"><span>3940</span></td><td id="LC3940" class="css-1dcdqdg"><code>	<span class="code-comment">// @method unproject(point: Point, zoom: Number): LatLng</span>
</code></td></tr><tr><td id="L3941" class="css-a4x74f"><span>3941</span></td><td id="LC3941" class="css-1dcdqdg"><code>	<span class="code-comment">// Inverse of [`project`](#map-project).</span>
</code></td></tr><tr><td id="L3942" class="css-a4x74f"><span>3942</span></td><td id="LC3942" class="css-1dcdqdg"><code>	unproject: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point, zoom</span>) </span>{
</code></td></tr><tr><td id="L3943" class="css-a4x74f"><span>3943</span></td><td id="LC3943" class="css-1dcdqdg"><code>		zoom = zoom === <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>._zoom : zoom;
</code></td></tr><tr><td id="L3944" class="css-a4x74f"><span>3944</span></td><td id="LC3944" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.crs.pointToLatLng(toPoint(point), zoom);
</code></td></tr><tr><td id="L3945" class="css-a4x74f"><span>3945</span></td><td id="LC3945" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3946" class="css-a4x74f"><span>3946</span></td><td id="LC3946" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3947" class="css-a4x74f"><span>3947</span></td><td id="LC3947" class="css-1dcdqdg"><code>	<span class="code-comment">// @method layerPointToLatLng(point: Point): LatLng</span>
</code></td></tr><tr><td id="L3948" class="css-a4x74f"><span>3948</span></td><td id="LC3948" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),</span>
</code></td></tr><tr><td id="L3949" class="css-a4x74f"><span>3949</span></td><td id="LC3949" class="css-1dcdqdg"><code>	<span class="code-comment">// returns the corresponding geographical coordinate (for the current zoom level).</span>
</code></td></tr><tr><td id="L3950" class="css-a4x74f"><span>3950</span></td><td id="LC3950" class="css-1dcdqdg"><code>	layerPointToLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L3951" class="css-a4x74f"><span>3951</span></td><td id="LC3951" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> projectedPoint = toPoint(point).add(<span class="code-keyword">this</span>.getPixelOrigin());
</code></td></tr><tr><td id="L3952" class="css-a4x74f"><span>3952</span></td><td id="LC3952" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unproject(projectedPoint);
</code></td></tr><tr><td id="L3953" class="css-a4x74f"><span>3953</span></td><td id="LC3953" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3954" class="css-a4x74f"><span>3954</span></td><td id="LC3954" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3955" class="css-a4x74f"><span>3955</span></td><td id="LC3955" class="css-1dcdqdg"><code>	<span class="code-comment">// @method latLngToLayerPoint(latlng: LatLng): Point</span>
</code></td></tr><tr><td id="L3956" class="css-a4x74f"><span>3956</span></td><td id="LC3956" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a geographical coordinate, returns the corresponding pixel coordinate</span>
</code></td></tr><tr><td id="L3957" class="css-a4x74f"><span>3957</span></td><td id="LC3957" class="css-1dcdqdg"><code>	<span class="code-comment">// relative to the [origin pixel](#map-getpixelorigin).</span>
</code></td></tr><tr><td id="L3958" class="css-a4x74f"><span>3958</span></td><td id="LC3958" class="css-1dcdqdg"><code>	latLngToLayerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L3959" class="css-a4x74f"><span>3959</span></td><td id="LC3959" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> projectedPoint = <span class="code-keyword">this</span>.project(toLatLng(latlng))._round();
</code></td></tr><tr><td id="L3960" class="css-a4x74f"><span>3960</span></td><td id="LC3960" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> projectedPoint._subtract(<span class="code-keyword">this</span>.getPixelOrigin());
</code></td></tr><tr><td id="L3961" class="css-a4x74f"><span>3961</span></td><td id="LC3961" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3962" class="css-a4x74f"><span>3962</span></td><td id="LC3962" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3963" class="css-a4x74f"><span>3963</span></td><td id="LC3963" class="css-1dcdqdg"><code>	<span class="code-comment">// @method wrapLatLng(latlng: LatLng): LatLng</span>
</code></td></tr><tr><td id="L3964" class="css-a4x74f"><span>3964</span></td><td id="LC3964" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a `LatLng` where `lat` and `lng` has been wrapped according to the</span>
</code></td></tr><tr><td id="L3965" class="css-a4x74f"><span>3965</span></td><td id="LC3965" class="css-1dcdqdg"><code>	<span class="code-comment">// map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the</span>
</code></td></tr><tr><td id="L3966" class="css-a4x74f"><span>3966</span></td><td id="LC3966" class="css-1dcdqdg"><code>	<span class="code-comment">// CRS's bounds.</span>
</code></td></tr><tr><td id="L3967" class="css-a4x74f"><span>3967</span></td><td id="LC3967" class="css-1dcdqdg"><code>	<span class="code-comment">// By default this means longitude is wrapped around the dateline so its</span>
</code></td></tr><tr><td id="L3968" class="css-a4x74f"><span>3968</span></td><td id="LC3968" class="css-1dcdqdg"><code>	<span class="code-comment">// value is between -180 and +180 degrees.</span>
</code></td></tr><tr><td id="L3969" class="css-a4x74f"><span>3969</span></td><td id="LC3969" class="css-1dcdqdg"><code>	wrapLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L3970" class="css-a4x74f"><span>3970</span></td><td id="LC3970" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.crs.wrapLatLng(toLatLng(latlng));
</code></td></tr><tr><td id="L3971" class="css-a4x74f"><span>3971</span></td><td id="LC3971" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3972" class="css-a4x74f"><span>3972</span></td><td id="LC3972" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3973" class="css-a4x74f"><span>3973</span></td><td id="LC3973" class="css-1dcdqdg"><code>	<span class="code-comment">// @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds</span>
</code></td></tr><tr><td id="L3974" class="css-a4x74f"><span>3974</span></td><td id="LC3974" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a `LatLngBounds` with the same size as the given one, ensuring that</span>
</code></td></tr><tr><td id="L3975" class="css-a4x74f"><span>3975</span></td><td id="LC3975" class="css-1dcdqdg"><code>	<span class="code-comment">// its center is within the CRS's bounds.</span>
</code></td></tr><tr><td id="L3976" class="css-a4x74f"><span>3976</span></td><td id="LC3976" class="css-1dcdqdg"><code>	<span class="code-comment">// By default this means the center longitude is wrapped around the dateline so its</span>
</code></td></tr><tr><td id="L3977" class="css-a4x74f"><span>3977</span></td><td id="LC3977" class="css-1dcdqdg"><code>	<span class="code-comment">// value is between -180 and +180 degrees, and the majority of the bounds</span>
</code></td></tr><tr><td id="L3978" class="css-a4x74f"><span>3978</span></td><td id="LC3978" class="css-1dcdqdg"><code>	<span class="code-comment">// overlaps the CRS's bounds.</span>
</code></td></tr><tr><td id="L3979" class="css-a4x74f"><span>3979</span></td><td id="LC3979" class="css-1dcdqdg"><code>	wrapLatLngBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L3980" class="css-a4x74f"><span>3980</span></td><td id="LC3980" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.crs.wrapLatLngBounds(toLatLngBounds(latlng));
</code></td></tr><tr><td id="L3981" class="css-a4x74f"><span>3981</span></td><td id="LC3981" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3982" class="css-a4x74f"><span>3982</span></td><td id="LC3982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3983" class="css-a4x74f"><span>3983</span></td><td id="LC3983" class="css-1dcdqdg"><code>	<span class="code-comment">// @method distance(latlng1: LatLng, latlng2: LatLng): Number</span>
</code></td></tr><tr><td id="L3984" class="css-a4x74f"><span>3984</span></td><td id="LC3984" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the distance between two geographical coordinates according to</span>
</code></td></tr><tr><td id="L3985" class="css-a4x74f"><span>3985</span></td><td id="LC3985" class="css-1dcdqdg"><code>	<span class="code-comment">// the map's CRS. By default this measures distance in meters.</span>
</code></td></tr><tr><td id="L3986" class="css-a4x74f"><span>3986</span></td><td id="LC3986" class="css-1dcdqdg"><code>	distance: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng1, latlng2</span>) </span>{
</code></td></tr><tr><td id="L3987" class="css-a4x74f"><span>3987</span></td><td id="LC3987" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.crs.distance(toLatLng(latlng1), toLatLng(latlng2));
</code></td></tr><tr><td id="L3988" class="css-a4x74f"><span>3988</span></td><td id="LC3988" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3989" class="css-a4x74f"><span>3989</span></td><td id="LC3989" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3990" class="css-a4x74f"><span>3990</span></td><td id="LC3990" class="css-1dcdqdg"><code>	<span class="code-comment">// @method containerPointToLayerPoint(point: Point): Point</span>
</code></td></tr><tr><td id="L3991" class="css-a4x74f"><span>3991</span></td><td id="LC3991" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a pixel coordinate relative to the map container, returns the corresponding</span>
</code></td></tr><tr><td id="L3992" class="css-a4x74f"><span>3992</span></td><td id="LC3992" class="css-1dcdqdg"><code>	<span class="code-comment">// pixel coordinate relative to the [origin pixel](#map-getpixelorigin).</span>
</code></td></tr><tr><td id="L3993" class="css-a4x74f"><span>3993</span></td><td id="LC3993" class="css-1dcdqdg"><code>	containerPointToLayerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{ <span class="code-comment">// (Point)</span>
</code></td></tr><tr><td id="L3994" class="css-a4x74f"><span>3994</span></td><td id="LC3994" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toPoint(point).subtract(<span class="code-keyword">this</span>._getMapPanePos());
</code></td></tr><tr><td id="L3995" class="css-a4x74f"><span>3995</span></td><td id="LC3995" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L3996" class="css-a4x74f"><span>3996</span></td><td id="LC3996" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L3997" class="css-a4x74f"><span>3997</span></td><td id="LC3997" class="css-1dcdqdg"><code>	<span class="code-comment">// @method layerPointToContainerPoint(point: Point): Point</span>
</code></td></tr><tr><td id="L3998" class="css-a4x74f"><span>3998</span></td><td id="LC3998" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),</span>
</code></td></tr><tr><td id="L3999" class="css-a4x74f"><span>3999</span></td><td id="LC3999" class="css-1dcdqdg"><code>	<span class="code-comment">// returns the corresponding pixel coordinate relative to the map container.</span>
</code></td></tr><tr><td id="L4000" class="css-a4x74f"><span>4000</span></td><td id="LC4000" class="css-1dcdqdg"><code>	layerPointToContainerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{ <span class="code-comment">// (Point)</span>
</code></td></tr><tr><td id="L4001" class="css-a4x74f"><span>4001</span></td><td id="LC4001" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toPoint(point).add(<span class="code-keyword">this</span>._getMapPanePos());
</code></td></tr><tr><td id="L4002" class="css-a4x74f"><span>4002</span></td><td id="LC4002" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4003" class="css-a4x74f"><span>4003</span></td><td id="LC4003" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4004" class="css-a4x74f"><span>4004</span></td><td id="LC4004" class="css-1dcdqdg"><code>	<span class="code-comment">// @method containerPointToLatLng(point: Point): LatLng</span>
</code></td></tr><tr><td id="L4005" class="css-a4x74f"><span>4005</span></td><td id="LC4005" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a pixel coordinate relative to the map container, returns</span>
</code></td></tr><tr><td id="L4006" class="css-a4x74f"><span>4006</span></td><td id="LC4006" class="css-1dcdqdg"><code>	<span class="code-comment">// the corresponding geographical coordinate (for the current zoom level).</span>
</code></td></tr><tr><td id="L4007" class="css-a4x74f"><span>4007</span></td><td id="LC4007" class="css-1dcdqdg"><code>	containerPointToLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L4008" class="css-a4x74f"><span>4008</span></td><td id="LC4008" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layerPoint = <span class="code-keyword">this</span>.containerPointToLayerPoint(toPoint(point));
</code></td></tr><tr><td id="L4009" class="css-a4x74f"><span>4009</span></td><td id="LC4009" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.layerPointToLatLng(layerPoint);
</code></td></tr><tr><td id="L4010" class="css-a4x74f"><span>4010</span></td><td id="LC4010" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4011" class="css-a4x74f"><span>4011</span></td><td id="LC4011" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4012" class="css-a4x74f"><span>4012</span></td><td id="LC4012" class="css-1dcdqdg"><code>	<span class="code-comment">// @method latLngToContainerPoint(latlng: LatLng): Point</span>
</code></td></tr><tr><td id="L4013" class="css-a4x74f"><span>4013</span></td><td id="LC4013" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a geographical coordinate, returns the corresponding pixel coordinate</span>
</code></td></tr><tr><td id="L4014" class="css-a4x74f"><span>4014</span></td><td id="LC4014" class="css-1dcdqdg"><code>	<span class="code-comment">// relative to the map container.</span>
</code></td></tr><tr><td id="L4015" class="css-a4x74f"><span>4015</span></td><td id="LC4015" class="css-1dcdqdg"><code>	latLngToContainerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L4016" class="css-a4x74f"><span>4016</span></td><td id="LC4016" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.layerPointToContainerPoint(<span class="code-keyword">this</span>.latLngToLayerPoint(toLatLng(latlng)));
</code></td></tr><tr><td id="L4017" class="css-a4x74f"><span>4017</span></td><td id="LC4017" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4018" class="css-a4x74f"><span>4018</span></td><td id="LC4018" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4019" class="css-a4x74f"><span>4019</span></td><td id="LC4019" class="css-1dcdqdg"><code>	<span class="code-comment">// @method mouseEventToContainerPoint(ev: MouseEvent): Point</span>
</code></td></tr><tr><td id="L4020" class="css-a4x74f"><span>4020</span></td><td id="LC4020" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a MouseEvent object, returns the pixel coordinate relative to the</span>
</code></td></tr><tr><td id="L4021" class="css-a4x74f"><span>4021</span></td><td id="LC4021" class="css-1dcdqdg"><code>	<span class="code-comment">// map container where the event took place.</span>
</code></td></tr><tr><td id="L4022" class="css-a4x74f"><span>4022</span></td><td id="LC4022" class="css-1dcdqdg"><code>	mouseEventToContainerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L4023" class="css-a4x74f"><span>4023</span></td><td id="LC4023" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> getMousePosition(e, <span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L4024" class="css-a4x74f"><span>4024</span></td><td id="LC4024" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4025" class="css-a4x74f"><span>4025</span></td><td id="LC4025" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4026" class="css-a4x74f"><span>4026</span></td><td id="LC4026" class="css-1dcdqdg"><code>	<span class="code-comment">// @method mouseEventToLayerPoint(ev: MouseEvent): Point</span>
</code></td></tr><tr><td id="L4027" class="css-a4x74f"><span>4027</span></td><td id="LC4027" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a MouseEvent object, returns the pixel coordinate relative to</span>
</code></td></tr><tr><td id="L4028" class="css-a4x74f"><span>4028</span></td><td id="LC4028" class="css-1dcdqdg"><code>	<span class="code-comment">// the [origin pixel](#map-getpixelorigin) where the event took place.</span>
</code></td></tr><tr><td id="L4029" class="css-a4x74f"><span>4029</span></td><td id="LC4029" class="css-1dcdqdg"><code>	mouseEventToLayerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L4030" class="css-a4x74f"><span>4030</span></td><td id="LC4030" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.containerPointToLayerPoint(<span class="code-keyword">this</span>.mouseEventToContainerPoint(e));
</code></td></tr><tr><td id="L4031" class="css-a4x74f"><span>4031</span></td><td id="LC4031" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4032" class="css-a4x74f"><span>4032</span></td><td id="LC4032" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4033" class="css-a4x74f"><span>4033</span></td><td id="LC4033" class="css-1dcdqdg"><code>	<span class="code-comment">// @method mouseEventToLatLng(ev: MouseEvent): LatLng</span>
</code></td></tr><tr><td id="L4034" class="css-a4x74f"><span>4034</span></td><td id="LC4034" class="css-1dcdqdg"><code>	<span class="code-comment">// Given a MouseEvent object, returns geographical coordinate where the</span>
</code></td></tr><tr><td id="L4035" class="css-a4x74f"><span>4035</span></td><td id="LC4035" class="css-1dcdqdg"><code>	<span class="code-comment">// event took place.</span>
</code></td></tr><tr><td id="L4036" class="css-a4x74f"><span>4036</span></td><td id="LC4036" class="css-1dcdqdg"><code>	mouseEventToLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{ <span class="code-comment">// (MouseEvent)</span>
</code></td></tr><tr><td id="L4037" class="css-a4x74f"><span>4037</span></td><td id="LC4037" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.layerPointToLatLng(<span class="code-keyword">this</span>.mouseEventToLayerPoint(e));
</code></td></tr><tr><td id="L4038" class="css-a4x74f"><span>4038</span></td><td id="LC4038" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4039" class="css-a4x74f"><span>4039</span></td><td id="LC4039" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4040" class="css-a4x74f"><span>4040</span></td><td id="LC4040" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4041" class="css-a4x74f"><span>4041</span></td><td id="LC4041" class="css-1dcdqdg"><code>	<span class="code-comment">// map initialization methods</span>
</code></td></tr><tr><td id="L4042" class="css-a4x74f"><span>4042</span></td><td id="LC4042" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4043" class="css-a4x74f"><span>4043</span></td><td id="LC4043" class="css-1dcdqdg"><code>	_initContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">id</span>) </span>{
</code></td></tr><tr><td id="L4044" class="css-a4x74f"><span>4044</span></td><td id="LC4044" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = <span class="code-keyword">this</span>._container = <span class="code-keyword">get</span>(id);
</code></td></tr><tr><td id="L4045" class="css-a4x74f"><span>4045</span></td><td id="LC4045" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4046" class="css-a4x74f"><span>4046</span></td><td id="LC4046" class="css-1dcdqdg"><code>		if (!container) {
</code></td></tr><tr><td id="L4047" class="css-a4x74f"><span>4047</span></td><td id="LC4047" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Map container not found.'</span>);
</code></td></tr><tr><td id="L4048" class="css-a4x74f"><span>4048</span></td><td id="LC4048" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (container._leaflet_id) {
</code></td></tr><tr><td id="L4049" class="css-a4x74f"><span>4049</span></td><td id="LC4049" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Map container is already initialized.'</span>);
</code></td></tr><tr><td id="L4050" class="css-a4x74f"><span>4050</span></td><td id="LC4050" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4051" class="css-a4x74f"><span>4051</span></td><td id="LC4051" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4052" class="css-a4x74f"><span>4052</span></td><td id="LC4052" class="css-1dcdqdg"><code>		on(container, <span class="code-string">'scroll'</span>, <span class="code-keyword">this</span>._onScroll, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4053" class="css-a4x74f"><span>4053</span></td><td id="LC4053" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._containerId = stamp(container);
</code></td></tr><tr><td id="L4054" class="css-a4x74f"><span>4054</span></td><td id="LC4054" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4055" class="css-a4x74f"><span>4055</span></td><td id="LC4055" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4056" class="css-a4x74f"><span>4056</span></td><td id="LC4056" class="css-1dcdqdg"><code>	_initLayout: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4057" class="css-a4x74f"><span>4057</span></td><td id="LC4057" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L4058" class="css-a4x74f"><span>4058</span></td><td id="LC4058" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4059" class="css-a4x74f"><span>4059</span></td><td id="LC4059" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._fadeAnimated = <span class="code-keyword">this</span>.options.fadeAnimation &amp;&amp; Browser.any3d;
</code></td></tr><tr><td id="L4060" class="css-a4x74f"><span>4060</span></td><td id="LC4060" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4061" class="css-a4x74f"><span>4061</span></td><td id="LC4061" class="css-1dcdqdg"><code>		addClass(container, <span class="code-string">'leaflet-container'</span> +
</code></td></tr><tr><td id="L4062" class="css-a4x74f"><span>4062</span></td><td id="LC4062" class="css-1dcdqdg"><code>			(Browser.touch ? <span class="code-string">' leaflet-touch'</span> : <span class="code-string">''</span>) +
</code></td></tr><tr><td id="L4063" class="css-a4x74f"><span>4063</span></td><td id="LC4063" class="css-1dcdqdg"><code>			(Browser.retina ? <span class="code-string">' leaflet-retina'</span> : <span class="code-string">''</span>) +
</code></td></tr><tr><td id="L4064" class="css-a4x74f"><span>4064</span></td><td id="LC4064" class="css-1dcdqdg"><code>			(Browser.ielt9 ? <span class="code-string">' leaflet-oldie'</span> : <span class="code-string">''</span>) +
</code></td></tr><tr><td id="L4065" class="css-a4x74f"><span>4065</span></td><td id="LC4065" class="css-1dcdqdg"><code>			(Browser.safari ? <span class="code-string">' leaflet-safari'</span> : <span class="code-string">''</span>) +
</code></td></tr><tr><td id="L4066" class="css-a4x74f"><span>4066</span></td><td id="LC4066" class="css-1dcdqdg"><code>			(<span class="code-keyword">this</span>._fadeAnimated ? <span class="code-string">' leaflet-fade-anim'</span> : <span class="code-string">''</span>));
</code></td></tr><tr><td id="L4067" class="css-a4x74f"><span>4067</span></td><td id="LC4067" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4068" class="css-a4x74f"><span>4068</span></td><td id="LC4068" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> position = getStyle(container, <span class="code-string">'position'</span>);
</code></td></tr><tr><td id="L4069" class="css-a4x74f"><span>4069</span></td><td id="LC4069" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4070" class="css-a4x74f"><span>4070</span></td><td id="LC4070" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (position !== <span class="code-string">'absolute'</span> &amp;&amp; position !== <span class="code-string">'relative'</span> &amp;&amp; position !== <span class="code-string">'fixed'</span>) {
</code></td></tr><tr><td id="L4071" class="css-a4x74f"><span>4071</span></td><td id="LC4071" class="css-1dcdqdg"><code>			container.style.position = <span class="code-string">'relative'</span>;
</code></td></tr><tr><td id="L4072" class="css-a4x74f"><span>4072</span></td><td id="LC4072" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4073" class="css-a4x74f"><span>4073</span></td><td id="LC4073" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4074" class="css-a4x74f"><span>4074</span></td><td id="LC4074" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initPanes();
</code></td></tr><tr><td id="L4075" class="css-a4x74f"><span>4075</span></td><td id="LC4075" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4076" class="css-a4x74f"><span>4076</span></td><td id="LC4076" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._initControlPos) {
</code></td></tr><tr><td id="L4077" class="css-a4x74f"><span>4077</span></td><td id="LC4077" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._initControlPos();
</code></td></tr><tr><td id="L4078" class="css-a4x74f"><span>4078</span></td><td id="LC4078" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4079" class="css-a4x74f"><span>4079</span></td><td id="LC4079" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4080" class="css-a4x74f"><span>4080</span></td><td id="LC4080" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4081" class="css-a4x74f"><span>4081</span></td><td id="LC4081" class="css-1dcdqdg"><code>	_initPanes: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4082" class="css-a4x74f"><span>4082</span></td><td id="LC4082" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> panes = <span class="code-keyword">this</span>._panes = {};
</code></td></tr><tr><td id="L4083" class="css-a4x74f"><span>4083</span></td><td id="LC4083" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._paneRenderers = {};
</code></td></tr><tr><td id="L4084" class="css-a4x74f"><span>4084</span></td><td id="LC4084" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4085" class="css-a4x74f"><span>4085</span></td><td id="LC4085" class="css-1dcdqdg"><code>		<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L4086" class="css-a4x74f"><span>4086</span></td><td id="LC4086" class="css-1dcdqdg"><code>		<span class="code-comment">//</span>
</code></td></tr><tr><td id="L4087" class="css-a4x74f"><span>4087</span></td><td id="LC4087" class="css-1dcdqdg"><code>		<span class="code-comment">// Panes are DOM elements used to control the ordering of layers on the map. You</span>
</code></td></tr><tr><td id="L4088" class="css-a4x74f"><span>4088</span></td><td id="LC4088" class="css-1dcdqdg"><code>		<span class="code-comment">// can access panes with [`map.getPane`](#map-getpane) or</span>
</code></td></tr><tr><td id="L4089" class="css-a4x74f"><span>4089</span></td><td id="LC4089" class="css-1dcdqdg"><code>		<span class="code-comment">// [`map.getPanes`](#map-getpanes) methods. New panes can be created with the</span>
</code></td></tr><tr><td id="L4090" class="css-a4x74f"><span>4090</span></td><td id="LC4090" class="css-1dcdqdg"><code>		<span class="code-comment">// [`map.createPane`](#map-createpane) method.</span>
</code></td></tr><tr><td id="L4091" class="css-a4x74f"><span>4091</span></td><td id="LC4091" class="css-1dcdqdg"><code>		<span class="code-comment">//</span>
</code></td></tr><tr><td id="L4092" class="css-a4x74f"><span>4092</span></td><td id="LC4092" class="css-1dcdqdg"><code>		<span class="code-comment">// Every map has the following default panes that differ only in zIndex.</span>
</code></td></tr><tr><td id="L4093" class="css-a4x74f"><span>4093</span></td><td id="LC4093" class="css-1dcdqdg"><code>		<span class="code-comment">//</span>
</code></td></tr><tr><td id="L4094" class="css-a4x74f"><span>4094</span></td><td id="LC4094" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane mapPane: HTMLElement = 'auto'</span>
</code></td></tr><tr><td id="L4095" class="css-a4x74f"><span>4095</span></td><td id="LC4095" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane that contains all other map panes</span>
</code></td></tr><tr><td id="L4096" class="css-a4x74f"><span>4096</span></td><td id="LC4096" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4097" class="css-a4x74f"><span>4097</span></td><td id="LC4097" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._mapPane = <span class="code-keyword">this</span>.createPane(<span class="code-string">'mapPane'</span>, <span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L4098" class="css-a4x74f"><span>4098</span></td><td id="LC4098" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._mapPane, <span class="code-keyword">new</span> Point(<span class="code-number">0</span>, <span class="code-number">0</span>));
</code></td></tr><tr><td id="L4099" class="css-a4x74f"><span>4099</span></td><td id="LC4099" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4100" class="css-a4x74f"><span>4100</span></td><td id="LC4100" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane tilePane: HTMLElement = 200</span>
</code></td></tr><tr><td id="L4101" class="css-a4x74f"><span>4101</span></td><td id="LC4101" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane for `GridLayer`s and `TileLayer`s</span>
</code></td></tr><tr><td id="L4102" class="css-a4x74f"><span>4102</span></td><td id="LC4102" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.createPane(<span class="code-string">'tilePane'</span>);
</code></td></tr><tr><td id="L4103" class="css-a4x74f"><span>4103</span></td><td id="LC4103" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane overlayPane: HTMLElement = 400</span>
</code></td></tr><tr><td id="L4104" class="css-a4x74f"><span>4104</span></td><td id="LC4104" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane for vectors (`Path`s, like `Polyline`s and `Polygon`s), `ImageOverlay`s and `VideoOverlay`s</span>
</code></td></tr><tr><td id="L4105" class="css-a4x74f"><span>4105</span></td><td id="LC4105" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.createPane(<span class="code-string">'overlayPane'</span>);
</code></td></tr><tr><td id="L4106" class="css-a4x74f"><span>4106</span></td><td id="LC4106" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane shadowPane: HTMLElement = 500</span>
</code></td></tr><tr><td id="L4107" class="css-a4x74f"><span>4107</span></td><td id="LC4107" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane for overlay shadows (e.g. `Marker` shadows)</span>
</code></td></tr><tr><td id="L4108" class="css-a4x74f"><span>4108</span></td><td id="LC4108" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.createPane(<span class="code-string">'shadowPane'</span>);
</code></td></tr><tr><td id="L4109" class="css-a4x74f"><span>4109</span></td><td id="LC4109" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane markerPane: HTMLElement = 600</span>
</code></td></tr><tr><td id="L4110" class="css-a4x74f"><span>4110</span></td><td id="LC4110" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane for `Icon`s of `Marker`s</span>
</code></td></tr><tr><td id="L4111" class="css-a4x74f"><span>4111</span></td><td id="LC4111" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.createPane(<span class="code-string">'markerPane'</span>);
</code></td></tr><tr><td id="L4112" class="css-a4x74f"><span>4112</span></td><td id="LC4112" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane tooltipPane: HTMLElement = 650</span>
</code></td></tr><tr><td id="L4113" class="css-a4x74f"><span>4113</span></td><td id="LC4113" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane for `Tooltip`s.</span>
</code></td></tr><tr><td id="L4114" class="css-a4x74f"><span>4114</span></td><td id="LC4114" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.createPane(<span class="code-string">'tooltipPane'</span>);
</code></td></tr><tr><td id="L4115" class="css-a4x74f"><span>4115</span></td><td id="LC4115" class="css-1dcdqdg"><code>		<span class="code-comment">// @pane popupPane: HTMLElement = 700</span>
</code></td></tr><tr><td id="L4116" class="css-a4x74f"><span>4116</span></td><td id="LC4116" class="css-1dcdqdg"><code>		<span class="code-comment">// Pane for `Popup`s.</span>
</code></td></tr><tr><td id="L4117" class="css-a4x74f"><span>4117</span></td><td id="LC4117" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.createPane(<span class="code-string">'popupPane'</span>);
</code></td></tr><tr><td id="L4118" class="css-a4x74f"><span>4118</span></td><td id="LC4118" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4119" class="css-a4x74f"><span>4119</span></td><td id="LC4119" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.markerZoomAnimation) {
</code></td></tr><tr><td id="L4120" class="css-a4x74f"><span>4120</span></td><td id="LC4120" class="css-1dcdqdg"><code>			addClass(panes.markerPane, <span class="code-string">'leaflet-zoom-hide'</span>);
</code></td></tr><tr><td id="L4121" class="css-a4x74f"><span>4121</span></td><td id="LC4121" class="css-1dcdqdg"><code>			addClass(panes.shadowPane, <span class="code-string">'leaflet-zoom-hide'</span>);
</code></td></tr><tr><td id="L4122" class="css-a4x74f"><span>4122</span></td><td id="LC4122" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4123" class="css-a4x74f"><span>4123</span></td><td id="LC4123" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4124" class="css-a4x74f"><span>4124</span></td><td id="LC4124" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4125" class="css-a4x74f"><span>4125</span></td><td id="LC4125" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4126" class="css-a4x74f"><span>4126</span></td><td id="LC4126" class="css-1dcdqdg"><code>	<span class="code-comment">// private methods that modify map state</span>
</code></td></tr><tr><td id="L4127" class="css-a4x74f"><span>4127</span></td><td id="LC4127" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4128" class="css-a4x74f"><span>4128</span></td><td id="LC4128" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Map state change events</span>
</code></td></tr><tr><td id="L4129" class="css-a4x74f"><span>4129</span></td><td id="LC4129" class="css-1dcdqdg"><code>	_resetView: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom</span>) </span>{
</code></td></tr><tr><td id="L4130" class="css-a4x74f"><span>4130</span></td><td id="LC4130" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._mapPane, <span class="code-keyword">new</span> Point(<span class="code-number">0</span>, <span class="code-number">0</span>));
</code></td></tr><tr><td id="L4131" class="css-a4x74f"><span>4131</span></td><td id="LC4131" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4132" class="css-a4x74f"><span>4132</span></td><td id="LC4132" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> loading = !<span class="code-keyword">this</span>._loaded;
</code></td></tr><tr><td id="L4133" class="css-a4x74f"><span>4133</span></td><td id="LC4133" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._loaded = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4134" class="css-a4x74f"><span>4134</span></td><td id="LC4134" class="css-1dcdqdg"><code>		zoom = <span class="code-keyword">this</span>._limitZoom(zoom);
</code></td></tr><tr><td id="L4135" class="css-a4x74f"><span>4135</span></td><td id="LC4135" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4136" class="css-a4x74f"><span>4136</span></td><td id="LC4136" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'viewprereset'</span>);
</code></td></tr><tr><td id="L4137" class="css-a4x74f"><span>4137</span></td><td id="LC4137" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4138" class="css-a4x74f"><span>4138</span></td><td id="LC4138" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoomChanged = <span class="code-keyword">this</span>._zoom !== zoom;
</code></td></tr><tr><td id="L4139" class="css-a4x74f"><span>4139</span></td><td id="LC4139" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>
</code></td></tr><tr><td id="L4140" class="css-a4x74f"><span>4140</span></td><td id="LC4140" class="css-1dcdqdg"><code>			._moveStart(zoomChanged, <span class="code-literal">false</span>)
</code></td></tr><tr><td id="L4141" class="css-a4x74f"><span>4141</span></td><td id="LC4141" class="css-1dcdqdg"><code>			._move(center, zoom)
</code></td></tr><tr><td id="L4142" class="css-a4x74f"><span>4142</span></td><td id="LC4142" class="css-1dcdqdg"><code>			._moveEnd(zoomChanged);
</code></td></tr><tr><td id="L4143" class="css-a4x74f"><span>4143</span></td><td id="LC4143" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4144" class="css-a4x74f"><span>4144</span></td><td id="LC4144" class="css-1dcdqdg"><code>		<span class="code-comment">// @event viewreset: Event</span>
</code></td></tr><tr><td id="L4145" class="css-a4x74f"><span>4145</span></td><td id="LC4145" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the map needs to redraw its content (this usually happens</span>
</code></td></tr><tr><td id="L4146" class="css-a4x74f"><span>4146</span></td><td id="LC4146" class="css-1dcdqdg"><code>		<span class="code-comment">// on map zoom or load). Very useful for creating custom overlays.</span>
</code></td></tr><tr><td id="L4147" class="css-a4x74f"><span>4147</span></td><td id="LC4147" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'viewreset'</span>);
</code></td></tr><tr><td id="L4148" class="css-a4x74f"><span>4148</span></td><td id="LC4148" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4149" class="css-a4x74f"><span>4149</span></td><td id="LC4149" class="css-1dcdqdg"><code>		<span class="code-comment">// @event load: Event</span>
</code></td></tr><tr><td id="L4150" class="css-a4x74f"><span>4150</span></td><td id="LC4150" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the map is initialized (when its center and zoom are set</span>
</code></td></tr><tr><td id="L4151" class="css-a4x74f"><span>4151</span></td><td id="LC4151" class="css-1dcdqdg"><code>		<span class="code-comment">// for the first time).</span>
</code></td></tr><tr><td id="L4152" class="css-a4x74f"><span>4152</span></td><td id="LC4152" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (loading) {
</code></td></tr><tr><td id="L4153" class="css-a4x74f"><span>4153</span></td><td id="LC4153" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'load'</span>);
</code></td></tr><tr><td id="L4154" class="css-a4x74f"><span>4154</span></td><td id="LC4154" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4155" class="css-a4x74f"><span>4155</span></td><td id="LC4155" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4156" class="css-a4x74f"><span>4156</span></td><td id="LC4156" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4157" class="css-a4x74f"><span>4157</span></td><td id="LC4157" class="css-1dcdqdg"><code>	_moveStart: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoomChanged, noMoveStart</span>) </span>{
</code></td></tr><tr><td id="L4158" class="css-a4x74f"><span>4158</span></td><td id="LC4158" class="css-1dcdqdg"><code>		<span class="code-comment">// @event zoomstart: Event</span>
</code></td></tr><tr><td id="L4159" class="css-a4x74f"><span>4159</span></td><td id="LC4159" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the map zoom is about to change (e.g. before zoom animation).</span>
</code></td></tr><tr><td id="L4160" class="css-a4x74f"><span>4160</span></td><td id="LC4160" class="css-1dcdqdg"><code>		<span class="code-comment">// @event movestart: Event</span>
</code></td></tr><tr><td id="L4161" class="css-a4x74f"><span>4161</span></td><td id="LC4161" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the view of the map starts changing (e.g. user starts dragging the map).</span>
</code></td></tr><tr><td id="L4162" class="css-a4x74f"><span>4162</span></td><td id="LC4162" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoomChanged) {
</code></td></tr><tr><td id="L4163" class="css-a4x74f"><span>4163</span></td><td id="LC4163" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoomstart'</span>);
</code></td></tr><tr><td id="L4164" class="css-a4x74f"><span>4164</span></td><td id="LC4164" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4165" class="css-a4x74f"><span>4165</span></td><td id="LC4165" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!noMoveStart) {
</code></td></tr><tr><td id="L4166" class="css-a4x74f"><span>4166</span></td><td id="LC4166" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'movestart'</span>);
</code></td></tr><tr><td id="L4167" class="css-a4x74f"><span>4167</span></td><td id="LC4167" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4168" class="css-a4x74f"><span>4168</span></td><td id="LC4168" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4169" class="css-a4x74f"><span>4169</span></td><td id="LC4169" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4170" class="css-a4x74f"><span>4170</span></td><td id="LC4170" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4171" class="css-a4x74f"><span>4171</span></td><td id="LC4171" class="css-1dcdqdg"><code>	_move: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom, data, supressEvent</span>) </span>{
</code></td></tr><tr><td id="L4172" class="css-a4x74f"><span>4172</span></td><td id="LC4172" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoom === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L4173" class="css-a4x74f"><span>4173</span></td><td id="LC4173" class="css-1dcdqdg"><code>			zoom = <span class="code-keyword">this</span>._zoom;
</code></td></tr><tr><td id="L4174" class="css-a4x74f"><span>4174</span></td><td id="LC4174" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4175" class="css-a4x74f"><span>4175</span></td><td id="LC4175" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoomChanged = <span class="code-keyword">this</span>._zoom !== zoom;
</code></td></tr><tr><td id="L4176" class="css-a4x74f"><span>4176</span></td><td id="LC4176" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4177" class="css-a4x74f"><span>4177</span></td><td id="LC4177" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoom = zoom;
</code></td></tr><tr><td id="L4178" class="css-a4x74f"><span>4178</span></td><td id="LC4178" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._lastCenter = center;
</code></td></tr><tr><td id="L4179" class="css-a4x74f"><span>4179</span></td><td id="LC4179" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._pixelOrigin = <span class="code-keyword">this</span>._getNewPixelOrigin(center);
</code></td></tr><tr><td id="L4180" class="css-a4x74f"><span>4180</span></td><td id="LC4180" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4181" class="css-a4x74f"><span>4181</span></td><td id="LC4181" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!supressEvent) {
</code></td></tr><tr><td id="L4182" class="css-a4x74f"><span>4182</span></td><td id="LC4182" class="css-1dcdqdg"><code>			<span class="code-comment">// @event zoom: Event</span>
</code></td></tr><tr><td id="L4183" class="css-a4x74f"><span>4183</span></td><td id="LC4183" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired repeatedly during any change in zoom level,</span>
</code></td></tr><tr><td id="L4184" class="css-a4x74f"><span>4184</span></td><td id="LC4184" class="css-1dcdqdg"><code>			<span class="code-comment">// including zoom and fly animations.</span>
</code></td></tr><tr><td id="L4185" class="css-a4x74f"><span>4185</span></td><td id="LC4185" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (zoomChanged || (data &amp;&amp; data.pinch)) {	<span class="code-comment">// Always fire 'zoom' if pinching because #3530</span>
</code></td></tr><tr><td id="L4186" class="css-a4x74f"><span>4186</span></td><td id="LC4186" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.fire(<span class="code-string">'zoom'</span>, data);
</code></td></tr><tr><td id="L4187" class="css-a4x74f"><span>4187</span></td><td id="LC4187" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L4188" class="css-a4x74f"><span>4188</span></td><td id="LC4188" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4189" class="css-a4x74f"><span>4189</span></td><td id="LC4189" class="css-1dcdqdg"><code>			<span class="code-comment">// @event move: Event</span>
</code></td></tr><tr><td id="L4190" class="css-a4x74f"><span>4190</span></td><td id="LC4190" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired repeatedly during any movement of the map,</span>
</code></td></tr><tr><td id="L4191" class="css-a4x74f"><span>4191</span></td><td id="LC4191" class="css-1dcdqdg"><code>			<span class="code-comment">// including pan and fly animations.</span>
</code></td></tr><tr><td id="L4192" class="css-a4x74f"><span>4192</span></td><td id="LC4192" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>, data);
</code></td></tr><tr><td id="L4193" class="css-a4x74f"><span>4193</span></td><td id="LC4193" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (data &amp;&amp; data.pinch) {	<span class="code-comment">// Always fire 'zoom' if pinching because #3530</span>
</code></td></tr><tr><td id="L4194" class="css-a4x74f"><span>4194</span></td><td id="LC4194" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoom'</span>, data);
</code></td></tr><tr><td id="L4195" class="css-a4x74f"><span>4195</span></td><td id="LC4195" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4196" class="css-a4x74f"><span>4196</span></td><td id="LC4196" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4197" class="css-a4x74f"><span>4197</span></td><td id="LC4197" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4198" class="css-a4x74f"><span>4198</span></td><td id="LC4198" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4199" class="css-a4x74f"><span>4199</span></td><td id="LC4199" class="css-1dcdqdg"><code>	_moveEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoomChanged</span>) </span>{
</code></td></tr><tr><td id="L4200" class="css-a4x74f"><span>4200</span></td><td id="LC4200" class="css-1dcdqdg"><code>		<span class="code-comment">// @event zoomend: Event</span>
</code></td></tr><tr><td id="L4201" class="css-a4x74f"><span>4201</span></td><td id="LC4201" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the map zoom changed, after any animations.</span>
</code></td></tr><tr><td id="L4202" class="css-a4x74f"><span>4202</span></td><td id="LC4202" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoomChanged) {
</code></td></tr><tr><td id="L4203" class="css-a4x74f"><span>4203</span></td><td id="LC4203" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoomend'</span>);
</code></td></tr><tr><td id="L4204" class="css-a4x74f"><span>4204</span></td><td id="LC4204" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4205" class="css-a4x74f"><span>4205</span></td><td id="LC4205" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4206" class="css-a4x74f"><span>4206</span></td><td id="LC4206" class="css-1dcdqdg"><code>		<span class="code-comment">// @event moveend: Event</span>
</code></td></tr><tr><td id="L4207" class="css-a4x74f"><span>4207</span></td><td id="LC4207" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the center of the map stops changing</span>
</code></td></tr><tr><td id="L4208" class="css-a4x74f"><span>4208</span></td><td id="LC4208" class="css-1dcdqdg"><code>		<span class="code-comment">// (e.g. user stopped dragging the map or after non-centered zoom).</span>
</code></td></tr><tr><td id="L4209" class="css-a4x74f"><span>4209</span></td><td id="LC4209" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L4210" class="css-a4x74f"><span>4210</span></td><td id="LC4210" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4211" class="css-a4x74f"><span>4211</span></td><td id="LC4211" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4212" class="css-a4x74f"><span>4212</span></td><td id="LC4212" class="css-1dcdqdg"><code>	_stop: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4213" class="css-a4x74f"><span>4213</span></td><td id="LC4213" class="css-1dcdqdg"><code>		cancelAnimFrame(<span class="code-keyword">this</span>._flyToFrame);
</code></td></tr><tr><td id="L4214" class="css-a4x74f"><span>4214</span></td><td id="LC4214" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._panAnim) {
</code></td></tr><tr><td id="L4215" class="css-a4x74f"><span>4215</span></td><td id="LC4215" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panAnim.stop();
</code></td></tr><tr><td id="L4216" class="css-a4x74f"><span>4216</span></td><td id="LC4216" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4217" class="css-a4x74f"><span>4217</span></td><td id="LC4217" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4218" class="css-a4x74f"><span>4218</span></td><td id="LC4218" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4219" class="css-a4x74f"><span>4219</span></td><td id="LC4219" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4220" class="css-a4x74f"><span>4220</span></td><td id="LC4220" class="css-1dcdqdg"><code>	_rawPanBy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">offset</span>) </span>{
</code></td></tr><tr><td id="L4221" class="css-a4x74f"><span>4221</span></td><td id="LC4221" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._mapPane, <span class="code-keyword">this</span>._getMapPanePos().subtract(offset));
</code></td></tr><tr><td id="L4222" class="css-a4x74f"><span>4222</span></td><td id="LC4222" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4223" class="css-a4x74f"><span>4223</span></td><td id="LC4223" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4224" class="css-a4x74f"><span>4224</span></td><td id="LC4224" class="css-1dcdqdg"><code>	_getZoomSpan: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4225" class="css-a4x74f"><span>4225</span></td><td id="LC4225" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getMaxZoom() - <span class="code-keyword">this</span>.getMinZoom();
</code></td></tr><tr><td id="L4226" class="css-a4x74f"><span>4226</span></td><td id="LC4226" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4227" class="css-a4x74f"><span>4227</span></td><td id="LC4227" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4228" class="css-a4x74f"><span>4228</span></td><td id="LC4228" class="css-1dcdqdg"><code>	_panInsideMaxBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4229" class="css-a4x74f"><span>4229</span></td><td id="LC4229" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._enforcingBounds) {
</code></td></tr><tr><td id="L4230" class="css-a4x74f"><span>4230</span></td><td id="LC4230" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.panInsideBounds(<span class="code-keyword">this</span>.options.maxBounds);
</code></td></tr><tr><td id="L4231" class="css-a4x74f"><span>4231</span></td><td id="LC4231" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4232" class="css-a4x74f"><span>4232</span></td><td id="LC4232" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4233" class="css-a4x74f"><span>4233</span></td><td id="LC4233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4234" class="css-a4x74f"><span>4234</span></td><td id="LC4234" class="css-1dcdqdg"><code>	_checkIfLoaded: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4235" class="css-a4x74f"><span>4235</span></td><td id="LC4235" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L4236" class="css-a4x74f"><span>4236</span></td><td id="LC4236" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Set map center and zoom first.'</span>);
</code></td></tr><tr><td id="L4237" class="css-a4x74f"><span>4237</span></td><td id="LC4237" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4238" class="css-a4x74f"><span>4238</span></td><td id="LC4238" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4239" class="css-a4x74f"><span>4239</span></td><td id="LC4239" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4240" class="css-a4x74f"><span>4240</span></td><td id="LC4240" class="css-1dcdqdg"><code>	<span class="code-comment">// DOM event handling</span>
</code></td></tr><tr><td id="L4241" class="css-a4x74f"><span>4241</span></td><td id="LC4241" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4242" class="css-a4x74f"><span>4242</span></td><td id="LC4242" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Interaction events</span>
</code></td></tr><tr><td id="L4243" class="css-a4x74f"><span>4243</span></td><td id="LC4243" class="css-1dcdqdg"><code>	_initEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">remove</span>) </span>{
</code></td></tr><tr><td id="L4244" class="css-a4x74f"><span>4244</span></td><td id="LC4244" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._targets = {};
</code></td></tr><tr><td id="L4245" class="css-a4x74f"><span>4245</span></td><td id="LC4245" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._targets[stamp(<span class="code-keyword">this</span>._container)] = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4246" class="css-a4x74f"><span>4246</span></td><td id="LC4246" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4247" class="css-a4x74f"><span>4247</span></td><td id="LC4247" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> onOff = remove ? off : on;
</code></td></tr><tr><td id="L4248" class="css-a4x74f"><span>4248</span></td><td id="LC4248" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4249" class="css-a4x74f"><span>4249</span></td><td id="LC4249" class="css-1dcdqdg"><code>		<span class="code-comment">// @event click: MouseEvent</span>
</code></td></tr><tr><td id="L4250" class="css-a4x74f"><span>4250</span></td><td id="LC4250" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user clicks (or taps) the map.</span>
</code></td></tr><tr><td id="L4251" class="css-a4x74f"><span>4251</span></td><td id="LC4251" class="css-1dcdqdg"><code>		<span class="code-comment">// @event dblclick: MouseEvent</span>
</code></td></tr><tr><td id="L4252" class="css-a4x74f"><span>4252</span></td><td id="LC4252" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user double-clicks (or double-taps) the map.</span>
</code></td></tr><tr><td id="L4253" class="css-a4x74f"><span>4253</span></td><td id="LC4253" class="css-1dcdqdg"><code>		<span class="code-comment">// @event mousedown: MouseEvent</span>
</code></td></tr><tr><td id="L4254" class="css-a4x74f"><span>4254</span></td><td id="LC4254" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user pushes the mouse button on the map.</span>
</code></td></tr><tr><td id="L4255" class="css-a4x74f"><span>4255</span></td><td id="LC4255" class="css-1dcdqdg"><code>		<span class="code-comment">// @event mouseup: MouseEvent</span>
</code></td></tr><tr><td id="L4256" class="css-a4x74f"><span>4256</span></td><td id="LC4256" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user releases the mouse button on the map.</span>
</code></td></tr><tr><td id="L4257" class="css-a4x74f"><span>4257</span></td><td id="LC4257" class="css-1dcdqdg"><code>		<span class="code-comment">// @event mouseover: MouseEvent</span>
</code></td></tr><tr><td id="L4258" class="css-a4x74f"><span>4258</span></td><td id="LC4258" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the mouse enters the map.</span>
</code></td></tr><tr><td id="L4259" class="css-a4x74f"><span>4259</span></td><td id="LC4259" class="css-1dcdqdg"><code>		<span class="code-comment">// @event mouseout: MouseEvent</span>
</code></td></tr><tr><td id="L4260" class="css-a4x74f"><span>4260</span></td><td id="LC4260" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the mouse leaves the map.</span>
</code></td></tr><tr><td id="L4261" class="css-a4x74f"><span>4261</span></td><td id="LC4261" class="css-1dcdqdg"><code>		<span class="code-comment">// @event mousemove: MouseEvent</span>
</code></td></tr><tr><td id="L4262" class="css-a4x74f"><span>4262</span></td><td id="LC4262" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired while the mouse moves over the map.</span>
</code></td></tr><tr><td id="L4263" class="css-a4x74f"><span>4263</span></td><td id="LC4263" class="css-1dcdqdg"><code>		<span class="code-comment">// @event contextmenu: MouseEvent</span>
</code></td></tr><tr><td id="L4264" class="css-a4x74f"><span>4264</span></td><td id="LC4264" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user pushes the right mouse button on the map, prevents</span>
</code></td></tr><tr><td id="L4265" class="css-a4x74f"><span>4265</span></td><td id="LC4265" class="css-1dcdqdg"><code>		<span class="code-comment">// default browser context menu from showing if there are listeners on</span>
</code></td></tr><tr><td id="L4266" class="css-a4x74f"><span>4266</span></td><td id="LC4266" class="css-1dcdqdg"><code>		<span class="code-comment">// this event. Also fired on mobile when the user holds a single touch</span>
</code></td></tr><tr><td id="L4267" class="css-a4x74f"><span>4267</span></td><td id="LC4267" class="css-1dcdqdg"><code>		<span class="code-comment">// for a second (also called long press).</span>
</code></td></tr><tr><td id="L4268" class="css-a4x74f"><span>4268</span></td><td id="LC4268" class="css-1dcdqdg"><code>		<span class="code-comment">// @event keypress: KeyboardEvent</span>
</code></td></tr><tr><td id="L4269" class="css-a4x74f"><span>4269</span></td><td id="LC4269" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user presses a key from the keyboard that produces a character value while the map is focused.</span>
</code></td></tr><tr><td id="L4270" class="css-a4x74f"><span>4270</span></td><td id="LC4270" class="css-1dcdqdg"><code>		<span class="code-comment">// @event keydown: KeyboardEvent</span>
</code></td></tr><tr><td id="L4271" class="css-a4x74f"><span>4271</span></td><td id="LC4271" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user presses a key from the keyboard while the map is focused. Unlike the `keypress` event,</span>
</code></td></tr><tr><td id="L4272" class="css-a4x74f"><span>4272</span></td><td id="LC4272" class="css-1dcdqdg"><code>		<span class="code-comment">// the `keydown` event is fired for keys that produce a character value and for keys</span>
</code></td></tr><tr><td id="L4273" class="css-a4x74f"><span>4273</span></td><td id="LC4273" class="css-1dcdqdg"><code>		<span class="code-comment">// that do not produce a character value.</span>
</code></td></tr><tr><td id="L4274" class="css-a4x74f"><span>4274</span></td><td id="LC4274" class="css-1dcdqdg"><code>		<span class="code-comment">// @event keyup: KeyboardEvent</span>
</code></td></tr><tr><td id="L4275" class="css-a4x74f"><span>4275</span></td><td id="LC4275" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user releases a key from the keyboard while the map is focused.</span>
</code></td></tr><tr><td id="L4276" class="css-a4x74f"><span>4276</span></td><td id="LC4276" class="css-1dcdqdg"><code>		onOff(<span class="code-keyword">this</span>._container, <span class="code-string">'click dblclick mousedown mouseup '</span> +
</code></td></tr><tr><td id="L4277" class="css-a4x74f"><span>4277</span></td><td id="LC4277" class="css-1dcdqdg"><code>			<span class="code-string">'mouseover mouseout mousemove contextmenu keypress keydown keyup'</span>, <span class="code-keyword">this</span>._handleDOMEvent, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4278" class="css-a4x74f"><span>4278</span></td><td id="LC4278" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4279" class="css-a4x74f"><span>4279</span></td><td id="LC4279" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.trackResize) {
</code></td></tr><tr><td id="L4280" class="css-a4x74f"><span>4280</span></td><td id="LC4280" class="css-1dcdqdg"><code>			onOff(<span class="code-built_in">window</span>, <span class="code-string">'resize'</span>, <span class="code-keyword">this</span>._onResize, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4281" class="css-a4x74f"><span>4281</span></td><td id="LC4281" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4282" class="css-a4x74f"><span>4282</span></td><td id="LC4282" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4283" class="css-a4x74f"><span>4283</span></td><td id="LC4283" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.any3d &amp;&amp; <span class="code-keyword">this</span>.options.transform3DLimit) {
</code></td></tr><tr><td id="L4284" class="css-a4x74f"><span>4284</span></td><td id="LC4284" class="css-1dcdqdg"><code>			(remove ? <span class="code-keyword">this</span>.off : <span class="code-keyword">this</span>.on).call(<span class="code-keyword">this</span>, <span class="code-string">'moveend'</span>, <span class="code-keyword">this</span>._onMoveEnd);
</code></td></tr><tr><td id="L4285" class="css-a4x74f"><span>4285</span></td><td id="LC4285" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4286" class="css-a4x74f"><span>4286</span></td><td id="LC4286" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4287" class="css-a4x74f"><span>4287</span></td><td id="LC4287" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4288" class="css-a4x74f"><span>4288</span></td><td id="LC4288" class="css-1dcdqdg"><code>	_onResize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4289" class="css-a4x74f"><span>4289</span></td><td id="LC4289" class="css-1dcdqdg"><code>		cancelAnimFrame(<span class="code-keyword">this</span>._resizeRequest);
</code></td></tr><tr><td id="L4290" class="css-a4x74f"><span>4290</span></td><td id="LC4290" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resizeRequest = requestAnimFrame(
</code></td></tr><tr><td id="L4291" class="css-a4x74f"><span>4291</span></td><td id="LC4291" class="css-1dcdqdg"><code>		        <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{ <span class="code-keyword">this</span>.invalidateSize({<span class="code-attr">debounceMoveend</span>: <span class="code-literal">true</span>}); }, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4292" class="css-a4x74f"><span>4292</span></td><td id="LC4292" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4293" class="css-a4x74f"><span>4293</span></td><td id="LC4293" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4294" class="css-a4x74f"><span>4294</span></td><td id="LC4294" class="css-1dcdqdg"><code>	_onScroll: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4295" class="css-a4x74f"><span>4295</span></td><td id="LC4295" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.scrollTop  = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4296" class="css-a4x74f"><span>4296</span></td><td id="LC4296" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.scrollLeft = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4297" class="css-a4x74f"><span>4297</span></td><td id="LC4297" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4298" class="css-a4x74f"><span>4298</span></td><td id="LC4298" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4299" class="css-a4x74f"><span>4299</span></td><td id="LC4299" class="css-1dcdqdg"><code>	_onMoveEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4300" class="css-a4x74f"><span>4300</span></td><td id="LC4300" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._getMapPanePos();
</code></td></tr><tr><td id="L4301" class="css-a4x74f"><span>4301</span></td><td id="LC4301" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.abs(pos.x), <span class="code-built_in">Math</span>.abs(pos.y)) &gt;= <span class="code-keyword">this</span>.options.transform3DLimit) {
</code></td></tr><tr><td id="L4302" class="css-a4x74f"><span>4302</span></td><td id="LC4302" class="css-1dcdqdg"><code>			<span class="code-comment">// https://bugzilla.mozilla.org/show_bug.cgi?id=1203873 but Webkit also have</span>
</code></td></tr><tr><td id="L4303" class="css-a4x74f"><span>4303</span></td><td id="LC4303" class="css-1dcdqdg"><code>			<span class="code-comment">// a pixel offset on very high values, see: https://jsfiddle.net/dg6r5hhb/</span>
</code></td></tr><tr><td id="L4304" class="css-a4x74f"><span>4304</span></td><td id="LC4304" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._resetView(<span class="code-keyword">this</span>.getCenter(), <span class="code-keyword">this</span>.getZoom());
</code></td></tr><tr><td id="L4305" class="css-a4x74f"><span>4305</span></td><td id="LC4305" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4306" class="css-a4x74f"><span>4306</span></td><td id="LC4306" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4307" class="css-a4x74f"><span>4307</span></td><td id="LC4307" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4308" class="css-a4x74f"><span>4308</span></td><td id="LC4308" class="css-1dcdqdg"><code>	_findEventTargets: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e, type</span>) </span>{
</code></td></tr><tr><td id="L4309" class="css-a4x74f"><span>4309</span></td><td id="LC4309" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> targets = [],
</code></td></tr><tr><td id="L4310" class="css-a4x74f"><span>4310</span></td><td id="LC4310" class="css-1dcdqdg"><code>		    target,
</code></td></tr><tr><td id="L4311" class="css-a4x74f"><span>4311</span></td><td id="LC4311" class="css-1dcdqdg"><code>		    isHover = type === <span class="code-string">'mouseout'</span> || type === <span class="code-string">'mouseover'</span>,
</code></td></tr><tr><td id="L4312" class="css-a4x74f"><span>4312</span></td><td id="LC4312" class="css-1dcdqdg"><code>		    src = e.target || e.srcElement,
</code></td></tr><tr><td id="L4313" class="css-a4x74f"><span>4313</span></td><td id="LC4313" class="css-1dcdqdg"><code>		    dragging = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4314" class="css-a4x74f"><span>4314</span></td><td id="LC4314" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4315" class="css-a4x74f"><span>4315</span></td><td id="LC4315" class="css-1dcdqdg"><code>		<span class="code-keyword">while</span> (src) {
</code></td></tr><tr><td id="L4316" class="css-a4x74f"><span>4316</span></td><td id="LC4316" class="css-1dcdqdg"><code>			target = <span class="code-keyword">this</span>._targets[stamp(src)];
</code></td></tr><tr><td id="L4317" class="css-a4x74f"><span>4317</span></td><td id="LC4317" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (target &amp;&amp; (type === <span class="code-string">'click'</span> || type === <span class="code-string">'preclick'</span>) &amp;&amp; <span class="code-keyword">this</span>._draggableMoved(target)) {
</code></td></tr><tr><td id="L4318" class="css-a4x74f"><span>4318</span></td><td id="LC4318" class="css-1dcdqdg"><code>				<span class="code-comment">// Prevent firing click after you just dragged an object.</span>
</code></td></tr><tr><td id="L4319" class="css-a4x74f"><span>4319</span></td><td id="LC4319" class="css-1dcdqdg"><code>				dragging = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4320" class="css-a4x74f"><span>4320</span></td><td id="LC4320" class="css-1dcdqdg"><code>				<span class="code-keyword">break</span>;
</code></td></tr><tr><td id="L4321" class="css-a4x74f"><span>4321</span></td><td id="LC4321" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L4322" class="css-a4x74f"><span>4322</span></td><td id="LC4322" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (target &amp;&amp; target.listens(type, <span class="code-literal">true</span>)) {
</code></td></tr><tr><td id="L4323" class="css-a4x74f"><span>4323</span></td><td id="LC4323" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (isHover &amp;&amp; !isExternalTarget(src, e)) { <span class="code-keyword">break</span>; }
</code></td></tr><tr><td id="L4324" class="css-a4x74f"><span>4324</span></td><td id="LC4324" class="css-1dcdqdg"><code>				targets.push(target);
</code></td></tr><tr><td id="L4325" class="css-a4x74f"><span>4325</span></td><td id="LC4325" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (isHover) { <span class="code-keyword">break</span>; }
</code></td></tr><tr><td id="L4326" class="css-a4x74f"><span>4326</span></td><td id="LC4326" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L4327" class="css-a4x74f"><span>4327</span></td><td id="LC4327" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (src === <span class="code-keyword">this</span>._container) { <span class="code-keyword">break</span>; }
</code></td></tr><tr><td id="L4328" class="css-a4x74f"><span>4328</span></td><td id="LC4328" class="css-1dcdqdg"><code>			src = src.parentNode;
</code></td></tr><tr><td id="L4329" class="css-a4x74f"><span>4329</span></td><td id="LC4329" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4330" class="css-a4x74f"><span>4330</span></td><td id="LC4330" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!targets.length &amp;&amp; !dragging &amp;&amp; !isHover &amp;&amp; <span class="code-keyword">this</span>.listens(type, <span class="code-literal">true</span>)) {
</code></td></tr><tr><td id="L4331" class="css-a4x74f"><span>4331</span></td><td id="LC4331" class="css-1dcdqdg"><code>			targets = [<span class="code-keyword">this</span>];
</code></td></tr><tr><td id="L4332" class="css-a4x74f"><span>4332</span></td><td id="LC4332" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4333" class="css-a4x74f"><span>4333</span></td><td id="LC4333" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> targets;
</code></td></tr><tr><td id="L4334" class="css-a4x74f"><span>4334</span></td><td id="LC4334" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4335" class="css-a4x74f"><span>4335</span></td><td id="LC4335" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4336" class="css-a4x74f"><span>4336</span></td><td id="LC4336" class="css-1dcdqdg"><code>	_isClickDisabled: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">el</span>) </span>{
</code></td></tr><tr><td id="L4337" class="css-a4x74f"><span>4337</span></td><td id="LC4337" class="css-1dcdqdg"><code>		<span class="code-keyword">while</span> (el !== <span class="code-keyword">this</span>._container) {
</code></td></tr><tr><td id="L4338" class="css-a4x74f"><span>4338</span></td><td id="LC4338" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (el[<span class="code-string">'_leaflet_disable_click'</span>]) { <span class="code-keyword">return</span> <span class="code-literal">true</span>; }
</code></td></tr><tr><td id="L4339" class="css-a4x74f"><span>4339</span></td><td id="LC4339" class="css-1dcdqdg"><code>			el = el.parentNode;
</code></td></tr><tr><td id="L4340" class="css-a4x74f"><span>4340</span></td><td id="LC4340" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4341" class="css-a4x74f"><span>4341</span></td><td id="LC4341" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4342" class="css-a4x74f"><span>4342</span></td><td id="LC4342" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4343" class="css-a4x74f"><span>4343</span></td><td id="LC4343" class="css-1dcdqdg"><code>	_handleDOMEvent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L4344" class="css-a4x74f"><span>4344</span></td><td id="LC4344" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> el = (e.target || e.srcElement);
</code></td></tr><tr><td id="L4345" class="css-a4x74f"><span>4345</span></td><td id="LC4345" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._loaded || el[<span class="code-string">'_leaflet_disable_events'</span>] || e.type === <span class="code-string">'click'</span> &amp;&amp; <span class="code-keyword">this</span>._isClickDisabled(el)) {
</code></td></tr><tr><td id="L4346" class="css-a4x74f"><span>4346</span></td><td id="LC4346" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L4347" class="css-a4x74f"><span>4347</span></td><td id="LC4347" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4348" class="css-a4x74f"><span>4348</span></td><td id="LC4348" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4349" class="css-a4x74f"><span>4349</span></td><td id="LC4349" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> type = e.type;
</code></td></tr><tr><td id="L4350" class="css-a4x74f"><span>4350</span></td><td id="LC4350" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4351" class="css-a4x74f"><span>4351</span></td><td id="LC4351" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (type === <span class="code-string">'mousedown'</span>) {
</code></td></tr><tr><td id="L4352" class="css-a4x74f"><span>4352</span></td><td id="LC4352" class="css-1dcdqdg"><code>			<span class="code-comment">// prevents outline when clicking on keyboard-focusable element</span>
</code></td></tr><tr><td id="L4353" class="css-a4x74f"><span>4353</span></td><td id="LC4353" class="css-1dcdqdg"><code>			preventOutline(el);
</code></td></tr><tr><td id="L4354" class="css-a4x74f"><span>4354</span></td><td id="LC4354" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4355" class="css-a4x74f"><span>4355</span></td><td id="LC4355" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4356" class="css-a4x74f"><span>4356</span></td><td id="LC4356" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._fireDOMEvent(e, type);
</code></td></tr><tr><td id="L4357" class="css-a4x74f"><span>4357</span></td><td id="LC4357" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4358" class="css-a4x74f"><span>4358</span></td><td id="LC4358" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4359" class="css-a4x74f"><span>4359</span></td><td id="LC4359" class="css-1dcdqdg"><code>	_mouseEvents: [<span class="code-string">'click'</span>, <span class="code-string">'dblclick'</span>, <span class="code-string">'mouseover'</span>, <span class="code-string">'mouseout'</span>, <span class="code-string">'contextmenu'</span>],
</code></td></tr><tr><td id="L4360" class="css-a4x74f"><span>4360</span></td><td id="LC4360" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4361" class="css-a4x74f"><span>4361</span></td><td id="LC4361" class="css-1dcdqdg"><code>	_fireDOMEvent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e, type, canvasTargets</span>) </span>{
</code></td></tr><tr><td id="L4362" class="css-a4x74f"><span>4362</span></td><td id="LC4362" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4363" class="css-a4x74f"><span>4363</span></td><td id="LC4363" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.type === <span class="code-string">'click'</span>) {
</code></td></tr><tr><td id="L4364" class="css-a4x74f"><span>4364</span></td><td id="LC4364" class="css-1dcdqdg"><code>			<span class="code-comment">// Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).</span>
</code></td></tr><tr><td id="L4365" class="css-a4x74f"><span>4365</span></td><td id="LC4365" class="css-1dcdqdg"><code>			<span class="code-comment">// @event preclick: MouseEvent</span>
</code></td></tr><tr><td id="L4366" class="css-a4x74f"><span>4366</span></td><td id="LC4366" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired before mouse click on the map (sometimes useful when you</span>
</code></td></tr><tr><td id="L4367" class="css-a4x74f"><span>4367</span></td><td id="LC4367" class="css-1dcdqdg"><code>			<span class="code-comment">// want something to happen on click before any existing click</span>
</code></td></tr><tr><td id="L4368" class="css-a4x74f"><span>4368</span></td><td id="LC4368" class="css-1dcdqdg"><code>			<span class="code-comment">// handlers start running).</span>
</code></td></tr><tr><td id="L4369" class="css-a4x74f"><span>4369</span></td><td id="LC4369" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> synth = extend({}, e);
</code></td></tr><tr><td id="L4370" class="css-a4x74f"><span>4370</span></td><td id="LC4370" class="css-1dcdqdg"><code>			synth.type = <span class="code-string">'preclick'</span>;
</code></td></tr><tr><td id="L4371" class="css-a4x74f"><span>4371</span></td><td id="LC4371" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._fireDOMEvent(synth, synth.type, canvasTargets);
</code></td></tr><tr><td id="L4372" class="css-a4x74f"><span>4372</span></td><td id="LC4372" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4373" class="css-a4x74f"><span>4373</span></td><td id="LC4373" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4374" class="css-a4x74f"><span>4374</span></td><td id="LC4374" class="css-1dcdqdg"><code>		<span class="code-comment">// Find the layer the event is propagating from and its parents.</span>
</code></td></tr><tr><td id="L4375" class="css-a4x74f"><span>4375</span></td><td id="LC4375" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> targets = <span class="code-keyword">this</span>._findEventTargets(e, type);
</code></td></tr><tr><td id="L4376" class="css-a4x74f"><span>4376</span></td><td id="LC4376" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4377" class="css-a4x74f"><span>4377</span></td><td id="LC4377" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (canvasTargets) {
</code></td></tr><tr><td id="L4378" class="css-a4x74f"><span>4378</span></td><td id="LC4378" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> filtered = []; <span class="code-comment">// pick only targets with listeners</span>
</code></td></tr><tr><td id="L4379" class="css-a4x74f"><span>4379</span></td><td id="LC4379" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; canvasTargets.length; i++) {
</code></td></tr><tr><td id="L4380" class="css-a4x74f"><span>4380</span></td><td id="LC4380" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (canvasTargets[i].listens(type, <span class="code-literal">true</span>)) {
</code></td></tr><tr><td id="L4381" class="css-a4x74f"><span>4381</span></td><td id="LC4381" class="css-1dcdqdg"><code>					filtered.push(canvasTargets[i]);
</code></td></tr><tr><td id="L4382" class="css-a4x74f"><span>4382</span></td><td id="LC4382" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L4383" class="css-a4x74f"><span>4383</span></td><td id="LC4383" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L4384" class="css-a4x74f"><span>4384</span></td><td id="LC4384" class="css-1dcdqdg"><code>			targets = filtered.concat(targets);
</code></td></tr><tr><td id="L4385" class="css-a4x74f"><span>4385</span></td><td id="LC4385" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4386" class="css-a4x74f"><span>4386</span></td><td id="LC4386" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4387" class="css-a4x74f"><span>4387</span></td><td id="LC4387" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!targets.length) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L4388" class="css-a4x74f"><span>4388</span></td><td id="LC4388" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4389" class="css-a4x74f"><span>4389</span></td><td id="LC4389" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (type === <span class="code-string">'contextmenu'</span>) {
</code></td></tr><tr><td id="L4390" class="css-a4x74f"><span>4390</span></td><td id="LC4390" class="css-1dcdqdg"><code>			preventDefault(e);
</code></td></tr><tr><td id="L4391" class="css-a4x74f"><span>4391</span></td><td id="LC4391" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4392" class="css-a4x74f"><span>4392</span></td><td id="LC4392" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4393" class="css-a4x74f"><span>4393</span></td><td id="LC4393" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> target = targets[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L4394" class="css-a4x74f"><span>4394</span></td><td id="LC4394" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> data = {
</code></td></tr><tr><td id="L4395" class="css-a4x74f"><span>4395</span></td><td id="LC4395" class="css-1dcdqdg"><code>			originalEvent: e
</code></td></tr><tr><td id="L4396" class="css-a4x74f"><span>4396</span></td><td id="LC4396" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L4397" class="css-a4x74f"><span>4397</span></td><td id="LC4397" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4398" class="css-a4x74f"><span>4398</span></td><td id="LC4398" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.type !== <span class="code-string">'keypress'</span> &amp;&amp; e.type !== <span class="code-string">'keydown'</span> &amp;&amp; e.type !== <span class="code-string">'keyup'</span>) {
</code></td></tr><tr><td id="L4399" class="css-a4x74f"><span>4399</span></td><td id="LC4399" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> isMarker = target.getLatLng &amp;&amp; (!target._radius || target._radius &lt;= <span class="code-number">10</span>);
</code></td></tr><tr><td id="L4400" class="css-a4x74f"><span>4400</span></td><td id="LC4400" class="css-1dcdqdg"><code>			data.containerPoint = isMarker ?
</code></td></tr><tr><td id="L4401" class="css-a4x74f"><span>4401</span></td><td id="LC4401" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.latLngToContainerPoint(target.getLatLng()) : <span class="code-keyword">this</span>.mouseEventToContainerPoint(e);
</code></td></tr><tr><td id="L4402" class="css-a4x74f"><span>4402</span></td><td id="LC4402" class="css-1dcdqdg"><code>			data.layerPoint = <span class="code-keyword">this</span>.containerPointToLayerPoint(data.containerPoint);
</code></td></tr><tr><td id="L4403" class="css-a4x74f"><span>4403</span></td><td id="LC4403" class="css-1dcdqdg"><code>			data.latlng = isMarker ? target.getLatLng() : <span class="code-keyword">this</span>.layerPointToLatLng(data.layerPoint);
</code></td></tr><tr><td id="L4404" class="css-a4x74f"><span>4404</span></td><td id="LC4404" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4405" class="css-a4x74f"><span>4405</span></td><td id="LC4405" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4406" class="css-a4x74f"><span>4406</span></td><td id="LC4406" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; targets.length; i++) {
</code></td></tr><tr><td id="L4407" class="css-a4x74f"><span>4407</span></td><td id="LC4407" class="css-1dcdqdg"><code>			targets[i].fire(type, data, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L4408" class="css-a4x74f"><span>4408</span></td><td id="LC4408" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (data.originalEvent._stopped ||
</code></td></tr><tr><td id="L4409" class="css-a4x74f"><span>4409</span></td><td id="LC4409" class="css-1dcdqdg"><code>				(targets[i].options.bubblingMouseEvents === <span class="code-literal">false</span> &amp;&amp; indexOf(<span class="code-keyword">this</span>._mouseEvents, type) !== <span class="code-number">-1</span>)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L4410" class="css-a4x74f"><span>4410</span></td><td id="LC4410" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4411" class="css-a4x74f"><span>4411</span></td><td id="LC4411" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4412" class="css-a4x74f"><span>4412</span></td><td id="LC4412" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4413" class="css-a4x74f"><span>4413</span></td><td id="LC4413" class="css-1dcdqdg"><code>	_draggableMoved: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L4414" class="css-a4x74f"><span>4414</span></td><td id="LC4414" class="css-1dcdqdg"><code>		obj = obj.dragging &amp;&amp; obj.dragging.enabled() ? obj : <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4415" class="css-a4x74f"><span>4415</span></td><td id="LC4415" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (obj.dragging &amp;&amp; obj.dragging.moved()) || (<span class="code-keyword">this</span>.boxZoom &amp;&amp; <span class="code-keyword">this</span>.boxZoom.moved());
</code></td></tr><tr><td id="L4416" class="css-a4x74f"><span>4416</span></td><td id="LC4416" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4417" class="css-a4x74f"><span>4417</span></td><td id="LC4417" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4418" class="css-a4x74f"><span>4418</span></td><td id="LC4418" class="css-1dcdqdg"><code>	_clearHandlers: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4419" class="css-a4x74f"><span>4419</span></td><td id="LC4419" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = <span class="code-keyword">this</span>._handlers.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L4420" class="css-a4x74f"><span>4420</span></td><td id="LC4420" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._handlers[i].disable();
</code></td></tr><tr><td id="L4421" class="css-a4x74f"><span>4421</span></td><td id="LC4421" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4422" class="css-a4x74f"><span>4422</span></td><td id="LC4422" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4423" class="css-a4x74f"><span>4423</span></td><td id="LC4423" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4424" class="css-a4x74f"><span>4424</span></td><td id="LC4424" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Other Methods</span>
</code></td></tr><tr><td id="L4425" class="css-a4x74f"><span>4425</span></td><td id="LC4425" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4426" class="css-a4x74f"><span>4426</span></td><td id="LC4426" class="css-1dcdqdg"><code>	<span class="code-comment">// @method whenReady(fn: Function, context?: Object): this</span>
</code></td></tr><tr><td id="L4427" class="css-a4x74f"><span>4427</span></td><td id="LC4427" class="css-1dcdqdg"><code>	<span class="code-comment">// Runs the given function `fn` when the map gets initialized with</span>
</code></td></tr><tr><td id="L4428" class="css-a4x74f"><span>4428</span></td><td id="LC4428" class="css-1dcdqdg"><code>	<span class="code-comment">// a view (center and zoom) and at least one layer, or immediately</span>
</code></td></tr><tr><td id="L4429" class="css-a4x74f"><span>4429</span></td><td id="LC4429" class="css-1dcdqdg"><code>	<span class="code-comment">// if it's already initialized, optionally passing a function context.</span>
</code></td></tr><tr><td id="L4430" class="css-a4x74f"><span>4430</span></td><td id="LC4430" class="css-1dcdqdg"><code>	whenReady: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">callback, context</span>) </span>{
</code></td></tr><tr><td id="L4431" class="css-a4x74f"><span>4431</span></td><td id="LC4431" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L4432" class="css-a4x74f"><span>4432</span></td><td id="LC4432" class="css-1dcdqdg"><code>			callback.call(context || <span class="code-keyword">this</span>, {<span class="code-attr">target</span>: <span class="code-keyword">this</span>});
</code></td></tr><tr><td id="L4433" class="css-a4x74f"><span>4433</span></td><td id="LC4433" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4434" class="css-a4x74f"><span>4434</span></td><td id="LC4434" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.on(<span class="code-string">'load'</span>, callback, context);
</code></td></tr><tr><td id="L4435" class="css-a4x74f"><span>4435</span></td><td id="LC4435" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4436" class="css-a4x74f"><span>4436</span></td><td id="LC4436" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4437" class="css-a4x74f"><span>4437</span></td><td id="LC4437" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4438" class="css-a4x74f"><span>4438</span></td><td id="LC4438" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4439" class="css-a4x74f"><span>4439</span></td><td id="LC4439" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4440" class="css-a4x74f"><span>4440</span></td><td id="LC4440" class="css-1dcdqdg"><code>	<span class="code-comment">// private methods for getting map state</span>
</code></td></tr><tr><td id="L4441" class="css-a4x74f"><span>4441</span></td><td id="LC4441" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4442" class="css-a4x74f"><span>4442</span></td><td id="LC4442" class="css-1dcdqdg"><code>	_getMapPanePos: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4443" class="css-a4x74f"><span>4443</span></td><td id="LC4443" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> getPosition(<span class="code-keyword">this</span>._mapPane) || <span class="code-keyword">new</span> Point(<span class="code-number">0</span>, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L4444" class="css-a4x74f"><span>4444</span></td><td id="LC4444" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4445" class="css-a4x74f"><span>4445</span></td><td id="LC4445" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4446" class="css-a4x74f"><span>4446</span></td><td id="LC4446" class="css-1dcdqdg"><code>	_moved: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4447" class="css-a4x74f"><span>4447</span></td><td id="LC4447" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._getMapPanePos();
</code></td></tr><tr><td id="L4448" class="css-a4x74f"><span>4448</span></td><td id="LC4448" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> pos &amp;&amp; !pos.equals([<span class="code-number">0</span>, <span class="code-number">0</span>]);
</code></td></tr><tr><td id="L4449" class="css-a4x74f"><span>4449</span></td><td id="LC4449" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4450" class="css-a4x74f"><span>4450</span></td><td id="LC4450" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4451" class="css-a4x74f"><span>4451</span></td><td id="LC4451" class="css-1dcdqdg"><code>	_getTopLeftPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom</span>) </span>{
</code></td></tr><tr><td id="L4452" class="css-a4x74f"><span>4452</span></td><td id="LC4452" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pixelOrigin = center &amp;&amp; zoom !== <span class="code-literal">undefined</span> ?
</code></td></tr><tr><td id="L4453" class="css-a4x74f"><span>4453</span></td><td id="LC4453" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._getNewPixelOrigin(center, zoom) :
</code></td></tr><tr><td id="L4454" class="css-a4x74f"><span>4454</span></td><td id="LC4454" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.getPixelOrigin();
</code></td></tr><tr><td id="L4455" class="css-a4x74f"><span>4455</span></td><td id="LC4455" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> pixelOrigin.subtract(<span class="code-keyword">this</span>._getMapPanePos());
</code></td></tr><tr><td id="L4456" class="css-a4x74f"><span>4456</span></td><td id="LC4456" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4457" class="css-a4x74f"><span>4457</span></td><td id="LC4457" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4458" class="css-a4x74f"><span>4458</span></td><td id="LC4458" class="css-1dcdqdg"><code>	_getNewPixelOrigin: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom</span>) </span>{
</code></td></tr><tr><td id="L4459" class="css-a4x74f"><span>4459</span></td><td id="LC4459" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> viewHalf = <span class="code-keyword">this</span>.getSize()._divideBy(<span class="code-number">2</span>);
</code></td></tr><tr><td id="L4460" class="css-a4x74f"><span>4460</span></td><td id="LC4460" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.project(center, zoom)._subtract(viewHalf)._add(<span class="code-keyword">this</span>._getMapPanePos())._round();
</code></td></tr><tr><td id="L4461" class="css-a4x74f"><span>4461</span></td><td id="LC4461" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4462" class="css-a4x74f"><span>4462</span></td><td id="LC4462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4463" class="css-a4x74f"><span>4463</span></td><td id="LC4463" class="css-1dcdqdg"><code>	_latLngToNewLayerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, zoom, center</span>) </span>{
</code></td></tr><tr><td id="L4464" class="css-a4x74f"><span>4464</span></td><td id="LC4464" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> topLeft = <span class="code-keyword">this</span>._getNewPixelOrigin(center, zoom);
</code></td></tr><tr><td id="L4465" class="css-a4x74f"><span>4465</span></td><td id="LC4465" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.project(latlng, zoom)._subtract(topLeft);
</code></td></tr><tr><td id="L4466" class="css-a4x74f"><span>4466</span></td><td id="LC4466" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4467" class="css-a4x74f"><span>4467</span></td><td id="LC4467" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4468" class="css-a4x74f"><span>4468</span></td><td id="LC4468" class="css-1dcdqdg"><code>	_latLngBoundsToNewLayerBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latLngBounds, zoom, center</span>) </span>{
</code></td></tr><tr><td id="L4469" class="css-a4x74f"><span>4469</span></td><td id="LC4469" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> topLeft = <span class="code-keyword">this</span>._getNewPixelOrigin(center, zoom);
</code></td></tr><tr><td id="L4470" class="css-a4x74f"><span>4470</span></td><td id="LC4470" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toBounds([
</code></td></tr><tr><td id="L4471" class="css-a4x74f"><span>4471</span></td><td id="LC4471" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.project(latLngBounds.getSouthWest(), zoom)._subtract(topLeft),
</code></td></tr><tr><td id="L4472" class="css-a4x74f"><span>4472</span></td><td id="LC4472" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.project(latLngBounds.getNorthWest(), zoom)._subtract(topLeft),
</code></td></tr><tr><td id="L4473" class="css-a4x74f"><span>4473</span></td><td id="LC4473" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.project(latLngBounds.getSouthEast(), zoom)._subtract(topLeft),
</code></td></tr><tr><td id="L4474" class="css-a4x74f"><span>4474</span></td><td id="LC4474" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.project(latLngBounds.getNorthEast(), zoom)._subtract(topLeft)
</code></td></tr><tr><td id="L4475" class="css-a4x74f"><span>4475</span></td><td id="LC4475" class="css-1dcdqdg"><code>		]);
</code></td></tr><tr><td id="L4476" class="css-a4x74f"><span>4476</span></td><td id="LC4476" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4477" class="css-a4x74f"><span>4477</span></td><td id="LC4477" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4478" class="css-a4x74f"><span>4478</span></td><td id="LC4478" class="css-1dcdqdg"><code>	<span class="code-comment">// layer point of the current center</span>
</code></td></tr><tr><td id="L4479" class="css-a4x74f"><span>4479</span></td><td id="LC4479" class="css-1dcdqdg"><code>	_getCenterLayerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4480" class="css-a4x74f"><span>4480</span></td><td id="LC4480" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.containerPointToLayerPoint(<span class="code-keyword">this</span>.getSize()._divideBy(<span class="code-number">2</span>));
</code></td></tr><tr><td id="L4481" class="css-a4x74f"><span>4481</span></td><td id="LC4481" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4482" class="css-a4x74f"><span>4482</span></td><td id="LC4482" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4483" class="css-a4x74f"><span>4483</span></td><td id="LC4483" class="css-1dcdqdg"><code>	<span class="code-comment">// offset of the specified place to the current center in pixels</span>
</code></td></tr><tr><td id="L4484" class="css-a4x74f"><span>4484</span></td><td id="LC4484" class="css-1dcdqdg"><code>	_getCenterOffset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L4485" class="css-a4x74f"><span>4485</span></td><td id="LC4485" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.latLngToLayerPoint(latlng).subtract(<span class="code-keyword">this</span>._getCenterLayerPoint());
</code></td></tr><tr><td id="L4486" class="css-a4x74f"><span>4486</span></td><td id="LC4486" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4487" class="css-a4x74f"><span>4487</span></td><td id="LC4487" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4488" class="css-a4x74f"><span>4488</span></td><td id="LC4488" class="css-1dcdqdg"><code>	<span class="code-comment">// adjust center for view to get inside bounds</span>
</code></td></tr><tr><td id="L4489" class="css-a4x74f"><span>4489</span></td><td id="LC4489" class="css-1dcdqdg"><code>	_limitCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom, bounds</span>) </span>{
</code></td></tr><tr><td id="L4490" class="css-a4x74f"><span>4490</span></td><td id="LC4490" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4491" class="css-a4x74f"><span>4491</span></td><td id="LC4491" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!bounds) { <span class="code-keyword">return</span> center; }
</code></td></tr><tr><td id="L4492" class="css-a4x74f"><span>4492</span></td><td id="LC4492" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4493" class="css-a4x74f"><span>4493</span></td><td id="LC4493" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> centerPoint = <span class="code-keyword">this</span>.project(center, zoom),
</code></td></tr><tr><td id="L4494" class="css-a4x74f"><span>4494</span></td><td id="LC4494" class="css-1dcdqdg"><code>		    viewHalf = <span class="code-keyword">this</span>.getSize().divideBy(<span class="code-number">2</span>),
</code></td></tr><tr><td id="L4495" class="css-a4x74f"><span>4495</span></td><td id="LC4495" class="css-1dcdqdg"><code>		    viewBounds = <span class="code-keyword">new</span> Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),
</code></td></tr><tr><td id="L4496" class="css-a4x74f"><span>4496</span></td><td id="LC4496" class="css-1dcdqdg"><code>		    offset = <span class="code-keyword">this</span>._getBoundsOffset(viewBounds, bounds, zoom);
</code></td></tr><tr><td id="L4497" class="css-a4x74f"><span>4497</span></td><td id="LC4497" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4498" class="css-a4x74f"><span>4498</span></td><td id="LC4498" class="css-1dcdqdg"><code>		<span class="code-comment">// If offset is less than a pixel, ignore.</span>
</code></td></tr><tr><td id="L4499" class="css-a4x74f"><span>4499</span></td><td id="LC4499" class="css-1dcdqdg"><code>		<span class="code-comment">// This prevents unstable projections from getting into</span>
</code></td></tr><tr><td id="L4500" class="css-a4x74f"><span>4500</span></td><td id="LC4500" class="css-1dcdqdg"><code>		<span class="code-comment">// an infinite loop of tiny offsets.</span>
</code></td></tr><tr><td id="L4501" class="css-a4x74f"><span>4501</span></td><td id="LC4501" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (offset.round().equals([<span class="code-number">0</span>, <span class="code-number">0</span>])) {
</code></td></tr><tr><td id="L4502" class="css-a4x74f"><span>4502</span></td><td id="LC4502" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> center;
</code></td></tr><tr><td id="L4503" class="css-a4x74f"><span>4503</span></td><td id="LC4503" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4504" class="css-a4x74f"><span>4504</span></td><td id="LC4504" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4505" class="css-a4x74f"><span>4505</span></td><td id="LC4505" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unproject(centerPoint.add(offset), zoom);
</code></td></tr><tr><td id="L4506" class="css-a4x74f"><span>4506</span></td><td id="LC4506" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4507" class="css-a4x74f"><span>4507</span></td><td id="LC4507" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4508" class="css-a4x74f"><span>4508</span></td><td id="LC4508" class="css-1dcdqdg"><code>	<span class="code-comment">// adjust offset for view to get inside bounds</span>
</code></td></tr><tr><td id="L4509" class="css-a4x74f"><span>4509</span></td><td id="LC4509" class="css-1dcdqdg"><code>	_limitOffset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">offset, bounds</span>) </span>{
</code></td></tr><tr><td id="L4510" class="css-a4x74f"><span>4510</span></td><td id="LC4510" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!bounds) { <span class="code-keyword">return</span> offset; }
</code></td></tr><tr><td id="L4511" class="css-a4x74f"><span>4511</span></td><td id="LC4511" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4512" class="css-a4x74f"><span>4512</span></td><td id="LC4512" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> viewBounds = <span class="code-keyword">this</span>.getPixelBounds(),
</code></td></tr><tr><td id="L4513" class="css-a4x74f"><span>4513</span></td><td id="LC4513" class="css-1dcdqdg"><code>		    newBounds = <span class="code-keyword">new</span> Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));
</code></td></tr><tr><td id="L4514" class="css-a4x74f"><span>4514</span></td><td id="LC4514" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4515" class="css-a4x74f"><span>4515</span></td><td id="LC4515" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> offset.add(<span class="code-keyword">this</span>._getBoundsOffset(newBounds, bounds));
</code></td></tr><tr><td id="L4516" class="css-a4x74f"><span>4516</span></td><td id="LC4516" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4517" class="css-a4x74f"><span>4517</span></td><td id="LC4517" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4518" class="css-a4x74f"><span>4518</span></td><td id="LC4518" class="css-1dcdqdg"><code>	<span class="code-comment">// returns offset needed for pxBounds to get inside maxBounds at a specified zoom</span>
</code></td></tr><tr><td id="L4519" class="css-a4x74f"><span>4519</span></td><td id="LC4519" class="css-1dcdqdg"><code>	_getBoundsOffset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">pxBounds, maxBounds, zoom</span>) </span>{
</code></td></tr><tr><td id="L4520" class="css-a4x74f"><span>4520</span></td><td id="LC4520" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> projectedMaxBounds = toBounds(
</code></td></tr><tr><td id="L4521" class="css-a4x74f"><span>4521</span></td><td id="LC4521" class="css-1dcdqdg"><code>		        <span class="code-keyword">this</span>.project(maxBounds.getNorthEast(), zoom),
</code></td></tr><tr><td id="L4522" class="css-a4x74f"><span>4522</span></td><td id="LC4522" class="css-1dcdqdg"><code>		        <span class="code-keyword">this</span>.project(maxBounds.getSouthWest(), zoom)
</code></td></tr><tr><td id="L4523" class="css-a4x74f"><span>4523</span></td><td id="LC4523" class="css-1dcdqdg"><code>		    ),
</code></td></tr><tr><td id="L4524" class="css-a4x74f"><span>4524</span></td><td id="LC4524" class="css-1dcdqdg"><code>		    minOffset = projectedMaxBounds.min.subtract(pxBounds.min),
</code></td></tr><tr><td id="L4525" class="css-a4x74f"><span>4525</span></td><td id="LC4525" class="css-1dcdqdg"><code>		    maxOffset = projectedMaxBounds.max.subtract(pxBounds.max),
</code></td></tr><tr><td id="L4526" class="css-a4x74f"><span>4526</span></td><td id="LC4526" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4527" class="css-a4x74f"><span>4527</span></td><td id="LC4527" class="css-1dcdqdg"><code>		    dx = <span class="code-keyword">this</span>._rebound(minOffset.x, -maxOffset.x),
</code></td></tr><tr><td id="L4528" class="css-a4x74f"><span>4528</span></td><td id="LC4528" class="css-1dcdqdg"><code>		    dy = <span class="code-keyword">this</span>._rebound(minOffset.y, -maxOffset.y);
</code></td></tr><tr><td id="L4529" class="css-a4x74f"><span>4529</span></td><td id="LC4529" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4530" class="css-a4x74f"><span>4530</span></td><td id="LC4530" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(dx, dy);
</code></td></tr><tr><td id="L4531" class="css-a4x74f"><span>4531</span></td><td id="LC4531" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4532" class="css-a4x74f"><span>4532</span></td><td id="LC4532" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4533" class="css-a4x74f"><span>4533</span></td><td id="LC4533" class="css-1dcdqdg"><code>	_rebound: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">left, right</span>) </span>{
</code></td></tr><tr><td id="L4534" class="css-a4x74f"><span>4534</span></td><td id="LC4534" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> left + right &gt; <span class="code-number">0</span> ?
</code></td></tr><tr><td id="L4535" class="css-a4x74f"><span>4535</span></td><td id="LC4535" class="css-1dcdqdg"><code>			<span class="code-built_in">Math</span>.round(left - right) / <span class="code-number">2</span> :
</code></td></tr><tr><td id="L4536" class="css-a4x74f"><span>4536</span></td><td id="LC4536" class="css-1dcdqdg"><code>			<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>, <span class="code-built_in">Math</span>.ceil(left)) - <span class="code-built_in">Math</span>.max(<span class="code-number">0</span>, <span class="code-built_in">Math</span>.floor(right));
</code></td></tr><tr><td id="L4537" class="css-a4x74f"><span>4537</span></td><td id="LC4537" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4538" class="css-a4x74f"><span>4538</span></td><td id="LC4538" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4539" class="css-a4x74f"><span>4539</span></td><td id="LC4539" class="css-1dcdqdg"><code>	_limitZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L4540" class="css-a4x74f"><span>4540</span></td><td id="LC4540" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> min = <span class="code-keyword">this</span>.getMinZoom(),
</code></td></tr><tr><td id="L4541" class="css-a4x74f"><span>4541</span></td><td id="LC4541" class="css-1dcdqdg"><code>		    max = <span class="code-keyword">this</span>.getMaxZoom(),
</code></td></tr><tr><td id="L4542" class="css-a4x74f"><span>4542</span></td><td id="LC4542" class="css-1dcdqdg"><code>		    snap = Browser.any3d ? <span class="code-keyword">this</span>.options.zoomSnap : <span class="code-number">1</span>;
</code></td></tr><tr><td id="L4543" class="css-a4x74f"><span>4543</span></td><td id="LC4543" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (snap) {
</code></td></tr><tr><td id="L4544" class="css-a4x74f"><span>4544</span></td><td id="LC4544" class="css-1dcdqdg"><code>			zoom = <span class="code-built_in">Math</span>.round(zoom / snap) * snap;
</code></td></tr><tr><td id="L4545" class="css-a4x74f"><span>4545</span></td><td id="LC4545" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4546" class="css-a4x74f"><span>4546</span></td><td id="LC4546" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(min, <span class="code-built_in">Math</span>.min(max, zoom));
</code></td></tr><tr><td id="L4547" class="css-a4x74f"><span>4547</span></td><td id="LC4547" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4548" class="css-a4x74f"><span>4548</span></td><td id="LC4548" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4549" class="css-a4x74f"><span>4549</span></td><td id="LC4549" class="css-1dcdqdg"><code>	_onPanTransitionStep: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4550" class="css-a4x74f"><span>4550</span></td><td id="LC4550" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>);
</code></td></tr><tr><td id="L4551" class="css-a4x74f"><span>4551</span></td><td id="LC4551" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4552" class="css-a4x74f"><span>4552</span></td><td id="LC4552" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4553" class="css-a4x74f"><span>4553</span></td><td id="LC4553" class="css-1dcdqdg"><code>	_onPanTransitionEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4554" class="css-a4x74f"><span>4554</span></td><td id="LC4554" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._mapPane, <span class="code-string">'leaflet-pan-anim'</span>);
</code></td></tr><tr><td id="L4555" class="css-a4x74f"><span>4555</span></td><td id="LC4555" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L4556" class="css-a4x74f"><span>4556</span></td><td id="LC4556" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4557" class="css-a4x74f"><span>4557</span></td><td id="LC4557" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4558" class="css-a4x74f"><span>4558</span></td><td id="LC4558" class="css-1dcdqdg"><code>	_tryAnimatedPan: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, options</span>) </span>{
</code></td></tr><tr><td id="L4559" class="css-a4x74f"><span>4559</span></td><td id="LC4559" class="css-1dcdqdg"><code>		<span class="code-comment">// difference between the new and current centers in pixels</span>
</code></td></tr><tr><td id="L4560" class="css-a4x74f"><span>4560</span></td><td id="LC4560" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> offset = <span class="code-keyword">this</span>._getCenterOffset(center)._trunc();
</code></td></tr><tr><td id="L4561" class="css-a4x74f"><span>4561</span></td><td id="LC4561" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4562" class="css-a4x74f"><span>4562</span></td><td id="LC4562" class="css-1dcdqdg"><code>		<span class="code-comment">// don't animate too far unless animate: true specified in options</span>
</code></td></tr><tr><td id="L4563" class="css-a4x74f"><span>4563</span></td><td id="LC4563" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> ((options &amp;&amp; options.animate) !== <span class="code-literal">true</span> &amp;&amp; !<span class="code-keyword">this</span>.getSize().contains(offset)) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L4564" class="css-a4x74f"><span>4564</span></td><td id="LC4564" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4565" class="css-a4x74f"><span>4565</span></td><td id="LC4565" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.panBy(offset, options);
</code></td></tr><tr><td id="L4566" class="css-a4x74f"><span>4566</span></td><td id="LC4566" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4567" class="css-a4x74f"><span>4567</span></td><td id="LC4567" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4568" class="css-a4x74f"><span>4568</span></td><td id="LC4568" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4569" class="css-a4x74f"><span>4569</span></td><td id="LC4569" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4570" class="css-a4x74f"><span>4570</span></td><td id="LC4570" class="css-1dcdqdg"><code>	_createAnimProxy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4571" class="css-a4x74f"><span>4571</span></td><td id="LC4571" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4572" class="css-a4x74f"><span>4572</span></td><td id="LC4572" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> proxy = <span class="code-keyword">this</span>._proxy = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, <span class="code-string">'leaflet-proxy leaflet-zoom-animated'</span>);
</code></td></tr><tr><td id="L4573" class="css-a4x74f"><span>4573</span></td><td id="LC4573" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._panes.mapPane.appendChild(proxy);
</code></td></tr><tr><td id="L4574" class="css-a4x74f"><span>4574</span></td><td id="LC4574" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4575" class="css-a4x74f"><span>4575</span></td><td id="LC4575" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.on(<span class="code-string">'zoomanim'</span>, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L4576" class="css-a4x74f"><span>4576</span></td><td id="LC4576" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> prop = TRANSFORM,
</code></td></tr><tr><td id="L4577" class="css-a4x74f"><span>4577</span></td><td id="LC4577" class="css-1dcdqdg"><code>			    transform = <span class="code-keyword">this</span>._proxy.style[prop];
</code></td></tr><tr><td id="L4578" class="css-a4x74f"><span>4578</span></td><td id="LC4578" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4579" class="css-a4x74f"><span>4579</span></td><td id="LC4579" class="css-1dcdqdg"><code>			setTransform(<span class="code-keyword">this</span>._proxy, <span class="code-keyword">this</span>.project(e.center, e.zoom), <span class="code-keyword">this</span>.getZoomScale(e.zoom, <span class="code-number">1</span>));
</code></td></tr><tr><td id="L4580" class="css-a4x74f"><span>4580</span></td><td id="LC4580" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4581" class="css-a4x74f"><span>4581</span></td><td id="LC4581" class="css-1dcdqdg"><code>			<span class="code-comment">// workaround for case when transform is the same and so transitionend event is not fired</span>
</code></td></tr><tr><td id="L4582" class="css-a4x74f"><span>4582</span></td><td id="LC4582" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (transform === <span class="code-keyword">this</span>._proxy.style[prop] &amp;&amp; <span class="code-keyword">this</span>._animatingZoom) {
</code></td></tr><tr><td id="L4583" class="css-a4x74f"><span>4583</span></td><td id="LC4583" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._onZoomTransitionEnd();
</code></td></tr><tr><td id="L4584" class="css-a4x74f"><span>4584</span></td><td id="LC4584" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L4585" class="css-a4x74f"><span>4585</span></td><td id="LC4585" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4586" class="css-a4x74f"><span>4586</span></td><td id="LC4586" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4587" class="css-a4x74f"><span>4587</span></td><td id="LC4587" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.on(<span class="code-string">'load moveend'</span>, <span class="code-keyword">this</span>._animMoveEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4588" class="css-a4x74f"><span>4588</span></td><td id="LC4588" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4589" class="css-a4x74f"><span>4589</span></td><td id="LC4589" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._on(<span class="code-string">'unload'</span>, <span class="code-keyword">this</span>._destroyAnimProxy, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4590" class="css-a4x74f"><span>4590</span></td><td id="LC4590" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4591" class="css-a4x74f"><span>4591</span></td><td id="LC4591" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4592" class="css-a4x74f"><span>4592</span></td><td id="LC4592" class="css-1dcdqdg"><code>	_destroyAnimProxy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4593" class="css-a4x74f"><span>4593</span></td><td id="LC4593" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._proxy);
</code></td></tr><tr><td id="L4594" class="css-a4x74f"><span>4594</span></td><td id="LC4594" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.off(<span class="code-string">'load moveend'</span>, <span class="code-keyword">this</span>._animMoveEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4595" class="css-a4x74f"><span>4595</span></td><td id="LC4595" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._proxy;
</code></td></tr><tr><td id="L4596" class="css-a4x74f"><span>4596</span></td><td id="LC4596" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4597" class="css-a4x74f"><span>4597</span></td><td id="LC4597" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4598" class="css-a4x74f"><span>4598</span></td><td id="LC4598" class="css-1dcdqdg"><code>	_animMoveEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4599" class="css-a4x74f"><span>4599</span></td><td id="LC4599" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> c = <span class="code-keyword">this</span>.getCenter(),
</code></td></tr><tr><td id="L4600" class="css-a4x74f"><span>4600</span></td><td id="LC4600" class="css-1dcdqdg"><code>		    z = <span class="code-keyword">this</span>.getZoom();
</code></td></tr><tr><td id="L4601" class="css-a4x74f"><span>4601</span></td><td id="LC4601" class="css-1dcdqdg"><code>		setTransform(<span class="code-keyword">this</span>._proxy, <span class="code-keyword">this</span>.project(c, z), <span class="code-keyword">this</span>.getZoomScale(z, <span class="code-number">1</span>));
</code></td></tr><tr><td id="L4602" class="css-a4x74f"><span>4602</span></td><td id="LC4602" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4603" class="css-a4x74f"><span>4603</span></td><td id="LC4603" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4604" class="css-a4x74f"><span>4604</span></td><td id="LC4604" class="css-1dcdqdg"><code>	_catchTransitionEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L4605" class="css-a4x74f"><span>4605</span></td><td id="LC4605" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._animatingZoom &amp;&amp; e.propertyName.indexOf(<span class="code-string">'transform'</span>) &gt;= <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4606" class="css-a4x74f"><span>4606</span></td><td id="LC4606" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._onZoomTransitionEnd();
</code></td></tr><tr><td id="L4607" class="css-a4x74f"><span>4607</span></td><td id="LC4607" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4608" class="css-a4x74f"><span>4608</span></td><td id="LC4608" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4609" class="css-a4x74f"><span>4609</span></td><td id="LC4609" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4610" class="css-a4x74f"><span>4610</span></td><td id="LC4610" class="css-1dcdqdg"><code>	_nothingToAnimate: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4611" class="css-a4x74f"><span>4611</span></td><td id="LC4611" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !<span class="code-keyword">this</span>._container.getElementsByClassName(<span class="code-string">'leaflet-zoom-animated'</span>).length;
</code></td></tr><tr><td id="L4612" class="css-a4x74f"><span>4612</span></td><td id="LC4612" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4613" class="css-a4x74f"><span>4613</span></td><td id="LC4613" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4614" class="css-a4x74f"><span>4614</span></td><td id="LC4614" class="css-1dcdqdg"><code>	_tryAnimatedZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom, options</span>) </span>{
</code></td></tr><tr><td id="L4615" class="css-a4x74f"><span>4615</span></td><td id="LC4615" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4616" class="css-a4x74f"><span>4616</span></td><td id="LC4616" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._animatingZoom) { <span class="code-keyword">return</span> <span class="code-literal">true</span>; }
</code></td></tr><tr><td id="L4617" class="css-a4x74f"><span>4617</span></td><td id="LC4617" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4618" class="css-a4x74f"><span>4618</span></td><td id="LC4618" class="css-1dcdqdg"><code>		options = options || {};
</code></td></tr><tr><td id="L4619" class="css-a4x74f"><span>4619</span></td><td id="LC4619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4620" class="css-a4x74f"><span>4620</span></td><td id="LC4620" class="css-1dcdqdg"><code>		<span class="code-comment">// don't animate if disabled, not supported or zoom difference is too large</span>
</code></td></tr><tr><td id="L4621" class="css-a4x74f"><span>4621</span></td><td id="LC4621" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._zoomAnimated || options.animate === <span class="code-literal">false</span> || <span class="code-keyword">this</span>._nothingToAnimate() ||
</code></td></tr><tr><td id="L4622" class="css-a4x74f"><span>4622</span></td><td id="LC4622" class="css-1dcdqdg"><code>		        <span class="code-built_in">Math</span>.abs(zoom - <span class="code-keyword">this</span>._zoom) &gt; <span class="code-keyword">this</span>.options.zoomAnimationThreshold) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L4623" class="css-a4x74f"><span>4623</span></td><td id="LC4623" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4624" class="css-a4x74f"><span>4624</span></td><td id="LC4624" class="css-1dcdqdg"><code>		<span class="code-comment">// offset is the pixel coords of the zoom origin relative to the current center</span>
</code></td></tr><tr><td id="L4625" class="css-a4x74f"><span>4625</span></td><td id="LC4625" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-keyword">this</span>.getZoomScale(zoom),
</code></td></tr><tr><td id="L4626" class="css-a4x74f"><span>4626</span></td><td id="LC4626" class="css-1dcdqdg"><code>		    offset = <span class="code-keyword">this</span>._getCenterOffset(center)._divideBy(<span class="code-number">1</span> - <span class="code-number">1</span> / scale);
</code></td></tr><tr><td id="L4627" class="css-a4x74f"><span>4627</span></td><td id="LC4627" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4628" class="css-a4x74f"><span>4628</span></td><td id="LC4628" class="css-1dcdqdg"><code>		<span class="code-comment">// don't animate if the zoom origin isn't within one screen from the current center, unless forced</span>
</code></td></tr><tr><td id="L4629" class="css-a4x74f"><span>4629</span></td><td id="LC4629" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.animate !== <span class="code-literal">true</span> &amp;&amp; !<span class="code-keyword">this</span>.getSize().contains(offset)) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L4630" class="css-a4x74f"><span>4630</span></td><td id="LC4630" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4631" class="css-a4x74f"><span>4631</span></td><td id="LC4631" class="css-1dcdqdg"><code>		requestAnimFrame(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4632" class="css-a4x74f"><span>4632</span></td><td id="LC4632" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>
</code></td></tr><tr><td id="L4633" class="css-a4x74f"><span>4633</span></td><td id="LC4633" class="css-1dcdqdg"><code>			    ._moveStart(<span class="code-literal">true</span>, <span class="code-literal">false</span>)
</code></td></tr><tr><td id="L4634" class="css-a4x74f"><span>4634</span></td><td id="LC4634" class="css-1dcdqdg"><code>			    ._animateZoom(center, zoom, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L4635" class="css-a4x74f"><span>4635</span></td><td id="LC4635" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4636" class="css-a4x74f"><span>4636</span></td><td id="LC4636" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4637" class="css-a4x74f"><span>4637</span></td><td id="LC4637" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4638" class="css-a4x74f"><span>4638</span></td><td id="LC4638" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4639" class="css-a4x74f"><span>4639</span></td><td id="LC4639" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4640" class="css-a4x74f"><span>4640</span></td><td id="LC4640" class="css-1dcdqdg"><code>	_animateZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom, startAnim, noUpdate</span>) </span>{
</code></td></tr><tr><td id="L4641" class="css-a4x74f"><span>4641</span></td><td id="LC4641" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._mapPane) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L4642" class="css-a4x74f"><span>4642</span></td><td id="LC4642" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4643" class="css-a4x74f"><span>4643</span></td><td id="LC4643" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (startAnim) {
</code></td></tr><tr><td id="L4644" class="css-a4x74f"><span>4644</span></td><td id="LC4644" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._animatingZoom = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L4645" class="css-a4x74f"><span>4645</span></td><td id="LC4645" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4646" class="css-a4x74f"><span>4646</span></td><td id="LC4646" class="css-1dcdqdg"><code>			<span class="code-comment">// remember what center/zoom to set after animation</span>
</code></td></tr><tr><td id="L4647" class="css-a4x74f"><span>4647</span></td><td id="LC4647" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._animateToCenter = center;
</code></td></tr><tr><td id="L4648" class="css-a4x74f"><span>4648</span></td><td id="LC4648" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._animateToZoom = zoom;
</code></td></tr><tr><td id="L4649" class="css-a4x74f"><span>4649</span></td><td id="LC4649" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4650" class="css-a4x74f"><span>4650</span></td><td id="LC4650" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._mapPane, <span class="code-string">'leaflet-zoom-anim'</span>);
</code></td></tr><tr><td id="L4651" class="css-a4x74f"><span>4651</span></td><td id="LC4651" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4652" class="css-a4x74f"><span>4652</span></td><td id="LC4652" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4653" class="css-a4x74f"><span>4653</span></td><td id="LC4653" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Other Events</span>
</code></td></tr><tr><td id="L4654" class="css-a4x74f"><span>4654</span></td><td id="LC4654" class="css-1dcdqdg"><code>		<span class="code-comment">// @event zoomanim: ZoomAnimEvent</span>
</code></td></tr><tr><td id="L4655" class="css-a4x74f"><span>4655</span></td><td id="LC4655" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired at least once per zoom animation. For continuous zoom, like pinch zooming, fired once per frame during zoom.</span>
</code></td></tr><tr><td id="L4656" class="css-a4x74f"><span>4656</span></td><td id="LC4656" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'zoomanim'</span>, {
</code></td></tr><tr><td id="L4657" class="css-a4x74f"><span>4657</span></td><td id="LC4657" class="css-1dcdqdg"><code>			center: center,
</code></td></tr><tr><td id="L4658" class="css-a4x74f"><span>4658</span></td><td id="LC4658" class="css-1dcdqdg"><code>			zoom: zoom,
</code></td></tr><tr><td id="L4659" class="css-a4x74f"><span>4659</span></td><td id="LC4659" class="css-1dcdqdg"><code>			noUpdate: noUpdate
</code></td></tr><tr><td id="L4660" class="css-a4x74f"><span>4660</span></td><td id="LC4660" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L4661" class="css-a4x74f"><span>4661</span></td><td id="LC4661" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4662" class="css-a4x74f"><span>4662</span></td><td id="LC4662" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._tempFireZoomEvent) {
</code></td></tr><tr><td id="L4663" class="css-a4x74f"><span>4663</span></td><td id="LC4663" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._tempFireZoomEvent = <span class="code-keyword">this</span>._zoom !== <span class="code-keyword">this</span>._animateToZoom;
</code></td></tr><tr><td id="L4664" class="css-a4x74f"><span>4664</span></td><td id="LC4664" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4665" class="css-a4x74f"><span>4665</span></td><td id="LC4665" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4666" class="css-a4x74f"><span>4666</span></td><td id="LC4666" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._move(<span class="code-keyword">this</span>._animateToCenter, <span class="code-keyword">this</span>._animateToZoom, <span class="code-literal">undefined</span>, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L4667" class="css-a4x74f"><span>4667</span></td><td id="LC4667" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4668" class="css-a4x74f"><span>4668</span></td><td id="LC4668" class="css-1dcdqdg"><code>		<span class="code-comment">// Work around webkit not firing 'transitionend', see https://github.com/Leaflet/Leaflet/issues/3689, 2693</span>
</code></td></tr><tr><td id="L4669" class="css-a4x74f"><span>4669</span></td><td id="LC4669" class="css-1dcdqdg"><code>		setTimeout(bind(<span class="code-keyword">this</span>._onZoomTransitionEnd, <span class="code-keyword">this</span>), <span class="code-number">250</span>);
</code></td></tr><tr><td id="L4670" class="css-a4x74f"><span>4670</span></td><td id="LC4670" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4671" class="css-a4x74f"><span>4671</span></td><td id="LC4671" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4672" class="css-a4x74f"><span>4672</span></td><td id="LC4672" class="css-1dcdqdg"><code>	_onZoomTransitionEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4673" class="css-a4x74f"><span>4673</span></td><td id="LC4673" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._animatingZoom) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L4674" class="css-a4x74f"><span>4674</span></td><td id="LC4674" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4675" class="css-a4x74f"><span>4675</span></td><td id="LC4675" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._mapPane) {
</code></td></tr><tr><td id="L4676" class="css-a4x74f"><span>4676</span></td><td id="LC4676" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._mapPane, <span class="code-string">'leaflet-zoom-anim'</span>);
</code></td></tr><tr><td id="L4677" class="css-a4x74f"><span>4677</span></td><td id="LC4677" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4678" class="css-a4x74f"><span>4678</span></td><td id="LC4678" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4679" class="css-a4x74f"><span>4679</span></td><td id="LC4679" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._animatingZoom = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4680" class="css-a4x74f"><span>4680</span></td><td id="LC4680" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4681" class="css-a4x74f"><span>4681</span></td><td id="LC4681" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._move(<span class="code-keyword">this</span>._animateToCenter, <span class="code-keyword">this</span>._animateToZoom, <span class="code-literal">undefined</span>, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L4682" class="css-a4x74f"><span>4682</span></td><td id="LC4682" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4683" class="css-a4x74f"><span>4683</span></td><td id="LC4683" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tempFireZoomEvent) {
</code></td></tr><tr><td id="L4684" class="css-a4x74f"><span>4684</span></td><td id="LC4684" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoom'</span>);
</code></td></tr><tr><td id="L4685" class="css-a4x74f"><span>4685</span></td><td id="LC4685" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4686" class="css-a4x74f"><span>4686</span></td><td id="LC4686" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._tempFireZoomEvent;
</code></td></tr><tr><td id="L4687" class="css-a4x74f"><span>4687</span></td><td id="LC4687" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4688" class="css-a4x74f"><span>4688</span></td><td id="LC4688" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>);
</code></td></tr><tr><td id="L4689" class="css-a4x74f"><span>4689</span></td><td id="LC4689" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4690" class="css-a4x74f"><span>4690</span></td><td id="LC4690" class="css-1dcdqdg"><code>		<span class="code-comment">// This anim frame should prevent an obscure iOS webkit tile loading race condition.</span>
</code></td></tr><tr><td id="L4691" class="css-a4x74f"><span>4691</span></td><td id="LC4691" class="css-1dcdqdg"><code>		requestAnimFrame(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4692" class="css-a4x74f"><span>4692</span></td><td id="LC4692" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._moveEnd(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L4693" class="css-a4x74f"><span>4693</span></td><td id="LC4693" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4694" class="css-a4x74f"><span>4694</span></td><td id="LC4694" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L4695" class="css-a4x74f"><span>4695</span></td><td id="LC4695" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L4696" class="css-a4x74f"><span>4696</span></td><td id="LC4696" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4697" class="css-a4x74f"><span>4697</span></td><td id="LC4697" class="css-1dcdqdg"><code><span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L4698" class="css-a4x74f"><span>4698</span></td><td id="LC4698" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4699" class="css-a4x74f"><span>4699</span></td><td id="LC4699" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.map(id: String, options?: Map options)</span>
</code></td></tr><tr><td id="L4700" class="css-a4x74f"><span>4700</span></td><td id="LC4700" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a map object given the DOM ID of a `&lt;div&gt;` element</span>
</code></td></tr><tr><td id="L4701" class="css-a4x74f"><span>4701</span></td><td id="LC4701" class="css-1dcdqdg"><code><span class="code-comment">// and optionally an object literal with `Map options`.</span>
</code></td></tr><tr><td id="L4702" class="css-a4x74f"><span>4702</span></td><td id="LC4702" class="css-1dcdqdg"><code><span class="code-comment">//</span>
</code></td></tr><tr><td id="L4703" class="css-a4x74f"><span>4703</span></td><td id="LC4703" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L4704" class="css-a4x74f"><span>4704</span></td><td id="LC4704" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.map(el: HTMLElement, options?: Map options)</span>
</code></td></tr><tr><td id="L4705" class="css-a4x74f"><span>4705</span></td><td id="LC4705" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a map object given an instance of a `&lt;div&gt;` HTML element</span>
</code></td></tr><tr><td id="L4706" class="css-a4x74f"><span>4706</span></td><td id="LC4706" class="css-1dcdqdg"><code><span class="code-comment">// and optionally an object literal with `Map options`.</span>
</code></td></tr><tr><td id="L4707" class="css-a4x74f"><span>4707</span></td><td id="LC4707" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createMap</span>(<span class="code-params">id, options</span>) </span>{
</code></td></tr><tr><td id="L4708" class="css-a4x74f"><span>4708</span></td><td id="LC4708" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Map</span>(id, options);
</code></td></tr><tr><td id="L4709" class="css-a4x74f"><span>4709</span></td><td id="LC4709" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L4710" class="css-a4x74f"><span>4710</span></td><td id="LC4710" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4711" class="css-a4x74f"><span>4711</span></td><td id="LC4711" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L4712" class="css-a4x74f"><span>4712</span></td><td id="LC4712" class="css-1dcdqdg"><code><span class="code-comment"> * @class Control
</span></code></td></tr><tr><td id="L4713" class="css-a4x74f"><span>4713</span></td><td id="LC4713" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Control
</span></code></td></tr><tr><td id="L4714" class="css-a4x74f"><span>4714</span></td><td id="LC4714" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Class
</span></code></td></tr><tr><td id="L4715" class="css-a4x74f"><span>4715</span></td><td id="LC4715" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4716" class="css-a4x74f"><span>4716</span></td><td id="LC4716" class="css-1dcdqdg"><code><span class="code-comment"> * L.Control is a base class for implementing map controls. Handles positioning.
</span></code></td></tr><tr><td id="L4717" class="css-a4x74f"><span>4717</span></td><td id="LC4717" class="css-1dcdqdg"><code><span class="code-comment"> * All other controls extend from this class.
</span></code></td></tr><tr><td id="L4718" class="css-a4x74f"><span>4718</span></td><td id="LC4718" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L4719" class="css-a4x74f"><span>4719</span></td><td id="LC4719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4720" class="css-a4x74f"><span>4720</span></td><td id="LC4720" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Control = Class.extend({
</code></td></tr><tr><td id="L4721" class="css-a4x74f"><span>4721</span></td><td id="LC4721" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L4722" class="css-a4x74f"><span>4722</span></td><td id="LC4722" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Control Options</span>
</code></td></tr><tr><td id="L4723" class="css-a4x74f"><span>4723</span></td><td id="LC4723" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L4724" class="css-a4x74f"><span>4724</span></td><td id="LC4724" class="css-1dcdqdg"><code>		<span class="code-comment">// @option position: String = 'topright'</span>
</code></td></tr><tr><td id="L4725" class="css-a4x74f"><span>4725</span></td><td id="LC4725" class="css-1dcdqdg"><code>		<span class="code-comment">// The position of the control (one of the map corners). Possible values are `'topleft'`,</span>
</code></td></tr><tr><td id="L4726" class="css-a4x74f"><span>4726</span></td><td id="LC4726" class="css-1dcdqdg"><code>		<span class="code-comment">// `'topright'`, `'bottomleft'` or `'bottomright'`</span>
</code></td></tr><tr><td id="L4727" class="css-a4x74f"><span>4727</span></td><td id="LC4727" class="css-1dcdqdg"><code>		position: <span class="code-string">'topright'</span>
</code></td></tr><tr><td id="L4728" class="css-a4x74f"><span>4728</span></td><td id="LC4728" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4729" class="css-a4x74f"><span>4729</span></td><td id="LC4729" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4730" class="css-a4x74f"><span>4730</span></td><td id="LC4730" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L4731" class="css-a4x74f"><span>4731</span></td><td id="LC4731" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L4732" class="css-a4x74f"><span>4732</span></td><td id="LC4732" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4733" class="css-a4x74f"><span>4733</span></td><td id="LC4733" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4734" class="css-a4x74f"><span>4734</span></td><td id="LC4734" class="css-1dcdqdg"><code>	<span class="code-comment">/* @section
</span></code></td></tr><tr><td id="L4735" class="css-a4x74f"><span>4735</span></td><td id="LC4735" class="css-1dcdqdg"><code><span class="code-comment">	 * Classes extending L.Control will inherit the following methods:
</span></code></td></tr><tr><td id="L4736" class="css-a4x74f"><span>4736</span></td><td id="LC4736" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L4737" class="css-a4x74f"><span>4737</span></td><td id="LC4737" class="css-1dcdqdg"><code><span class="code-comment">	 * @method getPosition: string
</span></code></td></tr><tr><td id="L4738" class="css-a4x74f"><span>4738</span></td><td id="LC4738" class="css-1dcdqdg"><code><span class="code-comment">	 * Returns the position of the control.
</span></code></td></tr><tr><td id="L4739" class="css-a4x74f"><span>4739</span></td><td id="LC4739" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L4740" class="css-a4x74f"><span>4740</span></td><td id="LC4740" class="css-1dcdqdg"><code>	getPosition: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4741" class="css-a4x74f"><span>4741</span></td><td id="LC4741" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.position;
</code></td></tr><tr><td id="L4742" class="css-a4x74f"><span>4742</span></td><td id="LC4742" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4743" class="css-a4x74f"><span>4743</span></td><td id="LC4743" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4744" class="css-a4x74f"><span>4744</span></td><td id="LC4744" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setPosition(position: string): this</span>
</code></td></tr><tr><td id="L4745" class="css-a4x74f"><span>4745</span></td><td id="LC4745" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the position of the control.</span>
</code></td></tr><tr><td id="L4746" class="css-a4x74f"><span>4746</span></td><td id="LC4746" class="css-1dcdqdg"><code>	setPosition: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">position</span>) </span>{
</code></td></tr><tr><td id="L4747" class="css-a4x74f"><span>4747</span></td><td id="LC4747" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L4748" class="css-a4x74f"><span>4748</span></td><td id="LC4748" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4749" class="css-a4x74f"><span>4749</span></td><td id="LC4749" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map) {
</code></td></tr><tr><td id="L4750" class="css-a4x74f"><span>4750</span></td><td id="LC4750" class="css-1dcdqdg"><code>			map.removeControl(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4751" class="css-a4x74f"><span>4751</span></td><td id="LC4751" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4752" class="css-a4x74f"><span>4752</span></td><td id="LC4752" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4753" class="css-a4x74f"><span>4753</span></td><td id="LC4753" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.position = position;
</code></td></tr><tr><td id="L4754" class="css-a4x74f"><span>4754</span></td><td id="LC4754" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4755" class="css-a4x74f"><span>4755</span></td><td id="LC4755" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map) {
</code></td></tr><tr><td id="L4756" class="css-a4x74f"><span>4756</span></td><td id="LC4756" class="css-1dcdqdg"><code>			map.addControl(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4757" class="css-a4x74f"><span>4757</span></td><td id="LC4757" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4758" class="css-a4x74f"><span>4758</span></td><td id="LC4758" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4759" class="css-a4x74f"><span>4759</span></td><td id="LC4759" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4760" class="css-a4x74f"><span>4760</span></td><td id="LC4760" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4761" class="css-a4x74f"><span>4761</span></td><td id="LC4761" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4762" class="css-a4x74f"><span>4762</span></td><td id="LC4762" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getContainer: HTMLElement</span>
</code></td></tr><tr><td id="L4763" class="css-a4x74f"><span>4763</span></td><td id="LC4763" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the HTMLElement that contains the control.</span>
</code></td></tr><tr><td id="L4764" class="css-a4x74f"><span>4764</span></td><td id="LC4764" class="css-1dcdqdg"><code>	getContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4765" class="css-a4x74f"><span>4765</span></td><td id="LC4765" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L4766" class="css-a4x74f"><span>4766</span></td><td id="LC4766" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4767" class="css-a4x74f"><span>4767</span></td><td id="LC4767" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4768" class="css-a4x74f"><span>4768</span></td><td id="LC4768" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addTo(map: Map): this</span>
</code></td></tr><tr><td id="L4769" class="css-a4x74f"><span>4769</span></td><td id="LC4769" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds the control to the given map.</span>
</code></td></tr><tr><td id="L4770" class="css-a4x74f"><span>4770</span></td><td id="LC4770" class="css-1dcdqdg"><code>	addTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L4771" class="css-a4x74f"><span>4771</span></td><td id="LC4771" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.remove();
</code></td></tr><tr><td id="L4772" class="css-a4x74f"><span>4772</span></td><td id="LC4772" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = map;
</code></td></tr><tr><td id="L4773" class="css-a4x74f"><span>4773</span></td><td id="LC4773" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4774" class="css-a4x74f"><span>4774</span></td><td id="LC4774" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = <span class="code-keyword">this</span>._container = <span class="code-keyword">this</span>.onAdd(map),
</code></td></tr><tr><td id="L4775" class="css-a4x74f"><span>4775</span></td><td id="LC4775" class="css-1dcdqdg"><code>		    pos = <span class="code-keyword">this</span>.getPosition(),
</code></td></tr><tr><td id="L4776" class="css-a4x74f"><span>4776</span></td><td id="LC4776" class="css-1dcdqdg"><code>		    corner = map._controlCorners[pos];
</code></td></tr><tr><td id="L4777" class="css-a4x74f"><span>4777</span></td><td id="LC4777" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4778" class="css-a4x74f"><span>4778</span></td><td id="LC4778" class="css-1dcdqdg"><code>		addClass(container, <span class="code-string">'leaflet-control'</span>);
</code></td></tr><tr><td id="L4779" class="css-a4x74f"><span>4779</span></td><td id="LC4779" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4780" class="css-a4x74f"><span>4780</span></td><td id="LC4780" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (pos.indexOf(<span class="code-string">'bottom'</span>) !== <span class="code-number">-1</span>) {
</code></td></tr><tr><td id="L4781" class="css-a4x74f"><span>4781</span></td><td id="LC4781" class="css-1dcdqdg"><code>			corner.insertBefore(container, corner.firstChild);
</code></td></tr><tr><td id="L4782" class="css-a4x74f"><span>4782</span></td><td id="LC4782" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L4783" class="css-a4x74f"><span>4783</span></td><td id="LC4783" class="css-1dcdqdg"><code>			corner.appendChild(container);
</code></td></tr><tr><td id="L4784" class="css-a4x74f"><span>4784</span></td><td id="LC4784" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4785" class="css-a4x74f"><span>4785</span></td><td id="LC4785" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4786" class="css-a4x74f"><span>4786</span></td><td id="LC4786" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.on(<span class="code-string">'unload'</span>, <span class="code-keyword">this</span>.remove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4787" class="css-a4x74f"><span>4787</span></td><td id="LC4787" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4788" class="css-a4x74f"><span>4788</span></td><td id="LC4788" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4789" class="css-a4x74f"><span>4789</span></td><td id="LC4789" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4790" class="css-a4x74f"><span>4790</span></td><td id="LC4790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4791" class="css-a4x74f"><span>4791</span></td><td id="LC4791" class="css-1dcdqdg"><code>	<span class="code-comment">// @method remove: this</span>
</code></td></tr><tr><td id="L4792" class="css-a4x74f"><span>4792</span></td><td id="LC4792" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the control from the map it is currently active on.</span>
</code></td></tr><tr><td id="L4793" class="css-a4x74f"><span>4793</span></td><td id="LC4793" class="css-1dcdqdg"><code>	remove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4794" class="css-a4x74f"><span>4794</span></td><td id="LC4794" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L4795" class="css-a4x74f"><span>4795</span></td><td id="LC4795" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4796" class="css-a4x74f"><span>4796</span></td><td id="LC4796" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4797" class="css-a4x74f"><span>4797</span></td><td id="LC4797" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4798" class="css-a4x74f"><span>4798</span></td><td id="LC4798" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L4799" class="css-a4x74f"><span>4799</span></td><td id="LC4799" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4800" class="css-a4x74f"><span>4800</span></td><td id="LC4800" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.onRemove) {
</code></td></tr><tr><td id="L4801" class="css-a4x74f"><span>4801</span></td><td id="LC4801" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.onRemove(<span class="code-keyword">this</span>._map);
</code></td></tr><tr><td id="L4802" class="css-a4x74f"><span>4802</span></td><td id="LC4802" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4803" class="css-a4x74f"><span>4803</span></td><td id="LC4803" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4804" class="css-a4x74f"><span>4804</span></td><td id="LC4804" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.off(<span class="code-string">'unload'</span>, <span class="code-keyword">this</span>.remove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4805" class="css-a4x74f"><span>4805</span></td><td id="LC4805" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L4806" class="css-a4x74f"><span>4806</span></td><td id="LC4806" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4807" class="css-a4x74f"><span>4807</span></td><td id="LC4807" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4808" class="css-a4x74f"><span>4808</span></td><td id="LC4808" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4809" class="css-a4x74f"><span>4809</span></td><td id="LC4809" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4810" class="css-a4x74f"><span>4810</span></td><td id="LC4810" class="css-1dcdqdg"><code>	_refocusOnMap: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L4811" class="css-a4x74f"><span>4811</span></td><td id="LC4811" class="css-1dcdqdg"><code>		<span class="code-comment">// if map exists and event is not a keyboard event</span>
</code></td></tr><tr><td id="L4812" class="css-a4x74f"><span>4812</span></td><td id="LC4812" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map &amp;&amp; e &amp;&amp; e.screenX &gt; <span class="code-number">0</span> &amp;&amp; e.screenY &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L4813" class="css-a4x74f"><span>4813</span></td><td id="LC4813" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.getContainer().focus();
</code></td></tr><tr><td id="L4814" class="css-a4x74f"><span>4814</span></td><td id="LC4814" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4815" class="css-a4x74f"><span>4815</span></td><td id="LC4815" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L4816" class="css-a4x74f"><span>4816</span></td><td id="LC4816" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L4817" class="css-a4x74f"><span>4817</span></td><td id="LC4817" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4818" class="css-a4x74f"><span>4818</span></td><td id="LC4818" class="css-1dcdqdg"><code><span class="code-keyword">var</span> control = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L4819" class="css-a4x74f"><span>4819</span></td><td id="LC4819" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Control(options);
</code></td></tr><tr><td id="L4820" class="css-a4x74f"><span>4820</span></td><td id="LC4820" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L4821" class="css-a4x74f"><span>4821</span></td><td id="LC4821" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4822" class="css-a4x74f"><span>4822</span></td><td id="LC4822" class="css-1dcdqdg"><code><span class="code-comment">/* @section Extension methods
</span></code></td></tr><tr><td id="L4823" class="css-a4x74f"><span>4823</span></td><td id="LC4823" class="css-1dcdqdg"><code><span class="code-comment"> * @uninheritable
</span></code></td></tr><tr><td id="L4824" class="css-a4x74f"><span>4824</span></td><td id="LC4824" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4825" class="css-a4x74f"><span>4825</span></td><td id="LC4825" class="css-1dcdqdg"><code><span class="code-comment"> * Every control should extend from `L.Control` and (re-)implement the following methods.
</span></code></td></tr><tr><td id="L4826" class="css-a4x74f"><span>4826</span></td><td id="LC4826" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4827" class="css-a4x74f"><span>4827</span></td><td id="LC4827" class="css-1dcdqdg"><code><span class="code-comment"> * @method onAdd(map: Map): HTMLElement
</span></code></td></tr><tr><td id="L4828" class="css-a4x74f"><span>4828</span></td><td id="LC4828" class="css-1dcdqdg"><code><span class="code-comment"> * Should return the container DOM element for the control and add listeners on relevant map events. Called on [`control.addTo(map)`](#control-addTo).
</span></code></td></tr><tr><td id="L4829" class="css-a4x74f"><span>4829</span></td><td id="LC4829" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4830" class="css-a4x74f"><span>4830</span></td><td id="LC4830" class="css-1dcdqdg"><code><span class="code-comment"> * @method onRemove(map: Map)
</span></code></td></tr><tr><td id="L4831" class="css-a4x74f"><span>4831</span></td><td id="LC4831" class="css-1dcdqdg"><code><span class="code-comment"> * Optional method. Should contain all clean up code that removes the listeners previously added in [`onAdd`](#control-onadd). Called on [`control.remove()`](#control-remove).
</span></code></td></tr><tr><td id="L4832" class="css-a4x74f"><span>4832</span></td><td id="LC4832" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L4833" class="css-a4x74f"><span>4833</span></td><td id="LC4833" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4834" class="css-a4x74f"><span>4834</span></td><td id="LC4834" class="css-1dcdqdg"><code><span class="code-comment">/* @namespace Map
</span></code></td></tr><tr><td id="L4835" class="css-a4x74f"><span>4835</span></td><td id="LC4835" class="css-1dcdqdg"><code><span class="code-comment"> * @section Methods for Layers and Controls
</span></code></td></tr><tr><td id="L4836" class="css-a4x74f"><span>4836</span></td><td id="LC4836" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L4837" class="css-a4x74f"><span>4837</span></td><td id="LC4837" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.include({
</code></td></tr><tr><td id="L4838" class="css-a4x74f"><span>4838</span></td><td id="LC4838" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addControl(control: Control): this</span>
</code></td></tr><tr><td id="L4839" class="css-a4x74f"><span>4839</span></td><td id="LC4839" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds the given control to the map</span>
</code></td></tr><tr><td id="L4840" class="css-a4x74f"><span>4840</span></td><td id="LC4840" class="css-1dcdqdg"><code>	addControl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">control</span>) </span>{
</code></td></tr><tr><td id="L4841" class="css-a4x74f"><span>4841</span></td><td id="LC4841" class="css-1dcdqdg"><code>		control.addTo(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4842" class="css-a4x74f"><span>4842</span></td><td id="LC4842" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4843" class="css-a4x74f"><span>4843</span></td><td id="LC4843" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4844" class="css-a4x74f"><span>4844</span></td><td id="LC4844" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4845" class="css-a4x74f"><span>4845</span></td><td id="LC4845" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeControl(control: Control): this</span>
</code></td></tr><tr><td id="L4846" class="css-a4x74f"><span>4846</span></td><td id="LC4846" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the given control from the map</span>
</code></td></tr><tr><td id="L4847" class="css-a4x74f"><span>4847</span></td><td id="LC4847" class="css-1dcdqdg"><code>	removeControl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">control</span>) </span>{
</code></td></tr><tr><td id="L4848" class="css-a4x74f"><span>4848</span></td><td id="LC4848" class="css-1dcdqdg"><code>		control.remove();
</code></td></tr><tr><td id="L4849" class="css-a4x74f"><span>4849</span></td><td id="LC4849" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L4850" class="css-a4x74f"><span>4850</span></td><td id="LC4850" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4851" class="css-a4x74f"><span>4851</span></td><td id="LC4851" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4852" class="css-a4x74f"><span>4852</span></td><td id="LC4852" class="css-1dcdqdg"><code>	_initControlPos: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4853" class="css-a4x74f"><span>4853</span></td><td id="LC4853" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> corners = <span class="code-keyword">this</span>._controlCorners = {},
</code></td></tr><tr><td id="L4854" class="css-a4x74f"><span>4854</span></td><td id="LC4854" class="css-1dcdqdg"><code>		    l = <span class="code-string">'leaflet-'</span>,
</code></td></tr><tr><td id="L4855" class="css-a4x74f"><span>4855</span></td><td id="LC4855" class="css-1dcdqdg"><code>		    container = <span class="code-keyword">this</span>._controlContainer =
</code></td></tr><tr><td id="L4856" class="css-a4x74f"><span>4856</span></td><td id="LC4856" class="css-1dcdqdg"><code>		            create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, l + <span class="code-string">'control-container'</span>, <span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L4857" class="css-a4x74f"><span>4857</span></td><td id="LC4857" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4858" class="css-a4x74f"><span>4858</span></td><td id="LC4858" class="css-1dcdqdg"><code>		<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">createCorner</span>(<span class="code-params">vSide, hSide</span>) </span>{
</code></td></tr><tr><td id="L4859" class="css-a4x74f"><span>4859</span></td><td id="LC4859" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> className = l + vSide + <span class="code-string">' '</span> + l + hSide;
</code></td></tr><tr><td id="L4860" class="css-a4x74f"><span>4860</span></td><td id="LC4860" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4861" class="css-a4x74f"><span>4861</span></td><td id="LC4861" class="css-1dcdqdg"><code>			corners[vSide + hSide] = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className, container);
</code></td></tr><tr><td id="L4862" class="css-a4x74f"><span>4862</span></td><td id="LC4862" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4863" class="css-a4x74f"><span>4863</span></td><td id="LC4863" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4864" class="css-a4x74f"><span>4864</span></td><td id="LC4864" class="css-1dcdqdg"><code>		createCorner(<span class="code-string">'top'</span>, <span class="code-string">'left'</span>);
</code></td></tr><tr><td id="L4865" class="css-a4x74f"><span>4865</span></td><td id="LC4865" class="css-1dcdqdg"><code>		createCorner(<span class="code-string">'top'</span>, <span class="code-string">'right'</span>);
</code></td></tr><tr><td id="L4866" class="css-a4x74f"><span>4866</span></td><td id="LC4866" class="css-1dcdqdg"><code>		createCorner(<span class="code-string">'bottom'</span>, <span class="code-string">'left'</span>);
</code></td></tr><tr><td id="L4867" class="css-a4x74f"><span>4867</span></td><td id="LC4867" class="css-1dcdqdg"><code>		createCorner(<span class="code-string">'bottom'</span>, <span class="code-string">'right'</span>);
</code></td></tr><tr><td id="L4868" class="css-a4x74f"><span>4868</span></td><td id="LC4868" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4869" class="css-a4x74f"><span>4869</span></td><td id="LC4869" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4870" class="css-a4x74f"><span>4870</span></td><td id="LC4870" class="css-1dcdqdg"><code>	_clearControlPos: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4871" class="css-a4x74f"><span>4871</span></td><td id="LC4871" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._controlCorners) {
</code></td></tr><tr><td id="L4872" class="css-a4x74f"><span>4872</span></td><td id="LC4872" class="css-1dcdqdg"><code>			remove(<span class="code-keyword">this</span>._controlCorners[i]);
</code></td></tr><tr><td id="L4873" class="css-a4x74f"><span>4873</span></td><td id="LC4873" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4874" class="css-a4x74f"><span>4874</span></td><td id="LC4874" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._controlContainer);
</code></td></tr><tr><td id="L4875" class="css-a4x74f"><span>4875</span></td><td id="LC4875" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._controlCorners;
</code></td></tr><tr><td id="L4876" class="css-a4x74f"><span>4876</span></td><td id="LC4876" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._controlContainer;
</code></td></tr><tr><td id="L4877" class="css-a4x74f"><span>4877</span></td><td id="LC4877" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L4878" class="css-a4x74f"><span>4878</span></td><td id="LC4878" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L4879" class="css-a4x74f"><span>4879</span></td><td id="LC4879" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4880" class="css-a4x74f"><span>4880</span></td><td id="LC4880" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L4881" class="css-a4x74f"><span>4881</span></td><td id="LC4881" class="css-1dcdqdg"><code><span class="code-comment"> * @class Control.Layers
</span></code></td></tr><tr><td id="L4882" class="css-a4x74f"><span>4882</span></td><td id="LC4882" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Control.Layers
</span></code></td></tr><tr><td id="L4883" class="css-a4x74f"><span>4883</span></td><td id="LC4883" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Control
</span></code></td></tr><tr><td id="L4884" class="css-a4x74f"><span>4884</span></td><td id="LC4884" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4885" class="css-a4x74f"><span>4885</span></td><td id="LC4885" class="css-1dcdqdg"><code><span class="code-comment"> * The layers control gives users the ability to switch between different base layers and switch overlays on/off (check out the [detailed example](https://leafletjs.com/examples/layers-control/)). Extends `Control`.
</span></code></td></tr><tr><td id="L4886" class="css-a4x74f"><span>4886</span></td><td id="LC4886" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4887" class="css-a4x74f"><span>4887</span></td><td id="LC4887" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L4888" class="css-a4x74f"><span>4888</span></td><td id="LC4888" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4889" class="css-a4x74f"><span>4889</span></td><td id="LC4889" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L4890" class="css-a4x74f"><span>4890</span></td><td id="LC4890" class="css-1dcdqdg"><code><span class="code-comment"> * var baseLayers = {
</span></code></td></tr><tr><td id="L4891" class="css-a4x74f"><span>4891</span></td><td id="LC4891" class="css-1dcdqdg"><code><span class="code-comment"> * 	"Mapbox": mapbox,
</span></code></td></tr><tr><td id="L4892" class="css-a4x74f"><span>4892</span></td><td id="LC4892" class="css-1dcdqdg"><code><span class="code-comment"> * 	"OpenStreetMap": osm
</span></code></td></tr><tr><td id="L4893" class="css-a4x74f"><span>4893</span></td><td id="LC4893" class="css-1dcdqdg"><code><span class="code-comment"> * };
</span></code></td></tr><tr><td id="L4894" class="css-a4x74f"><span>4894</span></td><td id="LC4894" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4895" class="css-a4x74f"><span>4895</span></td><td id="LC4895" class="css-1dcdqdg"><code><span class="code-comment"> * var overlays = {
</span></code></td></tr><tr><td id="L4896" class="css-a4x74f"><span>4896</span></td><td id="LC4896" class="css-1dcdqdg"><code><span class="code-comment"> * 	"Marker": marker,
</span></code></td></tr><tr><td id="L4897" class="css-a4x74f"><span>4897</span></td><td id="LC4897" class="css-1dcdqdg"><code><span class="code-comment"> * 	"Roads": roadsLayer
</span></code></td></tr><tr><td id="L4898" class="css-a4x74f"><span>4898</span></td><td id="LC4898" class="css-1dcdqdg"><code><span class="code-comment"> * };
</span></code></td></tr><tr><td id="L4899" class="css-a4x74f"><span>4899</span></td><td id="LC4899" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4900" class="css-a4x74f"><span>4900</span></td><td id="LC4900" class="css-1dcdqdg"><code><span class="code-comment"> * L.control.layers(baseLayers, overlays).addTo(map);
</span></code></td></tr><tr><td id="L4901" class="css-a4x74f"><span>4901</span></td><td id="LC4901" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L4902" class="css-a4x74f"><span>4902</span></td><td id="LC4902" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4903" class="css-a4x74f"><span>4903</span></td><td id="LC4903" class="css-1dcdqdg"><code><span class="code-comment"> * The `baseLayers` and `overlays` parameters are object literals with layer names as keys and `Layer` objects as values:
</span></code></td></tr><tr><td id="L4904" class="css-a4x74f"><span>4904</span></td><td id="LC4904" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4905" class="css-a4x74f"><span>4905</span></td><td id="LC4905" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L4906" class="css-a4x74f"><span>4906</span></td><td id="LC4906" class="css-1dcdqdg"><code><span class="code-comment"> * {
</span></code></td></tr><tr><td id="L4907" class="css-a4x74f"><span>4907</span></td><td id="LC4907" class="css-1dcdqdg"><code><span class="code-comment"> *     "&lt;someName1&gt;": layer1,
</span></code></td></tr><tr><td id="L4908" class="css-a4x74f"><span>4908</span></td><td id="LC4908" class="css-1dcdqdg"><code><span class="code-comment"> *     "&lt;someName2&gt;": layer2
</span></code></td></tr><tr><td id="L4909" class="css-a4x74f"><span>4909</span></td><td id="LC4909" class="css-1dcdqdg"><code><span class="code-comment"> * }
</span></code></td></tr><tr><td id="L4910" class="css-a4x74f"><span>4910</span></td><td id="LC4910" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L4911" class="css-a4x74f"><span>4911</span></td><td id="LC4911" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4912" class="css-a4x74f"><span>4912</span></td><td id="LC4912" class="css-1dcdqdg"><code><span class="code-comment"> * The layer names can contain HTML, which allows you to add additional styling to the items:
</span></code></td></tr><tr><td id="L4913" class="css-a4x74f"><span>4913</span></td><td id="LC4913" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L4914" class="css-a4x74f"><span>4914</span></td><td id="LC4914" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L4915" class="css-a4x74f"><span>4915</span></td><td id="LC4915" class="css-1dcdqdg"><code><span class="code-comment"> * {"&lt;img src='my-layer-icon' /&gt; &lt;span class='my-layer-item'&gt;My Layer&lt;/span&gt;": myLayer}
</span></code></td></tr><tr><td id="L4916" class="css-a4x74f"><span>4916</span></td><td id="LC4916" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L4917" class="css-a4x74f"><span>4917</span></td><td id="LC4917" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L4918" class="css-a4x74f"><span>4918</span></td><td id="LC4918" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4919" class="css-a4x74f"><span>4919</span></td><td id="LC4919" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Layers = Control.extend({
</code></td></tr><tr><td id="L4920" class="css-a4x74f"><span>4920</span></td><td id="LC4920" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L4921" class="css-a4x74f"><span>4921</span></td><td id="LC4921" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Control.Layers options</span>
</code></td></tr><tr><td id="L4922" class="css-a4x74f"><span>4922</span></td><td id="LC4922" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L4923" class="css-a4x74f"><span>4923</span></td><td id="LC4923" class="css-1dcdqdg"><code>		<span class="code-comment">// @option collapsed: Boolean = true</span>
</code></td></tr><tr><td id="L4924" class="css-a4x74f"><span>4924</span></td><td id="LC4924" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the control will be collapsed into an icon and expanded on mouse hover, touch, or keyboard activation.</span>
</code></td></tr><tr><td id="L4925" class="css-a4x74f"><span>4925</span></td><td id="LC4925" class="css-1dcdqdg"><code>		collapsed: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L4926" class="css-a4x74f"><span>4926</span></td><td id="LC4926" class="css-1dcdqdg"><code>		position: <span class="code-string">'topright'</span>,
</code></td></tr><tr><td id="L4927" class="css-a4x74f"><span>4927</span></td><td id="LC4927" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4928" class="css-a4x74f"><span>4928</span></td><td id="LC4928" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoZIndex: Boolean = true</span>
</code></td></tr><tr><td id="L4929" class="css-a4x74f"><span>4929</span></td><td id="LC4929" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.</span>
</code></td></tr><tr><td id="L4930" class="css-a4x74f"><span>4930</span></td><td id="LC4930" class="css-1dcdqdg"><code>		autoZIndex: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L4931" class="css-a4x74f"><span>4931</span></td><td id="LC4931" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4932" class="css-a4x74f"><span>4932</span></td><td id="LC4932" class="css-1dcdqdg"><code>		<span class="code-comment">// @option hideSingleBase: Boolean = false</span>
</code></td></tr><tr><td id="L4933" class="css-a4x74f"><span>4933</span></td><td id="LC4933" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the base layers in the control will be hidden when there is only one.</span>
</code></td></tr><tr><td id="L4934" class="css-a4x74f"><span>4934</span></td><td id="LC4934" class="css-1dcdqdg"><code>		hideSingleBase: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L4935" class="css-a4x74f"><span>4935</span></td><td id="LC4935" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4936" class="css-a4x74f"><span>4936</span></td><td id="LC4936" class="css-1dcdqdg"><code>		<span class="code-comment">// @option sortLayers: Boolean = false</span>
</code></td></tr><tr><td id="L4937" class="css-a4x74f"><span>4937</span></td><td id="LC4937" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to sort the layers. When `false`, layers will keep the order</span>
</code></td></tr><tr><td id="L4938" class="css-a4x74f"><span>4938</span></td><td id="LC4938" class="css-1dcdqdg"><code>		<span class="code-comment">// in which they were added to the control.</span>
</code></td></tr><tr><td id="L4939" class="css-a4x74f"><span>4939</span></td><td id="LC4939" class="css-1dcdqdg"><code>		sortLayers: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L4940" class="css-a4x74f"><span>4940</span></td><td id="LC4940" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4941" class="css-a4x74f"><span>4941</span></td><td id="LC4941" class="css-1dcdqdg"><code>		<span class="code-comment">// @option sortFunction: Function = *</span>
</code></td></tr><tr><td id="L4942" class="css-a4x74f"><span>4942</span></td><td id="LC4942" class="css-1dcdqdg"><code>		<span class="code-comment">// A [compare function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)</span>
</code></td></tr><tr><td id="L4943" class="css-a4x74f"><span>4943</span></td><td id="LC4943" class="css-1dcdqdg"><code>		<span class="code-comment">// that will be used for sorting the layers, when `sortLayers` is `true`.</span>
</code></td></tr><tr><td id="L4944" class="css-a4x74f"><span>4944</span></td><td id="LC4944" class="css-1dcdqdg"><code>		<span class="code-comment">// The function receives both the `L.Layer` instances and their names, as in</span>
</code></td></tr><tr><td id="L4945" class="css-a4x74f"><span>4945</span></td><td id="LC4945" class="css-1dcdqdg"><code>		<span class="code-comment">// `sortFunction(layerA, layerB, nameA, nameB)`.</span>
</code></td></tr><tr><td id="L4946" class="css-a4x74f"><span>4946</span></td><td id="LC4946" class="css-1dcdqdg"><code>		<span class="code-comment">// By default, it sorts layers alphabetically by their name.</span>
</code></td></tr><tr><td id="L4947" class="css-a4x74f"><span>4947</span></td><td id="LC4947" class="css-1dcdqdg"><code>		sortFunction: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layerA, layerB, nameA, nameB</span>) </span>{
</code></td></tr><tr><td id="L4948" class="css-a4x74f"><span>4948</span></td><td id="LC4948" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> nameA &lt; nameB ? <span class="code-number">-1</span> : (nameB &lt; nameA ? <span class="code-number">1</span> : <span class="code-number">0</span>);
</code></td></tr><tr><td id="L4949" class="css-a4x74f"><span>4949</span></td><td id="LC4949" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4950" class="css-a4x74f"><span>4950</span></td><td id="LC4950" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4951" class="css-a4x74f"><span>4951</span></td><td id="LC4951" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4952" class="css-a4x74f"><span>4952</span></td><td id="LC4952" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">baseLayers, overlays, options</span>) </span>{
</code></td></tr><tr><td id="L4953" class="css-a4x74f"><span>4953</span></td><td id="LC4953" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L4954" class="css-a4x74f"><span>4954</span></td><td id="LC4954" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4955" class="css-a4x74f"><span>4955</span></td><td id="LC4955" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layerControlInputs = [];
</code></td></tr><tr><td id="L4956" class="css-a4x74f"><span>4956</span></td><td id="LC4956" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers = [];
</code></td></tr><tr><td id="L4957" class="css-a4x74f"><span>4957</span></td><td id="LC4957" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._lastZIndex = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L4958" class="css-a4x74f"><span>4958</span></td><td id="LC4958" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._handlingClick = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L4959" class="css-a4x74f"><span>4959</span></td><td id="LC4959" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4960" class="css-a4x74f"><span>4960</span></td><td id="LC4960" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> baseLayers) {
</code></td></tr><tr><td id="L4961" class="css-a4x74f"><span>4961</span></td><td id="LC4961" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._addLayer(baseLayers[i], i);
</code></td></tr><tr><td id="L4962" class="css-a4x74f"><span>4962</span></td><td id="LC4962" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4963" class="css-a4x74f"><span>4963</span></td><td id="LC4963" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4964" class="css-a4x74f"><span>4964</span></td><td id="LC4964" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> overlays) {
</code></td></tr><tr><td id="L4965" class="css-a4x74f"><span>4965</span></td><td id="LC4965" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._addLayer(overlays[i], i, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L4966" class="css-a4x74f"><span>4966</span></td><td id="LC4966" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4967" class="css-a4x74f"><span>4967</span></td><td id="LC4967" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4968" class="css-a4x74f"><span>4968</span></td><td id="LC4968" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4969" class="css-a4x74f"><span>4969</span></td><td id="LC4969" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L4970" class="css-a4x74f"><span>4970</span></td><td id="LC4970" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initLayout();
</code></td></tr><tr><td id="L4971" class="css-a4x74f"><span>4971</span></td><td id="LC4971" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L4972" class="css-a4x74f"><span>4972</span></td><td id="LC4972" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4973" class="css-a4x74f"><span>4973</span></td><td id="LC4973" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = map;
</code></td></tr><tr><td id="L4974" class="css-a4x74f"><span>4974</span></td><td id="LC4974" class="css-1dcdqdg"><code>		map.on(<span class="code-string">'zoomend'</span>, <span class="code-keyword">this</span>._checkDisabledLayers, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4975" class="css-a4x74f"><span>4975</span></td><td id="LC4975" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4976" class="css-a4x74f"><span>4976</span></td><td id="LC4976" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; <span class="code-keyword">this</span>._layers.length; i++) {
</code></td></tr><tr><td id="L4977" class="css-a4x74f"><span>4977</span></td><td id="LC4977" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers[i].layer.on(<span class="code-string">'add remove'</span>, <span class="code-keyword">this</span>._onLayerChange, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4978" class="css-a4x74f"><span>4978</span></td><td id="LC4978" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4979" class="css-a4x74f"><span>4979</span></td><td id="LC4979" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4980" class="css-a4x74f"><span>4980</span></td><td id="LC4980" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L4981" class="css-a4x74f"><span>4981</span></td><td id="LC4981" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4982" class="css-a4x74f"><span>4982</span></td><td id="LC4982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4983" class="css-a4x74f"><span>4983</span></td><td id="LC4983" class="css-1dcdqdg"><code>	addTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L4984" class="css-a4x74f"><span>4984</span></td><td id="LC4984" class="css-1dcdqdg"><code>		Control.prototype.addTo.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L4985" class="css-a4x74f"><span>4985</span></td><td id="LC4985" class="css-1dcdqdg"><code>		<span class="code-comment">// Trigger expand after Layers Control has been inserted into DOM so that is now has an actual height.</span>
</code></td></tr><tr><td id="L4986" class="css-a4x74f"><span>4986</span></td><td id="LC4986" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._expandIfNotCollapsed();
</code></td></tr><tr><td id="L4987" class="css-a4x74f"><span>4987</span></td><td id="LC4987" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4988" class="css-a4x74f"><span>4988</span></td><td id="LC4988" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4989" class="css-a4x74f"><span>4989</span></td><td id="LC4989" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L4990" class="css-a4x74f"><span>4990</span></td><td id="LC4990" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.off(<span class="code-string">'zoomend'</span>, <span class="code-keyword">this</span>._checkDisabledLayers, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4991" class="css-a4x74f"><span>4991</span></td><td id="LC4991" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4992" class="css-a4x74f"><span>4992</span></td><td id="LC4992" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; <span class="code-keyword">this</span>._layers.length; i++) {
</code></td></tr><tr><td id="L4993" class="css-a4x74f"><span>4993</span></td><td id="LC4993" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers[i].layer.off(<span class="code-string">'add remove'</span>, <span class="code-keyword">this</span>._onLayerChange, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L4994" class="css-a4x74f"><span>4994</span></td><td id="LC4994" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L4995" class="css-a4x74f"><span>4995</span></td><td id="LC4995" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L4996" class="css-a4x74f"><span>4996</span></td><td id="LC4996" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L4997" class="css-a4x74f"><span>4997</span></td><td id="LC4997" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addBaseLayer(layer: Layer, name: String): this</span>
</code></td></tr><tr><td id="L4998" class="css-a4x74f"><span>4998</span></td><td id="LC4998" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds a base layer (radio button entry) with the given name to the control.</span>
</code></td></tr><tr><td id="L4999" class="css-a4x74f"><span>4999</span></td><td id="LC4999" class="css-1dcdqdg"><code>	addBaseLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, name</span>) </span>{
</code></td></tr><tr><td id="L5000" class="css-a4x74f"><span>5000</span></td><td id="LC5000" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._addLayer(layer, name);
</code></td></tr><tr><td id="L5001" class="css-a4x74f"><span>5001</span></td><td id="LC5001" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>._map) ? <span class="code-keyword">this</span>._update() : <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5002" class="css-a4x74f"><span>5002</span></td><td id="LC5002" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5003" class="css-a4x74f"><span>5003</span></td><td id="LC5003" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5004" class="css-a4x74f"><span>5004</span></td><td id="LC5004" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addOverlay(layer: Layer, name: String): this</span>
</code></td></tr><tr><td id="L5005" class="css-a4x74f"><span>5005</span></td><td id="LC5005" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds an overlay (checkbox entry) with the given name to the control.</span>
</code></td></tr><tr><td id="L5006" class="css-a4x74f"><span>5006</span></td><td id="LC5006" class="css-1dcdqdg"><code>	addOverlay: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, name</span>) </span>{
</code></td></tr><tr><td id="L5007" class="css-a4x74f"><span>5007</span></td><td id="LC5007" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._addLayer(layer, name, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L5008" class="css-a4x74f"><span>5008</span></td><td id="LC5008" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>._map) ? <span class="code-keyword">this</span>._update() : <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5009" class="css-a4x74f"><span>5009</span></td><td id="LC5009" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5010" class="css-a4x74f"><span>5010</span></td><td id="LC5010" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5011" class="css-a4x74f"><span>5011</span></td><td id="LC5011" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeLayer(layer: Layer): this</span>
</code></td></tr><tr><td id="L5012" class="css-a4x74f"><span>5012</span></td><td id="LC5012" class="css-1dcdqdg"><code>	<span class="code-comment">// Remove the given layer from the control.</span>
</code></td></tr><tr><td id="L5013" class="css-a4x74f"><span>5013</span></td><td id="LC5013" class="css-1dcdqdg"><code>	removeLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L5014" class="css-a4x74f"><span>5014</span></td><td id="LC5014" class="css-1dcdqdg"><code>		layer.off(<span class="code-string">'add remove'</span>, <span class="code-keyword">this</span>._onLayerChange, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5015" class="css-a4x74f"><span>5015</span></td><td id="LC5015" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5016" class="css-a4x74f"><span>5016</span></td><td id="LC5016" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> obj = <span class="code-keyword">this</span>._getLayer(stamp(layer));
</code></td></tr><tr><td id="L5017" class="css-a4x74f"><span>5017</span></td><td id="LC5017" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (obj) {
</code></td></tr><tr><td id="L5018" class="css-a4x74f"><span>5018</span></td><td id="LC5018" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers.splice(<span class="code-keyword">this</span>._layers.indexOf(obj), <span class="code-number">1</span>);
</code></td></tr><tr><td id="L5019" class="css-a4x74f"><span>5019</span></td><td id="LC5019" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5020" class="css-a4x74f"><span>5020</span></td><td id="LC5020" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>._map) ? <span class="code-keyword">this</span>._update() : <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5021" class="css-a4x74f"><span>5021</span></td><td id="LC5021" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5022" class="css-a4x74f"><span>5022</span></td><td id="LC5022" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5023" class="css-a4x74f"><span>5023</span></td><td id="LC5023" class="css-1dcdqdg"><code>	<span class="code-comment">// @method expand(): this</span>
</code></td></tr><tr><td id="L5024" class="css-a4x74f"><span>5024</span></td><td id="LC5024" class="css-1dcdqdg"><code>	<span class="code-comment">// Expand the control container if collapsed.</span>
</code></td></tr><tr><td id="L5025" class="css-a4x74f"><span>5025</span></td><td id="LC5025" class="css-1dcdqdg"><code>	expand: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5026" class="css-a4x74f"><span>5026</span></td><td id="LC5026" class="css-1dcdqdg"><code>		addClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-control-layers-expanded'</span>);
</code></td></tr><tr><td id="L5027" class="css-a4x74f"><span>5027</span></td><td id="LC5027" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._section.style.height = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5028" class="css-a4x74f"><span>5028</span></td><td id="LC5028" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> acceptableHeight = <span class="code-keyword">this</span>._map.getSize().y - (<span class="code-keyword">this</span>._container.offsetTop + <span class="code-number">50</span>);
</code></td></tr><tr><td id="L5029" class="css-a4x74f"><span>5029</span></td><td id="LC5029" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (acceptableHeight &lt; <span class="code-keyword">this</span>._section.clientHeight) {
</code></td></tr><tr><td id="L5030" class="css-a4x74f"><span>5030</span></td><td id="LC5030" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._section, <span class="code-string">'leaflet-control-layers-scrollbar'</span>);
</code></td></tr><tr><td id="L5031" class="css-a4x74f"><span>5031</span></td><td id="LC5031" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._section.style.height = acceptableHeight + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L5032" class="css-a4x74f"><span>5032</span></td><td id="LC5032" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5033" class="css-a4x74f"><span>5033</span></td><td id="LC5033" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._section, <span class="code-string">'leaflet-control-layers-scrollbar'</span>);
</code></td></tr><tr><td id="L5034" class="css-a4x74f"><span>5034</span></td><td id="LC5034" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5035" class="css-a4x74f"><span>5035</span></td><td id="LC5035" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._checkDisabledLayers();
</code></td></tr><tr><td id="L5036" class="css-a4x74f"><span>5036</span></td><td id="LC5036" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5037" class="css-a4x74f"><span>5037</span></td><td id="LC5037" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5038" class="css-a4x74f"><span>5038</span></td><td id="LC5038" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5039" class="css-a4x74f"><span>5039</span></td><td id="LC5039" class="css-1dcdqdg"><code>	<span class="code-comment">// @method collapse(): this</span>
</code></td></tr><tr><td id="L5040" class="css-a4x74f"><span>5040</span></td><td id="LC5040" class="css-1dcdqdg"><code>	<span class="code-comment">// Collapse the control container if expanded.</span>
</code></td></tr><tr><td id="L5041" class="css-a4x74f"><span>5041</span></td><td id="LC5041" class="css-1dcdqdg"><code>	collapse: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5042" class="css-a4x74f"><span>5042</span></td><td id="LC5042" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-control-layers-expanded'</span>);
</code></td></tr><tr><td id="L5043" class="css-a4x74f"><span>5043</span></td><td id="LC5043" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5044" class="css-a4x74f"><span>5044</span></td><td id="LC5044" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5045" class="css-a4x74f"><span>5045</span></td><td id="LC5045" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5046" class="css-a4x74f"><span>5046</span></td><td id="LC5046" class="css-1dcdqdg"><code>	_initLayout: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5047" class="css-a4x74f"><span>5047</span></td><td id="LC5047" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> className = <span class="code-string">'leaflet-control-layers'</span>,
</code></td></tr><tr><td id="L5048" class="css-a4x74f"><span>5048</span></td><td id="LC5048" class="css-1dcdqdg"><code>		    container = <span class="code-keyword">this</span>._container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className),
</code></td></tr><tr><td id="L5049" class="css-a4x74f"><span>5049</span></td><td id="LC5049" class="css-1dcdqdg"><code>		    collapsed = <span class="code-keyword">this</span>.options.collapsed;
</code></td></tr><tr><td id="L5050" class="css-a4x74f"><span>5050</span></td><td id="LC5050" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5051" class="css-a4x74f"><span>5051</span></td><td id="LC5051" class="css-1dcdqdg"><code>		<span class="code-comment">// makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released</span>
</code></td></tr><tr><td id="L5052" class="css-a4x74f"><span>5052</span></td><td id="LC5052" class="css-1dcdqdg"><code>		container.setAttribute(<span class="code-string">'aria-haspopup'</span>, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L5053" class="css-a4x74f"><span>5053</span></td><td id="LC5053" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5054" class="css-a4x74f"><span>5054</span></td><td id="LC5054" class="css-1dcdqdg"><code>		disableClickPropagation(container);
</code></td></tr><tr><td id="L5055" class="css-a4x74f"><span>5055</span></td><td id="LC5055" class="css-1dcdqdg"><code>		disableScrollPropagation(container);
</code></td></tr><tr><td id="L5056" class="css-a4x74f"><span>5056</span></td><td id="LC5056" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5057" class="css-a4x74f"><span>5057</span></td><td id="LC5057" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> section = <span class="code-keyword">this</span>._section = create$<span class="code-number">1</span>(<span class="code-string">'section'</span>, className + <span class="code-string">'-list'</span>);
</code></td></tr><tr><td id="L5058" class="css-a4x74f"><span>5058</span></td><td id="LC5058" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5059" class="css-a4x74f"><span>5059</span></td><td id="LC5059" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (collapsed) {
</code></td></tr><tr><td id="L5060" class="css-a4x74f"><span>5060</span></td><td id="LC5060" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.on(<span class="code-string">'click'</span>, <span class="code-keyword">this</span>.collapse, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5061" class="css-a4x74f"><span>5061</span></td><td id="LC5061" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5062" class="css-a4x74f"><span>5062</span></td><td id="LC5062" class="css-1dcdqdg"><code>			on(container, {
</code></td></tr><tr><td id="L5063" class="css-a4x74f"><span>5063</span></td><td id="LC5063" class="css-1dcdqdg"><code>				mouseenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5064" class="css-a4x74f"><span>5064</span></td><td id="LC5064" class="css-1dcdqdg"><code>					on(section, <span class="code-string">'click'</span>, preventDefault);
</code></td></tr><tr><td id="L5065" class="css-a4x74f"><span>5065</span></td><td id="LC5065" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>.expand();
</code></td></tr><tr><td id="L5066" class="css-a4x74f"><span>5066</span></td><td id="LC5066" class="css-1dcdqdg"><code>					setTimeout(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5067" class="css-a4x74f"><span>5067</span></td><td id="LC5067" class="css-1dcdqdg"><code>						off(section, <span class="code-string">'click'</span>, preventDefault);
</code></td></tr><tr><td id="L5068" class="css-a4x74f"><span>5068</span></td><td id="LC5068" class="css-1dcdqdg"><code>					});
</code></td></tr><tr><td id="L5069" class="css-a4x74f"><span>5069</span></td><td id="LC5069" class="css-1dcdqdg"><code>				},
</code></td></tr><tr><td id="L5070" class="css-a4x74f"><span>5070</span></td><td id="LC5070" class="css-1dcdqdg"><code>				mouseleave: <span class="code-keyword">this</span>.collapse
</code></td></tr><tr><td id="L5071" class="css-a4x74f"><span>5071</span></td><td id="LC5071" class="css-1dcdqdg"><code>			}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5072" class="css-a4x74f"><span>5072</span></td><td id="LC5072" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5073" class="css-a4x74f"><span>5073</span></td><td id="LC5073" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5074" class="css-a4x74f"><span>5074</span></td><td id="LC5074" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> link = <span class="code-keyword">this</span>._layersLink = create$<span class="code-number">1</span>(<span class="code-string">'a'</span>, className + <span class="code-string">'-toggle'</span>, container);
</code></td></tr><tr><td id="L5075" class="css-a4x74f"><span>5075</span></td><td id="LC5075" class="css-1dcdqdg"><code>		link.href = <span class="code-string">'#'</span>;
</code></td></tr><tr><td id="L5076" class="css-a4x74f"><span>5076</span></td><td id="LC5076" class="css-1dcdqdg"><code>		link.title = <span class="code-string">'Layers'</span>;
</code></td></tr><tr><td id="L5077" class="css-a4x74f"><span>5077</span></td><td id="LC5077" class="css-1dcdqdg"><code>		link.setAttribute(<span class="code-string">'role'</span>, <span class="code-string">'button'</span>);
</code></td></tr><tr><td id="L5078" class="css-a4x74f"><span>5078</span></td><td id="LC5078" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5079" class="css-a4x74f"><span>5079</span></td><td id="LC5079" class="css-1dcdqdg"><code>		on(link, <span class="code-string">'click'</span>, preventDefault); <span class="code-comment">// prevent link function</span>
</code></td></tr><tr><td id="L5080" class="css-a4x74f"><span>5080</span></td><td id="LC5080" class="css-1dcdqdg"><code>		on(link, <span class="code-string">'focus'</span>, <span class="code-keyword">this</span>.expand, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5081" class="css-a4x74f"><span>5081</span></td><td id="LC5081" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5082" class="css-a4x74f"><span>5082</span></td><td id="LC5082" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!collapsed) {
</code></td></tr><tr><td id="L5083" class="css-a4x74f"><span>5083</span></td><td id="LC5083" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.expand();
</code></td></tr><tr><td id="L5084" class="css-a4x74f"><span>5084</span></td><td id="LC5084" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5085" class="css-a4x74f"><span>5085</span></td><td id="LC5085" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5086" class="css-a4x74f"><span>5086</span></td><td id="LC5086" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._baseLayersList = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className + <span class="code-string">'-base'</span>, section);
</code></td></tr><tr><td id="L5087" class="css-a4x74f"><span>5087</span></td><td id="LC5087" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._separator = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className + <span class="code-string">'-separator'</span>, section);
</code></td></tr><tr><td id="L5088" class="css-a4x74f"><span>5088</span></td><td id="LC5088" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._overlaysList = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className + <span class="code-string">'-overlays'</span>, section);
</code></td></tr><tr><td id="L5089" class="css-a4x74f"><span>5089</span></td><td id="LC5089" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5090" class="css-a4x74f"><span>5090</span></td><td id="LC5090" class="css-1dcdqdg"><code>		container.appendChild(section);
</code></td></tr><tr><td id="L5091" class="css-a4x74f"><span>5091</span></td><td id="LC5091" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5092" class="css-a4x74f"><span>5092</span></td><td id="LC5092" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5093" class="css-a4x74f"><span>5093</span></td><td id="LC5093" class="css-1dcdqdg"><code>	_getLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">id</span>) </span>{
</code></td></tr><tr><td id="L5094" class="css-a4x74f"><span>5094</span></td><td id="LC5094" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; <span class="code-keyword">this</span>._layers.length; i++) {
</code></td></tr><tr><td id="L5095" class="css-a4x74f"><span>5095</span></td><td id="LC5095" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5096" class="css-a4x74f"><span>5096</span></td><td id="LC5096" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._layers[i] &amp;&amp; stamp(<span class="code-keyword">this</span>._layers[i].layer) === id) {
</code></td></tr><tr><td id="L5097" class="css-a4x74f"><span>5097</span></td><td id="LC5097" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> <span class="code-keyword">this</span>._layers[i];
</code></td></tr><tr><td id="L5098" class="css-a4x74f"><span>5098</span></td><td id="LC5098" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5099" class="css-a4x74f"><span>5099</span></td><td id="LC5099" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5100" class="css-a4x74f"><span>5100</span></td><td id="LC5100" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5101" class="css-a4x74f"><span>5101</span></td><td id="LC5101" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5102" class="css-a4x74f"><span>5102</span></td><td id="LC5102" class="css-1dcdqdg"><code>	_addLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, name, overlay</span>) </span>{
</code></td></tr><tr><td id="L5103" class="css-a4x74f"><span>5103</span></td><td id="LC5103" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L5104" class="css-a4x74f"><span>5104</span></td><td id="LC5104" class="css-1dcdqdg"><code>			layer.on(<span class="code-string">'add remove'</span>, <span class="code-keyword">this</span>._onLayerChange, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5105" class="css-a4x74f"><span>5105</span></td><td id="LC5105" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5106" class="css-a4x74f"><span>5106</span></td><td id="LC5106" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5107" class="css-a4x74f"><span>5107</span></td><td id="LC5107" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers.push({
</code></td></tr><tr><td id="L5108" class="css-a4x74f"><span>5108</span></td><td id="LC5108" class="css-1dcdqdg"><code>			layer: layer,
</code></td></tr><tr><td id="L5109" class="css-a4x74f"><span>5109</span></td><td id="LC5109" class="css-1dcdqdg"><code>			name: name,
</code></td></tr><tr><td id="L5110" class="css-a4x74f"><span>5110</span></td><td id="LC5110" class="css-1dcdqdg"><code>			overlay: overlay
</code></td></tr><tr><td id="L5111" class="css-a4x74f"><span>5111</span></td><td id="LC5111" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L5112" class="css-a4x74f"><span>5112</span></td><td id="LC5112" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5113" class="css-a4x74f"><span>5113</span></td><td id="LC5113" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.sortLayers) {
</code></td></tr><tr><td id="L5114" class="css-a4x74f"><span>5114</span></td><td id="LC5114" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers.sort(bind(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L5115" class="css-a4x74f"><span>5115</span></td><td id="LC5115" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.sortFunction(a.layer, b.layer, a.name, b.name);
</code></td></tr><tr><td id="L5116" class="css-a4x74f"><span>5116</span></td><td id="LC5116" class="css-1dcdqdg"><code>			}, <span class="code-keyword">this</span>));
</code></td></tr><tr><td id="L5117" class="css-a4x74f"><span>5117</span></td><td id="LC5117" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5118" class="css-a4x74f"><span>5118</span></td><td id="LC5118" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5119" class="css-a4x74f"><span>5119</span></td><td id="LC5119" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.autoZIndex &amp;&amp; layer.setZIndex) {
</code></td></tr><tr><td id="L5120" class="css-a4x74f"><span>5120</span></td><td id="LC5120" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._lastZIndex++;
</code></td></tr><tr><td id="L5121" class="css-a4x74f"><span>5121</span></td><td id="LC5121" class="css-1dcdqdg"><code>			layer.setZIndex(<span class="code-keyword">this</span>._lastZIndex);
</code></td></tr><tr><td id="L5122" class="css-a4x74f"><span>5122</span></td><td id="LC5122" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5123" class="css-a4x74f"><span>5123</span></td><td id="LC5123" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5124" class="css-a4x74f"><span>5124</span></td><td id="LC5124" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._expandIfNotCollapsed();
</code></td></tr><tr><td id="L5125" class="css-a4x74f"><span>5125</span></td><td id="LC5125" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5126" class="css-a4x74f"><span>5126</span></td><td id="LC5126" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5127" class="css-a4x74f"><span>5127</span></td><td id="LC5127" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5128" class="css-a4x74f"><span>5128</span></td><td id="LC5128" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._container) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L5129" class="css-a4x74f"><span>5129</span></td><td id="LC5129" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5130" class="css-a4x74f"><span>5130</span></td><td id="LC5130" class="css-1dcdqdg"><code>		empty(<span class="code-keyword">this</span>._baseLayersList);
</code></td></tr><tr><td id="L5131" class="css-a4x74f"><span>5131</span></td><td id="LC5131" class="css-1dcdqdg"><code>		empty(<span class="code-keyword">this</span>._overlaysList);
</code></td></tr><tr><td id="L5132" class="css-a4x74f"><span>5132</span></td><td id="LC5132" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5133" class="css-a4x74f"><span>5133</span></td><td id="LC5133" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layerControlInputs = [];
</code></td></tr><tr><td id="L5134" class="css-a4x74f"><span>5134</span></td><td id="LC5134" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L5135" class="css-a4x74f"><span>5135</span></td><td id="LC5135" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5136" class="css-a4x74f"><span>5136</span></td><td id="LC5136" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; <span class="code-keyword">this</span>._layers.length; i++) {
</code></td></tr><tr><td id="L5137" class="css-a4x74f"><span>5137</span></td><td id="LC5137" class="css-1dcdqdg"><code>			obj = <span class="code-keyword">this</span>._layers[i];
</code></td></tr><tr><td id="L5138" class="css-a4x74f"><span>5138</span></td><td id="LC5138" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._addItem(obj);
</code></td></tr><tr><td id="L5139" class="css-a4x74f"><span>5139</span></td><td id="LC5139" class="css-1dcdqdg"><code>			overlaysPresent = overlaysPresent || obj.overlay;
</code></td></tr><tr><td id="L5140" class="css-a4x74f"><span>5140</span></td><td id="LC5140" class="css-1dcdqdg"><code>			baseLayersPresent = baseLayersPresent || !obj.overlay;
</code></td></tr><tr><td id="L5141" class="css-a4x74f"><span>5141</span></td><td id="LC5141" class="css-1dcdqdg"><code>			baseLayersCount += !obj.overlay ? <span class="code-number">1</span> : <span class="code-number">0</span>;
</code></td></tr><tr><td id="L5142" class="css-a4x74f"><span>5142</span></td><td id="LC5142" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5143" class="css-a4x74f"><span>5143</span></td><td id="LC5143" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5144" class="css-a4x74f"><span>5144</span></td><td id="LC5144" class="css-1dcdqdg"><code>		<span class="code-comment">// Hide base layers section if there's only one layer.</span>
</code></td></tr><tr><td id="L5145" class="css-a4x74f"><span>5145</span></td><td id="LC5145" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.hideSingleBase) {
</code></td></tr><tr><td id="L5146" class="css-a4x74f"><span>5146</span></td><td id="LC5146" class="css-1dcdqdg"><code>			baseLayersPresent = baseLayersPresent &amp;&amp; baseLayersCount &gt; <span class="code-number">1</span>;
</code></td></tr><tr><td id="L5147" class="css-a4x74f"><span>5147</span></td><td id="LC5147" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._baseLayersList.style.display = baseLayersPresent ? <span class="code-string">''</span> : <span class="code-string">'none'</span>;
</code></td></tr><tr><td id="L5148" class="css-a4x74f"><span>5148</span></td><td id="LC5148" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5149" class="css-a4x74f"><span>5149</span></td><td id="LC5149" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5150" class="css-a4x74f"><span>5150</span></td><td id="LC5150" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._separator.style.display = overlaysPresent &amp;&amp; baseLayersPresent ? <span class="code-string">''</span> : <span class="code-string">'none'</span>;
</code></td></tr><tr><td id="L5151" class="css-a4x74f"><span>5151</span></td><td id="LC5151" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5152" class="css-a4x74f"><span>5152</span></td><td id="LC5152" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5153" class="css-a4x74f"><span>5153</span></td><td id="LC5153" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5154" class="css-a4x74f"><span>5154</span></td><td id="LC5154" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5155" class="css-a4x74f"><span>5155</span></td><td id="LC5155" class="css-1dcdqdg"><code>	_onLayerChange: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L5156" class="css-a4x74f"><span>5156</span></td><td id="LC5156" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._handlingClick) {
</code></td></tr><tr><td id="L5157" class="css-a4x74f"><span>5157</span></td><td id="LC5157" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L5158" class="css-a4x74f"><span>5158</span></td><td id="LC5158" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5159" class="css-a4x74f"><span>5159</span></td><td id="LC5159" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5160" class="css-a4x74f"><span>5160</span></td><td id="LC5160" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> obj = <span class="code-keyword">this</span>._getLayer(stamp(e.target));
</code></td></tr><tr><td id="L5161" class="css-a4x74f"><span>5161</span></td><td id="LC5161" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5162" class="css-a4x74f"><span>5162</span></td><td id="LC5162" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L5163" class="css-a4x74f"><span>5163</span></td><td id="LC5163" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Layer events</span>
</code></td></tr><tr><td id="L5164" class="css-a4x74f"><span>5164</span></td><td id="LC5164" class="css-1dcdqdg"><code>		<span class="code-comment">// @event baselayerchange: LayersControlEvent</span>
</code></td></tr><tr><td id="L5165" class="css-a4x74f"><span>5165</span></td><td id="LC5165" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the base layer is changed through the [layers control](#control-layers).</span>
</code></td></tr><tr><td id="L5166" class="css-a4x74f"><span>5166</span></td><td id="LC5166" class="css-1dcdqdg"><code>		<span class="code-comment">// @event overlayadd: LayersControlEvent</span>
</code></td></tr><tr><td id="L5167" class="css-a4x74f"><span>5167</span></td><td id="LC5167" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when an overlay is selected through the [layers control](#control-layers).</span>
</code></td></tr><tr><td id="L5168" class="css-a4x74f"><span>5168</span></td><td id="LC5168" class="css-1dcdqdg"><code>		<span class="code-comment">// @event overlayremove: LayersControlEvent</span>
</code></td></tr><tr><td id="L5169" class="css-a4x74f"><span>5169</span></td><td id="LC5169" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when an overlay is deselected through the [layers control](#control-layers).</span>
</code></td></tr><tr><td id="L5170" class="css-a4x74f"><span>5170</span></td><td id="LC5170" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Control.Layers</span>
</code></td></tr><tr><td id="L5171" class="css-a4x74f"><span>5171</span></td><td id="LC5171" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> type = obj.overlay ?
</code></td></tr><tr><td id="L5172" class="css-a4x74f"><span>5172</span></td><td id="LC5172" class="css-1dcdqdg"><code>			(e.type === <span class="code-string">'add'</span> ? <span class="code-string">'overlayadd'</span> : <span class="code-string">'overlayremove'</span>) :
</code></td></tr><tr><td id="L5173" class="css-a4x74f"><span>5173</span></td><td id="LC5173" class="css-1dcdqdg"><code>			(e.type === <span class="code-string">'add'</span> ? <span class="code-string">'baselayerchange'</span> : <span class="code-literal">null</span>);
</code></td></tr><tr><td id="L5174" class="css-a4x74f"><span>5174</span></td><td id="LC5174" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5175" class="css-a4x74f"><span>5175</span></td><td id="LC5175" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (type) {
</code></td></tr><tr><td id="L5176" class="css-a4x74f"><span>5176</span></td><td id="LC5176" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.fire(type, obj);
</code></td></tr><tr><td id="L5177" class="css-a4x74f"><span>5177</span></td><td id="LC5177" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5178" class="css-a4x74f"><span>5178</span></td><td id="LC5178" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5179" class="css-a4x74f"><span>5179</span></td><td id="LC5179" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5180" class="css-a4x74f"><span>5180</span></td><td id="LC5180" class="css-1dcdqdg"><code>	<span class="code-comment">// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see https://stackoverflow.com/a/119079)</span>
</code></td></tr><tr><td id="L5181" class="css-a4x74f"><span>5181</span></td><td id="LC5181" class="css-1dcdqdg"><code>	_createRadioElement: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name, checked</span>) </span>{
</code></td></tr><tr><td id="L5182" class="css-a4x74f"><span>5182</span></td><td id="LC5182" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5183" class="css-a4x74f"><span>5183</span></td><td id="LC5183" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> radioHtml = <span class="code-string">'&lt;input type="radio" class="leaflet-control-layers-selector" name="'</span> +
</code></td></tr><tr><td id="L5184" class="css-a4x74f"><span>5184</span></td><td id="LC5184" class="css-1dcdqdg"><code>				name + <span class="code-string">'"'</span> + (checked ? <span class="code-string">' checked="checked"'</span> : <span class="code-string">''</span>) + <span class="code-string">'/&gt;'</span>;
</code></td></tr><tr><td id="L5185" class="css-a4x74f"><span>5185</span></td><td id="LC5185" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5186" class="css-a4x74f"><span>5186</span></td><td id="LC5186" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> radioFragment = <span class="code-built_in">document</span>.createElement(<span class="code-string">'div'</span>);
</code></td></tr><tr><td id="L5187" class="css-a4x74f"><span>5187</span></td><td id="LC5187" class="css-1dcdqdg"><code>		radioFragment.innerHTML = radioHtml;
</code></td></tr><tr><td id="L5188" class="css-a4x74f"><span>5188</span></td><td id="LC5188" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5189" class="css-a4x74f"><span>5189</span></td><td id="LC5189" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> radioFragment.firstChild;
</code></td></tr><tr><td id="L5190" class="css-a4x74f"><span>5190</span></td><td id="LC5190" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5191" class="css-a4x74f"><span>5191</span></td><td id="LC5191" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5192" class="css-a4x74f"><span>5192</span></td><td id="LC5192" class="css-1dcdqdg"><code>	_addItem: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L5193" class="css-a4x74f"><span>5193</span></td><td id="LC5193" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> label = <span class="code-built_in">document</span>.createElement(<span class="code-string">'label'</span>),
</code></td></tr><tr><td id="L5194" class="css-a4x74f"><span>5194</span></td><td id="LC5194" class="css-1dcdqdg"><code>		    checked = <span class="code-keyword">this</span>._map.hasLayer(obj.layer),
</code></td></tr><tr><td id="L5195" class="css-a4x74f"><span>5195</span></td><td id="LC5195" class="css-1dcdqdg"><code>		    input;
</code></td></tr><tr><td id="L5196" class="css-a4x74f"><span>5196</span></td><td id="LC5196" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5197" class="css-a4x74f"><span>5197</span></td><td id="LC5197" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (obj.overlay) {
</code></td></tr><tr><td id="L5198" class="css-a4x74f"><span>5198</span></td><td id="LC5198" class="css-1dcdqdg"><code>			input = <span class="code-built_in">document</span>.createElement(<span class="code-string">'input'</span>);
</code></td></tr><tr><td id="L5199" class="css-a4x74f"><span>5199</span></td><td id="LC5199" class="css-1dcdqdg"><code>			input.type = <span class="code-string">'checkbox'</span>;
</code></td></tr><tr><td id="L5200" class="css-a4x74f"><span>5200</span></td><td id="LC5200" class="css-1dcdqdg"><code>			input.className = <span class="code-string">'leaflet-control-layers-selector'</span>;
</code></td></tr><tr><td id="L5201" class="css-a4x74f"><span>5201</span></td><td id="LC5201" class="css-1dcdqdg"><code>			input.defaultChecked = checked;
</code></td></tr><tr><td id="L5202" class="css-a4x74f"><span>5202</span></td><td id="LC5202" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5203" class="css-a4x74f"><span>5203</span></td><td id="LC5203" class="css-1dcdqdg"><code>			input = <span class="code-keyword">this</span>._createRadioElement(<span class="code-string">'leaflet-base-layers_'</span> + stamp(<span class="code-keyword">this</span>), checked);
</code></td></tr><tr><td id="L5204" class="css-a4x74f"><span>5204</span></td><td id="LC5204" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5205" class="css-a4x74f"><span>5205</span></td><td id="LC5205" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5206" class="css-a4x74f"><span>5206</span></td><td id="LC5206" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layerControlInputs.push(input);
</code></td></tr><tr><td id="L5207" class="css-a4x74f"><span>5207</span></td><td id="LC5207" class="css-1dcdqdg"><code>		input.layerId = stamp(obj.layer);
</code></td></tr><tr><td id="L5208" class="css-a4x74f"><span>5208</span></td><td id="LC5208" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5209" class="css-a4x74f"><span>5209</span></td><td id="LC5209" class="css-1dcdqdg"><code>		on(input, <span class="code-string">'click'</span>, <span class="code-keyword">this</span>._onInputClick, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5210" class="css-a4x74f"><span>5210</span></td><td id="LC5210" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5211" class="css-a4x74f"><span>5211</span></td><td id="LC5211" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> name = <span class="code-built_in">document</span>.createElement(<span class="code-string">'span'</span>);
</code></td></tr><tr><td id="L5212" class="css-a4x74f"><span>5212</span></td><td id="LC5212" class="css-1dcdqdg"><code>		name.innerHTML = <span class="code-string">' '</span> + obj.name;
</code></td></tr><tr><td id="L5213" class="css-a4x74f"><span>5213</span></td><td id="LC5213" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5214" class="css-a4x74f"><span>5214</span></td><td id="LC5214" class="css-1dcdqdg"><code>		<span class="code-comment">// Helps from preventing layer control flicker when checkboxes are disabled</span>
</code></td></tr><tr><td id="L5215" class="css-a4x74f"><span>5215</span></td><td id="LC5215" class="css-1dcdqdg"><code>		<span class="code-comment">// https://github.com/Leaflet/Leaflet/issues/2771</span>
</code></td></tr><tr><td id="L5216" class="css-a4x74f"><span>5216</span></td><td id="LC5216" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> holder = <span class="code-built_in">document</span>.createElement(<span class="code-string">'span'</span>);
</code></td></tr><tr><td id="L5217" class="css-a4x74f"><span>5217</span></td><td id="LC5217" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5218" class="css-a4x74f"><span>5218</span></td><td id="LC5218" class="css-1dcdqdg"><code>		label.appendChild(holder);
</code></td></tr><tr><td id="L5219" class="css-a4x74f"><span>5219</span></td><td id="LC5219" class="css-1dcdqdg"><code>		holder.appendChild(input);
</code></td></tr><tr><td id="L5220" class="css-a4x74f"><span>5220</span></td><td id="LC5220" class="css-1dcdqdg"><code>		holder.appendChild(name);
</code></td></tr><tr><td id="L5221" class="css-a4x74f"><span>5221</span></td><td id="LC5221" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5222" class="css-a4x74f"><span>5222</span></td><td id="LC5222" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = obj.overlay ? <span class="code-keyword">this</span>._overlaysList : <span class="code-keyword">this</span>._baseLayersList;
</code></td></tr><tr><td id="L5223" class="css-a4x74f"><span>5223</span></td><td id="LC5223" class="css-1dcdqdg"><code>		container.appendChild(label);
</code></td></tr><tr><td id="L5224" class="css-a4x74f"><span>5224</span></td><td id="LC5224" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5225" class="css-a4x74f"><span>5225</span></td><td id="LC5225" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._checkDisabledLayers();
</code></td></tr><tr><td id="L5226" class="css-a4x74f"><span>5226</span></td><td id="LC5226" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> label;
</code></td></tr><tr><td id="L5227" class="css-a4x74f"><span>5227</span></td><td id="LC5227" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5228" class="css-a4x74f"><span>5228</span></td><td id="LC5228" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5229" class="css-a4x74f"><span>5229</span></td><td id="LC5229" class="css-1dcdqdg"><code>	_onInputClick: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5230" class="css-a4x74f"><span>5230</span></td><td id="LC5230" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> inputs = <span class="code-keyword">this</span>._layerControlInputs,
</code></td></tr><tr><td id="L5231" class="css-a4x74f"><span>5231</span></td><td id="LC5231" class="css-1dcdqdg"><code>		    input, layer;
</code></td></tr><tr><td id="L5232" class="css-a4x74f"><span>5232</span></td><td id="LC5232" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> addedLayers = [],
</code></td></tr><tr><td id="L5233" class="css-a4x74f"><span>5233</span></td><td id="LC5233" class="css-1dcdqdg"><code>		    removedLayers = [];
</code></td></tr><tr><td id="L5234" class="css-a4x74f"><span>5234</span></td><td id="LC5234" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5235" class="css-a4x74f"><span>5235</span></td><td id="LC5235" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._handlingClick = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5236" class="css-a4x74f"><span>5236</span></td><td id="LC5236" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5237" class="css-a4x74f"><span>5237</span></td><td id="LC5237" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = inputs.length - <span class="code-number">1</span>; i &gt;= <span class="code-number">0</span>; i--) {
</code></td></tr><tr><td id="L5238" class="css-a4x74f"><span>5238</span></td><td id="LC5238" class="css-1dcdqdg"><code>			input = inputs[i];
</code></td></tr><tr><td id="L5239" class="css-a4x74f"><span>5239</span></td><td id="LC5239" class="css-1dcdqdg"><code>			layer = <span class="code-keyword">this</span>._getLayer(input.layerId).layer;
</code></td></tr><tr><td id="L5240" class="css-a4x74f"><span>5240</span></td><td id="LC5240" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5241" class="css-a4x74f"><span>5241</span></td><td id="LC5241" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (input.checked) {
</code></td></tr><tr><td id="L5242" class="css-a4x74f"><span>5242</span></td><td id="LC5242" class="css-1dcdqdg"><code>				addedLayers.push(layer);
</code></td></tr><tr><td id="L5243" class="css-a4x74f"><span>5243</span></td><td id="LC5243" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (!input.checked) {
</code></td></tr><tr><td id="L5244" class="css-a4x74f"><span>5244</span></td><td id="LC5244" class="css-1dcdqdg"><code>				removedLayers.push(layer);
</code></td></tr><tr><td id="L5245" class="css-a4x74f"><span>5245</span></td><td id="LC5245" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5246" class="css-a4x74f"><span>5246</span></td><td id="LC5246" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5247" class="css-a4x74f"><span>5247</span></td><td id="LC5247" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5248" class="css-a4x74f"><span>5248</span></td><td id="LC5248" class="css-1dcdqdg"><code>		<span class="code-comment">// Bugfix issue 2318: Should remove all old layers before readding new ones</span>
</code></td></tr><tr><td id="L5249" class="css-a4x74f"><span>5249</span></td><td id="LC5249" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; removedLayers.length; i++) {
</code></td></tr><tr><td id="L5250" class="css-a4x74f"><span>5250</span></td><td id="LC5250" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map.hasLayer(removedLayers[i])) {
</code></td></tr><tr><td id="L5251" class="css-a4x74f"><span>5251</span></td><td id="LC5251" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._map.removeLayer(removedLayers[i]);
</code></td></tr><tr><td id="L5252" class="css-a4x74f"><span>5252</span></td><td id="LC5252" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5253" class="css-a4x74f"><span>5253</span></td><td id="LC5253" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5254" class="css-a4x74f"><span>5254</span></td><td id="LC5254" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; addedLayers.length; i++) {
</code></td></tr><tr><td id="L5255" class="css-a4x74f"><span>5255</span></td><td id="LC5255" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map.hasLayer(addedLayers[i])) {
</code></td></tr><tr><td id="L5256" class="css-a4x74f"><span>5256</span></td><td id="LC5256" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._map.addLayer(addedLayers[i]);
</code></td></tr><tr><td id="L5257" class="css-a4x74f"><span>5257</span></td><td id="LC5257" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5258" class="css-a4x74f"><span>5258</span></td><td id="LC5258" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5259" class="css-a4x74f"><span>5259</span></td><td id="LC5259" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5260" class="css-a4x74f"><span>5260</span></td><td id="LC5260" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._handlingClick = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5261" class="css-a4x74f"><span>5261</span></td><td id="LC5261" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5262" class="css-a4x74f"><span>5262</span></td><td id="LC5262" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._refocusOnMap();
</code></td></tr><tr><td id="L5263" class="css-a4x74f"><span>5263</span></td><td id="LC5263" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5264" class="css-a4x74f"><span>5264</span></td><td id="LC5264" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5265" class="css-a4x74f"><span>5265</span></td><td id="LC5265" class="css-1dcdqdg"><code>	_checkDisabledLayers: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5266" class="css-a4x74f"><span>5266</span></td><td id="LC5266" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> inputs = <span class="code-keyword">this</span>._layerControlInputs,
</code></td></tr><tr><td id="L5267" class="css-a4x74f"><span>5267</span></td><td id="LC5267" class="css-1dcdqdg"><code>		    input,
</code></td></tr><tr><td id="L5268" class="css-a4x74f"><span>5268</span></td><td id="LC5268" class="css-1dcdqdg"><code>		    layer,
</code></td></tr><tr><td id="L5269" class="css-a4x74f"><span>5269</span></td><td id="LC5269" class="css-1dcdqdg"><code>		    zoom = <span class="code-keyword">this</span>._map.getZoom();
</code></td></tr><tr><td id="L5270" class="css-a4x74f"><span>5270</span></td><td id="LC5270" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5271" class="css-a4x74f"><span>5271</span></td><td id="LC5271" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = inputs.length - <span class="code-number">1</span>; i &gt;= <span class="code-number">0</span>; i--) {
</code></td></tr><tr><td id="L5272" class="css-a4x74f"><span>5272</span></td><td id="LC5272" class="css-1dcdqdg"><code>			input = inputs[i];
</code></td></tr><tr><td id="L5273" class="css-a4x74f"><span>5273</span></td><td id="LC5273" class="css-1dcdqdg"><code>			layer = <span class="code-keyword">this</span>._getLayer(input.layerId).layer;
</code></td></tr><tr><td id="L5274" class="css-a4x74f"><span>5274</span></td><td id="LC5274" class="css-1dcdqdg"><code>			input.disabled = (layer.options.minZoom !== <span class="code-literal">undefined</span> &amp;&amp; zoom &lt; layer.options.minZoom) ||
</code></td></tr><tr><td id="L5275" class="css-a4x74f"><span>5275</span></td><td id="LC5275" class="css-1dcdqdg"><code>			                 (layer.options.maxZoom !== <span class="code-literal">undefined</span> &amp;&amp; zoom &gt; layer.options.maxZoom);
</code></td></tr><tr><td id="L5276" class="css-a4x74f"><span>5276</span></td><td id="LC5276" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5277" class="css-a4x74f"><span>5277</span></td><td id="LC5277" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5278" class="css-a4x74f"><span>5278</span></td><td id="LC5278" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5279" class="css-a4x74f"><span>5279</span></td><td id="LC5279" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5280" class="css-a4x74f"><span>5280</span></td><td id="LC5280" class="css-1dcdqdg"><code>	_expandIfNotCollapsed: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5281" class="css-a4x74f"><span>5281</span></td><td id="LC5281" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map &amp;&amp; !<span class="code-keyword">this</span>.options.collapsed) {
</code></td></tr><tr><td id="L5282" class="css-a4x74f"><span>5282</span></td><td id="LC5282" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.expand();
</code></td></tr><tr><td id="L5283" class="css-a4x74f"><span>5283</span></td><td id="LC5283" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5284" class="css-a4x74f"><span>5284</span></td><td id="LC5284" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5285" class="css-a4x74f"><span>5285</span></td><td id="LC5285" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5286" class="css-a4x74f"><span>5286</span></td><td id="LC5286" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5287" class="css-a4x74f"><span>5287</span></td><td id="LC5287" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5288" class="css-a4x74f"><span>5288</span></td><td id="LC5288" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5289" class="css-a4x74f"><span>5289</span></td><td id="LC5289" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5290" class="css-a4x74f"><span>5290</span></td><td id="LC5290" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.control.layers(baselayers?: Object, overlays?: Object, options?: Control.Layers options)</span>
</code></td></tr><tr><td id="L5291" class="css-a4x74f"><span>5291</span></td><td id="LC5291" class="css-1dcdqdg"><code><span class="code-comment">// Creates a layers control with the given layers. Base layers will be switched with radio buttons, while overlays will be switched with checkboxes. Note that all base layers should be passed in the base layers object, but only one should be added to the map during map instantiation.</span>
</code></td></tr><tr><td id="L5292" class="css-a4x74f"><span>5292</span></td><td id="LC5292" class="css-1dcdqdg"><code><span class="code-keyword">var</span> layers = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">baseLayers, overlays, options</span>) </span>{
</code></td></tr><tr><td id="L5293" class="css-a4x74f"><span>5293</span></td><td id="LC5293" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Layers(baseLayers, overlays, options);
</code></td></tr><tr><td id="L5294" class="css-a4x74f"><span>5294</span></td><td id="LC5294" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L5295" class="css-a4x74f"><span>5295</span></td><td id="LC5295" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5296" class="css-a4x74f"><span>5296</span></td><td id="LC5296" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L5297" class="css-a4x74f"><span>5297</span></td><td id="LC5297" class="css-1dcdqdg"><code><span class="code-comment"> * @class Control.Zoom
</span></code></td></tr><tr><td id="L5298" class="css-a4x74f"><span>5298</span></td><td id="LC5298" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Control.Zoom
</span></code></td></tr><tr><td id="L5299" class="css-a4x74f"><span>5299</span></td><td id="LC5299" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Control
</span></code></td></tr><tr><td id="L5300" class="css-a4x74f"><span>5300</span></td><td id="LC5300" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5301" class="css-a4x74f"><span>5301</span></td><td id="LC5301" class="css-1dcdqdg"><code><span class="code-comment"> * A basic zoom control with two buttons (zoom in and zoom out). It is put on the map by default unless you set its [`zoomControl` option](#map-zoomcontrol) to `false`. Extends `Control`.
</span></code></td></tr><tr><td id="L5302" class="css-a4x74f"><span>5302</span></td><td id="LC5302" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L5303" class="css-a4x74f"><span>5303</span></td><td id="LC5303" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5304" class="css-a4x74f"><span>5304</span></td><td id="LC5304" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Zoom = Control.extend({
</code></td></tr><tr><td id="L5305" class="css-a4x74f"><span>5305</span></td><td id="LC5305" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L5306" class="css-a4x74f"><span>5306</span></td><td id="LC5306" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Control.Zoom options</span>
</code></td></tr><tr><td id="L5307" class="css-a4x74f"><span>5307</span></td><td id="LC5307" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L5308" class="css-a4x74f"><span>5308</span></td><td id="LC5308" class="css-1dcdqdg"><code>		position: <span class="code-string">'topleft'</span>,
</code></td></tr><tr><td id="L5309" class="css-a4x74f"><span>5309</span></td><td id="LC5309" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5310" class="css-a4x74f"><span>5310</span></td><td id="LC5310" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomInText: String = '&lt;span aria-hidden="true"&gt;+&lt;/span&gt;'</span>
</code></td></tr><tr><td id="L5311" class="css-a4x74f"><span>5311</span></td><td id="LC5311" class="css-1dcdqdg"><code>		<span class="code-comment">// The text set on the 'zoom in' button.</span>
</code></td></tr><tr><td id="L5312" class="css-a4x74f"><span>5312</span></td><td id="LC5312" class="css-1dcdqdg"><code>		zoomInText: <span class="code-string">'&lt;span aria-hidden="true"&gt;+&lt;/span&gt;'</span>,
</code></td></tr><tr><td id="L5313" class="css-a4x74f"><span>5313</span></td><td id="LC5313" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5314" class="css-a4x74f"><span>5314</span></td><td id="LC5314" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomInTitle: String = 'Zoom in'</span>
</code></td></tr><tr><td id="L5315" class="css-a4x74f"><span>5315</span></td><td id="LC5315" class="css-1dcdqdg"><code>		<span class="code-comment">// The title set on the 'zoom in' button.</span>
</code></td></tr><tr><td id="L5316" class="css-a4x74f"><span>5316</span></td><td id="LC5316" class="css-1dcdqdg"><code>		zoomInTitle: <span class="code-string">'Zoom in'</span>,
</code></td></tr><tr><td id="L5317" class="css-a4x74f"><span>5317</span></td><td id="LC5317" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5318" class="css-a4x74f"><span>5318</span></td><td id="LC5318" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomOutText: String = '&lt;span aria-hidden="true"&gt;&amp;#x2212;&lt;/span&gt;'</span>
</code></td></tr><tr><td id="L5319" class="css-a4x74f"><span>5319</span></td><td id="LC5319" class="css-1dcdqdg"><code>		<span class="code-comment">// The text set on the 'zoom out' button.</span>
</code></td></tr><tr><td id="L5320" class="css-a4x74f"><span>5320</span></td><td id="LC5320" class="css-1dcdqdg"><code>		zoomOutText: <span class="code-string">'&lt;span aria-hidden="true"&gt;&amp;#x2212;&lt;/span&gt;'</span>,
</code></td></tr><tr><td id="L5321" class="css-a4x74f"><span>5321</span></td><td id="LC5321" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5322" class="css-a4x74f"><span>5322</span></td><td id="LC5322" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomOutTitle: String = 'Zoom out'</span>
</code></td></tr><tr><td id="L5323" class="css-a4x74f"><span>5323</span></td><td id="LC5323" class="css-1dcdqdg"><code>		<span class="code-comment">// The title set on the 'zoom out' button.</span>
</code></td></tr><tr><td id="L5324" class="css-a4x74f"><span>5324</span></td><td id="LC5324" class="css-1dcdqdg"><code>		zoomOutTitle: <span class="code-string">'Zoom out'</span>
</code></td></tr><tr><td id="L5325" class="css-a4x74f"><span>5325</span></td><td id="LC5325" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5326" class="css-a4x74f"><span>5326</span></td><td id="LC5326" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5327" class="css-a4x74f"><span>5327</span></td><td id="LC5327" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5328" class="css-a4x74f"><span>5328</span></td><td id="LC5328" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoomName = <span class="code-string">'leaflet-control-zoom'</span>,
</code></td></tr><tr><td id="L5329" class="css-a4x74f"><span>5329</span></td><td id="LC5329" class="css-1dcdqdg"><code>		    container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, zoomName + <span class="code-string">' leaflet-bar'</span>),
</code></td></tr><tr><td id="L5330" class="css-a4x74f"><span>5330</span></td><td id="LC5330" class="css-1dcdqdg"><code>		    options = <span class="code-keyword">this</span>.options;
</code></td></tr><tr><td id="L5331" class="css-a4x74f"><span>5331</span></td><td id="LC5331" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5332" class="css-a4x74f"><span>5332</span></td><td id="LC5332" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomInButton  = <span class="code-keyword">this</span>._createButton(options.zoomInText, options.zoomInTitle,
</code></td></tr><tr><td id="L5333" class="css-a4x74f"><span>5333</span></td><td id="LC5333" class="css-1dcdqdg"><code>		        zoomName + <span class="code-string">'-in'</span>,  container, <span class="code-keyword">this</span>._zoomIn);
</code></td></tr><tr><td id="L5334" class="css-a4x74f"><span>5334</span></td><td id="LC5334" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomOutButton = <span class="code-keyword">this</span>._createButton(options.zoomOutText, options.zoomOutTitle,
</code></td></tr><tr><td id="L5335" class="css-a4x74f"><span>5335</span></td><td id="LC5335" class="css-1dcdqdg"><code>		        zoomName + <span class="code-string">'-out'</span>, container, <span class="code-keyword">this</span>._zoomOut);
</code></td></tr><tr><td id="L5336" class="css-a4x74f"><span>5336</span></td><td id="LC5336" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5337" class="css-a4x74f"><span>5337</span></td><td id="LC5337" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateDisabled();
</code></td></tr><tr><td id="L5338" class="css-a4x74f"><span>5338</span></td><td id="LC5338" class="css-1dcdqdg"><code>		map.on(<span class="code-string">'zoomend zoomlevelschange'</span>, <span class="code-keyword">this</span>._updateDisabled, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5339" class="css-a4x74f"><span>5339</span></td><td id="LC5339" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5340" class="css-a4x74f"><span>5340</span></td><td id="LC5340" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> container;
</code></td></tr><tr><td id="L5341" class="css-a4x74f"><span>5341</span></td><td id="LC5341" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5342" class="css-a4x74f"><span>5342</span></td><td id="LC5342" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5343" class="css-a4x74f"><span>5343</span></td><td id="LC5343" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5344" class="css-a4x74f"><span>5344</span></td><td id="LC5344" class="css-1dcdqdg"><code>		map.off(<span class="code-string">'zoomend zoomlevelschange'</span>, <span class="code-keyword">this</span>._updateDisabled, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5345" class="css-a4x74f"><span>5345</span></td><td id="LC5345" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5346" class="css-a4x74f"><span>5346</span></td><td id="LC5346" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5347" class="css-a4x74f"><span>5347</span></td><td id="LC5347" class="css-1dcdqdg"><code>	disable: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5348" class="css-a4x74f"><span>5348</span></td><td id="LC5348" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._disabled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5349" class="css-a4x74f"><span>5349</span></td><td id="LC5349" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateDisabled();
</code></td></tr><tr><td id="L5350" class="css-a4x74f"><span>5350</span></td><td id="LC5350" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5351" class="css-a4x74f"><span>5351</span></td><td id="LC5351" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5352" class="css-a4x74f"><span>5352</span></td><td id="LC5352" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5353" class="css-a4x74f"><span>5353</span></td><td id="LC5353" class="css-1dcdqdg"><code>	enable: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5354" class="css-a4x74f"><span>5354</span></td><td id="LC5354" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._disabled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5355" class="css-a4x74f"><span>5355</span></td><td id="LC5355" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateDisabled();
</code></td></tr><tr><td id="L5356" class="css-a4x74f"><span>5356</span></td><td id="LC5356" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5357" class="css-a4x74f"><span>5357</span></td><td id="LC5357" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5358" class="css-a4x74f"><span>5358</span></td><td id="LC5358" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5359" class="css-a4x74f"><span>5359</span></td><td id="LC5359" class="css-1dcdqdg"><code>	_zoomIn: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L5360" class="css-a4x74f"><span>5360</span></td><td id="LC5360" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._disabled &amp;&amp; <span class="code-keyword">this</span>._map._zoom &lt; <span class="code-keyword">this</span>._map.getMaxZoom()) {
</code></td></tr><tr><td id="L5361" class="css-a4x74f"><span>5361</span></td><td id="LC5361" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.zoomIn(<span class="code-keyword">this</span>._map.options.zoomDelta * (e.shiftKey ? <span class="code-number">3</span> : <span class="code-number">1</span>));
</code></td></tr><tr><td id="L5362" class="css-a4x74f"><span>5362</span></td><td id="LC5362" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5363" class="css-a4x74f"><span>5363</span></td><td id="LC5363" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5364" class="css-a4x74f"><span>5364</span></td><td id="LC5364" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5365" class="css-a4x74f"><span>5365</span></td><td id="LC5365" class="css-1dcdqdg"><code>	_zoomOut: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L5366" class="css-a4x74f"><span>5366</span></td><td id="LC5366" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._disabled &amp;&amp; <span class="code-keyword">this</span>._map._zoom &gt; <span class="code-keyword">this</span>._map.getMinZoom()) {
</code></td></tr><tr><td id="L5367" class="css-a4x74f"><span>5367</span></td><td id="LC5367" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.zoomOut(<span class="code-keyword">this</span>._map.options.zoomDelta * (e.shiftKey ? <span class="code-number">3</span> : <span class="code-number">1</span>));
</code></td></tr><tr><td id="L5368" class="css-a4x74f"><span>5368</span></td><td id="LC5368" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5369" class="css-a4x74f"><span>5369</span></td><td id="LC5369" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5370" class="css-a4x74f"><span>5370</span></td><td id="LC5370" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5371" class="css-a4x74f"><span>5371</span></td><td id="LC5371" class="css-1dcdqdg"><code>	_createButton: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">html, title, className, container, fn</span>) </span>{
</code></td></tr><tr><td id="L5372" class="css-a4x74f"><span>5372</span></td><td id="LC5372" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> link = create$<span class="code-number">1</span>(<span class="code-string">'a'</span>, className, container);
</code></td></tr><tr><td id="L5373" class="css-a4x74f"><span>5373</span></td><td id="LC5373" class="css-1dcdqdg"><code>		link.innerHTML = html;
</code></td></tr><tr><td id="L5374" class="css-a4x74f"><span>5374</span></td><td id="LC5374" class="css-1dcdqdg"><code>		link.href = <span class="code-string">'#'</span>;
</code></td></tr><tr><td id="L5375" class="css-a4x74f"><span>5375</span></td><td id="LC5375" class="css-1dcdqdg"><code>		link.title = title;
</code></td></tr><tr><td id="L5376" class="css-a4x74f"><span>5376</span></td><td id="LC5376" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5377" class="css-a4x74f"><span>5377</span></td><td id="LC5377" class="css-1dcdqdg"><code>		<span class="code-comment">/*
</span></code></td></tr><tr><td id="L5378" class="css-a4x74f"><span>5378</span></td><td id="LC5378" class="css-1dcdqdg"><code><span class="code-comment">		 * Will force screen readers like VoiceOver to read this as "Zoom in - button"
</span></code></td></tr><tr><td id="L5379" class="css-a4x74f"><span>5379</span></td><td id="LC5379" class="css-1dcdqdg"><code><span class="code-comment">		 */</span>
</code></td></tr><tr><td id="L5380" class="css-a4x74f"><span>5380</span></td><td id="LC5380" class="css-1dcdqdg"><code>		link.setAttribute(<span class="code-string">'role'</span>, <span class="code-string">'button'</span>);
</code></td></tr><tr><td id="L5381" class="css-a4x74f"><span>5381</span></td><td id="LC5381" class="css-1dcdqdg"><code>		link.setAttribute(<span class="code-string">'aria-label'</span>, title);
</code></td></tr><tr><td id="L5382" class="css-a4x74f"><span>5382</span></td><td id="LC5382" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5383" class="css-a4x74f"><span>5383</span></td><td id="LC5383" class="css-1dcdqdg"><code>		disableClickPropagation(link);
</code></td></tr><tr><td id="L5384" class="css-a4x74f"><span>5384</span></td><td id="LC5384" class="css-1dcdqdg"><code>		on(link, <span class="code-string">'click'</span>, stop);
</code></td></tr><tr><td id="L5385" class="css-a4x74f"><span>5385</span></td><td id="LC5385" class="css-1dcdqdg"><code>		on(link, <span class="code-string">'click'</span>, fn, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5386" class="css-a4x74f"><span>5386</span></td><td id="LC5386" class="css-1dcdqdg"><code>		on(link, <span class="code-string">'click'</span>, <span class="code-keyword">this</span>._refocusOnMap, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5387" class="css-a4x74f"><span>5387</span></td><td id="LC5387" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5388" class="css-a4x74f"><span>5388</span></td><td id="LC5388" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> link;
</code></td></tr><tr><td id="L5389" class="css-a4x74f"><span>5389</span></td><td id="LC5389" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5390" class="css-a4x74f"><span>5390</span></td><td id="LC5390" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5391" class="css-a4x74f"><span>5391</span></td><td id="LC5391" class="css-1dcdqdg"><code>	_updateDisabled: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5392" class="css-a4x74f"><span>5392</span></td><td id="LC5392" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L5393" class="css-a4x74f"><span>5393</span></td><td id="LC5393" class="css-1dcdqdg"><code>		    className = <span class="code-string">'leaflet-disabled'</span>;
</code></td></tr><tr><td id="L5394" class="css-a4x74f"><span>5394</span></td><td id="LC5394" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5395" class="css-a4x74f"><span>5395</span></td><td id="LC5395" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._zoomInButton, className);
</code></td></tr><tr><td id="L5396" class="css-a4x74f"><span>5396</span></td><td id="LC5396" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._zoomOutButton, className);
</code></td></tr><tr><td id="L5397" class="css-a4x74f"><span>5397</span></td><td id="LC5397" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomInButton.setAttribute(<span class="code-string">'aria-disabled'</span>, <span class="code-string">'false'</span>);
</code></td></tr><tr><td id="L5398" class="css-a4x74f"><span>5398</span></td><td id="LC5398" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomOutButton.setAttribute(<span class="code-string">'aria-disabled'</span>, <span class="code-string">'false'</span>);
</code></td></tr><tr><td id="L5399" class="css-a4x74f"><span>5399</span></td><td id="LC5399" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5400" class="css-a4x74f"><span>5400</span></td><td id="LC5400" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._disabled || map._zoom === map.getMinZoom()) {
</code></td></tr><tr><td id="L5401" class="css-a4x74f"><span>5401</span></td><td id="LC5401" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._zoomOutButton, className);
</code></td></tr><tr><td id="L5402" class="css-a4x74f"><span>5402</span></td><td id="LC5402" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zoomOutButton.setAttribute(<span class="code-string">'aria-disabled'</span>, <span class="code-string">'true'</span>);
</code></td></tr><tr><td id="L5403" class="css-a4x74f"><span>5403</span></td><td id="LC5403" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5404" class="css-a4x74f"><span>5404</span></td><td id="LC5404" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._disabled || map._zoom === map.getMaxZoom()) {
</code></td></tr><tr><td id="L5405" class="css-a4x74f"><span>5405</span></td><td id="LC5405" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._zoomInButton, className);
</code></td></tr><tr><td id="L5406" class="css-a4x74f"><span>5406</span></td><td id="LC5406" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zoomInButton.setAttribute(<span class="code-string">'aria-disabled'</span>, <span class="code-string">'true'</span>);
</code></td></tr><tr><td id="L5407" class="css-a4x74f"><span>5407</span></td><td id="LC5407" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5408" class="css-a4x74f"><span>5408</span></td><td id="LC5408" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5409" class="css-a4x74f"><span>5409</span></td><td id="LC5409" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5410" class="css-a4x74f"><span>5410</span></td><td id="LC5410" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5411" class="css-a4x74f"><span>5411</span></td><td id="LC5411" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L5412" class="css-a4x74f"><span>5412</span></td><td id="LC5412" class="css-1dcdqdg"><code><span class="code-comment">// @section Control options</span>
</code></td></tr><tr><td id="L5413" class="css-a4x74f"><span>5413</span></td><td id="LC5413" class="css-1dcdqdg"><code><span class="code-comment">// @option zoomControl: Boolean = true</span>
</code></td></tr><tr><td id="L5414" class="css-a4x74f"><span>5414</span></td><td id="LC5414" class="css-1dcdqdg"><code><span class="code-comment">// Whether a [zoom control](#control-zoom) is added to the map by default.</span>
</code></td></tr><tr><td id="L5415" class="css-a4x74f"><span>5415</span></td><td id="LC5415" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L5416" class="css-a4x74f"><span>5416</span></td><td id="LC5416" class="css-1dcdqdg"><code>	zoomControl: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L5417" class="css-a4x74f"><span>5417</span></td><td id="LC5417" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5418" class="css-a4x74f"><span>5418</span></td><td id="LC5418" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5419" class="css-a4x74f"><span>5419</span></td><td id="LC5419" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5420" class="css-a4x74f"><span>5420</span></td><td id="LC5420" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.zoomControl) {
</code></td></tr><tr><td id="L5421" class="css-a4x74f"><span>5421</span></td><td id="LC5421" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Controls</span>
</code></td></tr><tr><td id="L5422" class="css-a4x74f"><span>5422</span></td><td id="LC5422" class="css-1dcdqdg"><code>		<span class="code-comment">// @property zoomControl: Control.Zoom</span>
</code></td></tr><tr><td id="L5423" class="css-a4x74f"><span>5423</span></td><td id="LC5423" class="css-1dcdqdg"><code>		<span class="code-comment">// The default zoom control (only available if the</span>
</code></td></tr><tr><td id="L5424" class="css-a4x74f"><span>5424</span></td><td id="LC5424" class="css-1dcdqdg"><code>		<span class="code-comment">// [`zoomControl` option](#map-zoomcontrol) was `true` when creating the map).</span>
</code></td></tr><tr><td id="L5425" class="css-a4x74f"><span>5425</span></td><td id="LC5425" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.zoomControl = <span class="code-keyword">new</span> Zoom();
</code></td></tr><tr><td id="L5426" class="css-a4x74f"><span>5426</span></td><td id="LC5426" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.addControl(<span class="code-keyword">this</span>.zoomControl);
</code></td></tr><tr><td id="L5427" class="css-a4x74f"><span>5427</span></td><td id="LC5427" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5428" class="css-a4x74f"><span>5428</span></td><td id="LC5428" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5429" class="css-a4x74f"><span>5429</span></td><td id="LC5429" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5430" class="css-a4x74f"><span>5430</span></td><td id="LC5430" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Control.Zoom</span>
</code></td></tr><tr><td id="L5431" class="css-a4x74f"><span>5431</span></td><td id="LC5431" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.control.zoom(options: Control.Zoom options)</span>
</code></td></tr><tr><td id="L5432" class="css-a4x74f"><span>5432</span></td><td id="LC5432" class="css-1dcdqdg"><code><span class="code-comment">// Creates a zoom control</span>
</code></td></tr><tr><td id="L5433" class="css-a4x74f"><span>5433</span></td><td id="LC5433" class="css-1dcdqdg"><code><span class="code-keyword">var</span> zoom = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L5434" class="css-a4x74f"><span>5434</span></td><td id="LC5434" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Zoom(options);
</code></td></tr><tr><td id="L5435" class="css-a4x74f"><span>5435</span></td><td id="LC5435" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L5436" class="css-a4x74f"><span>5436</span></td><td id="LC5436" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5437" class="css-a4x74f"><span>5437</span></td><td id="LC5437" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L5438" class="css-a4x74f"><span>5438</span></td><td id="LC5438" class="css-1dcdqdg"><code><span class="code-comment"> * @class Control.Scale
</span></code></td></tr><tr><td id="L5439" class="css-a4x74f"><span>5439</span></td><td id="LC5439" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Control.Scale
</span></code></td></tr><tr><td id="L5440" class="css-a4x74f"><span>5440</span></td><td id="LC5440" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Control
</span></code></td></tr><tr><td id="L5441" class="css-a4x74f"><span>5441</span></td><td id="LC5441" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5442" class="css-a4x74f"><span>5442</span></td><td id="LC5442" class="css-1dcdqdg"><code><span class="code-comment"> * A simple scale control that shows the scale of the current center of screen in metric (m/km) and imperial (mi/ft) systems. Extends `Control`.
</span></code></td></tr><tr><td id="L5443" class="css-a4x74f"><span>5443</span></td><td id="LC5443" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5444" class="css-a4x74f"><span>5444</span></td><td id="LC5444" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L5445" class="css-a4x74f"><span>5445</span></td><td id="LC5445" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5446" class="css-a4x74f"><span>5446</span></td><td id="LC5446" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L5447" class="css-a4x74f"><span>5447</span></td><td id="LC5447" class="css-1dcdqdg"><code><span class="code-comment"> * L.control.scale().addTo(map);
</span></code></td></tr><tr><td id="L5448" class="css-a4x74f"><span>5448</span></td><td id="LC5448" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L5449" class="css-a4x74f"><span>5449</span></td><td id="LC5449" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L5450" class="css-a4x74f"><span>5450</span></td><td id="LC5450" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5451" class="css-a4x74f"><span>5451</span></td><td id="LC5451" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Scale = Control.extend({
</code></td></tr><tr><td id="L5452" class="css-a4x74f"><span>5452</span></td><td id="LC5452" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L5453" class="css-a4x74f"><span>5453</span></td><td id="LC5453" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Control.Scale options</span>
</code></td></tr><tr><td id="L5454" class="css-a4x74f"><span>5454</span></td><td id="LC5454" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L5455" class="css-a4x74f"><span>5455</span></td><td id="LC5455" class="css-1dcdqdg"><code>		position: <span class="code-string">'bottomleft'</span>,
</code></td></tr><tr><td id="L5456" class="css-a4x74f"><span>5456</span></td><td id="LC5456" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5457" class="css-a4x74f"><span>5457</span></td><td id="LC5457" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxWidth: Number = 100</span>
</code></td></tr><tr><td id="L5458" class="css-a4x74f"><span>5458</span></td><td id="LC5458" class="css-1dcdqdg"><code>		<span class="code-comment">// Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).</span>
</code></td></tr><tr><td id="L5459" class="css-a4x74f"><span>5459</span></td><td id="LC5459" class="css-1dcdqdg"><code>		maxWidth: <span class="code-number">100</span>,
</code></td></tr><tr><td id="L5460" class="css-a4x74f"><span>5460</span></td><td id="LC5460" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5461" class="css-a4x74f"><span>5461</span></td><td id="LC5461" class="css-1dcdqdg"><code>		<span class="code-comment">// @option metric: Boolean = True</span>
</code></td></tr><tr><td id="L5462" class="css-a4x74f"><span>5462</span></td><td id="LC5462" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to show the metric scale line (m/km).</span>
</code></td></tr><tr><td id="L5463" class="css-a4x74f"><span>5463</span></td><td id="LC5463" class="css-1dcdqdg"><code>		metric: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L5464" class="css-a4x74f"><span>5464</span></td><td id="LC5464" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5465" class="css-a4x74f"><span>5465</span></td><td id="LC5465" class="css-1dcdqdg"><code>		<span class="code-comment">// @option imperial: Boolean = True</span>
</code></td></tr><tr><td id="L5466" class="css-a4x74f"><span>5466</span></td><td id="LC5466" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to show the imperial scale line (mi/ft).</span>
</code></td></tr><tr><td id="L5467" class="css-a4x74f"><span>5467</span></td><td id="LC5467" class="css-1dcdqdg"><code>		imperial: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L5468" class="css-a4x74f"><span>5468</span></td><td id="LC5468" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5469" class="css-a4x74f"><span>5469</span></td><td id="LC5469" class="css-1dcdqdg"><code>		<span class="code-comment">// @option updateWhenIdle: Boolean = false</span>
</code></td></tr><tr><td id="L5470" class="css-a4x74f"><span>5470</span></td><td id="LC5470" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).</span>
</code></td></tr><tr><td id="L5471" class="css-a4x74f"><span>5471</span></td><td id="LC5471" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5472" class="css-a4x74f"><span>5472</span></td><td id="LC5472" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5473" class="css-a4x74f"><span>5473</span></td><td id="LC5473" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5474" class="css-a4x74f"><span>5474</span></td><td id="LC5474" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> className = <span class="code-string">'leaflet-control-scale'</span>,
</code></td></tr><tr><td id="L5475" class="css-a4x74f"><span>5475</span></td><td id="LC5475" class="css-1dcdqdg"><code>		    container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className),
</code></td></tr><tr><td id="L5476" class="css-a4x74f"><span>5476</span></td><td id="LC5476" class="css-1dcdqdg"><code>		    options = <span class="code-keyword">this</span>.options;
</code></td></tr><tr><td id="L5477" class="css-a4x74f"><span>5477</span></td><td id="LC5477" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5478" class="css-a4x74f"><span>5478</span></td><td id="LC5478" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._addScales(options, className + <span class="code-string">'-line'</span>, container);
</code></td></tr><tr><td id="L5479" class="css-a4x74f"><span>5479</span></td><td id="LC5479" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5480" class="css-a4x74f"><span>5480</span></td><td id="LC5480" class="css-1dcdqdg"><code>		map.on(options.updateWhenIdle ? <span class="code-string">'moveend'</span> : <span class="code-string">'move'</span>, <span class="code-keyword">this</span>._update, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5481" class="css-a4x74f"><span>5481</span></td><td id="LC5481" class="css-1dcdqdg"><code>		map.whenReady(<span class="code-keyword">this</span>._update, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5482" class="css-a4x74f"><span>5482</span></td><td id="LC5482" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5483" class="css-a4x74f"><span>5483</span></td><td id="LC5483" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> container;
</code></td></tr><tr><td id="L5484" class="css-a4x74f"><span>5484</span></td><td id="LC5484" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5485" class="css-a4x74f"><span>5485</span></td><td id="LC5485" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5486" class="css-a4x74f"><span>5486</span></td><td id="LC5486" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5487" class="css-a4x74f"><span>5487</span></td><td id="LC5487" class="css-1dcdqdg"><code>		map.off(<span class="code-keyword">this</span>.options.updateWhenIdle ? <span class="code-string">'moveend'</span> : <span class="code-string">'move'</span>, <span class="code-keyword">this</span>._update, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5488" class="css-a4x74f"><span>5488</span></td><td id="LC5488" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5489" class="css-a4x74f"><span>5489</span></td><td id="LC5489" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5490" class="css-a4x74f"><span>5490</span></td><td id="LC5490" class="css-1dcdqdg"><code>	_addScales: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options, className, container</span>) </span>{
</code></td></tr><tr><td id="L5491" class="css-a4x74f"><span>5491</span></td><td id="LC5491" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.metric) {
</code></td></tr><tr><td id="L5492" class="css-a4x74f"><span>5492</span></td><td id="LC5492" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._mScale = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className, container);
</code></td></tr><tr><td id="L5493" class="css-a4x74f"><span>5493</span></td><td id="LC5493" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5494" class="css-a4x74f"><span>5494</span></td><td id="LC5494" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.imperial) {
</code></td></tr><tr><td id="L5495" class="css-a4x74f"><span>5495</span></td><td id="LC5495" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._iScale = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className, container);
</code></td></tr><tr><td id="L5496" class="css-a4x74f"><span>5496</span></td><td id="LC5496" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5497" class="css-a4x74f"><span>5497</span></td><td id="LC5497" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5498" class="css-a4x74f"><span>5498</span></td><td id="LC5498" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5499" class="css-a4x74f"><span>5499</span></td><td id="LC5499" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5500" class="css-a4x74f"><span>5500</span></td><td id="LC5500" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L5501" class="css-a4x74f"><span>5501</span></td><td id="LC5501" class="css-1dcdqdg"><code>		    y = map.getSize().y / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L5502" class="css-a4x74f"><span>5502</span></td><td id="LC5502" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5503" class="css-a4x74f"><span>5503</span></td><td id="LC5503" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> maxMeters = map.distance(
</code></td></tr><tr><td id="L5504" class="css-a4x74f"><span>5504</span></td><td id="LC5504" class="css-1dcdqdg"><code>			map.containerPointToLatLng([<span class="code-number">0</span>, y]),
</code></td></tr><tr><td id="L5505" class="css-a4x74f"><span>5505</span></td><td id="LC5505" class="css-1dcdqdg"><code>			map.containerPointToLatLng([<span class="code-keyword">this</span>.options.maxWidth, y]));
</code></td></tr><tr><td id="L5506" class="css-a4x74f"><span>5506</span></td><td id="LC5506" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5507" class="css-a4x74f"><span>5507</span></td><td id="LC5507" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateScales(maxMeters);
</code></td></tr><tr><td id="L5508" class="css-a4x74f"><span>5508</span></td><td id="LC5508" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5509" class="css-a4x74f"><span>5509</span></td><td id="LC5509" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5510" class="css-a4x74f"><span>5510</span></td><td id="LC5510" class="css-1dcdqdg"><code>	_updateScales: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">maxMeters</span>) </span>{
</code></td></tr><tr><td id="L5511" class="css-a4x74f"><span>5511</span></td><td id="LC5511" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.metric &amp;&amp; maxMeters) {
</code></td></tr><tr><td id="L5512" class="css-a4x74f"><span>5512</span></td><td id="LC5512" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateMetric(maxMeters);
</code></td></tr><tr><td id="L5513" class="css-a4x74f"><span>5513</span></td><td id="LC5513" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5514" class="css-a4x74f"><span>5514</span></td><td id="LC5514" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.imperial &amp;&amp; maxMeters) {
</code></td></tr><tr><td id="L5515" class="css-a4x74f"><span>5515</span></td><td id="LC5515" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateImperial(maxMeters);
</code></td></tr><tr><td id="L5516" class="css-a4x74f"><span>5516</span></td><td id="LC5516" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5517" class="css-a4x74f"><span>5517</span></td><td id="LC5517" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5518" class="css-a4x74f"><span>5518</span></td><td id="LC5518" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5519" class="css-a4x74f"><span>5519</span></td><td id="LC5519" class="css-1dcdqdg"><code>	_updateMetric: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">maxMeters</span>) </span>{
</code></td></tr><tr><td id="L5520" class="css-a4x74f"><span>5520</span></td><td id="LC5520" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> meters = <span class="code-keyword">this</span>._getRoundNum(maxMeters),
</code></td></tr><tr><td id="L5521" class="css-a4x74f"><span>5521</span></td><td id="LC5521" class="css-1dcdqdg"><code>		    label = meters &lt; <span class="code-number">1000</span> ? meters + <span class="code-string">' m'</span> : (meters / <span class="code-number">1000</span>) + <span class="code-string">' km'</span>;
</code></td></tr><tr><td id="L5522" class="css-a4x74f"><span>5522</span></td><td id="LC5522" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5523" class="css-a4x74f"><span>5523</span></td><td id="LC5523" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateScale(<span class="code-keyword">this</span>._mScale, label, meters / maxMeters);
</code></td></tr><tr><td id="L5524" class="css-a4x74f"><span>5524</span></td><td id="LC5524" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5525" class="css-a4x74f"><span>5525</span></td><td id="LC5525" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5526" class="css-a4x74f"><span>5526</span></td><td id="LC5526" class="css-1dcdqdg"><code>	_updateImperial: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">maxMeters</span>) </span>{
</code></td></tr><tr><td id="L5527" class="css-a4x74f"><span>5527</span></td><td id="LC5527" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> maxFeet = maxMeters * <span class="code-number">3.2808399</span>,
</code></td></tr><tr><td id="L5528" class="css-a4x74f"><span>5528</span></td><td id="LC5528" class="css-1dcdqdg"><code>		    maxMiles, miles, feet;
</code></td></tr><tr><td id="L5529" class="css-a4x74f"><span>5529</span></td><td id="LC5529" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5530" class="css-a4x74f"><span>5530</span></td><td id="LC5530" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (maxFeet &gt; <span class="code-number">5280</span>) {
</code></td></tr><tr><td id="L5531" class="css-a4x74f"><span>5531</span></td><td id="LC5531" class="css-1dcdqdg"><code>			maxMiles = maxFeet / <span class="code-number">5280</span>;
</code></td></tr><tr><td id="L5532" class="css-a4x74f"><span>5532</span></td><td id="LC5532" class="css-1dcdqdg"><code>			miles = <span class="code-keyword">this</span>._getRoundNum(maxMiles);
</code></td></tr><tr><td id="L5533" class="css-a4x74f"><span>5533</span></td><td id="LC5533" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateScale(<span class="code-keyword">this</span>._iScale, miles + <span class="code-string">' mi'</span>, miles / maxMiles);
</code></td></tr><tr><td id="L5534" class="css-a4x74f"><span>5534</span></td><td id="LC5534" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5535" class="css-a4x74f"><span>5535</span></td><td id="LC5535" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L5536" class="css-a4x74f"><span>5536</span></td><td id="LC5536" class="css-1dcdqdg"><code>			feet = <span class="code-keyword">this</span>._getRoundNum(maxFeet);
</code></td></tr><tr><td id="L5537" class="css-a4x74f"><span>5537</span></td><td id="LC5537" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateScale(<span class="code-keyword">this</span>._iScale, feet + <span class="code-string">' ft'</span>, feet / maxFeet);
</code></td></tr><tr><td id="L5538" class="css-a4x74f"><span>5538</span></td><td id="LC5538" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5539" class="css-a4x74f"><span>5539</span></td><td id="LC5539" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5540" class="css-a4x74f"><span>5540</span></td><td id="LC5540" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5541" class="css-a4x74f"><span>5541</span></td><td id="LC5541" class="css-1dcdqdg"><code>	_updateScale: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">scale, text, ratio</span>) </span>{
</code></td></tr><tr><td id="L5542" class="css-a4x74f"><span>5542</span></td><td id="LC5542" class="css-1dcdqdg"><code>		scale.style.width = <span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.options.maxWidth * ratio) + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L5543" class="css-a4x74f"><span>5543</span></td><td id="LC5543" class="css-1dcdqdg"><code>		scale.innerHTML = text;
</code></td></tr><tr><td id="L5544" class="css-a4x74f"><span>5544</span></td><td id="LC5544" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5545" class="css-a4x74f"><span>5545</span></td><td id="LC5545" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5546" class="css-a4x74f"><span>5546</span></td><td id="LC5546" class="css-1dcdqdg"><code>	_getRoundNum: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">num</span>) </span>{
</code></td></tr><tr><td id="L5547" class="css-a4x74f"><span>5547</span></td><td id="LC5547" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pow10 = <span class="code-built_in">Math</span>.pow(<span class="code-number">10</span>, (<span class="code-built_in">Math</span>.floor(num) + <span class="code-string">''</span>).length - <span class="code-number">1</span>),
</code></td></tr><tr><td id="L5548" class="css-a4x74f"><span>5548</span></td><td id="LC5548" class="css-1dcdqdg"><code>		    d = num / pow10;
</code></td></tr><tr><td id="L5549" class="css-a4x74f"><span>5549</span></td><td id="LC5549" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5550" class="css-a4x74f"><span>5550</span></td><td id="LC5550" class="css-1dcdqdg"><code>		d = d &gt;= <span class="code-number">10</span> ? <span class="code-number">10</span> :
</code></td></tr><tr><td id="L5551" class="css-a4x74f"><span>5551</span></td><td id="LC5551" class="css-1dcdqdg"><code>		    d &gt;= <span class="code-number">5</span> ? <span class="code-number">5</span> :
</code></td></tr><tr><td id="L5552" class="css-a4x74f"><span>5552</span></td><td id="LC5552" class="css-1dcdqdg"><code>		    d &gt;= <span class="code-number">3</span> ? <span class="code-number">3</span> :
</code></td></tr><tr><td id="L5553" class="css-a4x74f"><span>5553</span></td><td id="LC5553" class="css-1dcdqdg"><code>		    d &gt;= <span class="code-number">2</span> ? <span class="code-number">2</span> : <span class="code-number">1</span>;
</code></td></tr><tr><td id="L5554" class="css-a4x74f"><span>5554</span></td><td id="LC5554" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5555" class="css-a4x74f"><span>5555</span></td><td id="LC5555" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> pow10 * d;
</code></td></tr><tr><td id="L5556" class="css-a4x74f"><span>5556</span></td><td id="LC5556" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5557" class="css-a4x74f"><span>5557</span></td><td id="LC5557" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5558" class="css-a4x74f"><span>5558</span></td><td id="LC5558" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5559" class="css-a4x74f"><span>5559</span></td><td id="LC5559" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5560" class="css-a4x74f"><span>5560</span></td><td id="LC5560" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.control.scale(options?: Control.Scale options)</span>
</code></td></tr><tr><td id="L5561" class="css-a4x74f"><span>5561</span></td><td id="LC5561" class="css-1dcdqdg"><code><span class="code-comment">// Creates an scale control with the given options.</span>
</code></td></tr><tr><td id="L5562" class="css-a4x74f"><span>5562</span></td><td id="LC5562" class="css-1dcdqdg"><code><span class="code-keyword">var</span> scale = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L5563" class="css-a4x74f"><span>5563</span></td><td id="LC5563" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Scale(options);
</code></td></tr><tr><td id="L5564" class="css-a4x74f"><span>5564</span></td><td id="LC5564" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L5565" class="css-a4x74f"><span>5565</span></td><td id="LC5565" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5566" class="css-a4x74f"><span>5566</span></td><td id="LC5566" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L5567" class="css-a4x74f"><span>5567</span></td><td id="LC5567" class="css-1dcdqdg"><code><span class="code-comment"> * @class Control.Attribution
</span></code></td></tr><tr><td id="L5568" class="css-a4x74f"><span>5568</span></td><td id="LC5568" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Control.Attribution
</span></code></td></tr><tr><td id="L5569" class="css-a4x74f"><span>5569</span></td><td id="LC5569" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Control
</span></code></td></tr><tr><td id="L5570" class="css-a4x74f"><span>5570</span></td><td id="LC5570" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5571" class="css-a4x74f"><span>5571</span></td><td id="LC5571" class="css-1dcdqdg"><code><span class="code-comment"> * The attribution control allows you to display attribution data in a small text box on a map. It is put on the map by default unless you set its [`attributionControl` option](#map-attributioncontrol) to `false`, and it fetches attribution texts from layers with the [`getAttribution` method](#layer-getattribution) automatically. Extends Control.
</span></code></td></tr><tr><td id="L5572" class="css-a4x74f"><span>5572</span></td><td id="LC5572" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L5573" class="css-a4x74f"><span>5573</span></td><td id="LC5573" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5574" class="css-a4x74f"><span>5574</span></td><td id="LC5574" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Attribution = Control.extend({
</code></td></tr><tr><td id="L5575" class="css-a4x74f"><span>5575</span></td><td id="LC5575" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L5576" class="css-a4x74f"><span>5576</span></td><td id="LC5576" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Control.Attribution options</span>
</code></td></tr><tr><td id="L5577" class="css-a4x74f"><span>5577</span></td><td id="LC5577" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L5578" class="css-a4x74f"><span>5578</span></td><td id="LC5578" class="css-1dcdqdg"><code>		position: <span class="code-string">'bottomright'</span>,
</code></td></tr><tr><td id="L5579" class="css-a4x74f"><span>5579</span></td><td id="LC5579" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5580" class="css-a4x74f"><span>5580</span></td><td id="LC5580" class="css-1dcdqdg"><code>		<span class="code-comment">// @option prefix: String|false = 'Leaflet'</span>
</code></td></tr><tr><td id="L5581" class="css-a4x74f"><span>5581</span></td><td id="LC5581" class="css-1dcdqdg"><code>		<span class="code-comment">// The HTML text shown before the attributions. Pass `false` to disable.</span>
</code></td></tr><tr><td id="L5582" class="css-a4x74f"><span>5582</span></td><td id="LC5582" class="css-1dcdqdg"><code>		prefix: <span class="code-string">'&lt;a href="https://leafletjs.com" title="A JavaScript library for interactive maps"&gt;Leaflet&lt;/a&gt;'</span>
</code></td></tr><tr><td id="L5583" class="css-a4x74f"><span>5583</span></td><td id="LC5583" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5584" class="css-a4x74f"><span>5584</span></td><td id="LC5584" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5585" class="css-a4x74f"><span>5585</span></td><td id="LC5585" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5586" class="css-a4x74f"><span>5586</span></td><td id="LC5586" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L5587" class="css-a4x74f"><span>5587</span></td><td id="LC5587" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L5588" class="css-a4x74f"><span>5588</span></td><td id="LC5588" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5589" class="css-a4x74f"><span>5589</span></td><td id="LC5589" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._attributions = {};
</code></td></tr><tr><td id="L5590" class="css-a4x74f"><span>5590</span></td><td id="LC5590" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5591" class="css-a4x74f"><span>5591</span></td><td id="LC5591" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5592" class="css-a4x74f"><span>5592</span></td><td id="LC5592" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5593" class="css-a4x74f"><span>5593</span></td><td id="LC5593" class="css-1dcdqdg"><code>		map.attributionControl = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5594" class="css-a4x74f"><span>5594</span></td><td id="LC5594" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, <span class="code-string">'leaflet-control-attribution'</span>);
</code></td></tr><tr><td id="L5595" class="css-a4x74f"><span>5595</span></td><td id="LC5595" class="css-1dcdqdg"><code>		disableClickPropagation(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L5596" class="css-a4x74f"><span>5596</span></td><td id="LC5596" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5597" class="css-a4x74f"><span>5597</span></td><td id="LC5597" class="css-1dcdqdg"><code>		<span class="code-comment">// TODO ugly, refactor</span>
</code></td></tr><tr><td id="L5598" class="css-a4x74f"><span>5598</span></td><td id="LC5598" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> map._layers) {
</code></td></tr><tr><td id="L5599" class="css-a4x74f"><span>5599</span></td><td id="LC5599" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (map._layers[i].getAttribution) {
</code></td></tr><tr><td id="L5600" class="css-a4x74f"><span>5600</span></td><td id="LC5600" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.addAttribution(map._layers[i].getAttribution());
</code></td></tr><tr><td id="L5601" class="css-a4x74f"><span>5601</span></td><td id="LC5601" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5602" class="css-a4x74f"><span>5602</span></td><td id="LC5602" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5603" class="css-a4x74f"><span>5603</span></td><td id="LC5603" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5604" class="css-a4x74f"><span>5604</span></td><td id="LC5604" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L5605" class="css-a4x74f"><span>5605</span></td><td id="LC5605" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5606" class="css-a4x74f"><span>5606</span></td><td id="LC5606" class="css-1dcdqdg"><code>		map.on(<span class="code-string">'layeradd'</span>, <span class="code-keyword">this</span>._addAttribution, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5607" class="css-a4x74f"><span>5607</span></td><td id="LC5607" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5608" class="css-a4x74f"><span>5608</span></td><td id="LC5608" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L5609" class="css-a4x74f"><span>5609</span></td><td id="LC5609" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5610" class="css-a4x74f"><span>5610</span></td><td id="LC5610" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5611" class="css-a4x74f"><span>5611</span></td><td id="LC5611" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5612" class="css-a4x74f"><span>5612</span></td><td id="LC5612" class="css-1dcdqdg"><code>		map.off(<span class="code-string">'layeradd'</span>, <span class="code-keyword">this</span>._addAttribution, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5613" class="css-a4x74f"><span>5613</span></td><td id="LC5613" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5614" class="css-a4x74f"><span>5614</span></td><td id="LC5614" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5615" class="css-a4x74f"><span>5615</span></td><td id="LC5615" class="css-1dcdqdg"><code>	_addAttribution: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">ev</span>) </span>{
</code></td></tr><tr><td id="L5616" class="css-a4x74f"><span>5616</span></td><td id="LC5616" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (ev.layer.getAttribution) {
</code></td></tr><tr><td id="L5617" class="css-a4x74f"><span>5617</span></td><td id="LC5617" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addAttribution(ev.layer.getAttribution());
</code></td></tr><tr><td id="L5618" class="css-a4x74f"><span>5618</span></td><td id="LC5618" class="css-1dcdqdg"><code>			ev.layer.once(<span class="code-string">'remove'</span>, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5619" class="css-a4x74f"><span>5619</span></td><td id="LC5619" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.removeAttribution(ev.layer.getAttribution());
</code></td></tr><tr><td id="L5620" class="css-a4x74f"><span>5620</span></td><td id="LC5620" class="css-1dcdqdg"><code>			}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5621" class="css-a4x74f"><span>5621</span></td><td id="LC5621" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5622" class="css-a4x74f"><span>5622</span></td><td id="LC5622" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5623" class="css-a4x74f"><span>5623</span></td><td id="LC5623" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5624" class="css-a4x74f"><span>5624</span></td><td id="LC5624" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setPrefix(prefix: String|false): this</span>
</code></td></tr><tr><td id="L5625" class="css-a4x74f"><span>5625</span></td><td id="LC5625" class="css-1dcdqdg"><code>	<span class="code-comment">// The HTML text shown before the attributions. Pass `false` to disable.</span>
</code></td></tr><tr><td id="L5626" class="css-a4x74f"><span>5626</span></td><td id="LC5626" class="css-1dcdqdg"><code>	setPrefix: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">prefix</span>) </span>{
</code></td></tr><tr><td id="L5627" class="css-a4x74f"><span>5627</span></td><td id="LC5627" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.prefix = prefix;
</code></td></tr><tr><td id="L5628" class="css-a4x74f"><span>5628</span></td><td id="LC5628" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L5629" class="css-a4x74f"><span>5629</span></td><td id="LC5629" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5630" class="css-a4x74f"><span>5630</span></td><td id="LC5630" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5631" class="css-a4x74f"><span>5631</span></td><td id="LC5631" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5632" class="css-a4x74f"><span>5632</span></td><td id="LC5632" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addAttribution(text: String): this</span>
</code></td></tr><tr><td id="L5633" class="css-a4x74f"><span>5633</span></td><td id="LC5633" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds an attribution text (e.g. `'Vector data &amp;copy; Mapbox'`).</span>
</code></td></tr><tr><td id="L5634" class="css-a4x74f"><span>5634</span></td><td id="LC5634" class="css-1dcdqdg"><code>	addAttribution: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">text</span>) </span>{
</code></td></tr><tr><td id="L5635" class="css-a4x74f"><span>5635</span></td><td id="LC5635" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!text) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L5636" class="css-a4x74f"><span>5636</span></td><td id="LC5636" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5637" class="css-a4x74f"><span>5637</span></td><td id="LC5637" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._attributions[text]) {
</code></td></tr><tr><td id="L5638" class="css-a4x74f"><span>5638</span></td><td id="LC5638" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._attributions[text] = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L5639" class="css-a4x74f"><span>5639</span></td><td id="LC5639" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5640" class="css-a4x74f"><span>5640</span></td><td id="LC5640" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._attributions[text]++;
</code></td></tr><tr><td id="L5641" class="css-a4x74f"><span>5641</span></td><td id="LC5641" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5642" class="css-a4x74f"><span>5642</span></td><td id="LC5642" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L5643" class="css-a4x74f"><span>5643</span></td><td id="LC5643" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5644" class="css-a4x74f"><span>5644</span></td><td id="LC5644" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5645" class="css-a4x74f"><span>5645</span></td><td id="LC5645" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5646" class="css-a4x74f"><span>5646</span></td><td id="LC5646" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5647" class="css-a4x74f"><span>5647</span></td><td id="LC5647" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeAttribution(text: String): this</span>
</code></td></tr><tr><td id="L5648" class="css-a4x74f"><span>5648</span></td><td id="LC5648" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes an attribution text.</span>
</code></td></tr><tr><td id="L5649" class="css-a4x74f"><span>5649</span></td><td id="LC5649" class="css-1dcdqdg"><code>	removeAttribution: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">text</span>) </span>{
</code></td></tr><tr><td id="L5650" class="css-a4x74f"><span>5650</span></td><td id="LC5650" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!text) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L5651" class="css-a4x74f"><span>5651</span></td><td id="LC5651" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5652" class="css-a4x74f"><span>5652</span></td><td id="LC5652" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._attributions[text]) {
</code></td></tr><tr><td id="L5653" class="css-a4x74f"><span>5653</span></td><td id="LC5653" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._attributions[text]--;
</code></td></tr><tr><td id="L5654" class="css-a4x74f"><span>5654</span></td><td id="LC5654" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L5655" class="css-a4x74f"><span>5655</span></td><td id="LC5655" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5656" class="css-a4x74f"><span>5656</span></td><td id="LC5656" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5657" class="css-a4x74f"><span>5657</span></td><td id="LC5657" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5658" class="css-a4x74f"><span>5658</span></td><td id="LC5658" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5659" class="css-a4x74f"><span>5659</span></td><td id="LC5659" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5660" class="css-a4x74f"><span>5660</span></td><td id="LC5660" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5661" class="css-a4x74f"><span>5661</span></td><td id="LC5661" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5662" class="css-a4x74f"><span>5662</span></td><td id="LC5662" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5663" class="css-a4x74f"><span>5663</span></td><td id="LC5663" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> attribs = [];
</code></td></tr><tr><td id="L5664" class="css-a4x74f"><span>5664</span></td><td id="LC5664" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5665" class="css-a4x74f"><span>5665</span></td><td id="LC5665" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._attributions) {
</code></td></tr><tr><td id="L5666" class="css-a4x74f"><span>5666</span></td><td id="LC5666" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._attributions[i]) {
</code></td></tr><tr><td id="L5667" class="css-a4x74f"><span>5667</span></td><td id="LC5667" class="css-1dcdqdg"><code>				attribs.push(i);
</code></td></tr><tr><td id="L5668" class="css-a4x74f"><span>5668</span></td><td id="LC5668" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5669" class="css-a4x74f"><span>5669</span></td><td id="LC5669" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5670" class="css-a4x74f"><span>5670</span></td><td id="LC5670" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5671" class="css-a4x74f"><span>5671</span></td><td id="LC5671" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> prefixAndAttribs = [];
</code></td></tr><tr><td id="L5672" class="css-a4x74f"><span>5672</span></td><td id="LC5672" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5673" class="css-a4x74f"><span>5673</span></td><td id="LC5673" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.prefix) {
</code></td></tr><tr><td id="L5674" class="css-a4x74f"><span>5674</span></td><td id="LC5674" class="css-1dcdqdg"><code>			prefixAndAttribs.push(<span class="code-keyword">this</span>.options.prefix);
</code></td></tr><tr><td id="L5675" class="css-a4x74f"><span>5675</span></td><td id="LC5675" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5676" class="css-a4x74f"><span>5676</span></td><td id="LC5676" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (attribs.length) {
</code></td></tr><tr><td id="L5677" class="css-a4x74f"><span>5677</span></td><td id="LC5677" class="css-1dcdqdg"><code>			prefixAndAttribs.push(attribs.join(<span class="code-string">', '</span>));
</code></td></tr><tr><td id="L5678" class="css-a4x74f"><span>5678</span></td><td id="LC5678" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5679" class="css-a4x74f"><span>5679</span></td><td id="LC5679" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5680" class="css-a4x74f"><span>5680</span></td><td id="LC5680" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.innerHTML = prefixAndAttribs.join(<span class="code-string">' &lt;span aria-hidden="true"&gt;|&lt;/span&gt; '</span>);
</code></td></tr><tr><td id="L5681" class="css-a4x74f"><span>5681</span></td><td id="LC5681" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5682" class="css-a4x74f"><span>5682</span></td><td id="LC5682" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5683" class="css-a4x74f"><span>5683</span></td><td id="LC5683" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5684" class="css-a4x74f"><span>5684</span></td><td id="LC5684" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L5685" class="css-a4x74f"><span>5685</span></td><td id="LC5685" class="css-1dcdqdg"><code><span class="code-comment">// @section Control options</span>
</code></td></tr><tr><td id="L5686" class="css-a4x74f"><span>5686</span></td><td id="LC5686" class="css-1dcdqdg"><code><span class="code-comment">// @option attributionControl: Boolean = true</span>
</code></td></tr><tr><td id="L5687" class="css-a4x74f"><span>5687</span></td><td id="LC5687" class="css-1dcdqdg"><code><span class="code-comment">// Whether a [attribution control](#control-attribution) is added to the map by default.</span>
</code></td></tr><tr><td id="L5688" class="css-a4x74f"><span>5688</span></td><td id="LC5688" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L5689" class="css-a4x74f"><span>5689</span></td><td id="LC5689" class="css-1dcdqdg"><code>	attributionControl: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L5690" class="css-a4x74f"><span>5690</span></td><td id="LC5690" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5691" class="css-a4x74f"><span>5691</span></td><td id="LC5691" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5692" class="css-a4x74f"><span>5692</span></td><td id="LC5692" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5693" class="css-a4x74f"><span>5693</span></td><td id="LC5693" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.attributionControl) {
</code></td></tr><tr><td id="L5694" class="css-a4x74f"><span>5694</span></td><td id="LC5694" class="css-1dcdqdg"><code>		<span class="code-keyword">new</span> Attribution().addTo(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5695" class="css-a4x74f"><span>5695</span></td><td id="LC5695" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5696" class="css-a4x74f"><span>5696</span></td><td id="LC5696" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5697" class="css-a4x74f"><span>5697</span></td><td id="LC5697" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5698" class="css-a4x74f"><span>5698</span></td><td id="LC5698" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Control.Attribution</span>
</code></td></tr><tr><td id="L5699" class="css-a4x74f"><span>5699</span></td><td id="LC5699" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.control.attribution(options: Control.Attribution options)</span>
</code></td></tr><tr><td id="L5700" class="css-a4x74f"><span>5700</span></td><td id="LC5700" class="css-1dcdqdg"><code><span class="code-comment">// Creates an attribution control.</span>
</code></td></tr><tr><td id="L5701" class="css-a4x74f"><span>5701</span></td><td id="LC5701" class="css-1dcdqdg"><code><span class="code-keyword">var</span> attribution = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L5702" class="css-a4x74f"><span>5702</span></td><td id="LC5702" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Attribution(options);
</code></td></tr><tr><td id="L5703" class="css-a4x74f"><span>5703</span></td><td id="LC5703" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L5704" class="css-a4x74f"><span>5704</span></td><td id="LC5704" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5705" class="css-a4x74f"><span>5705</span></td><td id="LC5705" class="css-1dcdqdg"><code>Control.Layers = Layers;
</code></td></tr><tr><td id="L5706" class="css-a4x74f"><span>5706</span></td><td id="LC5706" class="css-1dcdqdg"><code>Control.Zoom = Zoom;
</code></td></tr><tr><td id="L5707" class="css-a4x74f"><span>5707</span></td><td id="LC5707" class="css-1dcdqdg"><code>Control.Scale = Scale;
</code></td></tr><tr><td id="L5708" class="css-a4x74f"><span>5708</span></td><td id="LC5708" class="css-1dcdqdg"><code>Control.Attribution = Attribution;
</code></td></tr><tr><td id="L5709" class="css-a4x74f"><span>5709</span></td><td id="LC5709" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5710" class="css-a4x74f"><span>5710</span></td><td id="LC5710" class="css-1dcdqdg"><code>control.layers = layers;
</code></td></tr><tr><td id="L5711" class="css-a4x74f"><span>5711</span></td><td id="LC5711" class="css-1dcdqdg"><code>control.zoom = zoom;
</code></td></tr><tr><td id="L5712" class="css-a4x74f"><span>5712</span></td><td id="LC5712" class="css-1dcdqdg"><code>control.scale = scale;
</code></td></tr><tr><td id="L5713" class="css-a4x74f"><span>5713</span></td><td id="LC5713" class="css-1dcdqdg"><code>control.attribution = attribution;
</code></td></tr><tr><td id="L5714" class="css-a4x74f"><span>5714</span></td><td id="LC5714" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5715" class="css-a4x74f"><span>5715</span></td><td id="LC5715" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L5716" class="css-a4x74f"><span>5716</span></td><td id="LC5716" class="css-1dcdqdg"><code><span class="code-comment">	L.Handler is a base class for handler classes that are used internally to inject
</span></code></td></tr><tr><td id="L5717" class="css-a4x74f"><span>5717</span></td><td id="LC5717" class="css-1dcdqdg"><code><span class="code-comment">	interaction features like dragging to classes like Map and Marker.
</span></code></td></tr><tr><td id="L5718" class="css-a4x74f"><span>5718</span></td><td id="LC5718" class="css-1dcdqdg"><code><span class="code-comment">*/</span>
</code></td></tr><tr><td id="L5719" class="css-a4x74f"><span>5719</span></td><td id="LC5719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5720" class="css-a4x74f"><span>5720</span></td><td id="LC5720" class="css-1dcdqdg"><code><span class="code-comment">// @class Handler</span>
</code></td></tr><tr><td id="L5721" class="css-a4x74f"><span>5721</span></td><td id="LC5721" class="css-1dcdqdg"><code><span class="code-comment">// @aka L.Handler</span>
</code></td></tr><tr><td id="L5722" class="css-a4x74f"><span>5722</span></td><td id="LC5722" class="css-1dcdqdg"><code><span class="code-comment">// Abstract class for map interaction handlers</span>
</code></td></tr><tr><td id="L5723" class="css-a4x74f"><span>5723</span></td><td id="LC5723" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5724" class="css-a4x74f"><span>5724</span></td><td id="LC5724" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Handler = Class.extend({
</code></td></tr><tr><td id="L5725" class="css-a4x74f"><span>5725</span></td><td id="LC5725" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L5726" class="css-a4x74f"><span>5726</span></td><td id="LC5726" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = map;
</code></td></tr><tr><td id="L5727" class="css-a4x74f"><span>5727</span></td><td id="LC5727" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5728" class="css-a4x74f"><span>5728</span></td><td id="LC5728" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5729" class="css-a4x74f"><span>5729</span></td><td id="LC5729" class="css-1dcdqdg"><code>	<span class="code-comment">// @method enable(): this</span>
</code></td></tr><tr><td id="L5730" class="css-a4x74f"><span>5730</span></td><td id="LC5730" class="css-1dcdqdg"><code>	<span class="code-comment">// Enables the handler</span>
</code></td></tr><tr><td id="L5731" class="css-a4x74f"><span>5731</span></td><td id="LC5731" class="css-1dcdqdg"><code>	enable: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5732" class="css-a4x74f"><span>5732</span></td><td id="LC5732" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L5733" class="css-a4x74f"><span>5733</span></td><td id="LC5733" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5734" class="css-a4x74f"><span>5734</span></td><td id="LC5734" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._enabled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5735" class="css-a4x74f"><span>5735</span></td><td id="LC5735" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.addHooks();
</code></td></tr><tr><td id="L5736" class="css-a4x74f"><span>5736</span></td><td id="LC5736" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5737" class="css-a4x74f"><span>5737</span></td><td id="LC5737" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5738" class="css-a4x74f"><span>5738</span></td><td id="LC5738" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5739" class="css-a4x74f"><span>5739</span></td><td id="LC5739" class="css-1dcdqdg"><code>	<span class="code-comment">// @method disable(): this</span>
</code></td></tr><tr><td id="L5740" class="css-a4x74f"><span>5740</span></td><td id="LC5740" class="css-1dcdqdg"><code>	<span class="code-comment">// Disables the handler</span>
</code></td></tr><tr><td id="L5741" class="css-a4x74f"><span>5741</span></td><td id="LC5741" class="css-1dcdqdg"><code>	disable: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5742" class="css-a4x74f"><span>5742</span></td><td id="LC5742" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L5743" class="css-a4x74f"><span>5743</span></td><td id="LC5743" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5744" class="css-a4x74f"><span>5744</span></td><td id="LC5744" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._enabled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5745" class="css-a4x74f"><span>5745</span></td><td id="LC5745" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.removeHooks();
</code></td></tr><tr><td id="L5746" class="css-a4x74f"><span>5746</span></td><td id="LC5746" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5747" class="css-a4x74f"><span>5747</span></td><td id="LC5747" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5748" class="css-a4x74f"><span>5748</span></td><td id="LC5748" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5749" class="css-a4x74f"><span>5749</span></td><td id="LC5749" class="css-1dcdqdg"><code>	<span class="code-comment">// @method enabled(): Boolean</span>
</code></td></tr><tr><td id="L5750" class="css-a4x74f"><span>5750</span></td><td id="LC5750" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the handler is enabled</span>
</code></td></tr><tr><td id="L5751" class="css-a4x74f"><span>5751</span></td><td id="LC5751" class="css-1dcdqdg"><code>	enabled: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5752" class="css-a4x74f"><span>5752</span></td><td id="LC5752" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !!<span class="code-keyword">this</span>._enabled;
</code></td></tr><tr><td id="L5753" class="css-a4x74f"><span>5753</span></td><td id="LC5753" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5754" class="css-a4x74f"><span>5754</span></td><td id="LC5754" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5755" class="css-a4x74f"><span>5755</span></td><td id="LC5755" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Extension methods</span>
</code></td></tr><tr><td id="L5756" class="css-a4x74f"><span>5756</span></td><td id="LC5756" class="css-1dcdqdg"><code>	<span class="code-comment">// Classes inheriting from `Handler` must implement the two following methods:</span>
</code></td></tr><tr><td id="L5757" class="css-a4x74f"><span>5757</span></td><td id="LC5757" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addHooks()</span>
</code></td></tr><tr><td id="L5758" class="css-a4x74f"><span>5758</span></td><td id="LC5758" class="css-1dcdqdg"><code>	<span class="code-comment">// Called when the handler is enabled, should add event hooks.</span>
</code></td></tr><tr><td id="L5759" class="css-a4x74f"><span>5759</span></td><td id="LC5759" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeHooks()</span>
</code></td></tr><tr><td id="L5760" class="css-a4x74f"><span>5760</span></td><td id="LC5760" class="css-1dcdqdg"><code>	<span class="code-comment">// Called when the handler is disabled, should remove the event hooks added previously.</span>
</code></td></tr><tr><td id="L5761" class="css-a4x74f"><span>5761</span></td><td id="LC5761" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5762" class="css-a4x74f"><span>5762</span></td><td id="LC5762" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5763" class="css-a4x74f"><span>5763</span></td><td id="LC5763" class="css-1dcdqdg"><code><span class="code-comment">// @section There is static function which can be called without instantiating L.Handler:</span>
</code></td></tr><tr><td id="L5764" class="css-a4x74f"><span>5764</span></td><td id="LC5764" class="css-1dcdqdg"><code><span class="code-comment">// @function addTo(map: Map, name: String): this</span>
</code></td></tr><tr><td id="L5765" class="css-a4x74f"><span>5765</span></td><td id="LC5765" class="css-1dcdqdg"><code><span class="code-comment">// Adds a new Handler to the given map with the given name.</span>
</code></td></tr><tr><td id="L5766" class="css-a4x74f"><span>5766</span></td><td id="LC5766" class="css-1dcdqdg"><code>Handler.addTo = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map, name</span>) </span>{
</code></td></tr><tr><td id="L5767" class="css-a4x74f"><span>5767</span></td><td id="LC5767" class="css-1dcdqdg"><code>	map.addHandler(name, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5768" class="css-a4x74f"><span>5768</span></td><td id="LC5768" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L5769" class="css-a4x74f"><span>5769</span></td><td id="LC5769" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L5770" class="css-a4x74f"><span>5770</span></td><td id="LC5770" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5771" class="css-a4x74f"><span>5771</span></td><td id="LC5771" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Mixin = {<span class="code-attr">Events</span>: Events};
</code></td></tr><tr><td id="L5772" class="css-a4x74f"><span>5772</span></td><td id="LC5772" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5773" class="css-a4x74f"><span>5773</span></td><td id="LC5773" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L5774" class="css-a4x74f"><span>5774</span></td><td id="LC5774" class="css-1dcdqdg"><code><span class="code-comment"> * @class Draggable
</span></code></td></tr><tr><td id="L5775" class="css-a4x74f"><span>5775</span></td><td id="LC5775" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Draggable
</span></code></td></tr><tr><td id="L5776" class="css-a4x74f"><span>5776</span></td><td id="LC5776" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Evented
</span></code></td></tr><tr><td id="L5777" class="css-a4x74f"><span>5777</span></td><td id="LC5777" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5778" class="css-a4x74f"><span>5778</span></td><td id="LC5778" class="css-1dcdqdg"><code><span class="code-comment"> * A class for making DOM elements draggable (including touch support).
</span></code></td></tr><tr><td id="L5779" class="css-a4x74f"><span>5779</span></td><td id="LC5779" class="css-1dcdqdg"><code><span class="code-comment"> * Used internally for map and marker dragging. Only works for elements
</span></code></td></tr><tr><td id="L5780" class="css-a4x74f"><span>5780</span></td><td id="LC5780" class="css-1dcdqdg"><code><span class="code-comment"> * that were positioned with [`L.DomUtil.setPosition`](#domutil-setposition).
</span></code></td></tr><tr><td id="L5781" class="css-a4x74f"><span>5781</span></td><td id="LC5781" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5782" class="css-a4x74f"><span>5782</span></td><td id="LC5782" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L5783" class="css-a4x74f"><span>5783</span></td><td id="LC5783" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L5784" class="css-a4x74f"><span>5784</span></td><td id="LC5784" class="css-1dcdqdg"><code><span class="code-comment"> * var draggable = new L.Draggable(elementToDrag);
</span></code></td></tr><tr><td id="L5785" class="css-a4x74f"><span>5785</span></td><td id="LC5785" class="css-1dcdqdg"><code><span class="code-comment"> * draggable.enable();
</span></code></td></tr><tr><td id="L5786" class="css-a4x74f"><span>5786</span></td><td id="LC5786" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L5787" class="css-a4x74f"><span>5787</span></td><td id="LC5787" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L5788" class="css-a4x74f"><span>5788</span></td><td id="LC5788" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5789" class="css-a4x74f"><span>5789</span></td><td id="LC5789" class="css-1dcdqdg"><code><span class="code-keyword">var</span> START = Browser.touch ? <span class="code-string">'touchstart mousedown'</span> : <span class="code-string">'mousedown'</span>;
</code></td></tr><tr><td id="L5790" class="css-a4x74f"><span>5790</span></td><td id="LC5790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5791" class="css-a4x74f"><span>5791</span></td><td id="LC5791" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Draggable = Evented.extend({
</code></td></tr><tr><td id="L5792" class="css-a4x74f"><span>5792</span></td><td id="LC5792" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5793" class="css-a4x74f"><span>5793</span></td><td id="LC5793" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L5794" class="css-a4x74f"><span>5794</span></td><td id="LC5794" class="css-1dcdqdg"><code>		<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L5795" class="css-a4x74f"><span>5795</span></td><td id="LC5795" class="css-1dcdqdg"><code>		<span class="code-comment">// @aka Draggable options</span>
</code></td></tr><tr><td id="L5796" class="css-a4x74f"><span>5796</span></td><td id="LC5796" class="css-1dcdqdg"><code>		<span class="code-comment">// @option clickTolerance: Number = 3</span>
</code></td></tr><tr><td id="L5797" class="css-a4x74f"><span>5797</span></td><td id="LC5797" class="css-1dcdqdg"><code>		<span class="code-comment">// The max number of pixels a user can shift the mouse pointer during a click</span>
</code></td></tr><tr><td id="L5798" class="css-a4x74f"><span>5798</span></td><td id="LC5798" class="css-1dcdqdg"><code>		<span class="code-comment">// for it to be considered a valid click (as opposed to a mouse drag).</span>
</code></td></tr><tr><td id="L5799" class="css-a4x74f"><span>5799</span></td><td id="LC5799" class="css-1dcdqdg"><code>		clickTolerance: <span class="code-number">3</span>
</code></td></tr><tr><td id="L5800" class="css-a4x74f"><span>5800</span></td><td id="LC5800" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5801" class="css-a4x74f"><span>5801</span></td><td id="LC5801" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5802" class="css-a4x74f"><span>5802</span></td><td id="LC5802" class="css-1dcdqdg"><code>	<span class="code-comment">// @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline?: Boolean, options?: Draggable options)</span>
</code></td></tr><tr><td id="L5803" class="css-a4x74f"><span>5803</span></td><td id="LC5803" class="css-1dcdqdg"><code>	<span class="code-comment">// Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).</span>
</code></td></tr><tr><td id="L5804" class="css-a4x74f"><span>5804</span></td><td id="LC5804" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">element, dragStartTarget, preventOutline, options</span>) </span>{
</code></td></tr><tr><td id="L5805" class="css-a4x74f"><span>5805</span></td><td id="LC5805" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L5806" class="css-a4x74f"><span>5806</span></td><td id="LC5806" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5807" class="css-a4x74f"><span>5807</span></td><td id="LC5807" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._element = element;
</code></td></tr><tr><td id="L5808" class="css-a4x74f"><span>5808</span></td><td id="LC5808" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._dragStartTarget = dragStartTarget || element;
</code></td></tr><tr><td id="L5809" class="css-a4x74f"><span>5809</span></td><td id="LC5809" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._preventOutline = preventOutline;
</code></td></tr><tr><td id="L5810" class="css-a4x74f"><span>5810</span></td><td id="LC5810" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5811" class="css-a4x74f"><span>5811</span></td><td id="LC5811" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5812" class="css-a4x74f"><span>5812</span></td><td id="LC5812" class="css-1dcdqdg"><code>	<span class="code-comment">// @method enable()</span>
</code></td></tr><tr><td id="L5813" class="css-a4x74f"><span>5813</span></td><td id="LC5813" class="css-1dcdqdg"><code>	<span class="code-comment">// Enables the dragging ability</span>
</code></td></tr><tr><td id="L5814" class="css-a4x74f"><span>5814</span></td><td id="LC5814" class="css-1dcdqdg"><code>	enable: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5815" class="css-a4x74f"><span>5815</span></td><td id="LC5815" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5816" class="css-a4x74f"><span>5816</span></td><td id="LC5816" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5817" class="css-a4x74f"><span>5817</span></td><td id="LC5817" class="css-1dcdqdg"><code>		on(<span class="code-keyword">this</span>._dragStartTarget, START, <span class="code-keyword">this</span>._onDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5818" class="css-a4x74f"><span>5818</span></td><td id="LC5818" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5819" class="css-a4x74f"><span>5819</span></td><td id="LC5819" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._enabled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5820" class="css-a4x74f"><span>5820</span></td><td id="LC5820" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5821" class="css-a4x74f"><span>5821</span></td><td id="LC5821" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5822" class="css-a4x74f"><span>5822</span></td><td id="LC5822" class="css-1dcdqdg"><code>	<span class="code-comment">// @method disable()</span>
</code></td></tr><tr><td id="L5823" class="css-a4x74f"><span>5823</span></td><td id="LC5823" class="css-1dcdqdg"><code>	<span class="code-comment">// Disables the dragging ability</span>
</code></td></tr><tr><td id="L5824" class="css-a4x74f"><span>5824</span></td><td id="LC5824" class="css-1dcdqdg"><code>	disable: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5825" class="css-a4x74f"><span>5825</span></td><td id="LC5825" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5826" class="css-a4x74f"><span>5826</span></td><td id="LC5826" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5827" class="css-a4x74f"><span>5827</span></td><td id="LC5827" class="css-1dcdqdg"><code>		<span class="code-comment">// If we're currently dragging this draggable,</span>
</code></td></tr><tr><td id="L5828" class="css-a4x74f"><span>5828</span></td><td id="LC5828" class="css-1dcdqdg"><code>		<span class="code-comment">// disabling it counts as first ending the drag.</span>
</code></td></tr><tr><td id="L5829" class="css-a4x74f"><span>5829</span></td><td id="LC5829" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Draggable._dragging === <span class="code-keyword">this</span>) {
</code></td></tr><tr><td id="L5830" class="css-a4x74f"><span>5830</span></td><td id="LC5830" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.finishDrag();
</code></td></tr><tr><td id="L5831" class="css-a4x74f"><span>5831</span></td><td id="LC5831" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5832" class="css-a4x74f"><span>5832</span></td><td id="LC5832" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5833" class="css-a4x74f"><span>5833</span></td><td id="LC5833" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._dragStartTarget, START, <span class="code-keyword">this</span>._onDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5834" class="css-a4x74f"><span>5834</span></td><td id="LC5834" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5835" class="css-a4x74f"><span>5835</span></td><td id="LC5835" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._enabled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5836" class="css-a4x74f"><span>5836</span></td><td id="LC5836" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moved = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5837" class="css-a4x74f"><span>5837</span></td><td id="LC5837" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5838" class="css-a4x74f"><span>5838</span></td><td id="LC5838" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5839" class="css-a4x74f"><span>5839</span></td><td id="LC5839" class="css-1dcdqdg"><code>	_onDown: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L5840" class="css-a4x74f"><span>5840</span></td><td id="LC5840" class="css-1dcdqdg"><code>		<span class="code-comment">// Ignore the event if disabled; this happens in IE11</span>
</code></td></tr><tr><td id="L5841" class="css-a4x74f"><span>5841</span></td><td id="LC5841" class="css-1dcdqdg"><code>		<span class="code-comment">// under some circumstances, see #3666.</span>
</code></td></tr><tr><td id="L5842" class="css-a4x74f"><span>5842</span></td><td id="LC5842" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5843" class="css-a4x74f"><span>5843</span></td><td id="LC5843" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5844" class="css-a4x74f"><span>5844</span></td><td id="LC5844" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moved = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5845" class="css-a4x74f"><span>5845</span></td><td id="LC5845" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5846" class="css-a4x74f"><span>5846</span></td><td id="LC5846" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (hasClass(<span class="code-keyword">this</span>._element, <span class="code-string">'leaflet-zoom-anim'</span>)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5847" class="css-a4x74f"><span>5847</span></td><td id="LC5847" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5848" class="css-a4x74f"><span>5848</span></td><td id="LC5848" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Draggable._dragging || e.shiftKey || ((e.which !== <span class="code-number">1</span>) &amp;&amp; (e.button !== <span class="code-number">1</span>) &amp;&amp; !e.touches)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5849" class="css-a4x74f"><span>5849</span></td><td id="LC5849" class="css-1dcdqdg"><code>		Draggable._dragging = <span class="code-keyword">this</span>;  <span class="code-comment">// Prevent dragging multiple objects at once.</span>
</code></td></tr><tr><td id="L5850" class="css-a4x74f"><span>5850</span></td><td id="LC5850" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5851" class="css-a4x74f"><span>5851</span></td><td id="LC5851" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._preventOutline) {
</code></td></tr><tr><td id="L5852" class="css-a4x74f"><span>5852</span></td><td id="LC5852" class="css-1dcdqdg"><code>			preventOutline(<span class="code-keyword">this</span>._element);
</code></td></tr><tr><td id="L5853" class="css-a4x74f"><span>5853</span></td><td id="LC5853" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5854" class="css-a4x74f"><span>5854</span></td><td id="LC5854" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5855" class="css-a4x74f"><span>5855</span></td><td id="LC5855" class="css-1dcdqdg"><code>		disableImageDrag();
</code></td></tr><tr><td id="L5856" class="css-a4x74f"><span>5856</span></td><td id="LC5856" class="css-1dcdqdg"><code>		disableTextSelection();
</code></td></tr><tr><td id="L5857" class="css-a4x74f"><span>5857</span></td><td id="LC5857" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5858" class="css-a4x74f"><span>5858</span></td><td id="LC5858" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._moving) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5859" class="css-a4x74f"><span>5859</span></td><td id="LC5859" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5860" class="css-a4x74f"><span>5860</span></td><td id="LC5860" class="css-1dcdqdg"><code>		<span class="code-comment">// @event down: Event</span>
</code></td></tr><tr><td id="L5861" class="css-a4x74f"><span>5861</span></td><td id="LC5861" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a drag is about to start.</span>
</code></td></tr><tr><td id="L5862" class="css-a4x74f"><span>5862</span></td><td id="LC5862" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'down'</span>);
</code></td></tr><tr><td id="L5863" class="css-a4x74f"><span>5863</span></td><td id="LC5863" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5864" class="css-a4x74f"><span>5864</span></td><td id="LC5864" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> first = e.touches ? e.touches[<span class="code-number">0</span>] : e,
</code></td></tr><tr><td id="L5865" class="css-a4x74f"><span>5865</span></td><td id="LC5865" class="css-1dcdqdg"><code>		    sizedParent = getSizedParentNode(<span class="code-keyword">this</span>._element);
</code></td></tr><tr><td id="L5866" class="css-a4x74f"><span>5866</span></td><td id="LC5866" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5867" class="css-a4x74f"><span>5867</span></td><td id="LC5867" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startPoint = <span class="code-keyword">new</span> Point(first.clientX, first.clientY);
</code></td></tr><tr><td id="L5868" class="css-a4x74f"><span>5868</span></td><td id="LC5868" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startPos = getPosition(<span class="code-keyword">this</span>._element);
</code></td></tr><tr><td id="L5869" class="css-a4x74f"><span>5869</span></td><td id="LC5869" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5870" class="css-a4x74f"><span>5870</span></td><td id="LC5870" class="css-1dcdqdg"><code>		<span class="code-comment">// Cache the scale, so that we can continuously compensate for it during drag (_onMove).</span>
</code></td></tr><tr><td id="L5871" class="css-a4x74f"><span>5871</span></td><td id="LC5871" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._parentScale = getScale(sizedParent);
</code></td></tr><tr><td id="L5872" class="css-a4x74f"><span>5872</span></td><td id="LC5872" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5873" class="css-a4x74f"><span>5873</span></td><td id="LC5873" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> mouseevent = e.type === <span class="code-string">'mousedown'</span>;
</code></td></tr><tr><td id="L5874" class="css-a4x74f"><span>5874</span></td><td id="LC5874" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, mouseevent ? <span class="code-string">'mousemove'</span> : <span class="code-string">'touchmove'</span>, <span class="code-keyword">this</span>._onMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5875" class="css-a4x74f"><span>5875</span></td><td id="LC5875" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, mouseevent ? <span class="code-string">'mouseup'</span> : <span class="code-string">'touchend touchcancel'</span>, <span class="code-keyword">this</span>._onUp, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5876" class="css-a4x74f"><span>5876</span></td><td id="LC5876" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5877" class="css-a4x74f"><span>5877</span></td><td id="LC5877" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5878" class="css-a4x74f"><span>5878</span></td><td id="LC5878" class="css-1dcdqdg"><code>	_onMove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L5879" class="css-a4x74f"><span>5879</span></td><td id="LC5879" class="css-1dcdqdg"><code>		<span class="code-comment">// Ignore the event if disabled; this happens in IE11</span>
</code></td></tr><tr><td id="L5880" class="css-a4x74f"><span>5880</span></td><td id="LC5880" class="css-1dcdqdg"><code>		<span class="code-comment">// under some circumstances, see #3666.</span>
</code></td></tr><tr><td id="L5881" class="css-a4x74f"><span>5881</span></td><td id="LC5881" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5882" class="css-a4x74f"><span>5882</span></td><td id="LC5882" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5883" class="css-a4x74f"><span>5883</span></td><td id="LC5883" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.touches &amp;&amp; e.touches.length &gt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L5884" class="css-a4x74f"><span>5884</span></td><td id="LC5884" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._moved = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5885" class="css-a4x74f"><span>5885</span></td><td id="LC5885" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L5886" class="css-a4x74f"><span>5886</span></td><td id="LC5886" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5887" class="css-a4x74f"><span>5887</span></td><td id="LC5887" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5888" class="css-a4x74f"><span>5888</span></td><td id="LC5888" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> first = (e.touches &amp;&amp; e.touches.length === <span class="code-number">1</span> ? e.touches[<span class="code-number">0</span>] : e),
</code></td></tr><tr><td id="L5889" class="css-a4x74f"><span>5889</span></td><td id="LC5889" class="css-1dcdqdg"><code>		    offset = <span class="code-keyword">new</span> Point(first.clientX, first.clientY)._subtract(<span class="code-keyword">this</span>._startPoint);
</code></td></tr><tr><td id="L5890" class="css-a4x74f"><span>5890</span></td><td id="LC5890" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5891" class="css-a4x74f"><span>5891</span></td><td id="LC5891" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!offset.x &amp;&amp; !offset.y) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5892" class="css-a4x74f"><span>5892</span></td><td id="LC5892" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">Math</span>.abs(offset.x) + <span class="code-built_in">Math</span>.abs(offset.y) &lt; <span class="code-keyword">this</span>.options.clickTolerance) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5893" class="css-a4x74f"><span>5893</span></td><td id="LC5893" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5894" class="css-a4x74f"><span>5894</span></td><td id="LC5894" class="css-1dcdqdg"><code>		<span class="code-comment">// We assume that the parent container's position, border and scale do not change for the duration of the drag.</span>
</code></td></tr><tr><td id="L5895" class="css-a4x74f"><span>5895</span></td><td id="LC5895" class="css-1dcdqdg"><code>		<span class="code-comment">// Therefore there is no need to account for the position and border (they are eliminated by the subtraction)</span>
</code></td></tr><tr><td id="L5896" class="css-a4x74f"><span>5896</span></td><td id="LC5896" class="css-1dcdqdg"><code>		<span class="code-comment">// and we can use the cached value for the scale.</span>
</code></td></tr><tr><td id="L5897" class="css-a4x74f"><span>5897</span></td><td id="LC5897" class="css-1dcdqdg"><code>		offset.x /= <span class="code-keyword">this</span>._parentScale.x;
</code></td></tr><tr><td id="L5898" class="css-a4x74f"><span>5898</span></td><td id="LC5898" class="css-1dcdqdg"><code>		offset.y /= <span class="code-keyword">this</span>._parentScale.y;
</code></td></tr><tr><td id="L5899" class="css-a4x74f"><span>5899</span></td><td id="LC5899" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5900" class="css-a4x74f"><span>5900</span></td><td id="LC5900" class="css-1dcdqdg"><code>		preventDefault(e);
</code></td></tr><tr><td id="L5901" class="css-a4x74f"><span>5901</span></td><td id="LC5901" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5902" class="css-a4x74f"><span>5902</span></td><td id="LC5902" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._moved) {
</code></td></tr><tr><td id="L5903" class="css-a4x74f"><span>5903</span></td><td id="LC5903" class="css-1dcdqdg"><code>			<span class="code-comment">// @event dragstart: Event</span>
</code></td></tr><tr><td id="L5904" class="css-a4x74f"><span>5904</span></td><td id="LC5904" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when a drag starts</span>
</code></td></tr><tr><td id="L5905" class="css-a4x74f"><span>5905</span></td><td id="LC5905" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'dragstart'</span>);
</code></td></tr><tr><td id="L5906" class="css-a4x74f"><span>5906</span></td><td id="LC5906" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5907" class="css-a4x74f"><span>5907</span></td><td id="LC5907" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._moved = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5908" class="css-a4x74f"><span>5908</span></td><td id="LC5908" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5909" class="css-a4x74f"><span>5909</span></td><td id="LC5909" class="css-1dcdqdg"><code>			addClass(<span class="code-built_in">document</span>.body, <span class="code-string">'leaflet-dragging'</span>);
</code></td></tr><tr><td id="L5910" class="css-a4x74f"><span>5910</span></td><td id="LC5910" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5911" class="css-a4x74f"><span>5911</span></td><td id="LC5911" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._lastTarget = e.target || e.srcElement;
</code></td></tr><tr><td id="L5912" class="css-a4x74f"><span>5912</span></td><td id="LC5912" class="css-1dcdqdg"><code>			<span class="code-comment">// IE and Edge do not give the &lt;use&gt; element, so fetch it</span>
</code></td></tr><tr><td id="L5913" class="css-a4x74f"><span>5913</span></td><td id="LC5913" class="css-1dcdqdg"><code>			<span class="code-comment">// if necessary</span>
</code></td></tr><tr><td id="L5914" class="css-a4x74f"><span>5914</span></td><td id="LC5914" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-built_in">window</span>.SVGElementInstance &amp;&amp; <span class="code-keyword">this</span>._lastTarget <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.SVGElementInstance) {
</code></td></tr><tr><td id="L5915" class="css-a4x74f"><span>5915</span></td><td id="LC5915" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._lastTarget = <span class="code-keyword">this</span>._lastTarget.correspondingUseElement;
</code></td></tr><tr><td id="L5916" class="css-a4x74f"><span>5916</span></td><td id="LC5916" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L5917" class="css-a4x74f"><span>5917</span></td><td id="LC5917" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._lastTarget, <span class="code-string">'leaflet-drag-target'</span>);
</code></td></tr><tr><td id="L5918" class="css-a4x74f"><span>5918</span></td><td id="LC5918" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5919" class="css-a4x74f"><span>5919</span></td><td id="LC5919" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5920" class="css-a4x74f"><span>5920</span></td><td id="LC5920" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._newPos = <span class="code-keyword">this</span>._startPos.add(offset);
</code></td></tr><tr><td id="L5921" class="css-a4x74f"><span>5921</span></td><td id="LC5921" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moving = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L5922" class="css-a4x74f"><span>5922</span></td><td id="LC5922" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5923" class="css-a4x74f"><span>5923</span></td><td id="LC5923" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._lastEvent = e;
</code></td></tr><tr><td id="L5924" class="css-a4x74f"><span>5924</span></td><td id="LC5924" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updatePosition();
</code></td></tr><tr><td id="L5925" class="css-a4x74f"><span>5925</span></td><td id="LC5925" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5926" class="css-a4x74f"><span>5926</span></td><td id="LC5926" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5927" class="css-a4x74f"><span>5927</span></td><td id="LC5927" class="css-1dcdqdg"><code>	_updatePosition: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5928" class="css-a4x74f"><span>5928</span></td><td id="LC5928" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> e = {<span class="code-attr">originalEvent</span>: <span class="code-keyword">this</span>._lastEvent};
</code></td></tr><tr><td id="L5929" class="css-a4x74f"><span>5929</span></td><td id="LC5929" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5930" class="css-a4x74f"><span>5930</span></td><td id="LC5930" class="css-1dcdqdg"><code>		<span class="code-comment">// @event predrag: Event</span>
</code></td></tr><tr><td id="L5931" class="css-a4x74f"><span>5931</span></td><td id="LC5931" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired continuously during dragging *before* each corresponding</span>
</code></td></tr><tr><td id="L5932" class="css-a4x74f"><span>5932</span></td><td id="LC5932" class="css-1dcdqdg"><code>		<span class="code-comment">// update of the element's position.</span>
</code></td></tr><tr><td id="L5933" class="css-a4x74f"><span>5933</span></td><td id="LC5933" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'predrag'</span>, e);
</code></td></tr><tr><td id="L5934" class="css-a4x74f"><span>5934</span></td><td id="LC5934" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._element, <span class="code-keyword">this</span>._newPos);
</code></td></tr><tr><td id="L5935" class="css-a4x74f"><span>5935</span></td><td id="LC5935" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5936" class="css-a4x74f"><span>5936</span></td><td id="LC5936" class="css-1dcdqdg"><code>		<span class="code-comment">// @event drag: Event</span>
</code></td></tr><tr><td id="L5937" class="css-a4x74f"><span>5937</span></td><td id="LC5937" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired continuously during dragging.</span>
</code></td></tr><tr><td id="L5938" class="css-a4x74f"><span>5938</span></td><td id="LC5938" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'drag'</span>, e);
</code></td></tr><tr><td id="L5939" class="css-a4x74f"><span>5939</span></td><td id="LC5939" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5940" class="css-a4x74f"><span>5940</span></td><td id="LC5940" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5941" class="css-a4x74f"><span>5941</span></td><td id="LC5941" class="css-1dcdqdg"><code>	_onUp: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5942" class="css-a4x74f"><span>5942</span></td><td id="LC5942" class="css-1dcdqdg"><code>		<span class="code-comment">// Ignore the event if disabled; this happens in IE11</span>
</code></td></tr><tr><td id="L5943" class="css-a4x74f"><span>5943</span></td><td id="LC5943" class="css-1dcdqdg"><code>		<span class="code-comment">// under some circumstances, see #3666.</span>
</code></td></tr><tr><td id="L5944" class="css-a4x74f"><span>5944</span></td><td id="LC5944" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._enabled) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L5945" class="css-a4x74f"><span>5945</span></td><td id="LC5945" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.finishDrag();
</code></td></tr><tr><td id="L5946" class="css-a4x74f"><span>5946</span></td><td id="LC5946" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L5947" class="css-a4x74f"><span>5947</span></td><td id="LC5947" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5948" class="css-a4x74f"><span>5948</span></td><td id="LC5948" class="css-1dcdqdg"><code>	finishDrag: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L5949" class="css-a4x74f"><span>5949</span></td><td id="LC5949" class="css-1dcdqdg"><code>		removeClass(<span class="code-built_in">document</span>.body, <span class="code-string">'leaflet-dragging'</span>);
</code></td></tr><tr><td id="L5950" class="css-a4x74f"><span>5950</span></td><td id="LC5950" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5951" class="css-a4x74f"><span>5951</span></td><td id="LC5951" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._lastTarget) {
</code></td></tr><tr><td id="L5952" class="css-a4x74f"><span>5952</span></td><td id="LC5952" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._lastTarget, <span class="code-string">'leaflet-drag-target'</span>);
</code></td></tr><tr><td id="L5953" class="css-a4x74f"><span>5953</span></td><td id="LC5953" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._lastTarget = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L5954" class="css-a4x74f"><span>5954</span></td><td id="LC5954" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5955" class="css-a4x74f"><span>5955</span></td><td id="LC5955" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5956" class="css-a4x74f"><span>5956</span></td><td id="LC5956" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'mousemove touchmove'</span>, <span class="code-keyword">this</span>._onMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5957" class="css-a4x74f"><span>5957</span></td><td id="LC5957" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'mouseup touchend touchcancel'</span>, <span class="code-keyword">this</span>._onUp, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L5958" class="css-a4x74f"><span>5958</span></td><td id="LC5958" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5959" class="css-a4x74f"><span>5959</span></td><td id="LC5959" class="css-1dcdqdg"><code>		enableImageDrag();
</code></td></tr><tr><td id="L5960" class="css-a4x74f"><span>5960</span></td><td id="LC5960" class="css-1dcdqdg"><code>		enableTextSelection();
</code></td></tr><tr><td id="L5961" class="css-a4x74f"><span>5961</span></td><td id="LC5961" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5962" class="css-a4x74f"><span>5962</span></td><td id="LC5962" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._moved &amp;&amp; <span class="code-keyword">this</span>._moving) {
</code></td></tr><tr><td id="L5963" class="css-a4x74f"><span>5963</span></td><td id="LC5963" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5964" class="css-a4x74f"><span>5964</span></td><td id="LC5964" class="css-1dcdqdg"><code>			<span class="code-comment">// @event dragend: DragEndEvent</span>
</code></td></tr><tr><td id="L5965" class="css-a4x74f"><span>5965</span></td><td id="LC5965" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when the drag ends.</span>
</code></td></tr><tr><td id="L5966" class="css-a4x74f"><span>5966</span></td><td id="LC5966" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'dragend'</span>, {
</code></td></tr><tr><td id="L5967" class="css-a4x74f"><span>5967</span></td><td id="LC5967" class="css-1dcdqdg"><code>				distance: <span class="code-keyword">this</span>._newPos.distanceTo(<span class="code-keyword">this</span>._startPos)
</code></td></tr><tr><td id="L5968" class="css-a4x74f"><span>5968</span></td><td id="LC5968" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L5969" class="css-a4x74f"><span>5969</span></td><td id="LC5969" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L5970" class="css-a4x74f"><span>5970</span></td><td id="LC5970" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5971" class="css-a4x74f"><span>5971</span></td><td id="LC5971" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moving = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5972" class="css-a4x74f"><span>5972</span></td><td id="LC5972" class="css-1dcdqdg"><code>		Draggable._dragging = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L5973" class="css-a4x74f"><span>5973</span></td><td id="LC5973" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5974" class="css-a4x74f"><span>5974</span></td><td id="LC5974" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5975" class="css-a4x74f"><span>5975</span></td><td id="LC5975" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L5976" class="css-a4x74f"><span>5976</span></td><td id="LC5976" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5977" class="css-a4x74f"><span>5977</span></td><td id="LC5977" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L5978" class="css-a4x74f"><span>5978</span></td><td id="LC5978" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace LineUtil
</span></code></td></tr><tr><td id="L5979" class="css-a4x74f"><span>5979</span></td><td id="LC5979" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5980" class="css-a4x74f"><span>5980</span></td><td id="LC5980" class="css-1dcdqdg"><code><span class="code-comment"> * Various utility functions for polyline points processing, used by Leaflet internally to make polylines lightning-fast.
</span></code></td></tr><tr><td id="L5981" class="css-a4x74f"><span>5981</span></td><td id="LC5981" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L5982" class="css-a4x74f"><span>5982</span></td><td id="LC5982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5983" class="css-a4x74f"><span>5983</span></td><td id="LC5983" class="css-1dcdqdg"><code><span class="code-comment">// Simplify polyline with vertex reduction and Douglas-Peucker simplification.</span>
</code></td></tr><tr><td id="L5984" class="css-a4x74f"><span>5984</span></td><td id="LC5984" class="css-1dcdqdg"><code><span class="code-comment">// Improves rendering performance dramatically by lessening the number of points to draw.</span>
</code></td></tr><tr><td id="L5985" class="css-a4x74f"><span>5985</span></td><td id="LC5985" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5986" class="css-a4x74f"><span>5986</span></td><td id="LC5986" class="css-1dcdqdg"><code><span class="code-comment">// @function simplify(points: Point[], tolerance: Number): Point[]</span>
</code></td></tr><tr><td id="L5987" class="css-a4x74f"><span>5987</span></td><td id="LC5987" class="css-1dcdqdg"><code><span class="code-comment">// Dramatically reduces the number of points in a polyline while retaining</span>
</code></td></tr><tr><td id="L5988" class="css-a4x74f"><span>5988</span></td><td id="LC5988" class="css-1dcdqdg"><code><span class="code-comment">// its shape and returns a new array of simplified points, using the</span>
</code></td></tr><tr><td id="L5989" class="css-a4x74f"><span>5989</span></td><td id="LC5989" class="css-1dcdqdg"><code><span class="code-comment">// [Ramer-Douglas-Peucker algorithm](https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm).</span>
</code></td></tr><tr><td id="L5990" class="css-a4x74f"><span>5990</span></td><td id="LC5990" class="css-1dcdqdg"><code><span class="code-comment">// Used for a huge performance boost when processing/displaying Leaflet polylines for</span>
</code></td></tr><tr><td id="L5991" class="css-a4x74f"><span>5991</span></td><td id="LC5991" class="css-1dcdqdg"><code><span class="code-comment">// each zoom level and also reducing visual noise. tolerance affects the amount of</span>
</code></td></tr><tr><td id="L5992" class="css-a4x74f"><span>5992</span></td><td id="LC5992" class="css-1dcdqdg"><code><span class="code-comment">// simplification (lesser value means higher quality but slower and with more points).</span>
</code></td></tr><tr><td id="L5993" class="css-a4x74f"><span>5993</span></td><td id="LC5993" class="css-1dcdqdg"><code><span class="code-comment">// Also released as a separated micro-library [Simplify.js](https://mourner.github.io/simplify-js/).</span>
</code></td></tr><tr><td id="L5994" class="css-a4x74f"><span>5994</span></td><td id="LC5994" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">simplify</span>(<span class="code-params">points, tolerance</span>) </span>{
</code></td></tr><tr><td id="L5995" class="css-a4x74f"><span>5995</span></td><td id="LC5995" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!tolerance || !points.length) {
</code></td></tr><tr><td id="L5996" class="css-a4x74f"><span>5996</span></td><td id="LC5996" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> points.slice();
</code></td></tr><tr><td id="L5997" class="css-a4x74f"><span>5997</span></td><td id="LC5997" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L5998" class="css-a4x74f"><span>5998</span></td><td id="LC5998" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L5999" class="css-a4x74f"><span>5999</span></td><td id="LC5999" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> sqTolerance = tolerance * tolerance;
</code></td></tr><tr><td id="L6000" class="css-a4x74f"><span>6000</span></td><td id="LC6000" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6001" class="css-a4x74f"><span>6001</span></td><td id="LC6001" class="css-1dcdqdg"><code>	    <span class="code-comment">// stage 1: vertex reduction</span>
</code></td></tr><tr><td id="L6002" class="css-a4x74f"><span>6002</span></td><td id="LC6002" class="css-1dcdqdg"><code>	    points = _reducePoints(points, sqTolerance);
</code></td></tr><tr><td id="L6003" class="css-a4x74f"><span>6003</span></td><td id="LC6003" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6004" class="css-a4x74f"><span>6004</span></td><td id="LC6004" class="css-1dcdqdg"><code>	    <span class="code-comment">// stage 2: Douglas-Peucker simplification</span>
</code></td></tr><tr><td id="L6005" class="css-a4x74f"><span>6005</span></td><td id="LC6005" class="css-1dcdqdg"><code>	    points = _simplifyDP(points, sqTolerance);
</code></td></tr><tr><td id="L6006" class="css-a4x74f"><span>6006</span></td><td id="LC6006" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6007" class="css-a4x74f"><span>6007</span></td><td id="LC6007" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> points;
</code></td></tr><tr><td id="L6008" class="css-a4x74f"><span>6008</span></td><td id="LC6008" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6009" class="css-a4x74f"><span>6009</span></td><td id="LC6009" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6010" class="css-a4x74f"><span>6010</span></td><td id="LC6010" class="css-1dcdqdg"><code><span class="code-comment">// @function pointToSegmentDistance(p: Point, p1: Point, p2: Point): Number</span>
</code></td></tr><tr><td id="L6011" class="css-a4x74f"><span>6011</span></td><td id="LC6011" class="css-1dcdqdg"><code><span class="code-comment">// Returns the distance between point `p` and segment `p1` to `p2`.</span>
</code></td></tr><tr><td id="L6012" class="css-a4x74f"><span>6012</span></td><td id="LC6012" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pointToSegmentDistance</span>(<span class="code-params">p, p1, p2</span>) </span>{
</code></td></tr><tr><td id="L6013" class="css-a4x74f"><span>6013</span></td><td id="LC6013" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(_sqClosestPointOnSegment(p, p1, p2, <span class="code-literal">true</span>));
</code></td></tr><tr><td id="L6014" class="css-a4x74f"><span>6014</span></td><td id="LC6014" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6015" class="css-a4x74f"><span>6015</span></td><td id="LC6015" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6016" class="css-a4x74f"><span>6016</span></td><td id="LC6016" class="css-1dcdqdg"><code><span class="code-comment">// @function closestPointOnSegment(p: Point, p1: Point, p2: Point): Number</span>
</code></td></tr><tr><td id="L6017" class="css-a4x74f"><span>6017</span></td><td id="LC6017" class="css-1dcdqdg"><code><span class="code-comment">// Returns the closest point from a point `p` on a segment `p1` to `p2`.</span>
</code></td></tr><tr><td id="L6018" class="css-a4x74f"><span>6018</span></td><td id="LC6018" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">closestPointOnSegment</span>(<span class="code-params">p, p1, p2</span>) </span>{
</code></td></tr><tr><td id="L6019" class="css-a4x74f"><span>6019</span></td><td id="LC6019" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> _sqClosestPointOnSegment(p, p1, p2);
</code></td></tr><tr><td id="L6020" class="css-a4x74f"><span>6020</span></td><td id="LC6020" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6021" class="css-a4x74f"><span>6021</span></td><td id="LC6021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6022" class="css-a4x74f"><span>6022</span></td><td id="LC6022" class="css-1dcdqdg"><code><span class="code-comment">// Ramer-Douglas-Peucker simplification, see https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm</span>
</code></td></tr><tr><td id="L6023" class="css-a4x74f"><span>6023</span></td><td id="LC6023" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_simplifyDP</span>(<span class="code-params">points, sqTolerance</span>) </span>{
</code></td></tr><tr><td id="L6024" class="css-a4x74f"><span>6024</span></td><td id="LC6024" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6025" class="css-a4x74f"><span>6025</span></td><td id="LC6025" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> len = points.length,
</code></td></tr><tr><td id="L6026" class="css-a4x74f"><span>6026</span></td><td id="LC6026" class="css-1dcdqdg"><code>	    ArrayConstructor = <span class="code-keyword">typeof</span> <span class="code-built_in">Uint8Array</span> !== <span class="code-literal">undefined</span> + <span class="code-string">''</span> ? <span class="code-built_in">Uint8Array</span> : <span class="code-built_in">Array</span>,
</code></td></tr><tr><td id="L6027" class="css-a4x74f"><span>6027</span></td><td id="LC6027" class="css-1dcdqdg"><code>	    markers = <span class="code-keyword">new</span> ArrayConstructor(len);
</code></td></tr><tr><td id="L6028" class="css-a4x74f"><span>6028</span></td><td id="LC6028" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6029" class="css-a4x74f"><span>6029</span></td><td id="LC6029" class="css-1dcdqdg"><code>	    markers[<span class="code-number">0</span>] = markers[len - <span class="code-number">1</span>] = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L6030" class="css-a4x74f"><span>6030</span></td><td id="LC6030" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6031" class="css-a4x74f"><span>6031</span></td><td id="LC6031" class="css-1dcdqdg"><code>	_simplifyDPStep(points, markers, sqTolerance, <span class="code-number">0</span>, len - <span class="code-number">1</span>);
</code></td></tr><tr><td id="L6032" class="css-a4x74f"><span>6032</span></td><td id="LC6032" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6033" class="css-a4x74f"><span>6033</span></td><td id="LC6033" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> i,
</code></td></tr><tr><td id="L6034" class="css-a4x74f"><span>6034</span></td><td id="LC6034" class="css-1dcdqdg"><code>	    newPoints = [];
</code></td></tr><tr><td id="L6035" class="css-a4x74f"><span>6035</span></td><td id="LC6035" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6036" class="css-a4x74f"><span>6036</span></td><td id="LC6036" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; len; i++) {
</code></td></tr><tr><td id="L6037" class="css-a4x74f"><span>6037</span></td><td id="LC6037" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (markers[i]) {
</code></td></tr><tr><td id="L6038" class="css-a4x74f"><span>6038</span></td><td id="LC6038" class="css-1dcdqdg"><code>			newPoints.push(points[i]);
</code></td></tr><tr><td id="L6039" class="css-a4x74f"><span>6039</span></td><td id="LC6039" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6040" class="css-a4x74f"><span>6040</span></td><td id="LC6040" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6041" class="css-a4x74f"><span>6041</span></td><td id="LC6041" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6042" class="css-a4x74f"><span>6042</span></td><td id="LC6042" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> newPoints;
</code></td></tr><tr><td id="L6043" class="css-a4x74f"><span>6043</span></td><td id="LC6043" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6044" class="css-a4x74f"><span>6044</span></td><td id="LC6044" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6045" class="css-a4x74f"><span>6045</span></td><td id="LC6045" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_simplifyDPStep</span>(<span class="code-params">points, markers, sqTolerance, first, last</span>) </span>{
</code></td></tr><tr><td id="L6046" class="css-a4x74f"><span>6046</span></td><td id="LC6046" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6047" class="css-a4x74f"><span>6047</span></td><td id="LC6047" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> maxSqDist = <span class="code-number">0</span>,
</code></td></tr><tr><td id="L6048" class="css-a4x74f"><span>6048</span></td><td id="LC6048" class="css-1dcdqdg"><code>	index, i, sqDist;
</code></td></tr><tr><td id="L6049" class="css-a4x74f"><span>6049</span></td><td id="LC6049" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6050" class="css-a4x74f"><span>6050</span></td><td id="LC6050" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (i = first + <span class="code-number">1</span>; i &lt;= last - <span class="code-number">1</span>; i++) {
</code></td></tr><tr><td id="L6051" class="css-a4x74f"><span>6051</span></td><td id="LC6051" class="css-1dcdqdg"><code>		sqDist = _sqClosestPointOnSegment(points[i], points[first], points[last], <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L6052" class="css-a4x74f"><span>6052</span></td><td id="LC6052" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6053" class="css-a4x74f"><span>6053</span></td><td id="LC6053" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (sqDist &gt; maxSqDist) {
</code></td></tr><tr><td id="L6054" class="css-a4x74f"><span>6054</span></td><td id="LC6054" class="css-1dcdqdg"><code>			index = i;
</code></td></tr><tr><td id="L6055" class="css-a4x74f"><span>6055</span></td><td id="LC6055" class="css-1dcdqdg"><code>			maxSqDist = sqDist;
</code></td></tr><tr><td id="L6056" class="css-a4x74f"><span>6056</span></td><td id="LC6056" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6057" class="css-a4x74f"><span>6057</span></td><td id="LC6057" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6058" class="css-a4x74f"><span>6058</span></td><td id="LC6058" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6059" class="css-a4x74f"><span>6059</span></td><td id="LC6059" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (maxSqDist &gt; sqTolerance) {
</code></td></tr><tr><td id="L6060" class="css-a4x74f"><span>6060</span></td><td id="LC6060" class="css-1dcdqdg"><code>		markers[index] = <span class="code-number">1</span>;
</code></td></tr><tr><td id="L6061" class="css-a4x74f"><span>6061</span></td><td id="LC6061" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6062" class="css-a4x74f"><span>6062</span></td><td id="LC6062" class="css-1dcdqdg"><code>		_simplifyDPStep(points, markers, sqTolerance, first, index);
</code></td></tr><tr><td id="L6063" class="css-a4x74f"><span>6063</span></td><td id="LC6063" class="css-1dcdqdg"><code>		_simplifyDPStep(points, markers, sqTolerance, index, last);
</code></td></tr><tr><td id="L6064" class="css-a4x74f"><span>6064</span></td><td id="LC6064" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6065" class="css-a4x74f"><span>6065</span></td><td id="LC6065" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6066" class="css-a4x74f"><span>6066</span></td><td id="LC6066" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6067" class="css-a4x74f"><span>6067</span></td><td id="LC6067" class="css-1dcdqdg"><code><span class="code-comment">// reduce points that are too close to each other to a single point</span>
</code></td></tr><tr><td id="L6068" class="css-a4x74f"><span>6068</span></td><td id="LC6068" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_reducePoints</span>(<span class="code-params">points, sqTolerance</span>) </span>{
</code></td></tr><tr><td id="L6069" class="css-a4x74f"><span>6069</span></td><td id="LC6069" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> reducedPoints = [points[<span class="code-number">0</span>]];
</code></td></tr><tr><td id="L6070" class="css-a4x74f"><span>6070</span></td><td id="LC6070" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6071" class="css-a4x74f"><span>6071</span></td><td id="LC6071" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">1</span>, prev = <span class="code-number">0</span>, len = points.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L6072" class="css-a4x74f"><span>6072</span></td><td id="LC6072" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (_sqDist(points[i], points[prev]) &gt; sqTolerance) {
</code></td></tr><tr><td id="L6073" class="css-a4x74f"><span>6073</span></td><td id="LC6073" class="css-1dcdqdg"><code>			reducedPoints.push(points[i]);
</code></td></tr><tr><td id="L6074" class="css-a4x74f"><span>6074</span></td><td id="LC6074" class="css-1dcdqdg"><code>			prev = i;
</code></td></tr><tr><td id="L6075" class="css-a4x74f"><span>6075</span></td><td id="LC6075" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6076" class="css-a4x74f"><span>6076</span></td><td id="LC6076" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6077" class="css-a4x74f"><span>6077</span></td><td id="LC6077" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (prev &lt; len - <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L6078" class="css-a4x74f"><span>6078</span></td><td id="LC6078" class="css-1dcdqdg"><code>		reducedPoints.push(points[len - <span class="code-number">1</span>]);
</code></td></tr><tr><td id="L6079" class="css-a4x74f"><span>6079</span></td><td id="LC6079" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6080" class="css-a4x74f"><span>6080</span></td><td id="LC6080" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> reducedPoints;
</code></td></tr><tr><td id="L6081" class="css-a4x74f"><span>6081</span></td><td id="LC6081" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6082" class="css-a4x74f"><span>6082</span></td><td id="LC6082" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6083" class="css-a4x74f"><span>6083</span></td><td id="LC6083" class="css-1dcdqdg"><code><span class="code-keyword">var</span> _lastCode;
</code></td></tr><tr><td id="L6084" class="css-a4x74f"><span>6084</span></td><td id="LC6084" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6085" class="css-a4x74f"><span>6085</span></td><td id="LC6085" class="css-1dcdqdg"><code><span class="code-comment">// @function clipSegment(a: Point, b: Point, bounds: Bounds, useLastCode?: Boolean, round?: Boolean): Point[]|Boolean</span>
</code></td></tr><tr><td id="L6086" class="css-a4x74f"><span>6086</span></td><td id="LC6086" class="css-1dcdqdg"><code><span class="code-comment">// Clips the segment a to b by rectangular bounds with the</span>
</code></td></tr><tr><td id="L6087" class="css-a4x74f"><span>6087</span></td><td id="LC6087" class="css-1dcdqdg"><code><span class="code-comment">// [Cohen-Sutherland algorithm](https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm)</span>
</code></td></tr><tr><td id="L6088" class="css-a4x74f"><span>6088</span></td><td id="LC6088" class="css-1dcdqdg"><code><span class="code-comment">// (modifying the segment points directly!). Used by Leaflet to only show polyline</span>
</code></td></tr><tr><td id="L6089" class="css-a4x74f"><span>6089</span></td><td id="LC6089" class="css-1dcdqdg"><code><span class="code-comment">// points that are on the screen or near, increasing performance.</span>
</code></td></tr><tr><td id="L6090" class="css-a4x74f"><span>6090</span></td><td id="LC6090" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">clipSegment</span>(<span class="code-params">a, b, bounds, useLastCode, round</span>) </span>{
</code></td></tr><tr><td id="L6091" class="css-a4x74f"><span>6091</span></td><td id="LC6091" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> codeA = useLastCode ? _lastCode : _getBitCode(a, bounds),
</code></td></tr><tr><td id="L6092" class="css-a4x74f"><span>6092</span></td><td id="LC6092" class="css-1dcdqdg"><code>	    codeB = _getBitCode(b, bounds),
</code></td></tr><tr><td id="L6093" class="css-a4x74f"><span>6093</span></td><td id="LC6093" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6094" class="css-a4x74f"><span>6094</span></td><td id="LC6094" class="css-1dcdqdg"><code>	    codeOut, p, newCode;
</code></td></tr><tr><td id="L6095" class="css-a4x74f"><span>6095</span></td><td id="LC6095" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6096" class="css-a4x74f"><span>6096</span></td><td id="LC6096" class="css-1dcdqdg"><code>	    <span class="code-comment">// save 2nd code to avoid calculating it on the next segment</span>
</code></td></tr><tr><td id="L6097" class="css-a4x74f"><span>6097</span></td><td id="LC6097" class="css-1dcdqdg"><code>	    _lastCode = codeB;
</code></td></tr><tr><td id="L6098" class="css-a4x74f"><span>6098</span></td><td id="LC6098" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6099" class="css-a4x74f"><span>6099</span></td><td id="LC6099" class="css-1dcdqdg"><code>	<span class="code-keyword">while</span> (<span class="code-literal">true</span>) {
</code></td></tr><tr><td id="L6100" class="css-a4x74f"><span>6100</span></td><td id="LC6100" class="css-1dcdqdg"><code>		<span class="code-comment">// if a,b is inside the clip window (trivial accept)</span>
</code></td></tr><tr><td id="L6101" class="css-a4x74f"><span>6101</span></td><td id="LC6101" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!(codeA | codeB)) {
</code></td></tr><tr><td id="L6102" class="css-a4x74f"><span>6102</span></td><td id="LC6102" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> [a, b];
</code></td></tr><tr><td id="L6103" class="css-a4x74f"><span>6103</span></td><td id="LC6103" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6104" class="css-a4x74f"><span>6104</span></td><td id="LC6104" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6105" class="css-a4x74f"><span>6105</span></td><td id="LC6105" class="css-1dcdqdg"><code>		<span class="code-comment">// if a,b is outside the clip window (trivial reject)</span>
</code></td></tr><tr><td id="L6106" class="css-a4x74f"><span>6106</span></td><td id="LC6106" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (codeA &amp; codeB) {
</code></td></tr><tr><td id="L6107" class="css-a4x74f"><span>6107</span></td><td id="LC6107" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L6108" class="css-a4x74f"><span>6108</span></td><td id="LC6108" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6109" class="css-a4x74f"><span>6109</span></td><td id="LC6109" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6110" class="css-a4x74f"><span>6110</span></td><td id="LC6110" class="css-1dcdqdg"><code>		<span class="code-comment">// other cases</span>
</code></td></tr><tr><td id="L6111" class="css-a4x74f"><span>6111</span></td><td id="LC6111" class="css-1dcdqdg"><code>		codeOut = codeA || codeB;
</code></td></tr><tr><td id="L6112" class="css-a4x74f"><span>6112</span></td><td id="LC6112" class="css-1dcdqdg"><code>		p = _getEdgeIntersection(a, b, codeOut, bounds, round);
</code></td></tr><tr><td id="L6113" class="css-a4x74f"><span>6113</span></td><td id="LC6113" class="css-1dcdqdg"><code>		newCode = _getBitCode(p, bounds);
</code></td></tr><tr><td id="L6114" class="css-a4x74f"><span>6114</span></td><td id="LC6114" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6115" class="css-a4x74f"><span>6115</span></td><td id="LC6115" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (codeOut === codeA) {
</code></td></tr><tr><td id="L6116" class="css-a4x74f"><span>6116</span></td><td id="LC6116" class="css-1dcdqdg"><code>			a = p;
</code></td></tr><tr><td id="L6117" class="css-a4x74f"><span>6117</span></td><td id="LC6117" class="css-1dcdqdg"><code>			codeA = newCode;
</code></td></tr><tr><td id="L6118" class="css-a4x74f"><span>6118</span></td><td id="LC6118" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L6119" class="css-a4x74f"><span>6119</span></td><td id="LC6119" class="css-1dcdqdg"><code>			b = p;
</code></td></tr><tr><td id="L6120" class="css-a4x74f"><span>6120</span></td><td id="LC6120" class="css-1dcdqdg"><code>			codeB = newCode;
</code></td></tr><tr><td id="L6121" class="css-a4x74f"><span>6121</span></td><td id="LC6121" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6122" class="css-a4x74f"><span>6122</span></td><td id="LC6122" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6123" class="css-a4x74f"><span>6123</span></td><td id="LC6123" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6124" class="css-a4x74f"><span>6124</span></td><td id="LC6124" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6125" class="css-a4x74f"><span>6125</span></td><td id="LC6125" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_getEdgeIntersection</span>(<span class="code-params">a, b, code, bounds, round</span>) </span>{
</code></td></tr><tr><td id="L6126" class="css-a4x74f"><span>6126</span></td><td id="LC6126" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> dx = b.x - a.x,
</code></td></tr><tr><td id="L6127" class="css-a4x74f"><span>6127</span></td><td id="LC6127" class="css-1dcdqdg"><code>	    dy = b.y - a.y,
</code></td></tr><tr><td id="L6128" class="css-a4x74f"><span>6128</span></td><td id="LC6128" class="css-1dcdqdg"><code>	    min = bounds.min,
</code></td></tr><tr><td id="L6129" class="css-a4x74f"><span>6129</span></td><td id="LC6129" class="css-1dcdqdg"><code>	    max = bounds.max,
</code></td></tr><tr><td id="L6130" class="css-a4x74f"><span>6130</span></td><td id="LC6130" class="css-1dcdqdg"><code>	    x, y;
</code></td></tr><tr><td id="L6131" class="css-a4x74f"><span>6131</span></td><td id="LC6131" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6132" class="css-a4x74f"><span>6132</span></td><td id="LC6132" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (code &amp; <span class="code-number">8</span>) { <span class="code-comment">// top</span>
</code></td></tr><tr><td id="L6133" class="css-a4x74f"><span>6133</span></td><td id="LC6133" class="css-1dcdqdg"><code>		x = a.x + dx * (max.y - a.y) / dy;
</code></td></tr><tr><td id="L6134" class="css-a4x74f"><span>6134</span></td><td id="LC6134" class="css-1dcdqdg"><code>		y = max.y;
</code></td></tr><tr><td id="L6135" class="css-a4x74f"><span>6135</span></td><td id="LC6135" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6136" class="css-a4x74f"><span>6136</span></td><td id="LC6136" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (code &amp; <span class="code-number">4</span>) { <span class="code-comment">// bottom</span>
</code></td></tr><tr><td id="L6137" class="css-a4x74f"><span>6137</span></td><td id="LC6137" class="css-1dcdqdg"><code>		x = a.x + dx * (min.y - a.y) / dy;
</code></td></tr><tr><td id="L6138" class="css-a4x74f"><span>6138</span></td><td id="LC6138" class="css-1dcdqdg"><code>		y = min.y;
</code></td></tr><tr><td id="L6139" class="css-a4x74f"><span>6139</span></td><td id="LC6139" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6140" class="css-a4x74f"><span>6140</span></td><td id="LC6140" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (code &amp; <span class="code-number">2</span>) { <span class="code-comment">// right</span>
</code></td></tr><tr><td id="L6141" class="css-a4x74f"><span>6141</span></td><td id="LC6141" class="css-1dcdqdg"><code>		x = max.x;
</code></td></tr><tr><td id="L6142" class="css-a4x74f"><span>6142</span></td><td id="LC6142" class="css-1dcdqdg"><code>		y = a.y + dy * (max.x - a.x) / dx;
</code></td></tr><tr><td id="L6143" class="css-a4x74f"><span>6143</span></td><td id="LC6143" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6144" class="css-a4x74f"><span>6144</span></td><td id="LC6144" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (code &amp; <span class="code-number">1</span>) { <span class="code-comment">// left</span>
</code></td></tr><tr><td id="L6145" class="css-a4x74f"><span>6145</span></td><td id="LC6145" class="css-1dcdqdg"><code>		x = min.x;
</code></td></tr><tr><td id="L6146" class="css-a4x74f"><span>6146</span></td><td id="LC6146" class="css-1dcdqdg"><code>		y = a.y + dy * (min.x - a.x) / dx;
</code></td></tr><tr><td id="L6147" class="css-a4x74f"><span>6147</span></td><td id="LC6147" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6148" class="css-a4x74f"><span>6148</span></td><td id="LC6148" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6149" class="css-a4x74f"><span>6149</span></td><td id="LC6149" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(x, y, round);
</code></td></tr><tr><td id="L6150" class="css-a4x74f"><span>6150</span></td><td id="LC6150" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6151" class="css-a4x74f"><span>6151</span></td><td id="LC6151" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6152" class="css-a4x74f"><span>6152</span></td><td id="LC6152" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_getBitCode</span>(<span class="code-params">p, bounds</span>) </span>{
</code></td></tr><tr><td id="L6153" class="css-a4x74f"><span>6153</span></td><td id="LC6153" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> code = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L6154" class="css-a4x74f"><span>6154</span></td><td id="LC6154" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6155" class="css-a4x74f"><span>6155</span></td><td id="LC6155" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (p.x &lt; bounds.min.x) { <span class="code-comment">// left</span>
</code></td></tr><tr><td id="L6156" class="css-a4x74f"><span>6156</span></td><td id="LC6156" class="css-1dcdqdg"><code>		code |= <span class="code-number">1</span>;
</code></td></tr><tr><td id="L6157" class="css-a4x74f"><span>6157</span></td><td id="LC6157" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (p.x &gt; bounds.max.x) { <span class="code-comment">// right</span>
</code></td></tr><tr><td id="L6158" class="css-a4x74f"><span>6158</span></td><td id="LC6158" class="css-1dcdqdg"><code>		code |= <span class="code-number">2</span>;
</code></td></tr><tr><td id="L6159" class="css-a4x74f"><span>6159</span></td><td id="LC6159" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6160" class="css-a4x74f"><span>6160</span></td><td id="LC6160" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6161" class="css-a4x74f"><span>6161</span></td><td id="LC6161" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (p.y &lt; bounds.min.y) { <span class="code-comment">// bottom</span>
</code></td></tr><tr><td id="L6162" class="css-a4x74f"><span>6162</span></td><td id="LC6162" class="css-1dcdqdg"><code>		code |= <span class="code-number">4</span>;
</code></td></tr><tr><td id="L6163" class="css-a4x74f"><span>6163</span></td><td id="LC6163" class="css-1dcdqdg"><code>	} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (p.y &gt; bounds.max.y) { <span class="code-comment">// top</span>
</code></td></tr><tr><td id="L6164" class="css-a4x74f"><span>6164</span></td><td id="LC6164" class="css-1dcdqdg"><code>		code |= <span class="code-number">8</span>;
</code></td></tr><tr><td id="L6165" class="css-a4x74f"><span>6165</span></td><td id="LC6165" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6166" class="css-a4x74f"><span>6166</span></td><td id="LC6166" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6167" class="css-a4x74f"><span>6167</span></td><td id="LC6167" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> code;
</code></td></tr><tr><td id="L6168" class="css-a4x74f"><span>6168</span></td><td id="LC6168" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6169" class="css-a4x74f"><span>6169</span></td><td id="LC6169" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6170" class="css-a4x74f"><span>6170</span></td><td id="LC6170" class="css-1dcdqdg"><code><span class="code-comment">// square distance (to avoid unnecessary Math.sqrt calls)</span>
</code></td></tr><tr><td id="L6171" class="css-a4x74f"><span>6171</span></td><td id="LC6171" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_sqDist</span>(<span class="code-params">p1, p2</span>) </span>{
</code></td></tr><tr><td id="L6172" class="css-a4x74f"><span>6172</span></td><td id="LC6172" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> dx = p2.x - p1.x,
</code></td></tr><tr><td id="L6173" class="css-a4x74f"><span>6173</span></td><td id="LC6173" class="css-1dcdqdg"><code>	    dy = p2.y - p1.y;
</code></td></tr><tr><td id="L6174" class="css-a4x74f"><span>6174</span></td><td id="LC6174" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> dx * dx + dy * dy;
</code></td></tr><tr><td id="L6175" class="css-a4x74f"><span>6175</span></td><td id="LC6175" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6176" class="css-a4x74f"><span>6176</span></td><td id="LC6176" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6177" class="css-a4x74f"><span>6177</span></td><td id="LC6177" class="css-1dcdqdg"><code><span class="code-comment">// return closest point on segment or distance to that point</span>
</code></td></tr><tr><td id="L6178" class="css-a4x74f"><span>6178</span></td><td id="LC6178" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_sqClosestPointOnSegment</span>(<span class="code-params">p, p1, p2, sqDist</span>) </span>{
</code></td></tr><tr><td id="L6179" class="css-a4x74f"><span>6179</span></td><td id="LC6179" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> x = p1.x,
</code></td></tr><tr><td id="L6180" class="css-a4x74f"><span>6180</span></td><td id="LC6180" class="css-1dcdqdg"><code>	    y = p1.y,
</code></td></tr><tr><td id="L6181" class="css-a4x74f"><span>6181</span></td><td id="LC6181" class="css-1dcdqdg"><code>	    dx = p2.x - x,
</code></td></tr><tr><td id="L6182" class="css-a4x74f"><span>6182</span></td><td id="LC6182" class="css-1dcdqdg"><code>	    dy = p2.y - y,
</code></td></tr><tr><td id="L6183" class="css-a4x74f"><span>6183</span></td><td id="LC6183" class="css-1dcdqdg"><code>	    dot = dx * dx + dy * dy,
</code></td></tr><tr><td id="L6184" class="css-a4x74f"><span>6184</span></td><td id="LC6184" class="css-1dcdqdg"><code>	    t;
</code></td></tr><tr><td id="L6185" class="css-a4x74f"><span>6185</span></td><td id="LC6185" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6186" class="css-a4x74f"><span>6186</span></td><td id="LC6186" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (dot &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L6187" class="css-a4x74f"><span>6187</span></td><td id="LC6187" class="css-1dcdqdg"><code>		t = ((p.x - x) * dx + (p.y - y) * dy) / dot;
</code></td></tr><tr><td id="L6188" class="css-a4x74f"><span>6188</span></td><td id="LC6188" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6189" class="css-a4x74f"><span>6189</span></td><td id="LC6189" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (t &gt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L6190" class="css-a4x74f"><span>6190</span></td><td id="LC6190" class="css-1dcdqdg"><code>			x = p2.x;
</code></td></tr><tr><td id="L6191" class="css-a4x74f"><span>6191</span></td><td id="LC6191" class="css-1dcdqdg"><code>			y = p2.y;
</code></td></tr><tr><td id="L6192" class="css-a4x74f"><span>6192</span></td><td id="LC6192" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (t &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L6193" class="css-a4x74f"><span>6193</span></td><td id="LC6193" class="css-1dcdqdg"><code>			x += dx * t;
</code></td></tr><tr><td id="L6194" class="css-a4x74f"><span>6194</span></td><td id="LC6194" class="css-1dcdqdg"><code>			y += dy * t;
</code></td></tr><tr><td id="L6195" class="css-a4x74f"><span>6195</span></td><td id="LC6195" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6196" class="css-a4x74f"><span>6196</span></td><td id="LC6196" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6197" class="css-a4x74f"><span>6197</span></td><td id="LC6197" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6198" class="css-a4x74f"><span>6198</span></td><td id="LC6198" class="css-1dcdqdg"><code>	dx = p.x - x;
</code></td></tr><tr><td id="L6199" class="css-a4x74f"><span>6199</span></td><td id="LC6199" class="css-1dcdqdg"><code>	dy = p.y - y;
</code></td></tr><tr><td id="L6200" class="css-a4x74f"><span>6200</span></td><td id="LC6200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6201" class="css-a4x74f"><span>6201</span></td><td id="LC6201" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> sqDist ? dx * dx + dy * dy : <span class="code-keyword">new</span> Point(x, y);
</code></td></tr><tr><td id="L6202" class="css-a4x74f"><span>6202</span></td><td id="LC6202" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6203" class="css-a4x74f"><span>6203</span></td><td id="LC6203" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6204" class="css-a4x74f"><span>6204</span></td><td id="LC6204" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6205" class="css-a4x74f"><span>6205</span></td><td id="LC6205" class="css-1dcdqdg"><code><span class="code-comment">// @function isFlat(latlngs: LatLng[]): Boolean</span>
</code></td></tr><tr><td id="L6206" class="css-a4x74f"><span>6206</span></td><td id="LC6206" class="css-1dcdqdg"><code><span class="code-comment">// Returns true if `latlngs` is a flat array, false is nested.</span>
</code></td></tr><tr><td id="L6207" class="css-a4x74f"><span>6207</span></td><td id="LC6207" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">isFlat</span>(<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L6208" class="css-a4x74f"><span>6208</span></td><td id="LC6208" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> !isArray(latlngs[<span class="code-number">0</span>]) || (<span class="code-keyword">typeof</span> latlngs[<span class="code-number">0</span>][<span class="code-number">0</span>] !== <span class="code-string">'object'</span> &amp;&amp; <span class="code-keyword">typeof</span> latlngs[<span class="code-number">0</span>][<span class="code-number">0</span>] !== <span class="code-string">'undefined'</span>);
</code></td></tr><tr><td id="L6209" class="css-a4x74f"><span>6209</span></td><td id="LC6209" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6210" class="css-a4x74f"><span>6210</span></td><td id="LC6210" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6211" class="css-a4x74f"><span>6211</span></td><td id="LC6211" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_flat</span>(<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L6212" class="css-a4x74f"><span>6212</span></td><td id="LC6212" class="css-1dcdqdg"><code>	<span class="code-built_in">console</span>.warn(<span class="code-string">'Deprecated use of _flat, please use L.LineUtil.isFlat instead.'</span>);
</code></td></tr><tr><td id="L6213" class="css-a4x74f"><span>6213</span></td><td id="LC6213" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> isFlat(latlngs);
</code></td></tr><tr><td id="L6214" class="css-a4x74f"><span>6214</span></td><td id="LC6214" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6215" class="css-a4x74f"><span>6215</span></td><td id="LC6215" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6216" class="css-a4x74f"><span>6216</span></td><td id="LC6216" class="css-1dcdqdg"><code><span class="code-keyword">var</span> LineUtil = {
</code></td></tr><tr><td id="L6217" class="css-a4x74f"><span>6217</span></td><td id="LC6217" class="css-1dcdqdg"><code>  __proto__: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L6218" class="css-a4x74f"><span>6218</span></td><td id="LC6218" class="css-1dcdqdg"><code>  simplify: simplify,
</code></td></tr><tr><td id="L6219" class="css-a4x74f"><span>6219</span></td><td id="LC6219" class="css-1dcdqdg"><code>  pointToSegmentDistance: pointToSegmentDistance,
</code></td></tr><tr><td id="L6220" class="css-a4x74f"><span>6220</span></td><td id="LC6220" class="css-1dcdqdg"><code>  closestPointOnSegment: closestPointOnSegment,
</code></td></tr><tr><td id="L6221" class="css-a4x74f"><span>6221</span></td><td id="LC6221" class="css-1dcdqdg"><code>  clipSegment: clipSegment,
</code></td></tr><tr><td id="L6222" class="css-a4x74f"><span>6222</span></td><td id="LC6222" class="css-1dcdqdg"><code>  _getEdgeIntersection: _getEdgeIntersection,
</code></td></tr><tr><td id="L6223" class="css-a4x74f"><span>6223</span></td><td id="LC6223" class="css-1dcdqdg"><code>  _getBitCode: _getBitCode,
</code></td></tr><tr><td id="L6224" class="css-a4x74f"><span>6224</span></td><td id="LC6224" class="css-1dcdqdg"><code>  _sqClosestPointOnSegment: _sqClosestPointOnSegment,
</code></td></tr><tr><td id="L6225" class="css-a4x74f"><span>6225</span></td><td id="LC6225" class="css-1dcdqdg"><code>  isFlat: isFlat,
</code></td></tr><tr><td id="L6226" class="css-a4x74f"><span>6226</span></td><td id="LC6226" class="css-1dcdqdg"><code>  _flat: _flat
</code></td></tr><tr><td id="L6227" class="css-a4x74f"><span>6227</span></td><td id="LC6227" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6228" class="css-a4x74f"><span>6228</span></td><td id="LC6228" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6229" class="css-a4x74f"><span>6229</span></td><td id="LC6229" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6230" class="css-a4x74f"><span>6230</span></td><td id="LC6230" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace PolyUtil
</span></code></td></tr><tr><td id="L6231" class="css-a4x74f"><span>6231</span></td><td id="LC6231" class="css-1dcdqdg"><code><span class="code-comment"> * Various utility functions for polygon geometries.
</span></code></td></tr><tr><td id="L6232" class="css-a4x74f"><span>6232</span></td><td id="LC6232" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6233" class="css-a4x74f"><span>6233</span></td><td id="LC6233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6234" class="css-a4x74f"><span>6234</span></td><td id="LC6234" class="css-1dcdqdg"><code><span class="code-comment">/* @function clipPolygon(points: Point[], bounds: Bounds, round?: Boolean): Point[]
</span></code></td></tr><tr><td id="L6235" class="css-a4x74f"><span>6235</span></td><td id="LC6235" class="css-1dcdqdg"><code><span class="code-comment"> * Clips the polygon geometry defined by the given `points` by the given bounds (using the [Sutherland-Hodgman algorithm](https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm)).
</span></code></td></tr><tr><td id="L6236" class="css-a4x74f"><span>6236</span></td><td id="LC6236" class="css-1dcdqdg"><code><span class="code-comment"> * Used by Leaflet to only show polygon points that are on the screen or near, increasing
</span></code></td></tr><tr><td id="L6237" class="css-a4x74f"><span>6237</span></td><td id="LC6237" class="css-1dcdqdg"><code><span class="code-comment"> * performance. Note that polygon points needs different algorithm for clipping
</span></code></td></tr><tr><td id="L6238" class="css-a4x74f"><span>6238</span></td><td id="LC6238" class="css-1dcdqdg"><code><span class="code-comment"> * than polyline, so there's a separate method for it.
</span></code></td></tr><tr><td id="L6239" class="css-a4x74f"><span>6239</span></td><td id="LC6239" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6240" class="css-a4x74f"><span>6240</span></td><td id="LC6240" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">clipPolygon</span>(<span class="code-params">points, bounds, round</span>) </span>{
</code></td></tr><tr><td id="L6241" class="css-a4x74f"><span>6241</span></td><td id="LC6241" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> clippedPoints,
</code></td></tr><tr><td id="L6242" class="css-a4x74f"><span>6242</span></td><td id="LC6242" class="css-1dcdqdg"><code>	    edges = [<span class="code-number">1</span>, <span class="code-number">4</span>, <span class="code-number">2</span>, <span class="code-number">8</span>],
</code></td></tr><tr><td id="L6243" class="css-a4x74f"><span>6243</span></td><td id="LC6243" class="css-1dcdqdg"><code>	    i, j, k,
</code></td></tr><tr><td id="L6244" class="css-a4x74f"><span>6244</span></td><td id="LC6244" class="css-1dcdqdg"><code>	    a, b,
</code></td></tr><tr><td id="L6245" class="css-a4x74f"><span>6245</span></td><td id="LC6245" class="css-1dcdqdg"><code>	    len, edge, p;
</code></td></tr><tr><td id="L6246" class="css-a4x74f"><span>6246</span></td><td id="LC6246" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6247" class="css-a4x74f"><span>6247</span></td><td id="LC6247" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = points.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L6248" class="css-a4x74f"><span>6248</span></td><td id="LC6248" class="css-1dcdqdg"><code>		points[i]._code = _getBitCode(points[i], bounds);
</code></td></tr><tr><td id="L6249" class="css-a4x74f"><span>6249</span></td><td id="LC6249" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6250" class="css-a4x74f"><span>6250</span></td><td id="LC6250" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6251" class="css-a4x74f"><span>6251</span></td><td id="LC6251" class="css-1dcdqdg"><code>	<span class="code-comment">// for each edge (left, bottom, right, top)</span>
</code></td></tr><tr><td id="L6252" class="css-a4x74f"><span>6252</span></td><td id="LC6252" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (k = <span class="code-number">0</span>; k &lt; <span class="code-number">4</span>; k++) {
</code></td></tr><tr><td id="L6253" class="css-a4x74f"><span>6253</span></td><td id="LC6253" class="css-1dcdqdg"><code>		edge = edges[k];
</code></td></tr><tr><td id="L6254" class="css-a4x74f"><span>6254</span></td><td id="LC6254" class="css-1dcdqdg"><code>		clippedPoints = [];
</code></td></tr><tr><td id="L6255" class="css-a4x74f"><span>6255</span></td><td id="LC6255" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6256" class="css-a4x74f"><span>6256</span></td><td id="LC6256" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = points.length, j = len - <span class="code-number">1</span>; i &lt; len; j = i++) {
</code></td></tr><tr><td id="L6257" class="css-a4x74f"><span>6257</span></td><td id="LC6257" class="css-1dcdqdg"><code>			a = points[i];
</code></td></tr><tr><td id="L6258" class="css-a4x74f"><span>6258</span></td><td id="LC6258" class="css-1dcdqdg"><code>			b = points[j];
</code></td></tr><tr><td id="L6259" class="css-a4x74f"><span>6259</span></td><td id="LC6259" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6260" class="css-a4x74f"><span>6260</span></td><td id="LC6260" class="css-1dcdqdg"><code>			<span class="code-comment">// if a is inside the clip window</span>
</code></td></tr><tr><td id="L6261" class="css-a4x74f"><span>6261</span></td><td id="LC6261" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!(a._code &amp; edge)) {
</code></td></tr><tr><td id="L6262" class="css-a4x74f"><span>6262</span></td><td id="LC6262" class="css-1dcdqdg"><code>				<span class="code-comment">// if b is outside the clip window (a-&gt;b goes out of screen)</span>
</code></td></tr><tr><td id="L6263" class="css-a4x74f"><span>6263</span></td><td id="LC6263" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (b._code &amp; edge) {
</code></td></tr><tr><td id="L6264" class="css-a4x74f"><span>6264</span></td><td id="LC6264" class="css-1dcdqdg"><code>					p = _getEdgeIntersection(b, a, edge, bounds, round);
</code></td></tr><tr><td id="L6265" class="css-a4x74f"><span>6265</span></td><td id="LC6265" class="css-1dcdqdg"><code>					p._code = _getBitCode(p, bounds);
</code></td></tr><tr><td id="L6266" class="css-a4x74f"><span>6266</span></td><td id="LC6266" class="css-1dcdqdg"><code>					clippedPoints.push(p);
</code></td></tr><tr><td id="L6267" class="css-a4x74f"><span>6267</span></td><td id="LC6267" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L6268" class="css-a4x74f"><span>6268</span></td><td id="LC6268" class="css-1dcdqdg"><code>				clippedPoints.push(a);
</code></td></tr><tr><td id="L6269" class="css-a4x74f"><span>6269</span></td><td id="LC6269" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6270" class="css-a4x74f"><span>6270</span></td><td id="LC6270" class="css-1dcdqdg"><code>			<span class="code-comment">// else if b is inside the clip window (a-&gt;b enters the screen)</span>
</code></td></tr><tr><td id="L6271" class="css-a4x74f"><span>6271</span></td><td id="LC6271" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (!(b._code &amp; edge)) {
</code></td></tr><tr><td id="L6272" class="css-a4x74f"><span>6272</span></td><td id="LC6272" class="css-1dcdqdg"><code>				p = _getEdgeIntersection(b, a, edge, bounds, round);
</code></td></tr><tr><td id="L6273" class="css-a4x74f"><span>6273</span></td><td id="LC6273" class="css-1dcdqdg"><code>				p._code = _getBitCode(p, bounds);
</code></td></tr><tr><td id="L6274" class="css-a4x74f"><span>6274</span></td><td id="LC6274" class="css-1dcdqdg"><code>				clippedPoints.push(p);
</code></td></tr><tr><td id="L6275" class="css-a4x74f"><span>6275</span></td><td id="LC6275" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L6276" class="css-a4x74f"><span>6276</span></td><td id="LC6276" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6277" class="css-a4x74f"><span>6277</span></td><td id="LC6277" class="css-1dcdqdg"><code>		points = clippedPoints;
</code></td></tr><tr><td id="L6278" class="css-a4x74f"><span>6278</span></td><td id="LC6278" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6279" class="css-a4x74f"><span>6279</span></td><td id="LC6279" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6280" class="css-a4x74f"><span>6280</span></td><td id="LC6280" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> points;
</code></td></tr><tr><td id="L6281" class="css-a4x74f"><span>6281</span></td><td id="LC6281" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L6282" class="css-a4x74f"><span>6282</span></td><td id="LC6282" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6283" class="css-a4x74f"><span>6283</span></td><td id="LC6283" class="css-1dcdqdg"><code><span class="code-keyword">var</span> PolyUtil = {
</code></td></tr><tr><td id="L6284" class="css-a4x74f"><span>6284</span></td><td id="LC6284" class="css-1dcdqdg"><code>  __proto__: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L6285" class="css-a4x74f"><span>6285</span></td><td id="LC6285" class="css-1dcdqdg"><code>  clipPolygon: clipPolygon
</code></td></tr><tr><td id="L6286" class="css-a4x74f"><span>6286</span></td><td id="LC6286" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6287" class="css-a4x74f"><span>6287</span></td><td id="LC6287" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6288" class="css-a4x74f"><span>6288</span></td><td id="LC6288" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6289" class="css-a4x74f"><span>6289</span></td><td id="LC6289" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Projection
</span></code></td></tr><tr><td id="L6290" class="css-a4x74f"><span>6290</span></td><td id="LC6290" class="css-1dcdqdg"><code><span class="code-comment"> * @section
</span></code></td></tr><tr><td id="L6291" class="css-a4x74f"><span>6291</span></td><td id="LC6291" class="css-1dcdqdg"><code><span class="code-comment"> * Leaflet comes with a set of already defined Projections out of the box:
</span></code></td></tr><tr><td id="L6292" class="css-a4x74f"><span>6292</span></td><td id="LC6292" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6293" class="css-a4x74f"><span>6293</span></td><td id="LC6293" class="css-1dcdqdg"><code><span class="code-comment"> * @projection L.Projection.LonLat
</span></code></td></tr><tr><td id="L6294" class="css-a4x74f"><span>6294</span></td><td id="LC6294" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6295" class="css-a4x74f"><span>6295</span></td><td id="LC6295" class="css-1dcdqdg"><code><span class="code-comment"> * Equirectangular, or Plate Carree projection  the most simple projection,
</span></code></td></tr><tr><td id="L6296" class="css-a4x74f"><span>6296</span></td><td id="LC6296" class="css-1dcdqdg"><code><span class="code-comment"> * mostly used by GIS enthusiasts. Directly maps `x` as longitude, and `y` as
</span></code></td></tr><tr><td id="L6297" class="css-a4x74f"><span>6297</span></td><td id="LC6297" class="css-1dcdqdg"><code><span class="code-comment"> * latitude. Also suitable for flat worlds, e.g. game maps. Used by the
</span></code></td></tr><tr><td id="L6298" class="css-a4x74f"><span>6298</span></td><td id="LC6298" class="css-1dcdqdg"><code><span class="code-comment"> * `EPSG:4326` and `Simple` CRS.
</span></code></td></tr><tr><td id="L6299" class="css-a4x74f"><span>6299</span></td><td id="LC6299" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6300" class="css-a4x74f"><span>6300</span></td><td id="LC6300" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6301" class="css-a4x74f"><span>6301</span></td><td id="LC6301" class="css-1dcdqdg"><code><span class="code-keyword">var</span> LonLat = {
</code></td></tr><tr><td id="L6302" class="css-a4x74f"><span>6302</span></td><td id="LC6302" class="css-1dcdqdg"><code>	project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L6303" class="css-a4x74f"><span>6303</span></td><td id="LC6303" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(latlng.lng, latlng.lat);
</code></td></tr><tr><td id="L6304" class="css-a4x74f"><span>6304</span></td><td id="LC6304" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6305" class="css-a4x74f"><span>6305</span></td><td id="LC6305" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6306" class="css-a4x74f"><span>6306</span></td><td id="LC6306" class="css-1dcdqdg"><code>	unproject: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L6307" class="css-a4x74f"><span>6307</span></td><td id="LC6307" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(point.y, point.x);
</code></td></tr><tr><td id="L6308" class="css-a4x74f"><span>6308</span></td><td id="LC6308" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6309" class="css-a4x74f"><span>6309</span></td><td id="LC6309" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6310" class="css-a4x74f"><span>6310</span></td><td id="LC6310" class="css-1dcdqdg"><code>	bounds: <span class="code-keyword">new</span> Bounds([<span class="code-number">-180</span>, <span class="code-number">-90</span>], [<span class="code-number">180</span>, <span class="code-number">90</span>])
</code></td></tr><tr><td id="L6311" class="css-a4x74f"><span>6311</span></td><td id="LC6311" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6312" class="css-a4x74f"><span>6312</span></td><td id="LC6312" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6313" class="css-a4x74f"><span>6313</span></td><td id="LC6313" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6314" class="css-a4x74f"><span>6314</span></td><td id="LC6314" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Projection
</span></code></td></tr><tr><td id="L6315" class="css-a4x74f"><span>6315</span></td><td id="LC6315" class="css-1dcdqdg"><code><span class="code-comment"> * @projection L.Projection.Mercator
</span></code></td></tr><tr><td id="L6316" class="css-a4x74f"><span>6316</span></td><td id="LC6316" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6317" class="css-a4x74f"><span>6317</span></td><td id="LC6317" class="css-1dcdqdg"><code><span class="code-comment"> * Elliptical Mercator projection  more complex than Spherical Mercator. Assumes that Earth is an ellipsoid. Used by the EPSG:3395 CRS.
</span></code></td></tr><tr><td id="L6318" class="css-a4x74f"><span>6318</span></td><td id="LC6318" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6319" class="css-a4x74f"><span>6319</span></td><td id="LC6319" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6320" class="css-a4x74f"><span>6320</span></td><td id="LC6320" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Mercator = {
</code></td></tr><tr><td id="L6321" class="css-a4x74f"><span>6321</span></td><td id="LC6321" class="css-1dcdqdg"><code>	R: <span class="code-number">6378137</span>,
</code></td></tr><tr><td id="L6322" class="css-a4x74f"><span>6322</span></td><td id="LC6322" class="css-1dcdqdg"><code>	R_MINOR: <span class="code-number">6356752.314245179</span>,
</code></td></tr><tr><td id="L6323" class="css-a4x74f"><span>6323</span></td><td id="LC6323" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6324" class="css-a4x74f"><span>6324</span></td><td id="LC6324" class="css-1dcdqdg"><code>	bounds: <span class="code-keyword">new</span> Bounds([<span class="code-number">-20037508.34279</span>, <span class="code-number">-15496570.73972</span>], [<span class="code-number">20037508.34279</span>, <span class="code-number">18764656.23138</span>]),
</code></td></tr><tr><td id="L6325" class="css-a4x74f"><span>6325</span></td><td id="LC6325" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6326" class="css-a4x74f"><span>6326</span></td><td id="LC6326" class="css-1dcdqdg"><code>	project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L6327" class="css-a4x74f"><span>6327</span></td><td id="LC6327" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d = <span class="code-built_in">Math</span>.PI / <span class="code-number">180</span>,
</code></td></tr><tr><td id="L6328" class="css-a4x74f"><span>6328</span></td><td id="LC6328" class="css-1dcdqdg"><code>		    r = <span class="code-keyword">this</span>.R,
</code></td></tr><tr><td id="L6329" class="css-a4x74f"><span>6329</span></td><td id="LC6329" class="css-1dcdqdg"><code>		    y = latlng.lat * d,
</code></td></tr><tr><td id="L6330" class="css-a4x74f"><span>6330</span></td><td id="LC6330" class="css-1dcdqdg"><code>		    tmp = <span class="code-keyword">this</span>.R_MINOR / r,
</code></td></tr><tr><td id="L6331" class="css-a4x74f"><span>6331</span></td><td id="LC6331" class="css-1dcdqdg"><code>		    e = <span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span> - tmp * tmp),
</code></td></tr><tr><td id="L6332" class="css-a4x74f"><span>6332</span></td><td id="LC6332" class="css-1dcdqdg"><code>		    con = e * <span class="code-built_in">Math</span>.sin(y);
</code></td></tr><tr><td id="L6333" class="css-a4x74f"><span>6333</span></td><td id="LC6333" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6334" class="css-a4x74f"><span>6334</span></td><td id="LC6334" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> ts = <span class="code-built_in">Math</span>.tan(<span class="code-built_in">Math</span>.PI / <span class="code-number">4</span> - y / <span class="code-number">2</span>) / <span class="code-built_in">Math</span>.pow((<span class="code-number">1</span> - con) / (<span class="code-number">1</span> + con), e / <span class="code-number">2</span>);
</code></td></tr><tr><td id="L6335" class="css-a4x74f"><span>6335</span></td><td id="LC6335" class="css-1dcdqdg"><code>		y = -r * <span class="code-built_in">Math</span>.log(<span class="code-built_in">Math</span>.max(ts, <span class="code-number">1E-10</span>));
</code></td></tr><tr><td id="L6336" class="css-a4x74f"><span>6336</span></td><td id="LC6336" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6337" class="css-a4x74f"><span>6337</span></td><td id="LC6337" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Point(latlng.lng * d * r, y);
</code></td></tr><tr><td id="L6338" class="css-a4x74f"><span>6338</span></td><td id="LC6338" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6339" class="css-a4x74f"><span>6339</span></td><td id="LC6339" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6340" class="css-a4x74f"><span>6340</span></td><td id="LC6340" class="css-1dcdqdg"><code>	unproject: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">point</span>) </span>{
</code></td></tr><tr><td id="L6341" class="css-a4x74f"><span>6341</span></td><td id="LC6341" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d = <span class="code-number">180</span> / <span class="code-built_in">Math</span>.PI,
</code></td></tr><tr><td id="L6342" class="css-a4x74f"><span>6342</span></td><td id="LC6342" class="css-1dcdqdg"><code>		    r = <span class="code-keyword">this</span>.R,
</code></td></tr><tr><td id="L6343" class="css-a4x74f"><span>6343</span></td><td id="LC6343" class="css-1dcdqdg"><code>		    tmp = <span class="code-keyword">this</span>.R_MINOR / r,
</code></td></tr><tr><td id="L6344" class="css-a4x74f"><span>6344</span></td><td id="LC6344" class="css-1dcdqdg"><code>		    e = <span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span> - tmp * tmp),
</code></td></tr><tr><td id="L6345" class="css-a4x74f"><span>6345</span></td><td id="LC6345" class="css-1dcdqdg"><code>		    ts = <span class="code-built_in">Math</span>.exp(-point.y / r),
</code></td></tr><tr><td id="L6346" class="css-a4x74f"><span>6346</span></td><td id="LC6346" class="css-1dcdqdg"><code>		    phi = <span class="code-built_in">Math</span>.PI / <span class="code-number">2</span> - <span class="code-number">2</span> * <span class="code-built_in">Math</span>.atan(ts);
</code></td></tr><tr><td id="L6347" class="css-a4x74f"><span>6347</span></td><td id="LC6347" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6348" class="css-a4x74f"><span>6348</span></td><td id="LC6348" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, dphi = <span class="code-number">0.1</span>, con; i &lt; <span class="code-number">15</span> &amp;&amp; <span class="code-built_in">Math</span>.abs(dphi) &gt; <span class="code-number">1e-7</span>; i++) {
</code></td></tr><tr><td id="L6349" class="css-a4x74f"><span>6349</span></td><td id="LC6349" class="css-1dcdqdg"><code>			con = e * <span class="code-built_in">Math</span>.sin(phi);
</code></td></tr><tr><td id="L6350" class="css-a4x74f"><span>6350</span></td><td id="LC6350" class="css-1dcdqdg"><code>			con = <span class="code-built_in">Math</span>.pow((<span class="code-number">1</span> - con) / (<span class="code-number">1</span> + con), e / <span class="code-number">2</span>);
</code></td></tr><tr><td id="L6351" class="css-a4x74f"><span>6351</span></td><td id="LC6351" class="css-1dcdqdg"><code>			dphi = <span class="code-built_in">Math</span>.PI / <span class="code-number">2</span> - <span class="code-number">2</span> * <span class="code-built_in">Math</span>.atan(ts * con) - phi;
</code></td></tr><tr><td id="L6352" class="css-a4x74f"><span>6352</span></td><td id="LC6352" class="css-1dcdqdg"><code>			phi += dphi;
</code></td></tr><tr><td id="L6353" class="css-a4x74f"><span>6353</span></td><td id="LC6353" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6354" class="css-a4x74f"><span>6354</span></td><td id="LC6354" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6355" class="css-a4x74f"><span>6355</span></td><td id="LC6355" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(phi * d, point.x * d / r);
</code></td></tr><tr><td id="L6356" class="css-a4x74f"><span>6356</span></td><td id="LC6356" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6357" class="css-a4x74f"><span>6357</span></td><td id="LC6357" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6358" class="css-a4x74f"><span>6358</span></td><td id="LC6358" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6359" class="css-a4x74f"><span>6359</span></td><td id="LC6359" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6360" class="css-a4x74f"><span>6360</span></td><td id="LC6360" class="css-1dcdqdg"><code><span class="code-comment"> * @class Projection
</span></code></td></tr><tr><td id="L6361" class="css-a4x74f"><span>6361</span></td><td id="LC6361" class="css-1dcdqdg"><code><span class="code-comment">
</span></code></td></tr><tr><td id="L6362" class="css-a4x74f"><span>6362</span></td><td id="LC6362" class="css-1dcdqdg"><code><span class="code-comment"> * An object with methods for projecting geographical coordinates of the world onto
</span></code></td></tr><tr><td id="L6363" class="css-a4x74f"><span>6363</span></td><td id="LC6363" class="css-1dcdqdg"><code><span class="code-comment"> * a flat surface (and back). See [Map projection](https://en.wikipedia.org/wiki/Map_projection).
</span></code></td></tr><tr><td id="L6364" class="css-a4x74f"><span>6364</span></td><td id="LC6364" class="css-1dcdqdg"><code><span class="code-comment">
</span></code></td></tr><tr><td id="L6365" class="css-a4x74f"><span>6365</span></td><td id="LC6365" class="css-1dcdqdg"><code><span class="code-comment"> * @property bounds: Bounds
</span></code></td></tr><tr><td id="L6366" class="css-a4x74f"><span>6366</span></td><td id="LC6366" class="css-1dcdqdg"><code><span class="code-comment"> * The bounds (specified in CRS units) where the projection is valid
</span></code></td></tr><tr><td id="L6367" class="css-a4x74f"><span>6367</span></td><td id="LC6367" class="css-1dcdqdg"><code><span class="code-comment">
</span></code></td></tr><tr><td id="L6368" class="css-a4x74f"><span>6368</span></td><td id="LC6368" class="css-1dcdqdg"><code><span class="code-comment"> * @method project(latlng: LatLng): Point
</span></code></td></tr><tr><td id="L6369" class="css-a4x74f"><span>6369</span></td><td id="LC6369" class="css-1dcdqdg"><code><span class="code-comment"> * Projects geographical coordinates into a 2D point.
</span></code></td></tr><tr><td id="L6370" class="css-a4x74f"><span>6370</span></td><td id="LC6370" class="css-1dcdqdg"><code><span class="code-comment"> * Only accepts actual `L.LatLng` instances, not arrays.
</span></code></td></tr><tr><td id="L6371" class="css-a4x74f"><span>6371</span></td><td id="LC6371" class="css-1dcdqdg"><code><span class="code-comment">
</span></code></td></tr><tr><td id="L6372" class="css-a4x74f"><span>6372</span></td><td id="LC6372" class="css-1dcdqdg"><code><span class="code-comment"> * @method unproject(point: Point): LatLng
</span></code></td></tr><tr><td id="L6373" class="css-a4x74f"><span>6373</span></td><td id="LC6373" class="css-1dcdqdg"><code><span class="code-comment"> * The inverse of `project`. Projects a 2D point into a geographical location.
</span></code></td></tr><tr><td id="L6374" class="css-a4x74f"><span>6374</span></td><td id="LC6374" class="css-1dcdqdg"><code><span class="code-comment"> * Only accepts actual `L.Point` instances, not arrays.
</span></code></td></tr><tr><td id="L6375" class="css-a4x74f"><span>6375</span></td><td id="LC6375" class="css-1dcdqdg"><code><span class="code-comment">
</span></code></td></tr><tr><td id="L6376" class="css-a4x74f"><span>6376</span></td><td id="LC6376" class="css-1dcdqdg"><code><span class="code-comment"> * Note that the projection instances do not inherit from Leaflet's `Class` object,
</span></code></td></tr><tr><td id="L6377" class="css-a4x74f"><span>6377</span></td><td id="LC6377" class="css-1dcdqdg"><code><span class="code-comment"> * and can't be instantiated. Also, new classes can't inherit from them,
</span></code></td></tr><tr><td id="L6378" class="css-a4x74f"><span>6378</span></td><td id="LC6378" class="css-1dcdqdg"><code><span class="code-comment"> * and methods can't be added to them with the `include` function.
</span></code></td></tr><tr><td id="L6379" class="css-a4x74f"><span>6379</span></td><td id="LC6379" class="css-1dcdqdg"><code><span class="code-comment">
</span></code></td></tr><tr><td id="L6380" class="css-a4x74f"><span>6380</span></td><td id="LC6380" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6381" class="css-a4x74f"><span>6381</span></td><td id="LC6381" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6382" class="css-a4x74f"><span>6382</span></td><td id="LC6382" class="css-1dcdqdg"><code><span class="code-keyword">var</span> index = {
</code></td></tr><tr><td id="L6383" class="css-a4x74f"><span>6383</span></td><td id="LC6383" class="css-1dcdqdg"><code>  __proto__: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L6384" class="css-a4x74f"><span>6384</span></td><td id="LC6384" class="css-1dcdqdg"><code>  LonLat: LonLat,
</code></td></tr><tr><td id="L6385" class="css-a4x74f"><span>6385</span></td><td id="LC6385" class="css-1dcdqdg"><code>  Mercator: Mercator,
</code></td></tr><tr><td id="L6386" class="css-a4x74f"><span>6386</span></td><td id="LC6386" class="css-1dcdqdg"><code>  SphericalMercator: SphericalMercator
</code></td></tr><tr><td id="L6387" class="css-a4x74f"><span>6387</span></td><td id="LC6387" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6388" class="css-a4x74f"><span>6388</span></td><td id="LC6388" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6389" class="css-a4x74f"><span>6389</span></td><td id="LC6389" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6390" class="css-a4x74f"><span>6390</span></td><td id="LC6390" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace CRS
</span></code></td></tr><tr><td id="L6391" class="css-a4x74f"><span>6391</span></td><td id="LC6391" class="css-1dcdqdg"><code><span class="code-comment"> * @crs L.CRS.EPSG3395
</span></code></td></tr><tr><td id="L6392" class="css-a4x74f"><span>6392</span></td><td id="LC6392" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6393" class="css-a4x74f"><span>6393</span></td><td id="LC6393" class="css-1dcdqdg"><code><span class="code-comment"> * Rarely used by some commercial tile providers. Uses Elliptical Mercator projection.
</span></code></td></tr><tr><td id="L6394" class="css-a4x74f"><span>6394</span></td><td id="LC6394" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6395" class="css-a4x74f"><span>6395</span></td><td id="LC6395" class="css-1dcdqdg"><code><span class="code-keyword">var</span> EPSG3395 = extend({}, Earth, {
</code></td></tr><tr><td id="L6396" class="css-a4x74f"><span>6396</span></td><td id="LC6396" class="css-1dcdqdg"><code>	code: <span class="code-string">'EPSG:3395'</span>,
</code></td></tr><tr><td id="L6397" class="css-a4x74f"><span>6397</span></td><td id="LC6397" class="css-1dcdqdg"><code>	projection: Mercator,
</code></td></tr><tr><td id="L6398" class="css-a4x74f"><span>6398</span></td><td id="LC6398" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6399" class="css-a4x74f"><span>6399</span></td><td id="LC6399" class="css-1dcdqdg"><code>	transformation: (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6400" class="css-a4x74f"><span>6400</span></td><td id="LC6400" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-number">0.5</span> / (<span class="code-built_in">Math</span>.PI * Mercator.R);
</code></td></tr><tr><td id="L6401" class="css-a4x74f"><span>6401</span></td><td id="LC6401" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toTransformation(scale, <span class="code-number">0.5</span>, -scale, <span class="code-number">0.5</span>);
</code></td></tr><tr><td id="L6402" class="css-a4x74f"><span>6402</span></td><td id="LC6402" class="css-1dcdqdg"><code>	}())
</code></td></tr><tr><td id="L6403" class="css-a4x74f"><span>6403</span></td><td id="LC6403" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6404" class="css-a4x74f"><span>6404</span></td><td id="LC6404" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6405" class="css-a4x74f"><span>6405</span></td><td id="LC6405" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6406" class="css-a4x74f"><span>6406</span></td><td id="LC6406" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace CRS
</span></code></td></tr><tr><td id="L6407" class="css-a4x74f"><span>6407</span></td><td id="LC6407" class="css-1dcdqdg"><code><span class="code-comment"> * @crs L.CRS.EPSG4326
</span></code></td></tr><tr><td id="L6408" class="css-a4x74f"><span>6408</span></td><td id="LC6408" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6409" class="css-a4x74f"><span>6409</span></td><td id="LC6409" class="css-1dcdqdg"><code><span class="code-comment"> * A common CRS among GIS enthusiasts. Uses simple Equirectangular projection.
</span></code></td></tr><tr><td id="L6410" class="css-a4x74f"><span>6410</span></td><td id="LC6410" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6411" class="css-a4x74f"><span>6411</span></td><td id="LC6411" class="css-1dcdqdg"><code><span class="code-comment"> * Leaflet 1.0.x complies with the [TMS coordinate scheme for EPSG:4326](https://wiki.osgeo.org/wiki/Tile_Map_Service_Specification#global-geodetic),
</span></code></td></tr><tr><td id="L6412" class="css-a4x74f"><span>6412</span></td><td id="LC6412" class="css-1dcdqdg"><code><span class="code-comment"> * which is a breaking change from 0.7.x behaviour.  If you are using a `TileLayer`
</span></code></td></tr><tr><td id="L6413" class="css-a4x74f"><span>6413</span></td><td id="LC6413" class="css-1dcdqdg"><code><span class="code-comment"> * with this CRS, ensure that there are two 256x256 pixel tiles covering the
</span></code></td></tr><tr><td id="L6414" class="css-a4x74f"><span>6414</span></td><td id="LC6414" class="css-1dcdqdg"><code><span class="code-comment"> * whole earth at zoom level zero, and that the tile coordinate origin is (-180,+90),
</span></code></td></tr><tr><td id="L6415" class="css-a4x74f"><span>6415</span></td><td id="LC6415" class="css-1dcdqdg"><code><span class="code-comment"> * or (-180,-90) for `TileLayer`s with [the `tms` option](#tilelayer-tms) set.
</span></code></td></tr><tr><td id="L6416" class="css-a4x74f"><span>6416</span></td><td id="LC6416" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6417" class="css-a4x74f"><span>6417</span></td><td id="LC6417" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6418" class="css-a4x74f"><span>6418</span></td><td id="LC6418" class="css-1dcdqdg"><code><span class="code-keyword">var</span> EPSG4326 = extend({}, Earth, {
</code></td></tr><tr><td id="L6419" class="css-a4x74f"><span>6419</span></td><td id="LC6419" class="css-1dcdqdg"><code>	code: <span class="code-string">'EPSG:4326'</span>,
</code></td></tr><tr><td id="L6420" class="css-a4x74f"><span>6420</span></td><td id="LC6420" class="css-1dcdqdg"><code>	projection: LonLat,
</code></td></tr><tr><td id="L6421" class="css-a4x74f"><span>6421</span></td><td id="LC6421" class="css-1dcdqdg"><code>	transformation: toTransformation(<span class="code-number">1</span> / <span class="code-number">180</span>, <span class="code-number">1</span>, <span class="code-number">-1</span> / <span class="code-number">180</span>, <span class="code-number">0.5</span>)
</code></td></tr><tr><td id="L6422" class="css-a4x74f"><span>6422</span></td><td id="LC6422" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6423" class="css-a4x74f"><span>6423</span></td><td id="LC6423" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6424" class="css-a4x74f"><span>6424</span></td><td id="LC6424" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6425" class="css-a4x74f"><span>6425</span></td><td id="LC6425" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace CRS
</span></code></td></tr><tr><td id="L6426" class="css-a4x74f"><span>6426</span></td><td id="LC6426" class="css-1dcdqdg"><code><span class="code-comment"> * @crs L.CRS.Simple
</span></code></td></tr><tr><td id="L6427" class="css-a4x74f"><span>6427</span></td><td id="LC6427" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6428" class="css-a4x74f"><span>6428</span></td><td id="LC6428" class="css-1dcdqdg"><code><span class="code-comment"> * A simple CRS that maps longitude and latitude into `x` and `y` directly.
</span></code></td></tr><tr><td id="L6429" class="css-a4x74f"><span>6429</span></td><td id="LC6429" class="css-1dcdqdg"><code><span class="code-comment"> * May be used for maps of flat surfaces (e.g. game maps). Note that the `y`
</span></code></td></tr><tr><td id="L6430" class="css-a4x74f"><span>6430</span></td><td id="LC6430" class="css-1dcdqdg"><code><span class="code-comment"> * axis should still be inverted (going from bottom to top). `distance()` returns
</span></code></td></tr><tr><td id="L6431" class="css-a4x74f"><span>6431</span></td><td id="LC6431" class="css-1dcdqdg"><code><span class="code-comment"> * simple euclidean distance.
</span></code></td></tr><tr><td id="L6432" class="css-a4x74f"><span>6432</span></td><td id="LC6432" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6433" class="css-a4x74f"><span>6433</span></td><td id="LC6433" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6434" class="css-a4x74f"><span>6434</span></td><td id="LC6434" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Simple = extend({}, CRS, {
</code></td></tr><tr><td id="L6435" class="css-a4x74f"><span>6435</span></td><td id="LC6435" class="css-1dcdqdg"><code>	projection: LonLat,
</code></td></tr><tr><td id="L6436" class="css-a4x74f"><span>6436</span></td><td id="LC6436" class="css-1dcdqdg"><code>	transformation: toTransformation(<span class="code-number">1</span>, <span class="code-number">0</span>, <span class="code-number">-1</span>, <span class="code-number">0</span>),
</code></td></tr><tr><td id="L6437" class="css-a4x74f"><span>6437</span></td><td id="LC6437" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6438" class="css-a4x74f"><span>6438</span></td><td id="LC6438" class="css-1dcdqdg"><code>	scale: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L6439" class="css-a4x74f"><span>6439</span></td><td id="LC6439" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>, zoom);
</code></td></tr><tr><td id="L6440" class="css-a4x74f"><span>6440</span></td><td id="LC6440" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6441" class="css-a4x74f"><span>6441</span></td><td id="LC6441" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6442" class="css-a4x74f"><span>6442</span></td><td id="LC6442" class="css-1dcdqdg"><code>	zoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">scale</span>) </span>{
</code></td></tr><tr><td id="L6443" class="css-a4x74f"><span>6443</span></td><td id="LC6443" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.log(scale) / <span class="code-built_in">Math</span>.LN2;
</code></td></tr><tr><td id="L6444" class="css-a4x74f"><span>6444</span></td><td id="LC6444" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6445" class="css-a4x74f"><span>6445</span></td><td id="LC6445" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6446" class="css-a4x74f"><span>6446</span></td><td id="LC6446" class="css-1dcdqdg"><code>	distance: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng1, latlng2</span>) </span>{
</code></td></tr><tr><td id="L6447" class="css-a4x74f"><span>6447</span></td><td id="LC6447" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> dx = latlng2.lng - latlng1.lng,
</code></td></tr><tr><td id="L6448" class="css-a4x74f"><span>6448</span></td><td id="LC6448" class="css-1dcdqdg"><code>		    dy = latlng2.lat - latlng1.lat;
</code></td></tr><tr><td id="L6449" class="css-a4x74f"><span>6449</span></td><td id="LC6449" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6450" class="css-a4x74f"><span>6450</span></td><td id="LC6450" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(dx * dx + dy * dy);
</code></td></tr><tr><td id="L6451" class="css-a4x74f"><span>6451</span></td><td id="LC6451" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6452" class="css-a4x74f"><span>6452</span></td><td id="LC6452" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6453" class="css-a4x74f"><span>6453</span></td><td id="LC6453" class="css-1dcdqdg"><code>	infinite: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L6454" class="css-a4x74f"><span>6454</span></td><td id="LC6454" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6455" class="css-a4x74f"><span>6455</span></td><td id="LC6455" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6456" class="css-a4x74f"><span>6456</span></td><td id="LC6456" class="css-1dcdqdg"><code>CRS.Earth = Earth;
</code></td></tr><tr><td id="L6457" class="css-a4x74f"><span>6457</span></td><td id="LC6457" class="css-1dcdqdg"><code>CRS.EPSG3395 = EPSG3395;
</code></td></tr><tr><td id="L6458" class="css-a4x74f"><span>6458</span></td><td id="LC6458" class="css-1dcdqdg"><code>CRS.EPSG3857 = EPSG3857;
</code></td></tr><tr><td id="L6459" class="css-a4x74f"><span>6459</span></td><td id="LC6459" class="css-1dcdqdg"><code>CRS.EPSG900913 = EPSG900913;
</code></td></tr><tr><td id="L6460" class="css-a4x74f"><span>6460</span></td><td id="LC6460" class="css-1dcdqdg"><code>CRS.EPSG4326 = EPSG4326;
</code></td></tr><tr><td id="L6461" class="css-a4x74f"><span>6461</span></td><td id="LC6461" class="css-1dcdqdg"><code>CRS.Simple = Simple;
</code></td></tr><tr><td id="L6462" class="css-a4x74f"><span>6462</span></td><td id="LC6462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6463" class="css-a4x74f"><span>6463</span></td><td id="LC6463" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6464" class="css-a4x74f"><span>6464</span></td><td id="LC6464" class="css-1dcdqdg"><code><span class="code-comment"> * @class Layer
</span></code></td></tr><tr><td id="L6465" class="css-a4x74f"><span>6465</span></td><td id="LC6465" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Evented
</span></code></td></tr><tr><td id="L6466" class="css-a4x74f"><span>6466</span></td><td id="LC6466" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Layer
</span></code></td></tr><tr><td id="L6467" class="css-a4x74f"><span>6467</span></td><td id="LC6467" class="css-1dcdqdg"><code><span class="code-comment"> * @aka ILayer
</span></code></td></tr><tr><td id="L6468" class="css-a4x74f"><span>6468</span></td><td id="LC6468" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6469" class="css-a4x74f"><span>6469</span></td><td id="LC6469" class="css-1dcdqdg"><code><span class="code-comment"> * A set of methods from the Layer base class that all Leaflet layers use.
</span></code></td></tr><tr><td id="L6470" class="css-a4x74f"><span>6470</span></td><td id="LC6470" class="css-1dcdqdg"><code><span class="code-comment"> * Inherits all methods, options and events from `L.Evented`.
</span></code></td></tr><tr><td id="L6471" class="css-a4x74f"><span>6471</span></td><td id="LC6471" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6472" class="css-a4x74f"><span>6472</span></td><td id="LC6472" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L6473" class="css-a4x74f"><span>6473</span></td><td id="LC6473" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6474" class="css-a4x74f"><span>6474</span></td><td id="LC6474" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L6475" class="css-a4x74f"><span>6475</span></td><td id="LC6475" class="css-1dcdqdg"><code><span class="code-comment"> * var layer = L.marker(latlng).addTo(map);
</span></code></td></tr><tr><td id="L6476" class="css-a4x74f"><span>6476</span></td><td id="LC6476" class="css-1dcdqdg"><code><span class="code-comment"> * layer.addTo(map);
</span></code></td></tr><tr><td id="L6477" class="css-a4x74f"><span>6477</span></td><td id="LC6477" class="css-1dcdqdg"><code><span class="code-comment"> * layer.remove();
</span></code></td></tr><tr><td id="L6478" class="css-a4x74f"><span>6478</span></td><td id="LC6478" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L6479" class="css-a4x74f"><span>6479</span></td><td id="LC6479" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6480" class="css-a4x74f"><span>6480</span></td><td id="LC6480" class="css-1dcdqdg"><code><span class="code-comment"> * @event add: Event
</span></code></td></tr><tr><td id="L6481" class="css-a4x74f"><span>6481</span></td><td id="LC6481" class="css-1dcdqdg"><code><span class="code-comment"> * Fired after the layer is added to a map
</span></code></td></tr><tr><td id="L6482" class="css-a4x74f"><span>6482</span></td><td id="LC6482" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6483" class="css-a4x74f"><span>6483</span></td><td id="LC6483" class="css-1dcdqdg"><code><span class="code-comment"> * @event remove: Event
</span></code></td></tr><tr><td id="L6484" class="css-a4x74f"><span>6484</span></td><td id="LC6484" class="css-1dcdqdg"><code><span class="code-comment"> * Fired after the layer is removed from a map
</span></code></td></tr><tr><td id="L6485" class="css-a4x74f"><span>6485</span></td><td id="LC6485" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6486" class="css-a4x74f"><span>6486</span></td><td id="LC6486" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6487" class="css-a4x74f"><span>6487</span></td><td id="LC6487" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6488" class="css-a4x74f"><span>6488</span></td><td id="LC6488" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Layer = Evented.extend({
</code></td></tr><tr><td id="L6489" class="css-a4x74f"><span>6489</span></td><td id="LC6489" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6490" class="css-a4x74f"><span>6490</span></td><td id="LC6490" class="css-1dcdqdg"><code>	<span class="code-comment">// Classes extending `L.Layer` will inherit the following options:</span>
</code></td></tr><tr><td id="L6491" class="css-a4x74f"><span>6491</span></td><td id="LC6491" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L6492" class="css-a4x74f"><span>6492</span></td><td id="LC6492" class="css-1dcdqdg"><code>		<span class="code-comment">// @option pane: String = 'overlayPane'</span>
</code></td></tr><tr><td id="L6493" class="css-a4x74f"><span>6493</span></td><td id="LC6493" class="css-1dcdqdg"><code>		<span class="code-comment">// By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.</span>
</code></td></tr><tr><td id="L6494" class="css-a4x74f"><span>6494</span></td><td id="LC6494" class="css-1dcdqdg"><code>		pane: <span class="code-string">'overlayPane'</span>,
</code></td></tr><tr><td id="L6495" class="css-a4x74f"><span>6495</span></td><td id="LC6495" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6496" class="css-a4x74f"><span>6496</span></td><td id="LC6496" class="css-1dcdqdg"><code>		<span class="code-comment">// @option attribution: String = null</span>
</code></td></tr><tr><td id="L6497" class="css-a4x74f"><span>6497</span></td><td id="LC6497" class="css-1dcdqdg"><code>		<span class="code-comment">// String to be shown in the attribution control, e.g. " OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.</span>
</code></td></tr><tr><td id="L6498" class="css-a4x74f"><span>6498</span></td><td id="LC6498" class="css-1dcdqdg"><code>		attribution: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L6499" class="css-a4x74f"><span>6499</span></td><td id="LC6499" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6500" class="css-a4x74f"><span>6500</span></td><td id="LC6500" class="css-1dcdqdg"><code>		bubblingMouseEvents: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L6501" class="css-a4x74f"><span>6501</span></td><td id="LC6501" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6502" class="css-a4x74f"><span>6502</span></td><td id="LC6502" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6503" class="css-a4x74f"><span>6503</span></td><td id="LC6503" class="css-1dcdqdg"><code>	<span class="code-comment">/* @section
</span></code></td></tr><tr><td id="L6504" class="css-a4x74f"><span>6504</span></td><td id="LC6504" class="css-1dcdqdg"><code><span class="code-comment">	 * Classes extending `L.Layer` will inherit the following methods:
</span></code></td></tr><tr><td id="L6505" class="css-a4x74f"><span>6505</span></td><td id="LC6505" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L6506" class="css-a4x74f"><span>6506</span></td><td id="LC6506" class="css-1dcdqdg"><code><span class="code-comment">	 * @method addTo(map: Map|LayerGroup): this
</span></code></td></tr><tr><td id="L6507" class="css-a4x74f"><span>6507</span></td><td id="LC6507" class="css-1dcdqdg"><code><span class="code-comment">	 * Adds the layer to the given map or layer group.
</span></code></td></tr><tr><td id="L6508" class="css-a4x74f"><span>6508</span></td><td id="LC6508" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L6509" class="css-a4x74f"><span>6509</span></td><td id="LC6509" class="css-1dcdqdg"><code>	addTo: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L6510" class="css-a4x74f"><span>6510</span></td><td id="LC6510" class="css-1dcdqdg"><code>		map.addLayer(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6511" class="css-a4x74f"><span>6511</span></td><td id="LC6511" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6512" class="css-a4x74f"><span>6512</span></td><td id="LC6512" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6513" class="css-a4x74f"><span>6513</span></td><td id="LC6513" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6514" class="css-a4x74f"><span>6514</span></td><td id="LC6514" class="css-1dcdqdg"><code>	<span class="code-comment">// @method remove: this</span>
</code></td></tr><tr><td id="L6515" class="css-a4x74f"><span>6515</span></td><td id="LC6515" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the layer from the map it is currently active on.</span>
</code></td></tr><tr><td id="L6516" class="css-a4x74f"><span>6516</span></td><td id="LC6516" class="css-1dcdqdg"><code>	remove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6517" class="css-a4x74f"><span>6517</span></td><td id="LC6517" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.removeFrom(<span class="code-keyword">this</span>._map || <span class="code-keyword">this</span>._mapToAdd);
</code></td></tr><tr><td id="L6518" class="css-a4x74f"><span>6518</span></td><td id="LC6518" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6519" class="css-a4x74f"><span>6519</span></td><td id="LC6519" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6520" class="css-a4x74f"><span>6520</span></td><td id="LC6520" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeFrom(map: Map): this</span>
</code></td></tr><tr><td id="L6521" class="css-a4x74f"><span>6521</span></td><td id="LC6521" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the layer from the given map</span>
</code></td></tr><tr><td id="L6522" class="css-a4x74f"><span>6522</span></td><td id="LC6522" class="css-1dcdqdg"><code>	<span class="code-comment">//</span>
</code></td></tr><tr><td id="L6523" class="css-a4x74f"><span>6523</span></td><td id="LC6523" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L6524" class="css-a4x74f"><span>6524</span></td><td id="LC6524" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeFrom(group: LayerGroup): this</span>
</code></td></tr><tr><td id="L6525" class="css-a4x74f"><span>6525</span></td><td id="LC6525" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the layer from the given `LayerGroup`</span>
</code></td></tr><tr><td id="L6526" class="css-a4x74f"><span>6526</span></td><td id="LC6526" class="css-1dcdqdg"><code>	removeFrom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">obj</span>) </span>{
</code></td></tr><tr><td id="L6527" class="css-a4x74f"><span>6527</span></td><td id="LC6527" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (obj) {
</code></td></tr><tr><td id="L6528" class="css-a4x74f"><span>6528</span></td><td id="LC6528" class="css-1dcdqdg"><code>			obj.removeLayer(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6529" class="css-a4x74f"><span>6529</span></td><td id="LC6529" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6530" class="css-a4x74f"><span>6530</span></td><td id="LC6530" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6531" class="css-a4x74f"><span>6531</span></td><td id="LC6531" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6532" class="css-a4x74f"><span>6532</span></td><td id="LC6532" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6533" class="css-a4x74f"><span>6533</span></td><td id="LC6533" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPane(name? : String): HTMLElement</span>
</code></td></tr><tr><td id="L6534" class="css-a4x74f"><span>6534</span></td><td id="LC6534" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.</span>
</code></td></tr><tr><td id="L6535" class="css-a4x74f"><span>6535</span></td><td id="LC6535" class="css-1dcdqdg"><code>	getPane: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L6536" class="css-a4x74f"><span>6536</span></td><td id="LC6536" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._map.getPane(name ? (<span class="code-keyword">this</span>.options[name] || name) : <span class="code-keyword">this</span>.options.pane);
</code></td></tr><tr><td id="L6537" class="css-a4x74f"><span>6537</span></td><td id="LC6537" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6538" class="css-a4x74f"><span>6538</span></td><td id="LC6538" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6539" class="css-a4x74f"><span>6539</span></td><td id="LC6539" class="css-1dcdqdg"><code>	addInteractiveTarget: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">targetEl</span>) </span>{
</code></td></tr><tr><td id="L6540" class="css-a4x74f"><span>6540</span></td><td id="LC6540" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map._targets[stamp(targetEl)] = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6541" class="css-a4x74f"><span>6541</span></td><td id="LC6541" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6542" class="css-a4x74f"><span>6542</span></td><td id="LC6542" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6543" class="css-a4x74f"><span>6543</span></td><td id="LC6543" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6544" class="css-a4x74f"><span>6544</span></td><td id="LC6544" class="css-1dcdqdg"><code>	removeInteractiveTarget: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">targetEl</span>) </span>{
</code></td></tr><tr><td id="L6545" class="css-a4x74f"><span>6545</span></td><td id="LC6545" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._map._targets[stamp(targetEl)];
</code></td></tr><tr><td id="L6546" class="css-a4x74f"><span>6546</span></td><td id="LC6546" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6547" class="css-a4x74f"><span>6547</span></td><td id="LC6547" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6548" class="css-a4x74f"><span>6548</span></td><td id="LC6548" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6549" class="css-a4x74f"><span>6549</span></td><td id="LC6549" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getAttribution: String</span>
</code></td></tr><tr><td id="L6550" class="css-a4x74f"><span>6550</span></td><td id="LC6550" class="css-1dcdqdg"><code>	<span class="code-comment">// Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).</span>
</code></td></tr><tr><td id="L6551" class="css-a4x74f"><span>6551</span></td><td id="LC6551" class="css-1dcdqdg"><code>	getAttribution: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6552" class="css-a4x74f"><span>6552</span></td><td id="LC6552" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.attribution;
</code></td></tr><tr><td id="L6553" class="css-a4x74f"><span>6553</span></td><td id="LC6553" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6554" class="css-a4x74f"><span>6554</span></td><td id="LC6554" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6555" class="css-a4x74f"><span>6555</span></td><td id="LC6555" class="css-1dcdqdg"><code>	_layerAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L6556" class="css-a4x74f"><span>6556</span></td><td id="LC6556" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = e.target;
</code></td></tr><tr><td id="L6557" class="css-a4x74f"><span>6557</span></td><td id="LC6557" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6558" class="css-a4x74f"><span>6558</span></td><td id="LC6558" class="css-1dcdqdg"><code>		<span class="code-comment">// check in case layer gets added and then removed before the map is ready</span>
</code></td></tr><tr><td id="L6559" class="css-a4x74f"><span>6559</span></td><td id="LC6559" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!map.hasLayer(<span class="code-keyword">this</span>)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L6560" class="css-a4x74f"><span>6560</span></td><td id="LC6560" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6561" class="css-a4x74f"><span>6561</span></td><td id="LC6561" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = map;
</code></td></tr><tr><td id="L6562" class="css-a4x74f"><span>6562</span></td><td id="LC6562" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomAnimated = map._zoomAnimated;
</code></td></tr><tr><td id="L6563" class="css-a4x74f"><span>6563</span></td><td id="LC6563" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6564" class="css-a4x74f"><span>6564</span></td><td id="LC6564" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.getEvents) {
</code></td></tr><tr><td id="L6565" class="css-a4x74f"><span>6565</span></td><td id="LC6565" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> events = <span class="code-keyword">this</span>.getEvents();
</code></td></tr><tr><td id="L6566" class="css-a4x74f"><span>6566</span></td><td id="LC6566" class="css-1dcdqdg"><code>			map.on(events, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6567" class="css-a4x74f"><span>6567</span></td><td id="LC6567" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.once(<span class="code-string">'remove'</span>, <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6568" class="css-a4x74f"><span>6568</span></td><td id="LC6568" class="css-1dcdqdg"><code>				map.off(events, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6569" class="css-a4x74f"><span>6569</span></td><td id="LC6569" class="css-1dcdqdg"><code>			}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6570" class="css-a4x74f"><span>6570</span></td><td id="LC6570" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6571" class="css-a4x74f"><span>6571</span></td><td id="LC6571" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6572" class="css-a4x74f"><span>6572</span></td><td id="LC6572" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.onAdd(map);
</code></td></tr><tr><td id="L6573" class="css-a4x74f"><span>6573</span></td><td id="LC6573" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6574" class="css-a4x74f"><span>6574</span></td><td id="LC6574" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'add'</span>);
</code></td></tr><tr><td id="L6575" class="css-a4x74f"><span>6575</span></td><td id="LC6575" class="css-1dcdqdg"><code>		map.fire(<span class="code-string">'layeradd'</span>, {<span class="code-attr">layer</span>: <span class="code-keyword">this</span>});
</code></td></tr><tr><td id="L6576" class="css-a4x74f"><span>6576</span></td><td id="LC6576" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6577" class="css-a4x74f"><span>6577</span></td><td id="LC6577" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6578" class="css-a4x74f"><span>6578</span></td><td id="LC6578" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6579" class="css-a4x74f"><span>6579</span></td><td id="LC6579" class="css-1dcdqdg"><code><span class="code-comment">/* @section Extension methods
</span></code></td></tr><tr><td id="L6580" class="css-a4x74f"><span>6580</span></td><td id="LC6580" class="css-1dcdqdg"><code><span class="code-comment"> * @uninheritable
</span></code></td></tr><tr><td id="L6581" class="css-a4x74f"><span>6581</span></td><td id="LC6581" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6582" class="css-a4x74f"><span>6582</span></td><td id="LC6582" class="css-1dcdqdg"><code><span class="code-comment"> * Every layer should extend from `L.Layer` and (re-)implement the following methods.
</span></code></td></tr><tr><td id="L6583" class="css-a4x74f"><span>6583</span></td><td id="LC6583" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6584" class="css-a4x74f"><span>6584</span></td><td id="LC6584" class="css-1dcdqdg"><code><span class="code-comment"> * @method onAdd(map: Map): this
</span></code></td></tr><tr><td id="L6585" class="css-a4x74f"><span>6585</span></td><td id="LC6585" class="css-1dcdqdg"><code><span class="code-comment"> * Should contain code that creates DOM elements for the layer, adds them to `map panes` where they should belong and puts listeners on relevant map events. Called on [`map.addLayer(layer)`](#map-addlayer).
</span></code></td></tr><tr><td id="L6586" class="css-a4x74f"><span>6586</span></td><td id="LC6586" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6587" class="css-a4x74f"><span>6587</span></td><td id="LC6587" class="css-1dcdqdg"><code><span class="code-comment"> * @method onRemove(map: Map): this
</span></code></td></tr><tr><td id="L6588" class="css-a4x74f"><span>6588</span></td><td id="LC6588" class="css-1dcdqdg"><code><span class="code-comment"> * Should contain all clean up code that removes the layer's elements from the DOM and removes listeners previously added in [`onAdd`](#layer-onadd). Called on [`map.removeLayer(layer)`](#map-removelayer).
</span></code></td></tr><tr><td id="L6589" class="css-a4x74f"><span>6589</span></td><td id="LC6589" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6590" class="css-a4x74f"><span>6590</span></td><td id="LC6590" class="css-1dcdqdg"><code><span class="code-comment"> * @method getEvents(): Object
</span></code></td></tr><tr><td id="L6591" class="css-a4x74f"><span>6591</span></td><td id="LC6591" class="css-1dcdqdg"><code><span class="code-comment"> * This optional method should return an object like `{ viewreset: this._reset }` for [`addEventListener`](#evented-addeventlistener). The event handlers in this object will be automatically added and removed from the map with your layer.
</span></code></td></tr><tr><td id="L6592" class="css-a4x74f"><span>6592</span></td><td id="LC6592" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6593" class="css-a4x74f"><span>6593</span></td><td id="LC6593" class="css-1dcdqdg"><code><span class="code-comment"> * @method getAttribution(): String
</span></code></td></tr><tr><td id="L6594" class="css-a4x74f"><span>6594</span></td><td id="LC6594" class="css-1dcdqdg"><code><span class="code-comment"> * This optional method should return a string containing HTML to be shown on the `Attribution control` whenever the layer is visible.
</span></code></td></tr><tr><td id="L6595" class="css-a4x74f"><span>6595</span></td><td id="LC6595" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6596" class="css-a4x74f"><span>6596</span></td><td id="LC6596" class="css-1dcdqdg"><code><span class="code-comment"> * @method beforeAdd(map: Map): this
</span></code></td></tr><tr><td id="L6597" class="css-a4x74f"><span>6597</span></td><td id="LC6597" class="css-1dcdqdg"><code><span class="code-comment"> * Optional method. Called on [`map.addLayer(layer)`](#map-addlayer), before the layer is added to the map, before events are initialized, without waiting until the map is in a usable state. Use for early initialization only.
</span></code></td></tr><tr><td id="L6598" class="css-a4x74f"><span>6598</span></td><td id="LC6598" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6599" class="css-a4x74f"><span>6599</span></td><td id="LC6599" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6600" class="css-a4x74f"><span>6600</span></td><td id="LC6600" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6601" class="css-a4x74f"><span>6601</span></td><td id="LC6601" class="css-1dcdqdg"><code><span class="code-comment">/* @namespace Map
</span></code></td></tr><tr><td id="L6602" class="css-a4x74f"><span>6602</span></td><td id="LC6602" class="css-1dcdqdg"><code><span class="code-comment"> * @section Layer events
</span></code></td></tr><tr><td id="L6603" class="css-a4x74f"><span>6603</span></td><td id="LC6603" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6604" class="css-a4x74f"><span>6604</span></td><td id="LC6604" class="css-1dcdqdg"><code><span class="code-comment"> * @event layeradd: LayerEvent
</span></code></td></tr><tr><td id="L6605" class="css-a4x74f"><span>6605</span></td><td id="LC6605" class="css-1dcdqdg"><code><span class="code-comment"> * Fired when a new layer is added to the map.
</span></code></td></tr><tr><td id="L6606" class="css-a4x74f"><span>6606</span></td><td id="LC6606" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6607" class="css-a4x74f"><span>6607</span></td><td id="LC6607" class="css-1dcdqdg"><code><span class="code-comment"> * @event layerremove: LayerEvent
</span></code></td></tr><tr><td id="L6608" class="css-a4x74f"><span>6608</span></td><td id="LC6608" class="css-1dcdqdg"><code><span class="code-comment"> * Fired when some layer is removed from the map
</span></code></td></tr><tr><td id="L6609" class="css-a4x74f"><span>6609</span></td><td id="LC6609" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6610" class="css-a4x74f"><span>6610</span></td><td id="LC6610" class="css-1dcdqdg"><code><span class="code-comment"> * @section Methods for Layers and Controls
</span></code></td></tr><tr><td id="L6611" class="css-a4x74f"><span>6611</span></td><td id="LC6611" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6612" class="css-a4x74f"><span>6612</span></td><td id="LC6612" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.include({
</code></td></tr><tr><td id="L6613" class="css-a4x74f"><span>6613</span></td><td id="LC6613" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addLayer(layer: Layer): this</span>
</code></td></tr><tr><td id="L6614" class="css-a4x74f"><span>6614</span></td><td id="LC6614" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds the given layer to the map</span>
</code></td></tr><tr><td id="L6615" class="css-a4x74f"><span>6615</span></td><td id="LC6615" class="css-1dcdqdg"><code>	addLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6616" class="css-a4x74f"><span>6616</span></td><td id="LC6616" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!layer._layerAdd) {
</code></td></tr><tr><td id="L6617" class="css-a4x74f"><span>6617</span></td><td id="LC6617" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'The provided object is not a Layer.'</span>);
</code></td></tr><tr><td id="L6618" class="css-a4x74f"><span>6618</span></td><td id="LC6618" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6619" class="css-a4x74f"><span>6619</span></td><td id="LC6619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6620" class="css-a4x74f"><span>6620</span></td><td id="LC6620" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> id = stamp(layer);
</code></td></tr><tr><td id="L6621" class="css-a4x74f"><span>6621</span></td><td id="LC6621" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._layers[id]) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L6622" class="css-a4x74f"><span>6622</span></td><td id="LC6622" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers[id] = layer;
</code></td></tr><tr><td id="L6623" class="css-a4x74f"><span>6623</span></td><td id="LC6623" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6624" class="css-a4x74f"><span>6624</span></td><td id="LC6624" class="css-1dcdqdg"><code>		layer._mapToAdd = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6625" class="css-a4x74f"><span>6625</span></td><td id="LC6625" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6626" class="css-a4x74f"><span>6626</span></td><td id="LC6626" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer.beforeAdd) {
</code></td></tr><tr><td id="L6627" class="css-a4x74f"><span>6627</span></td><td id="LC6627" class="css-1dcdqdg"><code>			layer.beforeAdd(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6628" class="css-a4x74f"><span>6628</span></td><td id="LC6628" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6629" class="css-a4x74f"><span>6629</span></td><td id="LC6629" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6630" class="css-a4x74f"><span>6630</span></td><td id="LC6630" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.whenReady(layer._layerAdd, layer);
</code></td></tr><tr><td id="L6631" class="css-a4x74f"><span>6631</span></td><td id="LC6631" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6632" class="css-a4x74f"><span>6632</span></td><td id="LC6632" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6633" class="css-a4x74f"><span>6633</span></td><td id="LC6633" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6634" class="css-a4x74f"><span>6634</span></td><td id="LC6634" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6635" class="css-a4x74f"><span>6635</span></td><td id="LC6635" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeLayer(layer: Layer): this</span>
</code></td></tr><tr><td id="L6636" class="css-a4x74f"><span>6636</span></td><td id="LC6636" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the given layer from the map.</span>
</code></td></tr><tr><td id="L6637" class="css-a4x74f"><span>6637</span></td><td id="LC6637" class="css-1dcdqdg"><code>	removeLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6638" class="css-a4x74f"><span>6638</span></td><td id="LC6638" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> id = stamp(layer);
</code></td></tr><tr><td id="L6639" class="css-a4x74f"><span>6639</span></td><td id="LC6639" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6640" class="css-a4x74f"><span>6640</span></td><td id="LC6640" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._layers[id]) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L6641" class="css-a4x74f"><span>6641</span></td><td id="LC6641" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6642" class="css-a4x74f"><span>6642</span></td><td id="LC6642" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L6643" class="css-a4x74f"><span>6643</span></td><td id="LC6643" class="css-1dcdqdg"><code>			layer.onRemove(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6644" class="css-a4x74f"><span>6644</span></td><td id="LC6644" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6645" class="css-a4x74f"><span>6645</span></td><td id="LC6645" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6646" class="css-a4x74f"><span>6646</span></td><td id="LC6646" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._layers[id];
</code></td></tr><tr><td id="L6647" class="css-a4x74f"><span>6647</span></td><td id="LC6647" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6648" class="css-a4x74f"><span>6648</span></td><td id="LC6648" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._loaded) {
</code></td></tr><tr><td id="L6649" class="css-a4x74f"><span>6649</span></td><td id="LC6649" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'layerremove'</span>, {<span class="code-attr">layer</span>: layer});
</code></td></tr><tr><td id="L6650" class="css-a4x74f"><span>6650</span></td><td id="LC6650" class="css-1dcdqdg"><code>			layer.fire(<span class="code-string">'remove'</span>);
</code></td></tr><tr><td id="L6651" class="css-a4x74f"><span>6651</span></td><td id="LC6651" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6652" class="css-a4x74f"><span>6652</span></td><td id="LC6652" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6653" class="css-a4x74f"><span>6653</span></td><td id="LC6653" class="css-1dcdqdg"><code>		layer._map = layer._mapToAdd = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L6654" class="css-a4x74f"><span>6654</span></td><td id="LC6654" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6655" class="css-a4x74f"><span>6655</span></td><td id="LC6655" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6656" class="css-a4x74f"><span>6656</span></td><td id="LC6656" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6657" class="css-a4x74f"><span>6657</span></td><td id="LC6657" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6658" class="css-a4x74f"><span>6658</span></td><td id="LC6658" class="css-1dcdqdg"><code>	<span class="code-comment">// @method hasLayer(layer: Layer): Boolean</span>
</code></td></tr><tr><td id="L6659" class="css-a4x74f"><span>6659</span></td><td id="LC6659" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the given layer is currently added to the map</span>
</code></td></tr><tr><td id="L6660" class="css-a4x74f"><span>6660</span></td><td id="LC6660" class="css-1dcdqdg"><code>	hasLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6661" class="css-a4x74f"><span>6661</span></td><td id="LC6661" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> stamp(layer) <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers;
</code></td></tr><tr><td id="L6662" class="css-a4x74f"><span>6662</span></td><td id="LC6662" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6663" class="css-a4x74f"><span>6663</span></td><td id="LC6663" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6664" class="css-a4x74f"><span>6664</span></td><td id="LC6664" class="css-1dcdqdg"><code>	<span class="code-comment">/* @method eachLayer(fn: Function, context?: Object): this
</span></code></td></tr><tr><td id="L6665" class="css-a4x74f"><span>6665</span></td><td id="LC6665" class="css-1dcdqdg"><code><span class="code-comment">	 * Iterates over the layers of the map, optionally specifying context of the iterator function.
</span></code></td></tr><tr><td id="L6666" class="css-a4x74f"><span>6666</span></td><td id="LC6666" class="css-1dcdqdg"><code><span class="code-comment">	 * ```
</span></code></td></tr><tr><td id="L6667" class="css-a4x74f"><span>6667</span></td><td id="LC6667" class="css-1dcdqdg"><code><span class="code-comment">	 * map.eachLayer(function(layer){
</span></code></td></tr><tr><td id="L6668" class="css-a4x74f"><span>6668</span></td><td id="LC6668" class="css-1dcdqdg"><code><span class="code-comment">	 *     layer.bindPopup('Hello');
</span></code></td></tr><tr><td id="L6669" class="css-a4x74f"><span>6669</span></td><td id="LC6669" class="css-1dcdqdg"><code><span class="code-comment">	 * });
</span></code></td></tr><tr><td id="L6670" class="css-a4x74f"><span>6670</span></td><td id="LC6670" class="css-1dcdqdg"><code><span class="code-comment">	 * ```
</span></code></td></tr><tr><td id="L6671" class="css-a4x74f"><span>6671</span></td><td id="LC6671" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L6672" class="css-a4x74f"><span>6672</span></td><td id="LC6672" class="css-1dcdqdg"><code>	eachLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">method, context</span>) </span>{
</code></td></tr><tr><td id="L6673" class="css-a4x74f"><span>6673</span></td><td id="LC6673" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L6674" class="css-a4x74f"><span>6674</span></td><td id="LC6674" class="css-1dcdqdg"><code>			method.call(context, <span class="code-keyword">this</span>._layers[i]);
</code></td></tr><tr><td id="L6675" class="css-a4x74f"><span>6675</span></td><td id="LC6675" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6676" class="css-a4x74f"><span>6676</span></td><td id="LC6676" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6677" class="css-a4x74f"><span>6677</span></td><td id="LC6677" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6678" class="css-a4x74f"><span>6678</span></td><td id="LC6678" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6679" class="css-a4x74f"><span>6679</span></td><td id="LC6679" class="css-1dcdqdg"><code>	_addLayers: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layers</span>) </span>{
</code></td></tr><tr><td id="L6680" class="css-a4x74f"><span>6680</span></td><td id="LC6680" class="css-1dcdqdg"><code>		layers = layers ? (isArray(layers) ? layers : [layers]) : [];
</code></td></tr><tr><td id="L6681" class="css-a4x74f"><span>6681</span></td><td id="LC6681" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6682" class="css-a4x74f"><span>6682</span></td><td id="LC6682" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = layers.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L6683" class="css-a4x74f"><span>6683</span></td><td id="LC6683" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addLayer(layers[i]);
</code></td></tr><tr><td id="L6684" class="css-a4x74f"><span>6684</span></td><td id="LC6684" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6685" class="css-a4x74f"><span>6685</span></td><td id="LC6685" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6686" class="css-a4x74f"><span>6686</span></td><td id="LC6686" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6687" class="css-a4x74f"><span>6687</span></td><td id="LC6687" class="css-1dcdqdg"><code>	_addZoomLimit: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6688" class="css-a4x74f"><span>6688</span></td><td id="LC6688" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-built_in">isNaN</span>(layer.options.maxZoom) || !<span class="code-built_in">isNaN</span>(layer.options.minZoom)) {
</code></td></tr><tr><td id="L6689" class="css-a4x74f"><span>6689</span></td><td id="LC6689" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zoomBoundLayers[stamp(layer)] = layer;
</code></td></tr><tr><td id="L6690" class="css-a4x74f"><span>6690</span></td><td id="LC6690" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateZoomLevels();
</code></td></tr><tr><td id="L6691" class="css-a4x74f"><span>6691</span></td><td id="LC6691" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6692" class="css-a4x74f"><span>6692</span></td><td id="LC6692" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6693" class="css-a4x74f"><span>6693</span></td><td id="LC6693" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6694" class="css-a4x74f"><span>6694</span></td><td id="LC6694" class="css-1dcdqdg"><code>	_removeZoomLimit: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6695" class="css-a4x74f"><span>6695</span></td><td id="LC6695" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> id = stamp(layer);
</code></td></tr><tr><td id="L6696" class="css-a4x74f"><span>6696</span></td><td id="LC6696" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6697" class="css-a4x74f"><span>6697</span></td><td id="LC6697" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomBoundLayers[id]) {
</code></td></tr><tr><td id="L6698" class="css-a4x74f"><span>6698</span></td><td id="LC6698" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._zoomBoundLayers[id];
</code></td></tr><tr><td id="L6699" class="css-a4x74f"><span>6699</span></td><td id="LC6699" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateZoomLevels();
</code></td></tr><tr><td id="L6700" class="css-a4x74f"><span>6700</span></td><td id="LC6700" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6701" class="css-a4x74f"><span>6701</span></td><td id="LC6701" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6702" class="css-a4x74f"><span>6702</span></td><td id="LC6702" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6703" class="css-a4x74f"><span>6703</span></td><td id="LC6703" class="css-1dcdqdg"><code>	_updateZoomLevels: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6704" class="css-a4x74f"><span>6704</span></td><td id="LC6704" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> minZoom = <span class="code-literal">Infinity</span>,
</code></td></tr><tr><td id="L6705" class="css-a4x74f"><span>6705</span></td><td id="LC6705" class="css-1dcdqdg"><code>		    maxZoom = -<span class="code-literal">Infinity</span>,
</code></td></tr><tr><td id="L6706" class="css-a4x74f"><span>6706</span></td><td id="LC6706" class="css-1dcdqdg"><code>		    oldZoomSpan = <span class="code-keyword">this</span>._getZoomSpan();
</code></td></tr><tr><td id="L6707" class="css-a4x74f"><span>6707</span></td><td id="LC6707" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6708" class="css-a4x74f"><span>6708</span></td><td id="LC6708" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._zoomBoundLayers) {
</code></td></tr><tr><td id="L6709" class="css-a4x74f"><span>6709</span></td><td id="LC6709" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> options = <span class="code-keyword">this</span>._zoomBoundLayers[i].options;
</code></td></tr><tr><td id="L6710" class="css-a4x74f"><span>6710</span></td><td id="LC6710" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6711" class="css-a4x74f"><span>6711</span></td><td id="LC6711" class="css-1dcdqdg"><code>			minZoom = options.minZoom === <span class="code-literal">undefined</span> ? minZoom : <span class="code-built_in">Math</span>.min(minZoom, options.minZoom);
</code></td></tr><tr><td id="L6712" class="css-a4x74f"><span>6712</span></td><td id="LC6712" class="css-1dcdqdg"><code>			maxZoom = options.maxZoom === <span class="code-literal">undefined</span> ? maxZoom : <span class="code-built_in">Math</span>.max(maxZoom, options.maxZoom);
</code></td></tr><tr><td id="L6713" class="css-a4x74f"><span>6713</span></td><td id="LC6713" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6714" class="css-a4x74f"><span>6714</span></td><td id="LC6714" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6715" class="css-a4x74f"><span>6715</span></td><td id="LC6715" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layersMaxZoom = maxZoom === -<span class="code-literal">Infinity</span> ? <span class="code-literal">undefined</span> : maxZoom;
</code></td></tr><tr><td id="L6716" class="css-a4x74f"><span>6716</span></td><td id="LC6716" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layersMinZoom = minZoom === <span class="code-literal">Infinity</span> ? <span class="code-literal">undefined</span> : minZoom;
</code></td></tr><tr><td id="L6717" class="css-a4x74f"><span>6717</span></td><td id="LC6717" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6718" class="css-a4x74f"><span>6718</span></td><td id="LC6718" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Map state change events</span>
</code></td></tr><tr><td id="L6719" class="css-a4x74f"><span>6719</span></td><td id="LC6719" class="css-1dcdqdg"><code>		<span class="code-comment">// @event zoomlevelschange: Event</span>
</code></td></tr><tr><td id="L6720" class="css-a4x74f"><span>6720</span></td><td id="LC6720" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the number of zoomlevels on the map is changed due</span>
</code></td></tr><tr><td id="L6721" class="css-a4x74f"><span>6721</span></td><td id="LC6721" class="css-1dcdqdg"><code>		<span class="code-comment">// to adding or removing a layer.</span>
</code></td></tr><tr><td id="L6722" class="css-a4x74f"><span>6722</span></td><td id="LC6722" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (oldZoomSpan !== <span class="code-keyword">this</span>._getZoomSpan()) {
</code></td></tr><tr><td id="L6723" class="css-a4x74f"><span>6723</span></td><td id="LC6723" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'zoomlevelschange'</span>);
</code></td></tr><tr><td id="L6724" class="css-a4x74f"><span>6724</span></td><td id="LC6724" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6725" class="css-a4x74f"><span>6725</span></td><td id="LC6725" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6726" class="css-a4x74f"><span>6726</span></td><td id="LC6726" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.maxZoom === <span class="code-literal">undefined</span> &amp;&amp; <span class="code-keyword">this</span>._layersMaxZoom &amp;&amp; <span class="code-keyword">this</span>.getZoom() &gt; <span class="code-keyword">this</span>._layersMaxZoom) {
</code></td></tr><tr><td id="L6727" class="css-a4x74f"><span>6727</span></td><td id="LC6727" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.setZoom(<span class="code-keyword">this</span>._layersMaxZoom);
</code></td></tr><tr><td id="L6728" class="css-a4x74f"><span>6728</span></td><td id="LC6728" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6729" class="css-a4x74f"><span>6729</span></td><td id="LC6729" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.minZoom === <span class="code-literal">undefined</span> &amp;&amp; <span class="code-keyword">this</span>._layersMinZoom &amp;&amp; <span class="code-keyword">this</span>.getZoom() &lt; <span class="code-keyword">this</span>._layersMinZoom) {
</code></td></tr><tr><td id="L6730" class="css-a4x74f"><span>6730</span></td><td id="LC6730" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.setZoom(<span class="code-keyword">this</span>._layersMinZoom);
</code></td></tr><tr><td id="L6731" class="css-a4x74f"><span>6731</span></td><td id="LC6731" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6732" class="css-a4x74f"><span>6732</span></td><td id="LC6732" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6733" class="css-a4x74f"><span>6733</span></td><td id="LC6733" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6734" class="css-a4x74f"><span>6734</span></td><td id="LC6734" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6735" class="css-a4x74f"><span>6735</span></td><td id="LC6735" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6736" class="css-a4x74f"><span>6736</span></td><td id="LC6736" class="css-1dcdqdg"><code><span class="code-comment"> * @class LayerGroup
</span></code></td></tr><tr><td id="L6737" class="css-a4x74f"><span>6737</span></td><td id="LC6737" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.LayerGroup
</span></code></td></tr><tr><td id="L6738" class="css-a4x74f"><span>6738</span></td><td id="LC6738" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Interactive layer
</span></code></td></tr><tr><td id="L6739" class="css-a4x74f"><span>6739</span></td><td id="LC6739" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6740" class="css-a4x74f"><span>6740</span></td><td id="LC6740" class="css-1dcdqdg"><code><span class="code-comment"> * Used to group several layers and handle them as one. If you add it to the map,
</span></code></td></tr><tr><td id="L6741" class="css-a4x74f"><span>6741</span></td><td id="LC6741" class="css-1dcdqdg"><code><span class="code-comment"> * any layers added or removed from the group will be added/removed on the map as
</span></code></td></tr><tr><td id="L6742" class="css-a4x74f"><span>6742</span></td><td id="LC6742" class="css-1dcdqdg"><code><span class="code-comment"> * well. Extends `Layer`.
</span></code></td></tr><tr><td id="L6743" class="css-a4x74f"><span>6743</span></td><td id="LC6743" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6744" class="css-a4x74f"><span>6744</span></td><td id="LC6744" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L6745" class="css-a4x74f"><span>6745</span></td><td id="LC6745" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6746" class="css-a4x74f"><span>6746</span></td><td id="LC6746" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L6747" class="css-a4x74f"><span>6747</span></td><td id="LC6747" class="css-1dcdqdg"><code><span class="code-comment"> * L.layerGroup([marker1, marker2])
</span></code></td></tr><tr><td id="L6748" class="css-a4x74f"><span>6748</span></td><td id="LC6748" class="css-1dcdqdg"><code><span class="code-comment"> * 	.addLayer(polyline)
</span></code></td></tr><tr><td id="L6749" class="css-a4x74f"><span>6749</span></td><td id="LC6749" class="css-1dcdqdg"><code><span class="code-comment"> * 	.addTo(map);
</span></code></td></tr><tr><td id="L6750" class="css-a4x74f"><span>6750</span></td><td id="LC6750" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L6751" class="css-a4x74f"><span>6751</span></td><td id="LC6751" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6752" class="css-a4x74f"><span>6752</span></td><td id="LC6752" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6753" class="css-a4x74f"><span>6753</span></td><td id="LC6753" class="css-1dcdqdg"><code><span class="code-keyword">var</span> LayerGroup = Layer.extend({
</code></td></tr><tr><td id="L6754" class="css-a4x74f"><span>6754</span></td><td id="LC6754" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6755" class="css-a4x74f"><span>6755</span></td><td id="LC6755" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layers, options</span>) </span>{
</code></td></tr><tr><td id="L6756" class="css-a4x74f"><span>6756</span></td><td id="LC6756" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L6757" class="css-a4x74f"><span>6757</span></td><td id="LC6757" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6758" class="css-a4x74f"><span>6758</span></td><td id="LC6758" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers = {};
</code></td></tr><tr><td id="L6759" class="css-a4x74f"><span>6759</span></td><td id="LC6759" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6760" class="css-a4x74f"><span>6760</span></td><td id="LC6760" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i, len;
</code></td></tr><tr><td id="L6761" class="css-a4x74f"><span>6761</span></td><td id="LC6761" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6762" class="css-a4x74f"><span>6762</span></td><td id="LC6762" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layers) {
</code></td></tr><tr><td id="L6763" class="css-a4x74f"><span>6763</span></td><td id="LC6763" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = layers.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L6764" class="css-a4x74f"><span>6764</span></td><td id="LC6764" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.addLayer(layers[i]);
</code></td></tr><tr><td id="L6765" class="css-a4x74f"><span>6765</span></td><td id="LC6765" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L6766" class="css-a4x74f"><span>6766</span></td><td id="LC6766" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6767" class="css-a4x74f"><span>6767</span></td><td id="LC6767" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6768" class="css-a4x74f"><span>6768</span></td><td id="LC6768" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6769" class="css-a4x74f"><span>6769</span></td><td id="LC6769" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addLayer(layer: Layer): this</span>
</code></td></tr><tr><td id="L6770" class="css-a4x74f"><span>6770</span></td><td id="LC6770" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds the given layer to the group.</span>
</code></td></tr><tr><td id="L6771" class="css-a4x74f"><span>6771</span></td><td id="LC6771" class="css-1dcdqdg"><code>	addLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6772" class="css-a4x74f"><span>6772</span></td><td id="LC6772" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> id = <span class="code-keyword">this</span>.getLayerId(layer);
</code></td></tr><tr><td id="L6773" class="css-a4x74f"><span>6773</span></td><td id="LC6773" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6774" class="css-a4x74f"><span>6774</span></td><td id="LC6774" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers[id] = layer;
</code></td></tr><tr><td id="L6775" class="css-a4x74f"><span>6775</span></td><td id="LC6775" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6776" class="css-a4x74f"><span>6776</span></td><td id="LC6776" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L6777" class="css-a4x74f"><span>6777</span></td><td id="LC6777" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.addLayer(layer);
</code></td></tr><tr><td id="L6778" class="css-a4x74f"><span>6778</span></td><td id="LC6778" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6779" class="css-a4x74f"><span>6779</span></td><td id="LC6779" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6780" class="css-a4x74f"><span>6780</span></td><td id="LC6780" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6781" class="css-a4x74f"><span>6781</span></td><td id="LC6781" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6782" class="css-a4x74f"><span>6782</span></td><td id="LC6782" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6783" class="css-a4x74f"><span>6783</span></td><td id="LC6783" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeLayer(layer: Layer): this</span>
</code></td></tr><tr><td id="L6784" class="css-a4x74f"><span>6784</span></td><td id="LC6784" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the given layer from the group.</span>
</code></td></tr><tr><td id="L6785" class="css-a4x74f"><span>6785</span></td><td id="LC6785" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L6786" class="css-a4x74f"><span>6786</span></td><td id="LC6786" class="css-1dcdqdg"><code>	<span class="code-comment">// @method removeLayer(id: Number): this</span>
</code></td></tr><tr><td id="L6787" class="css-a4x74f"><span>6787</span></td><td id="LC6787" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the layer with the given internal ID from the group.</span>
</code></td></tr><tr><td id="L6788" class="css-a4x74f"><span>6788</span></td><td id="LC6788" class="css-1dcdqdg"><code>	removeLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6789" class="css-a4x74f"><span>6789</span></td><td id="LC6789" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> id = layer <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers ? layer : <span class="code-keyword">this</span>.getLayerId(layer);
</code></td></tr><tr><td id="L6790" class="css-a4x74f"><span>6790</span></td><td id="LC6790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6791" class="css-a4x74f"><span>6791</span></td><td id="LC6791" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map &amp;&amp; <span class="code-keyword">this</span>._layers[id]) {
</code></td></tr><tr><td id="L6792" class="css-a4x74f"><span>6792</span></td><td id="LC6792" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.removeLayer(<span class="code-keyword">this</span>._layers[id]);
</code></td></tr><tr><td id="L6793" class="css-a4x74f"><span>6793</span></td><td id="LC6793" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6794" class="css-a4x74f"><span>6794</span></td><td id="LC6794" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6795" class="css-a4x74f"><span>6795</span></td><td id="LC6795" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._layers[id];
</code></td></tr><tr><td id="L6796" class="css-a4x74f"><span>6796</span></td><td id="LC6796" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6797" class="css-a4x74f"><span>6797</span></td><td id="LC6797" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6798" class="css-a4x74f"><span>6798</span></td><td id="LC6798" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6799" class="css-a4x74f"><span>6799</span></td><td id="LC6799" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6800" class="css-a4x74f"><span>6800</span></td><td id="LC6800" class="css-1dcdqdg"><code>	<span class="code-comment">// @method hasLayer(layer: Layer): Boolean</span>
</code></td></tr><tr><td id="L6801" class="css-a4x74f"><span>6801</span></td><td id="LC6801" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the given layer is currently added to the group.</span>
</code></td></tr><tr><td id="L6802" class="css-a4x74f"><span>6802</span></td><td id="LC6802" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L6803" class="css-a4x74f"><span>6803</span></td><td id="LC6803" class="css-1dcdqdg"><code>	<span class="code-comment">// @method hasLayer(id: Number): Boolean</span>
</code></td></tr><tr><td id="L6804" class="css-a4x74f"><span>6804</span></td><td id="LC6804" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the given internal ID is currently added to the group.</span>
</code></td></tr><tr><td id="L6805" class="css-a4x74f"><span>6805</span></td><td id="LC6805" class="css-1dcdqdg"><code>	hasLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6806" class="css-a4x74f"><span>6806</span></td><td id="LC6806" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layerId = <span class="code-keyword">typeof</span> layer === <span class="code-string">'number'</span> ? layer : <span class="code-keyword">this</span>.getLayerId(layer);
</code></td></tr><tr><td id="L6807" class="css-a4x74f"><span>6807</span></td><td id="LC6807" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> layerId <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers;
</code></td></tr><tr><td id="L6808" class="css-a4x74f"><span>6808</span></td><td id="LC6808" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6809" class="css-a4x74f"><span>6809</span></td><td id="LC6809" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6810" class="css-a4x74f"><span>6810</span></td><td id="LC6810" class="css-1dcdqdg"><code>	<span class="code-comment">// @method clearLayers(): this</span>
</code></td></tr><tr><td id="L6811" class="css-a4x74f"><span>6811</span></td><td id="LC6811" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes all the layers from the group.</span>
</code></td></tr><tr><td id="L6812" class="css-a4x74f"><span>6812</span></td><td id="LC6812" class="css-1dcdqdg"><code>	clearLayers: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6813" class="css-a4x74f"><span>6813</span></td><td id="LC6813" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.eachLayer(<span class="code-keyword">this</span>.removeLayer, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6814" class="css-a4x74f"><span>6814</span></td><td id="LC6814" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6815" class="css-a4x74f"><span>6815</span></td><td id="LC6815" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6816" class="css-a4x74f"><span>6816</span></td><td id="LC6816" class="css-1dcdqdg"><code>	<span class="code-comment">// @method invoke(methodName: String, ): this</span>
</code></td></tr><tr><td id="L6817" class="css-a4x74f"><span>6817</span></td><td id="LC6817" class="css-1dcdqdg"><code>	<span class="code-comment">// Calls `methodName` on every layer contained in this group, passing any</span>
</code></td></tr><tr><td id="L6818" class="css-a4x74f"><span>6818</span></td><td id="LC6818" class="css-1dcdqdg"><code>	<span class="code-comment">// additional parameters. Has no effect if the layers contained do not</span>
</code></td></tr><tr><td id="L6819" class="css-a4x74f"><span>6819</span></td><td id="LC6819" class="css-1dcdqdg"><code>	<span class="code-comment">// implement `methodName`.</span>
</code></td></tr><tr><td id="L6820" class="css-a4x74f"><span>6820</span></td><td id="LC6820" class="css-1dcdqdg"><code>	invoke: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">methodName</span>) </span>{
</code></td></tr><tr><td id="L6821" class="css-a4x74f"><span>6821</span></td><td id="LC6821" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> args = <span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>, <span class="code-number">1</span>),
</code></td></tr><tr><td id="L6822" class="css-a4x74f"><span>6822</span></td><td id="LC6822" class="css-1dcdqdg"><code>		    i, layer;
</code></td></tr><tr><td id="L6823" class="css-a4x74f"><span>6823</span></td><td id="LC6823" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6824" class="css-a4x74f"><span>6824</span></td><td id="LC6824" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L6825" class="css-a4x74f"><span>6825</span></td><td id="LC6825" class="css-1dcdqdg"><code>			layer = <span class="code-keyword">this</span>._layers[i];
</code></td></tr><tr><td id="L6826" class="css-a4x74f"><span>6826</span></td><td id="LC6826" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6827" class="css-a4x74f"><span>6827</span></td><td id="LC6827" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (layer[methodName]) {
</code></td></tr><tr><td id="L6828" class="css-a4x74f"><span>6828</span></td><td id="LC6828" class="css-1dcdqdg"><code>				layer[methodName].apply(layer, args);
</code></td></tr><tr><td id="L6829" class="css-a4x74f"><span>6829</span></td><td id="LC6829" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L6830" class="css-a4x74f"><span>6830</span></td><td id="LC6830" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6831" class="css-a4x74f"><span>6831</span></td><td id="LC6831" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6832" class="css-a4x74f"><span>6832</span></td><td id="LC6832" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6833" class="css-a4x74f"><span>6833</span></td><td id="LC6833" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6834" class="css-a4x74f"><span>6834</span></td><td id="LC6834" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6835" class="css-a4x74f"><span>6835</span></td><td id="LC6835" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L6836" class="css-a4x74f"><span>6836</span></td><td id="LC6836" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.eachLayer(map.addLayer, map);
</code></td></tr><tr><td id="L6837" class="css-a4x74f"><span>6837</span></td><td id="LC6837" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6838" class="css-a4x74f"><span>6838</span></td><td id="LC6838" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6839" class="css-a4x74f"><span>6839</span></td><td id="LC6839" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L6840" class="css-a4x74f"><span>6840</span></td><td id="LC6840" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.eachLayer(map.removeLayer, map);
</code></td></tr><tr><td id="L6841" class="css-a4x74f"><span>6841</span></td><td id="LC6841" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6842" class="css-a4x74f"><span>6842</span></td><td id="LC6842" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6843" class="css-a4x74f"><span>6843</span></td><td id="LC6843" class="css-1dcdqdg"><code>	<span class="code-comment">// @method eachLayer(fn: Function, context?: Object): this</span>
</code></td></tr><tr><td id="L6844" class="css-a4x74f"><span>6844</span></td><td id="LC6844" class="css-1dcdqdg"><code>	<span class="code-comment">// Iterates over the layers of the group, optionally specifying context of the iterator function.</span>
</code></td></tr><tr><td id="L6845" class="css-a4x74f"><span>6845</span></td><td id="LC6845" class="css-1dcdqdg"><code>	<span class="code-comment">// ```js</span>
</code></td></tr><tr><td id="L6846" class="css-a4x74f"><span>6846</span></td><td id="LC6846" class="css-1dcdqdg"><code>	<span class="code-comment">// group.eachLayer(function (layer) {</span>
</code></td></tr><tr><td id="L6847" class="css-a4x74f"><span>6847</span></td><td id="LC6847" class="css-1dcdqdg"><code>	<span class="code-comment">// 	layer.bindPopup('Hello');</span>
</code></td></tr><tr><td id="L6848" class="css-a4x74f"><span>6848</span></td><td id="LC6848" class="css-1dcdqdg"><code>	<span class="code-comment">// });</span>
</code></td></tr><tr><td id="L6849" class="css-a4x74f"><span>6849</span></td><td id="LC6849" class="css-1dcdqdg"><code>	<span class="code-comment">// ```</span>
</code></td></tr><tr><td id="L6850" class="css-a4x74f"><span>6850</span></td><td id="LC6850" class="css-1dcdqdg"><code>	eachLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">method, context</span>) </span>{
</code></td></tr><tr><td id="L6851" class="css-a4x74f"><span>6851</span></td><td id="LC6851" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L6852" class="css-a4x74f"><span>6852</span></td><td id="LC6852" class="css-1dcdqdg"><code>			method.call(context, <span class="code-keyword">this</span>._layers[i]);
</code></td></tr><tr><td id="L6853" class="css-a4x74f"><span>6853</span></td><td id="LC6853" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6854" class="css-a4x74f"><span>6854</span></td><td id="LC6854" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6855" class="css-a4x74f"><span>6855</span></td><td id="LC6855" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6856" class="css-a4x74f"><span>6856</span></td><td id="LC6856" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6857" class="css-a4x74f"><span>6857</span></td><td id="LC6857" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLayer(id: Number): Layer</span>
</code></td></tr><tr><td id="L6858" class="css-a4x74f"><span>6858</span></td><td id="LC6858" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the layer with the given internal ID.</span>
</code></td></tr><tr><td id="L6859" class="css-a4x74f"><span>6859</span></td><td id="LC6859" class="css-1dcdqdg"><code>	getLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">id</span>) </span>{
</code></td></tr><tr><td id="L6860" class="css-a4x74f"><span>6860</span></td><td id="LC6860" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._layers[id];
</code></td></tr><tr><td id="L6861" class="css-a4x74f"><span>6861</span></td><td id="LC6861" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6862" class="css-a4x74f"><span>6862</span></td><td id="LC6862" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6863" class="css-a4x74f"><span>6863</span></td><td id="LC6863" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLayers(): Layer[]</span>
</code></td></tr><tr><td id="L6864" class="css-a4x74f"><span>6864</span></td><td id="LC6864" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns an array of all the layers added to the group.</span>
</code></td></tr><tr><td id="L6865" class="css-a4x74f"><span>6865</span></td><td id="LC6865" class="css-1dcdqdg"><code>	getLayers: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6866" class="css-a4x74f"><span>6866</span></td><td id="LC6866" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layers = [];
</code></td></tr><tr><td id="L6867" class="css-a4x74f"><span>6867</span></td><td id="LC6867" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.eachLayer(layers.push, layers);
</code></td></tr><tr><td id="L6868" class="css-a4x74f"><span>6868</span></td><td id="LC6868" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> layers;
</code></td></tr><tr><td id="L6869" class="css-a4x74f"><span>6869</span></td><td id="LC6869" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6870" class="css-a4x74f"><span>6870</span></td><td id="LC6870" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6871" class="css-a4x74f"><span>6871</span></td><td id="LC6871" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZIndex(zIndex: Number): this</span>
</code></td></tr><tr><td id="L6872" class="css-a4x74f"><span>6872</span></td><td id="LC6872" class="css-1dcdqdg"><code>	<span class="code-comment">// Calls `setZIndex` on every layer contained in this group, passing the z-index.</span>
</code></td></tr><tr><td id="L6873" class="css-a4x74f"><span>6873</span></td><td id="LC6873" class="css-1dcdqdg"><code>	setZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zIndex</span>) </span>{
</code></td></tr><tr><td id="L6874" class="css-a4x74f"><span>6874</span></td><td id="LC6874" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.invoke(<span class="code-string">'setZIndex'</span>, zIndex);
</code></td></tr><tr><td id="L6875" class="css-a4x74f"><span>6875</span></td><td id="LC6875" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6876" class="css-a4x74f"><span>6876</span></td><td id="LC6876" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6877" class="css-a4x74f"><span>6877</span></td><td id="LC6877" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLayerId(layer: Layer): Number</span>
</code></td></tr><tr><td id="L6878" class="css-a4x74f"><span>6878</span></td><td id="LC6878" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the internal ID for a layer</span>
</code></td></tr><tr><td id="L6879" class="css-a4x74f"><span>6879</span></td><td id="LC6879" class="css-1dcdqdg"><code>	getLayerId: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6880" class="css-a4x74f"><span>6880</span></td><td id="LC6880" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> stamp(layer);
</code></td></tr><tr><td id="L6881" class="css-a4x74f"><span>6881</span></td><td id="LC6881" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6882" class="css-a4x74f"><span>6882</span></td><td id="LC6882" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6883" class="css-a4x74f"><span>6883</span></td><td id="LC6883" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6884" class="css-a4x74f"><span>6884</span></td><td id="LC6884" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6885" class="css-a4x74f"><span>6885</span></td><td id="LC6885" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.layerGroup(layers?: Layer[], options?: Object)</span>
</code></td></tr><tr><td id="L6886" class="css-a4x74f"><span>6886</span></td><td id="LC6886" class="css-1dcdqdg"><code><span class="code-comment">// Create a layer group, optionally given an initial set of layers and an `options` object.</span>
</code></td></tr><tr><td id="L6887" class="css-a4x74f"><span>6887</span></td><td id="LC6887" class="css-1dcdqdg"><code><span class="code-keyword">var</span> layerGroup = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layers, options</span>) </span>{
</code></td></tr><tr><td id="L6888" class="css-a4x74f"><span>6888</span></td><td id="LC6888" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> LayerGroup(layers, options);
</code></td></tr><tr><td id="L6889" class="css-a4x74f"><span>6889</span></td><td id="LC6889" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6890" class="css-a4x74f"><span>6890</span></td><td id="LC6890" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6891" class="css-a4x74f"><span>6891</span></td><td id="LC6891" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6892" class="css-a4x74f"><span>6892</span></td><td id="LC6892" class="css-1dcdqdg"><code><span class="code-comment"> * @class FeatureGroup
</span></code></td></tr><tr><td id="L6893" class="css-a4x74f"><span>6893</span></td><td id="LC6893" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.FeatureGroup
</span></code></td></tr><tr><td id="L6894" class="css-a4x74f"><span>6894</span></td><td id="LC6894" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits LayerGroup
</span></code></td></tr><tr><td id="L6895" class="css-a4x74f"><span>6895</span></td><td id="LC6895" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6896" class="css-a4x74f"><span>6896</span></td><td id="LC6896" class="css-1dcdqdg"><code><span class="code-comment"> * Extended `LayerGroup` that makes it easier to do the same thing to all its member layers:
</span></code></td></tr><tr><td id="L6897" class="css-a4x74f"><span>6897</span></td><td id="LC6897" class="css-1dcdqdg"><code><span class="code-comment"> *  * [`bindPopup`](#layer-bindpopup) binds a popup to all of the layers at once (likewise with [`bindTooltip`](#layer-bindtooltip))
</span></code></td></tr><tr><td id="L6898" class="css-a4x74f"><span>6898</span></td><td id="LC6898" class="css-1dcdqdg"><code><span class="code-comment"> *  * Events are propagated to the `FeatureGroup`, so if the group has an event
</span></code></td></tr><tr><td id="L6899" class="css-a4x74f"><span>6899</span></td><td id="LC6899" class="css-1dcdqdg"><code><span class="code-comment"> * handler, it will handle events from any of the layers. This includes mouse events
</span></code></td></tr><tr><td id="L6900" class="css-a4x74f"><span>6900</span></td><td id="LC6900" class="css-1dcdqdg"><code><span class="code-comment"> * and custom events.
</span></code></td></tr><tr><td id="L6901" class="css-a4x74f"><span>6901</span></td><td id="LC6901" class="css-1dcdqdg"><code><span class="code-comment"> *  * Has `layeradd` and `layerremove` events
</span></code></td></tr><tr><td id="L6902" class="css-a4x74f"><span>6902</span></td><td id="LC6902" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6903" class="css-a4x74f"><span>6903</span></td><td id="LC6903" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L6904" class="css-a4x74f"><span>6904</span></td><td id="LC6904" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6905" class="css-a4x74f"><span>6905</span></td><td id="LC6905" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L6906" class="css-a4x74f"><span>6906</span></td><td id="LC6906" class="css-1dcdqdg"><code><span class="code-comment"> * L.featureGroup([marker1, marker2, polyline])
</span></code></td></tr><tr><td id="L6907" class="css-a4x74f"><span>6907</span></td><td id="LC6907" class="css-1dcdqdg"><code><span class="code-comment"> * 	.bindPopup('Hello world!')
</span></code></td></tr><tr><td id="L6908" class="css-a4x74f"><span>6908</span></td><td id="LC6908" class="css-1dcdqdg"><code><span class="code-comment"> * 	.on('click', function() { alert('Clicked on a member of the group!'); })
</span></code></td></tr><tr><td id="L6909" class="css-a4x74f"><span>6909</span></td><td id="LC6909" class="css-1dcdqdg"><code><span class="code-comment"> * 	.addTo(map);
</span></code></td></tr><tr><td id="L6910" class="css-a4x74f"><span>6910</span></td><td id="LC6910" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L6911" class="css-a4x74f"><span>6911</span></td><td id="LC6911" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L6912" class="css-a4x74f"><span>6912</span></td><td id="LC6912" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6913" class="css-a4x74f"><span>6913</span></td><td id="LC6913" class="css-1dcdqdg"><code><span class="code-keyword">var</span> FeatureGroup = LayerGroup.extend({
</code></td></tr><tr><td id="L6914" class="css-a4x74f"><span>6914</span></td><td id="LC6914" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6915" class="css-a4x74f"><span>6915</span></td><td id="LC6915" class="css-1dcdqdg"><code>	addLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6916" class="css-a4x74f"><span>6916</span></td><td id="LC6916" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.hasLayer(layer)) {
</code></td></tr><tr><td id="L6917" class="css-a4x74f"><span>6917</span></td><td id="LC6917" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6918" class="css-a4x74f"><span>6918</span></td><td id="LC6918" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6919" class="css-a4x74f"><span>6919</span></td><td id="LC6919" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6920" class="css-a4x74f"><span>6920</span></td><td id="LC6920" class="css-1dcdqdg"><code>		layer.addEventParent(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6921" class="css-a4x74f"><span>6921</span></td><td id="LC6921" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6922" class="css-a4x74f"><span>6922</span></td><td id="LC6922" class="css-1dcdqdg"><code>		LayerGroup.prototype.addLayer.call(<span class="code-keyword">this</span>, layer);
</code></td></tr><tr><td id="L6923" class="css-a4x74f"><span>6923</span></td><td id="LC6923" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6924" class="css-a4x74f"><span>6924</span></td><td id="LC6924" class="css-1dcdqdg"><code>		<span class="code-comment">// @event layeradd: LayerEvent</span>
</code></td></tr><tr><td id="L6925" class="css-a4x74f"><span>6925</span></td><td id="LC6925" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a layer is added to this `FeatureGroup`</span>
</code></td></tr><tr><td id="L6926" class="css-a4x74f"><span>6926</span></td><td id="LC6926" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'layeradd'</span>, {<span class="code-attr">layer</span>: layer});
</code></td></tr><tr><td id="L6927" class="css-a4x74f"><span>6927</span></td><td id="LC6927" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6928" class="css-a4x74f"><span>6928</span></td><td id="LC6928" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6929" class="css-a4x74f"><span>6929</span></td><td id="LC6929" class="css-1dcdqdg"><code>	removeLayer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L6930" class="css-a4x74f"><span>6930</span></td><td id="LC6930" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.hasLayer(layer)) {
</code></td></tr><tr><td id="L6931" class="css-a4x74f"><span>6931</span></td><td id="LC6931" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L6932" class="css-a4x74f"><span>6932</span></td><td id="LC6932" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6933" class="css-a4x74f"><span>6933</span></td><td id="LC6933" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L6934" class="css-a4x74f"><span>6934</span></td><td id="LC6934" class="css-1dcdqdg"><code>			layer = <span class="code-keyword">this</span>._layers[layer];
</code></td></tr><tr><td id="L6935" class="css-a4x74f"><span>6935</span></td><td id="LC6935" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6936" class="css-a4x74f"><span>6936</span></td><td id="LC6936" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6937" class="css-a4x74f"><span>6937</span></td><td id="LC6937" class="css-1dcdqdg"><code>		layer.removeEventParent(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L6938" class="css-a4x74f"><span>6938</span></td><td id="LC6938" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6939" class="css-a4x74f"><span>6939</span></td><td id="LC6939" class="css-1dcdqdg"><code>		LayerGroup.prototype.removeLayer.call(<span class="code-keyword">this</span>, layer);
</code></td></tr><tr><td id="L6940" class="css-a4x74f"><span>6940</span></td><td id="LC6940" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6941" class="css-a4x74f"><span>6941</span></td><td id="LC6941" class="css-1dcdqdg"><code>		<span class="code-comment">// @event layerremove: LayerEvent</span>
</code></td></tr><tr><td id="L6942" class="css-a4x74f"><span>6942</span></td><td id="LC6942" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a layer is removed from this `FeatureGroup`</span>
</code></td></tr><tr><td id="L6943" class="css-a4x74f"><span>6943</span></td><td id="LC6943" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'layerremove'</span>, {<span class="code-attr">layer</span>: layer});
</code></td></tr><tr><td id="L6944" class="css-a4x74f"><span>6944</span></td><td id="LC6944" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6945" class="css-a4x74f"><span>6945</span></td><td id="LC6945" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6946" class="css-a4x74f"><span>6946</span></td><td id="LC6946" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setStyle(style: Path options): this</span>
</code></td></tr><tr><td id="L6947" class="css-a4x74f"><span>6947</span></td><td id="LC6947" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the given path options to each layer of the group that has a `setStyle` method.</span>
</code></td></tr><tr><td id="L6948" class="css-a4x74f"><span>6948</span></td><td id="LC6948" class="css-1dcdqdg"><code>	setStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">style</span>) </span>{
</code></td></tr><tr><td id="L6949" class="css-a4x74f"><span>6949</span></td><td id="LC6949" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.invoke(<span class="code-string">'setStyle'</span>, style);
</code></td></tr><tr><td id="L6950" class="css-a4x74f"><span>6950</span></td><td id="LC6950" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6951" class="css-a4x74f"><span>6951</span></td><td id="LC6951" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6952" class="css-a4x74f"><span>6952</span></td><td id="LC6952" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToFront(): this</span>
</code></td></tr><tr><td id="L6953" class="css-a4x74f"><span>6953</span></td><td id="LC6953" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the layer group to the top of all other layers</span>
</code></td></tr><tr><td id="L6954" class="css-a4x74f"><span>6954</span></td><td id="LC6954" class="css-1dcdqdg"><code>	bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6955" class="css-a4x74f"><span>6955</span></td><td id="LC6955" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.invoke(<span class="code-string">'bringToFront'</span>);
</code></td></tr><tr><td id="L6956" class="css-a4x74f"><span>6956</span></td><td id="LC6956" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6957" class="css-a4x74f"><span>6957</span></td><td id="LC6957" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6958" class="css-a4x74f"><span>6958</span></td><td id="LC6958" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToBack(): this</span>
</code></td></tr><tr><td id="L6959" class="css-a4x74f"><span>6959</span></td><td id="LC6959" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the layer group to the back of all other layers</span>
</code></td></tr><tr><td id="L6960" class="css-a4x74f"><span>6960</span></td><td id="LC6960" class="css-1dcdqdg"><code>	bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6961" class="css-a4x74f"><span>6961</span></td><td id="LC6961" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.invoke(<span class="code-string">'bringToBack'</span>);
</code></td></tr><tr><td id="L6962" class="css-a4x74f"><span>6962</span></td><td id="LC6962" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L6963" class="css-a4x74f"><span>6963</span></td><td id="LC6963" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6964" class="css-a4x74f"><span>6964</span></td><td id="LC6964" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBounds(): LatLngBounds</span>
</code></td></tr><tr><td id="L6965" class="css-a4x74f"><span>6965</span></td><td id="LC6965" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).</span>
</code></td></tr><tr><td id="L6966" class="css-a4x74f"><span>6966</span></td><td id="LC6966" class="css-1dcdqdg"><code>	getBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L6967" class="css-a4x74f"><span>6967</span></td><td id="LC6967" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">new</span> LatLngBounds();
</code></td></tr><tr><td id="L6968" class="css-a4x74f"><span>6968</span></td><td id="LC6968" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6969" class="css-a4x74f"><span>6969</span></td><td id="LC6969" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L6970" class="css-a4x74f"><span>6970</span></td><td id="LC6970" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> layer = <span class="code-keyword">this</span>._layers[id];
</code></td></tr><tr><td id="L6971" class="css-a4x74f"><span>6971</span></td><td id="LC6971" class="css-1dcdqdg"><code>			bounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());
</code></td></tr><tr><td id="L6972" class="css-a4x74f"><span>6972</span></td><td id="LC6972" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L6973" class="css-a4x74f"><span>6973</span></td><td id="LC6973" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> bounds;
</code></td></tr><tr><td id="L6974" class="css-a4x74f"><span>6974</span></td><td id="LC6974" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L6975" class="css-a4x74f"><span>6975</span></td><td id="LC6975" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L6976" class="css-a4x74f"><span>6976</span></td><td id="LC6976" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6977" class="css-a4x74f"><span>6977</span></td><td id="LC6977" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.featureGroup(layers?: Layer[], options?: Object)</span>
</code></td></tr><tr><td id="L6978" class="css-a4x74f"><span>6978</span></td><td id="LC6978" class="css-1dcdqdg"><code><span class="code-comment">// Create a feature group, optionally given an initial set of layers and an `options` object.</span>
</code></td></tr><tr><td id="L6979" class="css-a4x74f"><span>6979</span></td><td id="LC6979" class="css-1dcdqdg"><code><span class="code-keyword">var</span> featureGroup = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layers, options</span>) </span>{
</code></td></tr><tr><td id="L6980" class="css-a4x74f"><span>6980</span></td><td id="LC6980" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> FeatureGroup(layers, options);
</code></td></tr><tr><td id="L6981" class="css-a4x74f"><span>6981</span></td><td id="LC6981" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L6982" class="css-a4x74f"><span>6982</span></td><td id="LC6982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L6983" class="css-a4x74f"><span>6983</span></td><td id="LC6983" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L6984" class="css-a4x74f"><span>6984</span></td><td id="LC6984" class="css-1dcdqdg"><code><span class="code-comment"> * @class Icon
</span></code></td></tr><tr><td id="L6985" class="css-a4x74f"><span>6985</span></td><td id="LC6985" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Icon
</span></code></td></tr><tr><td id="L6986" class="css-a4x74f"><span>6986</span></td><td id="LC6986" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6987" class="css-a4x74f"><span>6987</span></td><td id="LC6987" class="css-1dcdqdg"><code><span class="code-comment"> * Represents an icon to provide when creating a marker.
</span></code></td></tr><tr><td id="L6988" class="css-a4x74f"><span>6988</span></td><td id="LC6988" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6989" class="css-a4x74f"><span>6989</span></td><td id="LC6989" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L6990" class="css-a4x74f"><span>6990</span></td><td id="LC6990" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L6991" class="css-a4x74f"><span>6991</span></td><td id="LC6991" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L6992" class="css-a4x74f"><span>6992</span></td><td id="LC6992" class="css-1dcdqdg"><code><span class="code-comment"> * var myIcon = L.icon({
</span></code></td></tr><tr><td id="L6993" class="css-a4x74f"><span>6993</span></td><td id="LC6993" class="css-1dcdqdg"><code><span class="code-comment"> *     iconUrl: 'my-icon.png',
</span></code></td></tr><tr><td id="L6994" class="css-a4x74f"><span>6994</span></td><td id="LC6994" class="css-1dcdqdg"><code><span class="code-comment"> *     iconRetinaUrl: 'my-icon@2x.png',
</span></code></td></tr><tr><td id="L6995" class="css-a4x74f"><span>6995</span></td><td id="LC6995" class="css-1dcdqdg"><code><span class="code-comment"> *     iconSize: [38, 95],
</span></code></td></tr><tr><td id="L6996" class="css-a4x74f"><span>6996</span></td><td id="LC6996" class="css-1dcdqdg"><code><span class="code-comment"> *     iconAnchor: [22, 94],
</span></code></td></tr><tr><td id="L6997" class="css-a4x74f"><span>6997</span></td><td id="LC6997" class="css-1dcdqdg"><code><span class="code-comment"> *     popupAnchor: [-3, -76],
</span></code></td></tr><tr><td id="L6998" class="css-a4x74f"><span>6998</span></td><td id="LC6998" class="css-1dcdqdg"><code><span class="code-comment"> *     shadowUrl: 'my-icon-shadow.png',
</span></code></td></tr><tr><td id="L6999" class="css-a4x74f"><span>6999</span></td><td id="LC6999" class="css-1dcdqdg"><code><span class="code-comment"> *     shadowRetinaUrl: 'my-icon-shadow@2x.png',
</span></code></td></tr><tr><td id="L7000" class="css-a4x74f"><span>7000</span></td><td id="LC7000" class="css-1dcdqdg"><code><span class="code-comment"> *     shadowSize: [68, 95],
</span></code></td></tr><tr><td id="L7001" class="css-a4x74f"><span>7001</span></td><td id="LC7001" class="css-1dcdqdg"><code><span class="code-comment"> *     shadowAnchor: [22, 94]
</span></code></td></tr><tr><td id="L7002" class="css-a4x74f"><span>7002</span></td><td id="LC7002" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L7003" class="css-a4x74f"><span>7003</span></td><td id="LC7003" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7004" class="css-a4x74f"><span>7004</span></td><td id="LC7004" class="css-1dcdqdg"><code><span class="code-comment"> * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);
</span></code></td></tr><tr><td id="L7005" class="css-a4x74f"><span>7005</span></td><td id="LC7005" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L7006" class="css-a4x74f"><span>7006</span></td><td id="LC7006" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7007" class="css-a4x74f"><span>7007</span></td><td id="LC7007" class="css-1dcdqdg"><code><span class="code-comment"> * `L.Icon.Default` extends `L.Icon` and is the blue icon Leaflet uses for markers by default.
</span></code></td></tr><tr><td id="L7008" class="css-a4x74f"><span>7008</span></td><td id="LC7008" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7009" class="css-a4x74f"><span>7009</span></td><td id="LC7009" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7010" class="css-a4x74f"><span>7010</span></td><td id="LC7010" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7011" class="css-a4x74f"><span>7011</span></td><td id="LC7011" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Icon = Class.extend({
</code></td></tr><tr><td id="L7012" class="css-a4x74f"><span>7012</span></td><td id="LC7012" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7013" class="css-a4x74f"><span>7013</span></td><td id="LC7013" class="css-1dcdqdg"><code>	<span class="code-comment">/* @section
</span></code></td></tr><tr><td id="L7014" class="css-a4x74f"><span>7014</span></td><td id="LC7014" class="css-1dcdqdg"><code><span class="code-comment">	 * @aka Icon options
</span></code></td></tr><tr><td id="L7015" class="css-a4x74f"><span>7015</span></td><td id="LC7015" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7016" class="css-a4x74f"><span>7016</span></td><td id="LC7016" class="css-1dcdqdg"><code><span class="code-comment">	 * @option iconUrl: String = null
</span></code></td></tr><tr><td id="L7017" class="css-a4x74f"><span>7017</span></td><td id="LC7017" class="css-1dcdqdg"><code><span class="code-comment">	 * **(required)** The URL to the icon image (absolute or relative to your script path).
</span></code></td></tr><tr><td id="L7018" class="css-a4x74f"><span>7018</span></td><td id="LC7018" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7019" class="css-a4x74f"><span>7019</span></td><td id="LC7019" class="css-1dcdqdg"><code><span class="code-comment">	 * @option iconRetinaUrl: String = null
</span></code></td></tr><tr><td id="L7020" class="css-a4x74f"><span>7020</span></td><td id="LC7020" class="css-1dcdqdg"><code><span class="code-comment">	 * The URL to a retina sized version of the icon image (absolute or relative to your
</span></code></td></tr><tr><td id="L7021" class="css-a4x74f"><span>7021</span></td><td id="LC7021" class="css-1dcdqdg"><code><span class="code-comment">	 * script path). Used for Retina screen devices.
</span></code></td></tr><tr><td id="L7022" class="css-a4x74f"><span>7022</span></td><td id="LC7022" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7023" class="css-a4x74f"><span>7023</span></td><td id="LC7023" class="css-1dcdqdg"><code><span class="code-comment">	 * @option iconSize: Point = null
</span></code></td></tr><tr><td id="L7024" class="css-a4x74f"><span>7024</span></td><td id="LC7024" class="css-1dcdqdg"><code><span class="code-comment">	 * Size of the icon image in pixels.
</span></code></td></tr><tr><td id="L7025" class="css-a4x74f"><span>7025</span></td><td id="LC7025" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7026" class="css-a4x74f"><span>7026</span></td><td id="LC7026" class="css-1dcdqdg"><code><span class="code-comment">	 * @option iconAnchor: Point = null
</span></code></td></tr><tr><td id="L7027" class="css-a4x74f"><span>7027</span></td><td id="LC7027" class="css-1dcdqdg"><code><span class="code-comment">	 * The coordinates of the "tip" of the icon (relative to its top left corner). The icon
</span></code></td></tr><tr><td id="L7028" class="css-a4x74f"><span>7028</span></td><td id="LC7028" class="css-1dcdqdg"><code><span class="code-comment">	 * will be aligned so that this point is at the marker's geographical location. Centered
</span></code></td></tr><tr><td id="L7029" class="css-a4x74f"><span>7029</span></td><td id="LC7029" class="css-1dcdqdg"><code><span class="code-comment">	 * by default if size is specified, also can be set in CSS with negative margins.
</span></code></td></tr><tr><td id="L7030" class="css-a4x74f"><span>7030</span></td><td id="LC7030" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7031" class="css-a4x74f"><span>7031</span></td><td id="LC7031" class="css-1dcdqdg"><code><span class="code-comment">	 * @option popupAnchor: Point = [0, 0]
</span></code></td></tr><tr><td id="L7032" class="css-a4x74f"><span>7032</span></td><td id="LC7032" class="css-1dcdqdg"><code><span class="code-comment">	 * The coordinates of the point from which popups will "open", relative to the icon anchor.
</span></code></td></tr><tr><td id="L7033" class="css-a4x74f"><span>7033</span></td><td id="LC7033" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7034" class="css-a4x74f"><span>7034</span></td><td id="LC7034" class="css-1dcdqdg"><code><span class="code-comment">	 * @option tooltipAnchor: Point = [0, 0]
</span></code></td></tr><tr><td id="L7035" class="css-a4x74f"><span>7035</span></td><td id="LC7035" class="css-1dcdqdg"><code><span class="code-comment">	 * The coordinates of the point from which tooltips will "open", relative to the icon anchor.
</span></code></td></tr><tr><td id="L7036" class="css-a4x74f"><span>7036</span></td><td id="LC7036" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7037" class="css-a4x74f"><span>7037</span></td><td id="LC7037" class="css-1dcdqdg"><code><span class="code-comment">	 * @option shadowUrl: String = null
</span></code></td></tr><tr><td id="L7038" class="css-a4x74f"><span>7038</span></td><td id="LC7038" class="css-1dcdqdg"><code><span class="code-comment">	 * The URL to the icon shadow image. If not specified, no shadow image will be created.
</span></code></td></tr><tr><td id="L7039" class="css-a4x74f"><span>7039</span></td><td id="LC7039" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7040" class="css-a4x74f"><span>7040</span></td><td id="LC7040" class="css-1dcdqdg"><code><span class="code-comment">	 * @option shadowRetinaUrl: String = null
</span></code></td></tr><tr><td id="L7041" class="css-a4x74f"><span>7041</span></td><td id="LC7041" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7042" class="css-a4x74f"><span>7042</span></td><td id="LC7042" class="css-1dcdqdg"><code><span class="code-comment">	 * @option shadowSize: Point = null
</span></code></td></tr><tr><td id="L7043" class="css-a4x74f"><span>7043</span></td><td id="LC7043" class="css-1dcdqdg"><code><span class="code-comment">	 * Size of the shadow image in pixels.
</span></code></td></tr><tr><td id="L7044" class="css-a4x74f"><span>7044</span></td><td id="LC7044" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7045" class="css-a4x74f"><span>7045</span></td><td id="LC7045" class="css-1dcdqdg"><code><span class="code-comment">	 * @option shadowAnchor: Point = null
</span></code></td></tr><tr><td id="L7046" class="css-a4x74f"><span>7046</span></td><td id="LC7046" class="css-1dcdqdg"><code><span class="code-comment">	 * The coordinates of the "tip" of the shadow (relative to its top left corner) (the same
</span></code></td></tr><tr><td id="L7047" class="css-a4x74f"><span>7047</span></td><td id="LC7047" class="css-1dcdqdg"><code><span class="code-comment">	 * as iconAnchor if not specified).
</span></code></td></tr><tr><td id="L7048" class="css-a4x74f"><span>7048</span></td><td id="LC7048" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7049" class="css-a4x74f"><span>7049</span></td><td id="LC7049" class="css-1dcdqdg"><code><span class="code-comment">	 * @option className: String = ''
</span></code></td></tr><tr><td id="L7050" class="css-a4x74f"><span>7050</span></td><td id="LC7050" class="css-1dcdqdg"><code><span class="code-comment">	 * A custom class name to assign to both icon and shadow images. Empty by default.
</span></code></td></tr><tr><td id="L7051" class="css-a4x74f"><span>7051</span></td><td id="LC7051" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L7052" class="css-a4x74f"><span>7052</span></td><td id="LC7052" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7053" class="css-a4x74f"><span>7053</span></td><td id="LC7053" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L7054" class="css-a4x74f"><span>7054</span></td><td id="LC7054" class="css-1dcdqdg"><code>		popupAnchor: [<span class="code-number">0</span>, <span class="code-number">0</span>],
</code></td></tr><tr><td id="L7055" class="css-a4x74f"><span>7055</span></td><td id="LC7055" class="css-1dcdqdg"><code>		tooltipAnchor: [<span class="code-number">0</span>, <span class="code-number">0</span>],
</code></td></tr><tr><td id="L7056" class="css-a4x74f"><span>7056</span></td><td id="LC7056" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7057" class="css-a4x74f"><span>7057</span></td><td id="LC7057" class="css-1dcdqdg"><code>		<span class="code-comment">// @option crossOrigin: Boolean|String = false</span>
</code></td></tr><tr><td id="L7058" class="css-a4x74f"><span>7058</span></td><td id="LC7058" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the crossOrigin attribute will be added to the tiles.</span>
</code></td></tr><tr><td id="L7059" class="css-a4x74f"><span>7059</span></td><td id="LC7059" class="css-1dcdqdg"><code>		<span class="code-comment">// If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.</span>
</code></td></tr><tr><td id="L7060" class="css-a4x74f"><span>7060</span></td><td id="LC7060" class="css-1dcdqdg"><code>		<span class="code-comment">// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.</span>
</code></td></tr><tr><td id="L7061" class="css-a4x74f"><span>7061</span></td><td id="LC7061" class="css-1dcdqdg"><code>		crossOrigin: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L7062" class="css-a4x74f"><span>7062</span></td><td id="LC7062" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7063" class="css-a4x74f"><span>7063</span></td><td id="LC7063" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7064" class="css-a4x74f"><span>7064</span></td><td id="LC7064" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L7065" class="css-a4x74f"><span>7065</span></td><td id="LC7065" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L7066" class="css-a4x74f"><span>7066</span></td><td id="LC7066" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7067" class="css-a4x74f"><span>7067</span></td><td id="LC7067" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7068" class="css-a4x74f"><span>7068</span></td><td id="LC7068" class="css-1dcdqdg"><code>	<span class="code-comment">// @method createIcon(oldIcon?: HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L7069" class="css-a4x74f"><span>7069</span></td><td id="LC7069" class="css-1dcdqdg"><code>	<span class="code-comment">// Called internally when the icon has to be shown, returns a `&lt;img&gt;` HTML element</span>
</code></td></tr><tr><td id="L7070" class="css-a4x74f"><span>7070</span></td><td id="LC7070" class="css-1dcdqdg"><code>	<span class="code-comment">// styled according to the options.</span>
</code></td></tr><tr><td id="L7071" class="css-a4x74f"><span>7071</span></td><td id="LC7071" class="css-1dcdqdg"><code>	createIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">oldIcon</span>) </span>{
</code></td></tr><tr><td id="L7072" class="css-a4x74f"><span>7072</span></td><td id="LC7072" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._createIcon(<span class="code-string">'icon'</span>, oldIcon);
</code></td></tr><tr><td id="L7073" class="css-a4x74f"><span>7073</span></td><td id="LC7073" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7074" class="css-a4x74f"><span>7074</span></td><td id="LC7074" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7075" class="css-a4x74f"><span>7075</span></td><td id="LC7075" class="css-1dcdqdg"><code>	<span class="code-comment">// @method createShadow(oldIcon?: HTMLElement): HTMLElement</span>
</code></td></tr><tr><td id="L7076" class="css-a4x74f"><span>7076</span></td><td id="LC7076" class="css-1dcdqdg"><code>	<span class="code-comment">// As `createIcon`, but for the shadow beneath it.</span>
</code></td></tr><tr><td id="L7077" class="css-a4x74f"><span>7077</span></td><td id="LC7077" class="css-1dcdqdg"><code>	createShadow: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">oldIcon</span>) </span>{
</code></td></tr><tr><td id="L7078" class="css-a4x74f"><span>7078</span></td><td id="LC7078" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._createIcon(<span class="code-string">'shadow'</span>, oldIcon);
</code></td></tr><tr><td id="L7079" class="css-a4x74f"><span>7079</span></td><td id="LC7079" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7080" class="css-a4x74f"><span>7080</span></td><td id="LC7080" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7081" class="css-a4x74f"><span>7081</span></td><td id="LC7081" class="css-1dcdqdg"><code>	_createIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name, oldIcon</span>) </span>{
</code></td></tr><tr><td id="L7082" class="css-a4x74f"><span>7082</span></td><td id="LC7082" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> src = <span class="code-keyword">this</span>._getIconUrl(name);
</code></td></tr><tr><td id="L7083" class="css-a4x74f"><span>7083</span></td><td id="LC7083" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7084" class="css-a4x74f"><span>7084</span></td><td id="LC7084" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!src) {
</code></td></tr><tr><td id="L7085" class="css-a4x74f"><span>7085</span></td><td id="LC7085" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (name === <span class="code-string">'icon'</span>) {
</code></td></tr><tr><td id="L7086" class="css-a4x74f"><span>7086</span></td><td id="LC7086" class="css-1dcdqdg"><code>				<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'iconUrl not set in Icon options (see the docs).'</span>);
</code></td></tr><tr><td id="L7087" class="css-a4x74f"><span>7087</span></td><td id="LC7087" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7088" class="css-a4x74f"><span>7088</span></td><td id="LC7088" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L7089" class="css-a4x74f"><span>7089</span></td><td id="LC7089" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7090" class="css-a4x74f"><span>7090</span></td><td id="LC7090" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7091" class="css-a4x74f"><span>7091</span></td><td id="LC7091" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> img = <span class="code-keyword">this</span>._createImg(src, oldIcon &amp;&amp; oldIcon.tagName === <span class="code-string">'IMG'</span> ? oldIcon : <span class="code-literal">null</span>);
</code></td></tr><tr><td id="L7092" class="css-a4x74f"><span>7092</span></td><td id="LC7092" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setIconStyles(img, name);
</code></td></tr><tr><td id="L7093" class="css-a4x74f"><span>7093</span></td><td id="LC7093" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7094" class="css-a4x74f"><span>7094</span></td><td id="LC7094" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.crossOrigin || <span class="code-keyword">this</span>.options.crossOrigin === <span class="code-string">''</span>) {
</code></td></tr><tr><td id="L7095" class="css-a4x74f"><span>7095</span></td><td id="LC7095" class="css-1dcdqdg"><code>			img.crossOrigin = <span class="code-keyword">this</span>.options.crossOrigin === <span class="code-literal">true</span> ? <span class="code-string">''</span> : <span class="code-keyword">this</span>.options.crossOrigin;
</code></td></tr><tr><td id="L7096" class="css-a4x74f"><span>7096</span></td><td id="LC7096" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7097" class="css-a4x74f"><span>7097</span></td><td id="LC7097" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7098" class="css-a4x74f"><span>7098</span></td><td id="LC7098" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> img;
</code></td></tr><tr><td id="L7099" class="css-a4x74f"><span>7099</span></td><td id="LC7099" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7100" class="css-a4x74f"><span>7100</span></td><td id="LC7100" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7101" class="css-a4x74f"><span>7101</span></td><td id="LC7101" class="css-1dcdqdg"><code>	_setIconStyles: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">img, name</span>) </span>{
</code></td></tr><tr><td id="L7102" class="css-a4x74f"><span>7102</span></td><td id="LC7102" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> options = <span class="code-keyword">this</span>.options;
</code></td></tr><tr><td id="L7103" class="css-a4x74f"><span>7103</span></td><td id="LC7103" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> sizeOption = options[name + <span class="code-string">'Size'</span>];
</code></td></tr><tr><td id="L7104" class="css-a4x74f"><span>7104</span></td><td id="LC7104" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7105" class="css-a4x74f"><span>7105</span></td><td id="LC7105" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> sizeOption === <span class="code-string">'number'</span>) {
</code></td></tr><tr><td id="L7106" class="css-a4x74f"><span>7106</span></td><td id="LC7106" class="css-1dcdqdg"><code>			sizeOption = [sizeOption, sizeOption];
</code></td></tr><tr><td id="L7107" class="css-a4x74f"><span>7107</span></td><td id="LC7107" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7108" class="css-a4x74f"><span>7108</span></td><td id="LC7108" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7109" class="css-a4x74f"><span>7109</span></td><td id="LC7109" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> size = toPoint(sizeOption),
</code></td></tr><tr><td id="L7110" class="css-a4x74f"><span>7110</span></td><td id="LC7110" class="css-1dcdqdg"><code>		    anchor = toPoint(name === <span class="code-string">'shadow'</span> &amp;&amp; options.shadowAnchor || options.iconAnchor ||
</code></td></tr><tr><td id="L7111" class="css-a4x74f"><span>7111</span></td><td id="LC7111" class="css-1dcdqdg"><code>		            size &amp;&amp; size.divideBy(<span class="code-number">2</span>, <span class="code-literal">true</span>));
</code></td></tr><tr><td id="L7112" class="css-a4x74f"><span>7112</span></td><td id="LC7112" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7113" class="css-a4x74f"><span>7113</span></td><td id="LC7113" class="css-1dcdqdg"><code>		img.className = <span class="code-string">'leaflet-marker-'</span> + name + <span class="code-string">' '</span> + (options.className || <span class="code-string">''</span>);
</code></td></tr><tr><td id="L7114" class="css-a4x74f"><span>7114</span></td><td id="LC7114" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7115" class="css-a4x74f"><span>7115</span></td><td id="LC7115" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (anchor) {
</code></td></tr><tr><td id="L7116" class="css-a4x74f"><span>7116</span></td><td id="LC7116" class="css-1dcdqdg"><code>			img.style.marginLeft = (-anchor.x) + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L7117" class="css-a4x74f"><span>7117</span></td><td id="LC7117" class="css-1dcdqdg"><code>			img.style.marginTop  = (-anchor.y) + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L7118" class="css-a4x74f"><span>7118</span></td><td id="LC7118" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7119" class="css-a4x74f"><span>7119</span></td><td id="LC7119" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7120" class="css-a4x74f"><span>7120</span></td><td id="LC7120" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (size) {
</code></td></tr><tr><td id="L7121" class="css-a4x74f"><span>7121</span></td><td id="LC7121" class="css-1dcdqdg"><code>			img.style.width  = size.x + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L7122" class="css-a4x74f"><span>7122</span></td><td id="LC7122" class="css-1dcdqdg"><code>			img.style.height = size.y + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L7123" class="css-a4x74f"><span>7123</span></td><td id="LC7123" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7124" class="css-a4x74f"><span>7124</span></td><td id="LC7124" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7125" class="css-a4x74f"><span>7125</span></td><td id="LC7125" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7126" class="css-a4x74f"><span>7126</span></td><td id="LC7126" class="css-1dcdqdg"><code>	_createImg: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">src, el</span>) </span>{
</code></td></tr><tr><td id="L7127" class="css-a4x74f"><span>7127</span></td><td id="LC7127" class="css-1dcdqdg"><code>		el = el || <span class="code-built_in">document</span>.createElement(<span class="code-string">'img'</span>);
</code></td></tr><tr><td id="L7128" class="css-a4x74f"><span>7128</span></td><td id="LC7128" class="css-1dcdqdg"><code>		el.src = src;
</code></td></tr><tr><td id="L7129" class="css-a4x74f"><span>7129</span></td><td id="LC7129" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> el;
</code></td></tr><tr><td id="L7130" class="css-a4x74f"><span>7130</span></td><td id="LC7130" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7131" class="css-a4x74f"><span>7131</span></td><td id="LC7131" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7132" class="css-a4x74f"><span>7132</span></td><td id="LC7132" class="css-1dcdqdg"><code>	_getIconUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L7133" class="css-a4x74f"><span>7133</span></td><td id="LC7133" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> Browser.retina &amp;&amp; <span class="code-keyword">this</span>.options[name + <span class="code-string">'RetinaUrl'</span>] || <span class="code-keyword">this</span>.options[name + <span class="code-string">'Url'</span>];
</code></td></tr><tr><td id="L7134" class="css-a4x74f"><span>7134</span></td><td id="LC7134" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L7135" class="css-a4x74f"><span>7135</span></td><td id="LC7135" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L7136" class="css-a4x74f"><span>7136</span></td><td id="LC7136" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7137" class="css-a4x74f"><span>7137</span></td><td id="LC7137" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7138" class="css-a4x74f"><span>7138</span></td><td id="LC7138" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.icon(options: Icon options)</span>
</code></td></tr><tr><td id="L7139" class="css-a4x74f"><span>7139</span></td><td id="LC7139" class="css-1dcdqdg"><code><span class="code-comment">// Creates an icon instance with the given options.</span>
</code></td></tr><tr><td id="L7140" class="css-a4x74f"><span>7140</span></td><td id="LC7140" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">icon</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L7141" class="css-a4x74f"><span>7141</span></td><td id="LC7141" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Icon(options);
</code></td></tr><tr><td id="L7142" class="css-a4x74f"><span>7142</span></td><td id="LC7142" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L7143" class="css-a4x74f"><span>7143</span></td><td id="LC7143" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7144" class="css-a4x74f"><span>7144</span></td><td id="LC7144" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L7145" class="css-a4x74f"><span>7145</span></td><td id="LC7145" class="css-1dcdqdg"><code><span class="code-comment"> * @miniclass Icon.Default (Icon)
</span></code></td></tr><tr><td id="L7146" class="css-a4x74f"><span>7146</span></td><td id="LC7146" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Icon.Default
</span></code></td></tr><tr><td id="L7147" class="css-a4x74f"><span>7147</span></td><td id="LC7147" class="css-1dcdqdg"><code><span class="code-comment"> * @section
</span></code></td></tr><tr><td id="L7148" class="css-a4x74f"><span>7148</span></td><td id="LC7148" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7149" class="css-a4x74f"><span>7149</span></td><td id="LC7149" class="css-1dcdqdg"><code><span class="code-comment"> * A trivial subclass of `Icon`, represents the icon to use in `Marker`s when
</span></code></td></tr><tr><td id="L7150" class="css-a4x74f"><span>7150</span></td><td id="LC7150" class="css-1dcdqdg"><code><span class="code-comment"> * no icon is specified. Points to the blue marker image distributed with Leaflet
</span></code></td></tr><tr><td id="L7151" class="css-a4x74f"><span>7151</span></td><td id="LC7151" class="css-1dcdqdg"><code><span class="code-comment"> * releases.
</span></code></td></tr><tr><td id="L7152" class="css-a4x74f"><span>7152</span></td><td id="LC7152" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7153" class="css-a4x74f"><span>7153</span></td><td id="LC7153" class="css-1dcdqdg"><code><span class="code-comment"> * In order to customize the default icon, just change the properties of `L.Icon.Default.prototype.options`
</span></code></td></tr><tr><td id="L7154" class="css-a4x74f"><span>7154</span></td><td id="LC7154" class="css-1dcdqdg"><code><span class="code-comment"> * (which is a set of `Icon options`).
</span></code></td></tr><tr><td id="L7155" class="css-a4x74f"><span>7155</span></td><td id="LC7155" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7156" class="css-a4x74f"><span>7156</span></td><td id="LC7156" class="css-1dcdqdg"><code><span class="code-comment"> * If you want to _completely_ replace the default icon, override the
</span></code></td></tr><tr><td id="L7157" class="css-a4x74f"><span>7157</span></td><td id="LC7157" class="css-1dcdqdg"><code><span class="code-comment"> * `L.Marker.prototype.options.icon` with your own icon instead.
</span></code></td></tr><tr><td id="L7158" class="css-a4x74f"><span>7158</span></td><td id="LC7158" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7159" class="css-a4x74f"><span>7159</span></td><td id="LC7159" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7160" class="css-a4x74f"><span>7160</span></td><td id="LC7160" class="css-1dcdqdg"><code><span class="code-keyword">var</span> IconDefault = Icon.extend({
</code></td></tr><tr><td id="L7161" class="css-a4x74f"><span>7161</span></td><td id="LC7161" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7162" class="css-a4x74f"><span>7162</span></td><td id="LC7162" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L7163" class="css-a4x74f"><span>7163</span></td><td id="LC7163" class="css-1dcdqdg"><code>		iconUrl:       <span class="code-string">'marker-icon.png'</span>,
</code></td></tr><tr><td id="L7164" class="css-a4x74f"><span>7164</span></td><td id="LC7164" class="css-1dcdqdg"><code>		iconRetinaUrl: <span class="code-string">'marker-icon-2x.png'</span>,
</code></td></tr><tr><td id="L7165" class="css-a4x74f"><span>7165</span></td><td id="LC7165" class="css-1dcdqdg"><code>		shadowUrl:     <span class="code-string">'marker-shadow.png'</span>,
</code></td></tr><tr><td id="L7166" class="css-a4x74f"><span>7166</span></td><td id="LC7166" class="css-1dcdqdg"><code>		iconSize:    [<span class="code-number">25</span>, <span class="code-number">41</span>],
</code></td></tr><tr><td id="L7167" class="css-a4x74f"><span>7167</span></td><td id="LC7167" class="css-1dcdqdg"><code>		iconAnchor:  [<span class="code-number">12</span>, <span class="code-number">41</span>],
</code></td></tr><tr><td id="L7168" class="css-a4x74f"><span>7168</span></td><td id="LC7168" class="css-1dcdqdg"><code>		popupAnchor: [<span class="code-number">1</span>, <span class="code-number">-34</span>],
</code></td></tr><tr><td id="L7169" class="css-a4x74f"><span>7169</span></td><td id="LC7169" class="css-1dcdqdg"><code>		tooltipAnchor: [<span class="code-number">16</span>, <span class="code-number">-28</span>],
</code></td></tr><tr><td id="L7170" class="css-a4x74f"><span>7170</span></td><td id="LC7170" class="css-1dcdqdg"><code>		shadowSize:  [<span class="code-number">41</span>, <span class="code-number">41</span>]
</code></td></tr><tr><td id="L7171" class="css-a4x74f"><span>7171</span></td><td id="LC7171" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7172" class="css-a4x74f"><span>7172</span></td><td id="LC7172" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7173" class="css-a4x74f"><span>7173</span></td><td id="LC7173" class="css-1dcdqdg"><code>	_getIconUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L7174" class="css-a4x74f"><span>7174</span></td><td id="LC7174" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> IconDefault.imagePath !== <span class="code-string">'string'</span>) {	<span class="code-comment">// Deprecated, backwards-compatibility only</span>
</code></td></tr><tr><td id="L7175" class="css-a4x74f"><span>7175</span></td><td id="LC7175" class="css-1dcdqdg"><code>			IconDefault.imagePath = <span class="code-keyword">this</span>._detectIconPath();
</code></td></tr><tr><td id="L7176" class="css-a4x74f"><span>7176</span></td><td id="LC7176" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7177" class="css-a4x74f"><span>7177</span></td><td id="LC7177" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7178" class="css-a4x74f"><span>7178</span></td><td id="LC7178" class="css-1dcdqdg"><code>		<span class="code-comment">// @option imagePath: String</span>
</code></td></tr><tr><td id="L7179" class="css-a4x74f"><span>7179</span></td><td id="LC7179" class="css-1dcdqdg"><code>		<span class="code-comment">// `Icon.Default` will try to auto-detect the location of the</span>
</code></td></tr><tr><td id="L7180" class="css-a4x74f"><span>7180</span></td><td id="LC7180" class="css-1dcdqdg"><code>		<span class="code-comment">// blue icon images. If you are placing these images in a non-standard</span>
</code></td></tr><tr><td id="L7181" class="css-a4x74f"><span>7181</span></td><td id="LC7181" class="css-1dcdqdg"><code>		<span class="code-comment">// way, set this option to point to the right path.</span>
</code></td></tr><tr><td id="L7182" class="css-a4x74f"><span>7182</span></td><td id="LC7182" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>.options.imagePath || IconDefault.imagePath) + Icon.prototype._getIconUrl.call(<span class="code-keyword">this</span>, name);
</code></td></tr><tr><td id="L7183" class="css-a4x74f"><span>7183</span></td><td id="LC7183" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7184" class="css-a4x74f"><span>7184</span></td><td id="LC7184" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7185" class="css-a4x74f"><span>7185</span></td><td id="LC7185" class="css-1dcdqdg"><code>	_stripUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">path</span>) </span>{	<span class="code-comment">// separate function to use in tests</span>
</code></td></tr><tr><td id="L7186" class="css-a4x74f"><span>7186</span></td><td id="LC7186" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> strip = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">str, re, idx</span>) </span>{
</code></td></tr><tr><td id="L7187" class="css-a4x74f"><span>7187</span></td><td id="LC7187" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> match = re.exec(str);
</code></td></tr><tr><td id="L7188" class="css-a4x74f"><span>7188</span></td><td id="LC7188" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> match &amp;&amp; match[idx];
</code></td></tr><tr><td id="L7189" class="css-a4x74f"><span>7189</span></td><td id="LC7189" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L7190" class="css-a4x74f"><span>7190</span></td><td id="LC7190" class="css-1dcdqdg"><code>		path = strip(path, /^url\((['"])?(.+)\1\)$/, 2);
</code></td></tr><tr><td id="L7191" class="css-a4x74f"><span>7191</span></td><td id="LC7191" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> path &amp;&amp; strip(path, /^(.*)marker-icon\.png$/, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L7192" class="css-a4x74f"><span>7192</span></td><td id="LC7192" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7193" class="css-a4x74f"><span>7193</span></td><td id="LC7193" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7194" class="css-a4x74f"><span>7194</span></td><td id="LC7194" class="css-1dcdqdg"><code>	_detectIconPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7195" class="css-a4x74f"><span>7195</span></td><td id="LC7195" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> el = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>,  <span class="code-string">'leaflet-default-icon-path'</span>, <span class="code-built_in">document</span>.body);
</code></td></tr><tr><td id="L7196" class="css-a4x74f"><span>7196</span></td><td id="LC7196" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> path = getStyle(el, <span class="code-string">'background-image'</span>) ||
</code></td></tr><tr><td id="L7197" class="css-a4x74f"><span>7197</span></td><td id="LC7197" class="css-1dcdqdg"><code>		           getStyle(el, <span class="code-string">'backgroundImage'</span>);	<span class="code-comment">// IE8</span>
</code></td></tr><tr><td id="L7198" class="css-a4x74f"><span>7198</span></td><td id="LC7198" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7199" class="css-a4x74f"><span>7199</span></td><td id="LC7199" class="css-1dcdqdg"><code>		<span class="code-built_in">document</span>.body.removeChild(el);
</code></td></tr><tr><td id="L7200" class="css-a4x74f"><span>7200</span></td><td id="LC7200" class="css-1dcdqdg"><code>		path = <span class="code-keyword">this</span>._stripUrl(path);
</code></td></tr><tr><td id="L7201" class="css-a4x74f"><span>7201</span></td><td id="LC7201" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (path) { <span class="code-keyword">return</span> path; }
</code></td></tr><tr><td id="L7202" class="css-a4x74f"><span>7202</span></td><td id="LC7202" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> link = <span class="code-built_in">document</span>.querySelector(<span class="code-string">'link[href$="leaflet.css"]'</span>);
</code></td></tr><tr><td id="L7203" class="css-a4x74f"><span>7203</span></td><td id="LC7203" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!link) { <span class="code-keyword">return</span> <span class="code-string">''</span>; }
</code></td></tr><tr><td id="L7204" class="css-a4x74f"><span>7204</span></td><td id="LC7204" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> link.href.substring(<span class="code-number">0</span>, link.href.length - <span class="code-string">'leaflet.css'</span>.length - <span class="code-number">1</span>);
</code></td></tr><tr><td id="L7205" class="css-a4x74f"><span>7205</span></td><td id="LC7205" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L7206" class="css-a4x74f"><span>7206</span></td><td id="LC7206" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L7207" class="css-a4x74f"><span>7207</span></td><td id="LC7207" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7208" class="css-a4x74f"><span>7208</span></td><td id="LC7208" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L7209" class="css-a4x74f"><span>7209</span></td><td id="LC7209" class="css-1dcdqdg"><code><span class="code-comment"> * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.
</span></code></td></tr><tr><td id="L7210" class="css-a4x74f"><span>7210</span></td><td id="LC7210" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7211" class="css-a4x74f"><span>7211</span></td><td id="LC7211" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7212" class="css-a4x74f"><span>7212</span></td><td id="LC7212" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7213" class="css-a4x74f"><span>7213</span></td><td id="LC7213" class="css-1dcdqdg"><code><span class="code-comment">/* @namespace Marker
</span></code></td></tr><tr><td id="L7214" class="css-a4x74f"><span>7214</span></td><td id="LC7214" class="css-1dcdqdg"><code><span class="code-comment"> * @section Interaction handlers
</span></code></td></tr><tr><td id="L7215" class="css-a4x74f"><span>7215</span></td><td id="LC7215" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7216" class="css-a4x74f"><span>7216</span></td><td id="LC7216" class="css-1dcdqdg"><code><span class="code-comment"> * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:
</span></code></td></tr><tr><td id="L7217" class="css-a4x74f"><span>7217</span></td><td id="LC7217" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7218" class="css-a4x74f"><span>7218</span></td><td id="LC7218" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L7219" class="css-a4x74f"><span>7219</span></td><td id="LC7219" class="css-1dcdqdg"><code><span class="code-comment"> * marker.dragging.disable();
</span></code></td></tr><tr><td id="L7220" class="css-a4x74f"><span>7220</span></td><td id="LC7220" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L7221" class="css-a4x74f"><span>7221</span></td><td id="LC7221" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7222" class="css-a4x74f"><span>7222</span></td><td id="LC7222" class="css-1dcdqdg"><code><span class="code-comment"> * @property dragging: Handler
</span></code></td></tr><tr><td id="L7223" class="css-a4x74f"><span>7223</span></td><td id="LC7223" class="css-1dcdqdg"><code><span class="code-comment"> * Marker dragging handler (by both mouse and touch). Only valid when the marker is on the map (Otherwise set [`marker.options.draggable`](#marker-draggable)).
</span></code></td></tr><tr><td id="L7224" class="css-a4x74f"><span>7224</span></td><td id="LC7224" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7225" class="css-a4x74f"><span>7225</span></td><td id="LC7225" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7226" class="css-a4x74f"><span>7226</span></td><td id="LC7226" class="css-1dcdqdg"><code><span class="code-keyword">var</span> MarkerDrag = Handler.extend({
</code></td></tr><tr><td id="L7227" class="css-a4x74f"><span>7227</span></td><td id="LC7227" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">marker</span>) </span>{
</code></td></tr><tr><td id="L7228" class="css-a4x74f"><span>7228</span></td><td id="LC7228" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._marker = marker;
</code></td></tr><tr><td id="L7229" class="css-a4x74f"><span>7229</span></td><td id="LC7229" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7230" class="css-a4x74f"><span>7230</span></td><td id="LC7230" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7231" class="css-a4x74f"><span>7231</span></td><td id="LC7231" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7232" class="css-a4x74f"><span>7232</span></td><td id="LC7232" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> icon = <span class="code-keyword">this</span>._marker._icon;
</code></td></tr><tr><td id="L7233" class="css-a4x74f"><span>7233</span></td><td id="LC7233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7234" class="css-a4x74f"><span>7234</span></td><td id="LC7234" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._draggable) {
</code></td></tr><tr><td id="L7235" class="css-a4x74f"><span>7235</span></td><td id="LC7235" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._draggable = <span class="code-keyword">new</span> Draggable(icon, icon, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L7236" class="css-a4x74f"><span>7236</span></td><td id="LC7236" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7237" class="css-a4x74f"><span>7237</span></td><td id="LC7237" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7238" class="css-a4x74f"><span>7238</span></td><td id="LC7238" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable.on({
</code></td></tr><tr><td id="L7239" class="css-a4x74f"><span>7239</span></td><td id="LC7239" class="css-1dcdqdg"><code>			dragstart: <span class="code-keyword">this</span>._onDragStart,
</code></td></tr><tr><td id="L7240" class="css-a4x74f"><span>7240</span></td><td id="LC7240" class="css-1dcdqdg"><code>			predrag: <span class="code-keyword">this</span>._onPreDrag,
</code></td></tr><tr><td id="L7241" class="css-a4x74f"><span>7241</span></td><td id="LC7241" class="css-1dcdqdg"><code>			drag: <span class="code-keyword">this</span>._onDrag,
</code></td></tr><tr><td id="L7242" class="css-a4x74f"><span>7242</span></td><td id="LC7242" class="css-1dcdqdg"><code>			dragend: <span class="code-keyword">this</span>._onDragEnd
</code></td></tr><tr><td id="L7243" class="css-a4x74f"><span>7243</span></td><td id="LC7243" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>).enable();
</code></td></tr><tr><td id="L7244" class="css-a4x74f"><span>7244</span></td><td id="LC7244" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7245" class="css-a4x74f"><span>7245</span></td><td id="LC7245" class="css-1dcdqdg"><code>		addClass(icon, <span class="code-string">'leaflet-marker-draggable'</span>);
</code></td></tr><tr><td id="L7246" class="css-a4x74f"><span>7246</span></td><td id="LC7246" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7247" class="css-a4x74f"><span>7247</span></td><td id="LC7247" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7248" class="css-a4x74f"><span>7248</span></td><td id="LC7248" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7249" class="css-a4x74f"><span>7249</span></td><td id="LC7249" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable.off({
</code></td></tr><tr><td id="L7250" class="css-a4x74f"><span>7250</span></td><td id="LC7250" class="css-1dcdqdg"><code>			dragstart: <span class="code-keyword">this</span>._onDragStart,
</code></td></tr><tr><td id="L7251" class="css-a4x74f"><span>7251</span></td><td id="LC7251" class="css-1dcdqdg"><code>			predrag: <span class="code-keyword">this</span>._onPreDrag,
</code></td></tr><tr><td id="L7252" class="css-a4x74f"><span>7252</span></td><td id="LC7252" class="css-1dcdqdg"><code>			drag: <span class="code-keyword">this</span>._onDrag,
</code></td></tr><tr><td id="L7253" class="css-a4x74f"><span>7253</span></td><td id="LC7253" class="css-1dcdqdg"><code>			dragend: <span class="code-keyword">this</span>._onDragEnd
</code></td></tr><tr><td id="L7254" class="css-a4x74f"><span>7254</span></td><td id="LC7254" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>).disable();
</code></td></tr><tr><td id="L7255" class="css-a4x74f"><span>7255</span></td><td id="LC7255" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7256" class="css-a4x74f"><span>7256</span></td><td id="LC7256" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._marker._icon) {
</code></td></tr><tr><td id="L7257" class="css-a4x74f"><span>7257</span></td><td id="LC7257" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._marker._icon, <span class="code-string">'leaflet-marker-draggable'</span>);
</code></td></tr><tr><td id="L7258" class="css-a4x74f"><span>7258</span></td><td id="LC7258" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7259" class="css-a4x74f"><span>7259</span></td><td id="LC7259" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7260" class="css-a4x74f"><span>7260</span></td><td id="LC7260" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7261" class="css-a4x74f"><span>7261</span></td><td id="LC7261" class="css-1dcdqdg"><code>	moved: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7262" class="css-a4x74f"><span>7262</span></td><td id="LC7262" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._draggable &amp;&amp; <span class="code-keyword">this</span>._draggable._moved;
</code></td></tr><tr><td id="L7263" class="css-a4x74f"><span>7263</span></td><td id="LC7263" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7264" class="css-a4x74f"><span>7264</span></td><td id="LC7264" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7265" class="css-a4x74f"><span>7265</span></td><td id="LC7265" class="css-1dcdqdg"><code>	_adjustPan: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L7266" class="css-a4x74f"><span>7266</span></td><td id="LC7266" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> marker = <span class="code-keyword">this</span>._marker,
</code></td></tr><tr><td id="L7267" class="css-a4x74f"><span>7267</span></td><td id="LC7267" class="css-1dcdqdg"><code>		    map = marker._map,
</code></td></tr><tr><td id="L7268" class="css-a4x74f"><span>7268</span></td><td id="LC7268" class="css-1dcdqdg"><code>		    speed = <span class="code-keyword">this</span>._marker.options.autoPanSpeed,
</code></td></tr><tr><td id="L7269" class="css-a4x74f"><span>7269</span></td><td id="LC7269" class="css-1dcdqdg"><code>		    padding = <span class="code-keyword">this</span>._marker.options.autoPanPadding,
</code></td></tr><tr><td id="L7270" class="css-a4x74f"><span>7270</span></td><td id="LC7270" class="css-1dcdqdg"><code>		    iconPos = getPosition(marker._icon),
</code></td></tr><tr><td id="L7271" class="css-a4x74f"><span>7271</span></td><td id="LC7271" class="css-1dcdqdg"><code>		    bounds = map.getPixelBounds(),
</code></td></tr><tr><td id="L7272" class="css-a4x74f"><span>7272</span></td><td id="LC7272" class="css-1dcdqdg"><code>		    origin = map.getPixelOrigin();
</code></td></tr><tr><td id="L7273" class="css-a4x74f"><span>7273</span></td><td id="LC7273" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7274" class="css-a4x74f"><span>7274</span></td><td id="LC7274" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> panBounds = toBounds(
</code></td></tr><tr><td id="L7275" class="css-a4x74f"><span>7275</span></td><td id="LC7275" class="css-1dcdqdg"><code>			bounds.min._subtract(origin).add(padding),
</code></td></tr><tr><td id="L7276" class="css-a4x74f"><span>7276</span></td><td id="LC7276" class="css-1dcdqdg"><code>			bounds.max._subtract(origin).subtract(padding)
</code></td></tr><tr><td id="L7277" class="css-a4x74f"><span>7277</span></td><td id="LC7277" class="css-1dcdqdg"><code>		);
</code></td></tr><tr><td id="L7278" class="css-a4x74f"><span>7278</span></td><td id="LC7278" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7279" class="css-a4x74f"><span>7279</span></td><td id="LC7279" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!panBounds.contains(iconPos)) {
</code></td></tr><tr><td id="L7280" class="css-a4x74f"><span>7280</span></td><td id="LC7280" class="css-1dcdqdg"><code>			<span class="code-comment">// Compute incremental movement</span>
</code></td></tr><tr><td id="L7281" class="css-a4x74f"><span>7281</span></td><td id="LC7281" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> movement = toPoint(
</code></td></tr><tr><td id="L7282" class="css-a4x74f"><span>7282</span></td><td id="LC7282" class="css-1dcdqdg"><code>				(<span class="code-built_in">Math</span>.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) -
</code></td></tr><tr><td id="L7283" class="css-a4x74f"><span>7283</span></td><td id="LC7283" class="css-1dcdqdg"><code>				(<span class="code-built_in">Math</span>.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),
</code></td></tr><tr><td id="L7284" class="css-a4x74f"><span>7284</span></td><td id="LC7284" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7285" class="css-a4x74f"><span>7285</span></td><td id="LC7285" class="css-1dcdqdg"><code>				(<span class="code-built_in">Math</span>.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) -
</code></td></tr><tr><td id="L7286" class="css-a4x74f"><span>7286</span></td><td id="LC7286" class="css-1dcdqdg"><code>				(<span class="code-built_in">Math</span>.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)
</code></td></tr><tr><td id="L7287" class="css-a4x74f"><span>7287</span></td><td id="LC7287" class="css-1dcdqdg"><code>			).multiplyBy(speed);
</code></td></tr><tr><td id="L7288" class="css-a4x74f"><span>7288</span></td><td id="LC7288" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7289" class="css-a4x74f"><span>7289</span></td><td id="LC7289" class="css-1dcdqdg"><code>			map.panBy(movement, {<span class="code-attr">animate</span>: <span class="code-literal">false</span>});
</code></td></tr><tr><td id="L7290" class="css-a4x74f"><span>7290</span></td><td id="LC7290" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7291" class="css-a4x74f"><span>7291</span></td><td id="LC7291" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._draggable._newPos._add(movement);
</code></td></tr><tr><td id="L7292" class="css-a4x74f"><span>7292</span></td><td id="LC7292" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._draggable._startPos._add(movement);
</code></td></tr><tr><td id="L7293" class="css-a4x74f"><span>7293</span></td><td id="LC7293" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7294" class="css-a4x74f"><span>7294</span></td><td id="LC7294" class="css-1dcdqdg"><code>			setPosition(marker._icon, <span class="code-keyword">this</span>._draggable._newPos);
</code></td></tr><tr><td id="L7295" class="css-a4x74f"><span>7295</span></td><td id="LC7295" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._onDrag(e);
</code></td></tr><tr><td id="L7296" class="css-a4x74f"><span>7296</span></td><td id="LC7296" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7297" class="css-a4x74f"><span>7297</span></td><td id="LC7297" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panRequest = requestAnimFrame(<span class="code-keyword">this</span>._adjustPan.bind(<span class="code-keyword">this</span>, e));
</code></td></tr><tr><td id="L7298" class="css-a4x74f"><span>7298</span></td><td id="LC7298" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7299" class="css-a4x74f"><span>7299</span></td><td id="LC7299" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7300" class="css-a4x74f"><span>7300</span></td><td id="LC7300" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7301" class="css-a4x74f"><span>7301</span></td><td id="LC7301" class="css-1dcdqdg"><code>	_onDragStart: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7302" class="css-a4x74f"><span>7302</span></td><td id="LC7302" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Dragging events</span>
</code></td></tr><tr><td id="L7303" class="css-a4x74f"><span>7303</span></td><td id="LC7303" class="css-1dcdqdg"><code>		<span class="code-comment">// @event dragstart: Event</span>
</code></td></tr><tr><td id="L7304" class="css-a4x74f"><span>7304</span></td><td id="LC7304" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user starts dragging the marker.</span>
</code></td></tr><tr><td id="L7305" class="css-a4x74f"><span>7305</span></td><td id="LC7305" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7306" class="css-a4x74f"><span>7306</span></td><td id="LC7306" class="css-1dcdqdg"><code>		<span class="code-comment">// @event movestart: Event</span>
</code></td></tr><tr><td id="L7307" class="css-a4x74f"><span>7307</span></td><td id="LC7307" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the marker starts moving (because of dragging).</span>
</code></td></tr><tr><td id="L7308" class="css-a4x74f"><span>7308</span></td><td id="LC7308" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7309" class="css-a4x74f"><span>7309</span></td><td id="LC7309" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._oldLatLng = <span class="code-keyword">this</span>._marker.getLatLng();
</code></td></tr><tr><td id="L7310" class="css-a4x74f"><span>7310</span></td><td id="LC7310" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7311" class="css-a4x74f"><span>7311</span></td><td id="LC7311" class="css-1dcdqdg"><code>		<span class="code-comment">// When using ES6 imports it could not be set when `Popup` was not imported as well</span>
</code></td></tr><tr><td id="L7312" class="css-a4x74f"><span>7312</span></td><td id="LC7312" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._marker.closePopup &amp;&amp; <span class="code-keyword">this</span>._marker.closePopup();
</code></td></tr><tr><td id="L7313" class="css-a4x74f"><span>7313</span></td><td id="LC7313" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7314" class="css-a4x74f"><span>7314</span></td><td id="LC7314" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._marker
</code></td></tr><tr><td id="L7315" class="css-a4x74f"><span>7315</span></td><td id="LC7315" class="css-1dcdqdg"><code>			.fire(<span class="code-string">'movestart'</span>)
</code></td></tr><tr><td id="L7316" class="css-a4x74f"><span>7316</span></td><td id="LC7316" class="css-1dcdqdg"><code>			.fire(<span class="code-string">'dragstart'</span>);
</code></td></tr><tr><td id="L7317" class="css-a4x74f"><span>7317</span></td><td id="LC7317" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7318" class="css-a4x74f"><span>7318</span></td><td id="LC7318" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7319" class="css-a4x74f"><span>7319</span></td><td id="LC7319" class="css-1dcdqdg"><code>	_onPreDrag: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L7320" class="css-a4x74f"><span>7320</span></td><td id="LC7320" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._marker.options.autoPan) {
</code></td></tr><tr><td id="L7321" class="css-a4x74f"><span>7321</span></td><td id="LC7321" class="css-1dcdqdg"><code>			cancelAnimFrame(<span class="code-keyword">this</span>._panRequest);
</code></td></tr><tr><td id="L7322" class="css-a4x74f"><span>7322</span></td><td id="LC7322" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._panRequest = requestAnimFrame(<span class="code-keyword">this</span>._adjustPan.bind(<span class="code-keyword">this</span>, e));
</code></td></tr><tr><td id="L7323" class="css-a4x74f"><span>7323</span></td><td id="LC7323" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7324" class="css-a4x74f"><span>7324</span></td><td id="LC7324" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7325" class="css-a4x74f"><span>7325</span></td><td id="LC7325" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7326" class="css-a4x74f"><span>7326</span></td><td id="LC7326" class="css-1dcdqdg"><code>	_onDrag: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L7327" class="css-a4x74f"><span>7327</span></td><td id="LC7327" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> marker = <span class="code-keyword">this</span>._marker,
</code></td></tr><tr><td id="L7328" class="css-a4x74f"><span>7328</span></td><td id="LC7328" class="css-1dcdqdg"><code>		    shadow = marker._shadow,
</code></td></tr><tr><td id="L7329" class="css-a4x74f"><span>7329</span></td><td id="LC7329" class="css-1dcdqdg"><code>		    iconPos = getPosition(marker._icon),
</code></td></tr><tr><td id="L7330" class="css-a4x74f"><span>7330</span></td><td id="LC7330" class="css-1dcdqdg"><code>		    latlng = marker._map.layerPointToLatLng(iconPos);
</code></td></tr><tr><td id="L7331" class="css-a4x74f"><span>7331</span></td><td id="LC7331" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7332" class="css-a4x74f"><span>7332</span></td><td id="LC7332" class="css-1dcdqdg"><code>		<span class="code-comment">// update shadow position</span>
</code></td></tr><tr><td id="L7333" class="css-a4x74f"><span>7333</span></td><td id="LC7333" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (shadow) {
</code></td></tr><tr><td id="L7334" class="css-a4x74f"><span>7334</span></td><td id="LC7334" class="css-1dcdqdg"><code>			setPosition(shadow, iconPos);
</code></td></tr><tr><td id="L7335" class="css-a4x74f"><span>7335</span></td><td id="LC7335" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7336" class="css-a4x74f"><span>7336</span></td><td id="LC7336" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7337" class="css-a4x74f"><span>7337</span></td><td id="LC7337" class="css-1dcdqdg"><code>		marker._latlng = latlng;
</code></td></tr><tr><td id="L7338" class="css-a4x74f"><span>7338</span></td><td id="LC7338" class="css-1dcdqdg"><code>		e.latlng = latlng;
</code></td></tr><tr><td id="L7339" class="css-a4x74f"><span>7339</span></td><td id="LC7339" class="css-1dcdqdg"><code>		e.oldLatLng = <span class="code-keyword">this</span>._oldLatLng;
</code></td></tr><tr><td id="L7340" class="css-a4x74f"><span>7340</span></td><td id="LC7340" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7341" class="css-a4x74f"><span>7341</span></td><td id="LC7341" class="css-1dcdqdg"><code>		<span class="code-comment">// @event drag: Event</span>
</code></td></tr><tr><td id="L7342" class="css-a4x74f"><span>7342</span></td><td id="LC7342" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired repeatedly while the user drags the marker.</span>
</code></td></tr><tr><td id="L7343" class="css-a4x74f"><span>7343</span></td><td id="LC7343" class="css-1dcdqdg"><code>		marker
</code></td></tr><tr><td id="L7344" class="css-a4x74f"><span>7344</span></td><td id="LC7344" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'move'</span>, e)
</code></td></tr><tr><td id="L7345" class="css-a4x74f"><span>7345</span></td><td id="LC7345" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'drag'</span>, e);
</code></td></tr><tr><td id="L7346" class="css-a4x74f"><span>7346</span></td><td id="LC7346" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7347" class="css-a4x74f"><span>7347</span></td><td id="LC7347" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7348" class="css-a4x74f"><span>7348</span></td><td id="LC7348" class="css-1dcdqdg"><code>	_onDragEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L7349" class="css-a4x74f"><span>7349</span></td><td id="LC7349" class="css-1dcdqdg"><code>		<span class="code-comment">// @event dragend: DragEndEvent</span>
</code></td></tr><tr><td id="L7350" class="css-a4x74f"><span>7350</span></td><td id="LC7350" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the user stops dragging the marker.</span>
</code></td></tr><tr><td id="L7351" class="css-a4x74f"><span>7351</span></td><td id="LC7351" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7352" class="css-a4x74f"><span>7352</span></td><td id="LC7352" class="css-1dcdqdg"><code>		 cancelAnimFrame(<span class="code-keyword">this</span>._panRequest);
</code></td></tr><tr><td id="L7353" class="css-a4x74f"><span>7353</span></td><td id="LC7353" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7354" class="css-a4x74f"><span>7354</span></td><td id="LC7354" class="css-1dcdqdg"><code>		<span class="code-comment">// @event moveend: Event</span>
</code></td></tr><tr><td id="L7355" class="css-a4x74f"><span>7355</span></td><td id="LC7355" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the marker stops moving (because of dragging).</span>
</code></td></tr><tr><td id="L7356" class="css-a4x74f"><span>7356</span></td><td id="LC7356" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._oldLatLng;
</code></td></tr><tr><td id="L7357" class="css-a4x74f"><span>7357</span></td><td id="LC7357" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._marker
</code></td></tr><tr><td id="L7358" class="css-a4x74f"><span>7358</span></td><td id="LC7358" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'moveend'</span>)
</code></td></tr><tr><td id="L7359" class="css-a4x74f"><span>7359</span></td><td id="LC7359" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'dragend'</span>, e);
</code></td></tr><tr><td id="L7360" class="css-a4x74f"><span>7360</span></td><td id="LC7360" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L7361" class="css-a4x74f"><span>7361</span></td><td id="LC7361" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L7362" class="css-a4x74f"><span>7362</span></td><td id="LC7362" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7363" class="css-a4x74f"><span>7363</span></td><td id="LC7363" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L7364" class="css-a4x74f"><span>7364</span></td><td id="LC7364" class="css-1dcdqdg"><code><span class="code-comment"> * @class Marker
</span></code></td></tr><tr><td id="L7365" class="css-a4x74f"><span>7365</span></td><td id="LC7365" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Interactive layer
</span></code></td></tr><tr><td id="L7366" class="css-a4x74f"><span>7366</span></td><td id="LC7366" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Marker
</span></code></td></tr><tr><td id="L7367" class="css-a4x74f"><span>7367</span></td><td id="LC7367" class="css-1dcdqdg"><code><span class="code-comment"> * L.Marker is used to display clickable/draggable icons on the map. Extends `Layer`.
</span></code></td></tr><tr><td id="L7368" class="css-a4x74f"><span>7368</span></td><td id="LC7368" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7369" class="css-a4x74f"><span>7369</span></td><td id="LC7369" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L7370" class="css-a4x74f"><span>7370</span></td><td id="LC7370" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7371" class="css-a4x74f"><span>7371</span></td><td id="LC7371" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L7372" class="css-a4x74f"><span>7372</span></td><td id="LC7372" class="css-1dcdqdg"><code><span class="code-comment"> * L.marker([50.5, 30.5]).addTo(map);
</span></code></td></tr><tr><td id="L7373" class="css-a4x74f"><span>7373</span></td><td id="LC7373" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L7374" class="css-a4x74f"><span>7374</span></td><td id="LC7374" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7375" class="css-a4x74f"><span>7375</span></td><td id="LC7375" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7376" class="css-a4x74f"><span>7376</span></td><td id="LC7376" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Marker = Layer.extend({
</code></td></tr><tr><td id="L7377" class="css-a4x74f"><span>7377</span></td><td id="LC7377" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7378" class="css-a4x74f"><span>7378</span></td><td id="LC7378" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L7379" class="css-a4x74f"><span>7379</span></td><td id="LC7379" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Marker options</span>
</code></td></tr><tr><td id="L7380" class="css-a4x74f"><span>7380</span></td><td id="LC7380" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L7381" class="css-a4x74f"><span>7381</span></td><td id="LC7381" class="css-1dcdqdg"><code>		<span class="code-comment">// @option icon: Icon = *</span>
</code></td></tr><tr><td id="L7382" class="css-a4x74f"><span>7382</span></td><td id="LC7382" class="css-1dcdqdg"><code>		<span class="code-comment">// Icon instance to use for rendering the marker.</span>
</code></td></tr><tr><td id="L7383" class="css-a4x74f"><span>7383</span></td><td id="LC7383" class="css-1dcdqdg"><code>		<span class="code-comment">// See [Icon documentation](#L.Icon) for details on how to customize the marker icon.</span>
</code></td></tr><tr><td id="L7384" class="css-a4x74f"><span>7384</span></td><td id="LC7384" class="css-1dcdqdg"><code>		<span class="code-comment">// If not specified, a common instance of `L.Icon.Default` is used.</span>
</code></td></tr><tr><td id="L7385" class="css-a4x74f"><span>7385</span></td><td id="LC7385" class="css-1dcdqdg"><code>		icon: <span class="code-keyword">new</span> IconDefault(),
</code></td></tr><tr><td id="L7386" class="css-a4x74f"><span>7386</span></td><td id="LC7386" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7387" class="css-a4x74f"><span>7387</span></td><td id="LC7387" class="css-1dcdqdg"><code>		<span class="code-comment">// Option inherited from "Interactive layer" abstract class</span>
</code></td></tr><tr><td id="L7388" class="css-a4x74f"><span>7388</span></td><td id="LC7388" class="css-1dcdqdg"><code>		interactive: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L7389" class="css-a4x74f"><span>7389</span></td><td id="LC7389" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7390" class="css-a4x74f"><span>7390</span></td><td id="LC7390" class="css-1dcdqdg"><code>		<span class="code-comment">// @option keyboard: Boolean = true</span>
</code></td></tr><tr><td id="L7391" class="css-a4x74f"><span>7391</span></td><td id="LC7391" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.</span>
</code></td></tr><tr><td id="L7392" class="css-a4x74f"><span>7392</span></td><td id="LC7392" class="css-1dcdqdg"><code>		keyboard: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L7393" class="css-a4x74f"><span>7393</span></td><td id="LC7393" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7394" class="css-a4x74f"><span>7394</span></td><td id="LC7394" class="css-1dcdqdg"><code>		<span class="code-comment">// @option title: String = ''</span>
</code></td></tr><tr><td id="L7395" class="css-a4x74f"><span>7395</span></td><td id="LC7395" class="css-1dcdqdg"><code>		<span class="code-comment">// Text for the browser tooltip that appear on marker hover (no tooltip by default).</span>
</code></td></tr><tr><td id="L7396" class="css-a4x74f"><span>7396</span></td><td id="LC7396" class="css-1dcdqdg"><code>		title: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L7397" class="css-a4x74f"><span>7397</span></td><td id="LC7397" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7398" class="css-a4x74f"><span>7398</span></td><td id="LC7398" class="css-1dcdqdg"><code>		<span class="code-comment">// @option alt: String = 'Marker'</span>
</code></td></tr><tr><td id="L7399" class="css-a4x74f"><span>7399</span></td><td id="LC7399" class="css-1dcdqdg"><code>		<span class="code-comment">// Text for the `alt` attribute of the icon image (useful for accessibility).</span>
</code></td></tr><tr><td id="L7400" class="css-a4x74f"><span>7400</span></td><td id="LC7400" class="css-1dcdqdg"><code>		alt: <span class="code-string">'Marker'</span>,
</code></td></tr><tr><td id="L7401" class="css-a4x74f"><span>7401</span></td><td id="LC7401" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7402" class="css-a4x74f"><span>7402</span></td><td id="LC7402" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zIndexOffset: Number = 0</span>
</code></td></tr><tr><td id="L7403" class="css-a4x74f"><span>7403</span></td><td id="LC7403" class="css-1dcdqdg"><code>		<span class="code-comment">// By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).</span>
</code></td></tr><tr><td id="L7404" class="css-a4x74f"><span>7404</span></td><td id="LC7404" class="css-1dcdqdg"><code>		zIndexOffset: <span class="code-number">0</span>,
</code></td></tr><tr><td id="L7405" class="css-a4x74f"><span>7405</span></td><td id="LC7405" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7406" class="css-a4x74f"><span>7406</span></td><td id="LC7406" class="css-1dcdqdg"><code>		<span class="code-comment">// @option opacity: Number = 1.0</span>
</code></td></tr><tr><td id="L7407" class="css-a4x74f"><span>7407</span></td><td id="LC7407" class="css-1dcdqdg"><code>		<span class="code-comment">// The opacity of the marker.</span>
</code></td></tr><tr><td id="L7408" class="css-a4x74f"><span>7408</span></td><td id="LC7408" class="css-1dcdqdg"><code>		opacity: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L7409" class="css-a4x74f"><span>7409</span></td><td id="LC7409" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7410" class="css-a4x74f"><span>7410</span></td><td id="LC7410" class="css-1dcdqdg"><code>		<span class="code-comment">// @option riseOnHover: Boolean = false</span>
</code></td></tr><tr><td id="L7411" class="css-a4x74f"><span>7411</span></td><td id="LC7411" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the marker will get on top of others when you hover the mouse over it.</span>
</code></td></tr><tr><td id="L7412" class="css-a4x74f"><span>7412</span></td><td id="LC7412" class="css-1dcdqdg"><code>		riseOnHover: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L7413" class="css-a4x74f"><span>7413</span></td><td id="LC7413" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7414" class="css-a4x74f"><span>7414</span></td><td id="LC7414" class="css-1dcdqdg"><code>		<span class="code-comment">// @option riseOffset: Number = 250</span>
</code></td></tr><tr><td id="L7415" class="css-a4x74f"><span>7415</span></td><td id="LC7415" class="css-1dcdqdg"><code>		<span class="code-comment">// The z-index offset used for the `riseOnHover` feature.</span>
</code></td></tr><tr><td id="L7416" class="css-a4x74f"><span>7416</span></td><td id="LC7416" class="css-1dcdqdg"><code>		riseOffset: <span class="code-number">250</span>,
</code></td></tr><tr><td id="L7417" class="css-a4x74f"><span>7417</span></td><td id="LC7417" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7418" class="css-a4x74f"><span>7418</span></td><td id="LC7418" class="css-1dcdqdg"><code>		<span class="code-comment">// @option pane: String = 'markerPane'</span>
</code></td></tr><tr><td id="L7419" class="css-a4x74f"><span>7419</span></td><td id="LC7419" class="css-1dcdqdg"><code>		<span class="code-comment">// `Map pane` where the markers icon will be added.</span>
</code></td></tr><tr><td id="L7420" class="css-a4x74f"><span>7420</span></td><td id="LC7420" class="css-1dcdqdg"><code>		pane: <span class="code-string">'markerPane'</span>,
</code></td></tr><tr><td id="L7421" class="css-a4x74f"><span>7421</span></td><td id="LC7421" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7422" class="css-a4x74f"><span>7422</span></td><td id="LC7422" class="css-1dcdqdg"><code>		<span class="code-comment">// @option shadowPane: String = 'shadowPane'</span>
</code></td></tr><tr><td id="L7423" class="css-a4x74f"><span>7423</span></td><td id="LC7423" class="css-1dcdqdg"><code>		<span class="code-comment">// `Map pane` where the markers shadow will be added.</span>
</code></td></tr><tr><td id="L7424" class="css-a4x74f"><span>7424</span></td><td id="LC7424" class="css-1dcdqdg"><code>		shadowPane: <span class="code-string">'shadowPane'</span>,
</code></td></tr><tr><td id="L7425" class="css-a4x74f"><span>7425</span></td><td id="LC7425" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7426" class="css-a4x74f"><span>7426</span></td><td id="LC7426" class="css-1dcdqdg"><code>		<span class="code-comment">// @option bubblingMouseEvents: Boolean = false</span>
</code></td></tr><tr><td id="L7427" class="css-a4x74f"><span>7427</span></td><td id="LC7427" class="css-1dcdqdg"><code>		<span class="code-comment">// When `true`, a mouse event on this marker will trigger the same event on the map</span>
</code></td></tr><tr><td id="L7428" class="css-a4x74f"><span>7428</span></td><td id="LC7428" class="css-1dcdqdg"><code>		<span class="code-comment">// (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).</span>
</code></td></tr><tr><td id="L7429" class="css-a4x74f"><span>7429</span></td><td id="LC7429" class="css-1dcdqdg"><code>		bubblingMouseEvents: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L7430" class="css-a4x74f"><span>7430</span></td><td id="LC7430" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7431" class="css-a4x74f"><span>7431</span></td><td id="LC7431" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPanOnFocus: Boolean = true</span>
</code></td></tr><tr><td id="L7432" class="css-a4x74f"><span>7432</span></td><td id="LC7432" class="css-1dcdqdg"><code>		<span class="code-comment">// When `true`, the map will pan whenever the marker is focused (via</span>
</code></td></tr><tr><td id="L7433" class="css-a4x74f"><span>7433</span></td><td id="LC7433" class="css-1dcdqdg"><code>		<span class="code-comment">// e.g. pressing `tab` on the keyboard) to ensure the marker is</span>
</code></td></tr><tr><td id="L7434" class="css-a4x74f"><span>7434</span></td><td id="LC7434" class="css-1dcdqdg"><code>		<span class="code-comment">// visible within the map's bounds</span>
</code></td></tr><tr><td id="L7435" class="css-a4x74f"><span>7435</span></td><td id="LC7435" class="css-1dcdqdg"><code>		autoPanOnFocus: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L7436" class="css-a4x74f"><span>7436</span></td><td id="LC7436" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7437" class="css-a4x74f"><span>7437</span></td><td id="LC7437" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Draggable marker options</span>
</code></td></tr><tr><td id="L7438" class="css-a4x74f"><span>7438</span></td><td id="LC7438" class="css-1dcdqdg"><code>		<span class="code-comment">// @option draggable: Boolean = false</span>
</code></td></tr><tr><td id="L7439" class="css-a4x74f"><span>7439</span></td><td id="LC7439" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the marker is draggable with mouse/touch or not.</span>
</code></td></tr><tr><td id="L7440" class="css-a4x74f"><span>7440</span></td><td id="LC7440" class="css-1dcdqdg"><code>		draggable: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L7441" class="css-a4x74f"><span>7441</span></td><td id="LC7441" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7442" class="css-a4x74f"><span>7442</span></td><td id="LC7442" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPan: Boolean = false</span>
</code></td></tr><tr><td id="L7443" class="css-a4x74f"><span>7443</span></td><td id="LC7443" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to pan the map when dragging this marker near its edge or not.</span>
</code></td></tr><tr><td id="L7444" class="css-a4x74f"><span>7444</span></td><td id="LC7444" class="css-1dcdqdg"><code>		autoPan: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L7445" class="css-a4x74f"><span>7445</span></td><td id="LC7445" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7446" class="css-a4x74f"><span>7446</span></td><td id="LC7446" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPanPadding: Point = Point(50, 50)</span>
</code></td></tr><tr><td id="L7447" class="css-a4x74f"><span>7447</span></td><td id="LC7447" class="css-1dcdqdg"><code>		<span class="code-comment">// Distance (in pixels to the left/right and to the top/bottom) of the</span>
</code></td></tr><tr><td id="L7448" class="css-a4x74f"><span>7448</span></td><td id="LC7448" class="css-1dcdqdg"><code>		<span class="code-comment">// map edge to start panning the map.</span>
</code></td></tr><tr><td id="L7449" class="css-a4x74f"><span>7449</span></td><td id="LC7449" class="css-1dcdqdg"><code>		autoPanPadding: [<span class="code-number">50</span>, <span class="code-number">50</span>],
</code></td></tr><tr><td id="L7450" class="css-a4x74f"><span>7450</span></td><td id="LC7450" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7451" class="css-a4x74f"><span>7451</span></td><td id="LC7451" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPanSpeed: Number = 10</span>
</code></td></tr><tr><td id="L7452" class="css-a4x74f"><span>7452</span></td><td id="LC7452" class="css-1dcdqdg"><code>		<span class="code-comment">// Number of pixels the map should pan by.</span>
</code></td></tr><tr><td id="L7453" class="css-a4x74f"><span>7453</span></td><td id="LC7453" class="css-1dcdqdg"><code>		autoPanSpeed: <span class="code-number">10</span>
</code></td></tr><tr><td id="L7454" class="css-a4x74f"><span>7454</span></td><td id="LC7454" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7455" class="css-a4x74f"><span>7455</span></td><td id="LC7455" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7456" class="css-a4x74f"><span>7456</span></td><td id="LC7456" class="css-1dcdqdg"><code>	<span class="code-comment">/* @section
</span></code></td></tr><tr><td id="L7457" class="css-a4x74f"><span>7457</span></td><td id="LC7457" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L7458" class="css-a4x74f"><span>7458</span></td><td id="LC7458" class="css-1dcdqdg"><code><span class="code-comment">	 * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:
</span></code></td></tr><tr><td id="L7459" class="css-a4x74f"><span>7459</span></td><td id="LC7459" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L7460" class="css-a4x74f"><span>7460</span></td><td id="LC7460" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7461" class="css-a4x74f"><span>7461</span></td><td id="LC7461" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, options</span>) </span>{
</code></td></tr><tr><td id="L7462" class="css-a4x74f"><span>7462</span></td><td id="LC7462" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L7463" class="css-a4x74f"><span>7463</span></td><td id="LC7463" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L7464" class="css-a4x74f"><span>7464</span></td><td id="LC7464" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7465" class="css-a4x74f"><span>7465</span></td><td id="LC7465" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7466" class="css-a4x74f"><span>7466</span></td><td id="LC7466" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L7467" class="css-a4x74f"><span>7467</span></td><td id="LC7467" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomAnimated = <span class="code-keyword">this</span>._zoomAnimated &amp;&amp; map.options.markerZoomAnimation;
</code></td></tr><tr><td id="L7468" class="css-a4x74f"><span>7468</span></td><td id="LC7468" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7469" class="css-a4x74f"><span>7469</span></td><td id="LC7469" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L7470" class="css-a4x74f"><span>7470</span></td><td id="LC7470" class="css-1dcdqdg"><code>			map.on(<span class="code-string">'zoomanim'</span>, <span class="code-keyword">this</span>._animateZoom, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7471" class="css-a4x74f"><span>7471</span></td><td id="LC7471" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7472" class="css-a4x74f"><span>7472</span></td><td id="LC7472" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7473" class="css-a4x74f"><span>7473</span></td><td id="LC7473" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initIcon();
</code></td></tr><tr><td id="L7474" class="css-a4x74f"><span>7474</span></td><td id="LC7474" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L7475" class="css-a4x74f"><span>7475</span></td><td id="LC7475" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7476" class="css-a4x74f"><span>7476</span></td><td id="LC7476" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7477" class="css-a4x74f"><span>7477</span></td><td id="LC7477" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L7478" class="css-a4x74f"><span>7478</span></td><td id="LC7478" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dragging &amp;&amp; <span class="code-keyword">this</span>.dragging.enabled()) {
</code></td></tr><tr><td id="L7479" class="css-a4x74f"><span>7479</span></td><td id="LC7479" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.options.draggable = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L7480" class="css-a4x74f"><span>7480</span></td><td id="LC7480" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.dragging.removeHooks();
</code></td></tr><tr><td id="L7481" class="css-a4x74f"><span>7481</span></td><td id="LC7481" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7482" class="css-a4x74f"><span>7482</span></td><td id="LC7482" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.dragging;
</code></td></tr><tr><td id="L7483" class="css-a4x74f"><span>7483</span></td><td id="LC7483" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7484" class="css-a4x74f"><span>7484</span></td><td id="LC7484" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L7485" class="css-a4x74f"><span>7485</span></td><td id="LC7485" class="css-1dcdqdg"><code>			map.off(<span class="code-string">'zoomanim'</span>, <span class="code-keyword">this</span>._animateZoom, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7486" class="css-a4x74f"><span>7486</span></td><td id="LC7486" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7487" class="css-a4x74f"><span>7487</span></td><td id="LC7487" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7488" class="css-a4x74f"><span>7488</span></td><td id="LC7488" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._removeIcon();
</code></td></tr><tr><td id="L7489" class="css-a4x74f"><span>7489</span></td><td id="LC7489" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._removeShadow();
</code></td></tr><tr><td id="L7490" class="css-a4x74f"><span>7490</span></td><td id="LC7490" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7491" class="css-a4x74f"><span>7491</span></td><td id="LC7491" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7492" class="css-a4x74f"><span>7492</span></td><td id="LC7492" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7493" class="css-a4x74f"><span>7493</span></td><td id="LC7493" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L7494" class="css-a4x74f"><span>7494</span></td><td id="LC7494" class="css-1dcdqdg"><code>			zoom: <span class="code-keyword">this</span>.update,
</code></td></tr><tr><td id="L7495" class="css-a4x74f"><span>7495</span></td><td id="LC7495" class="css-1dcdqdg"><code>			viewreset: <span class="code-keyword">this</span>.update
</code></td></tr><tr><td id="L7496" class="css-a4x74f"><span>7496</span></td><td id="LC7496" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L7497" class="css-a4x74f"><span>7497</span></td><td id="LC7497" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7498" class="css-a4x74f"><span>7498</span></td><td id="LC7498" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7499" class="css-a4x74f"><span>7499</span></td><td id="LC7499" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLatLng: LatLng</span>
</code></td></tr><tr><td id="L7500" class="css-a4x74f"><span>7500</span></td><td id="LC7500" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current geographical position of the marker.</span>
</code></td></tr><tr><td id="L7501" class="css-a4x74f"><span>7501</span></td><td id="LC7501" class="css-1dcdqdg"><code>	getLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7502" class="css-a4x74f"><span>7502</span></td><td id="LC7502" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._latlng;
</code></td></tr><tr><td id="L7503" class="css-a4x74f"><span>7503</span></td><td id="LC7503" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7504" class="css-a4x74f"><span>7504</span></td><td id="LC7504" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7505" class="css-a4x74f"><span>7505</span></td><td id="LC7505" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setLatLng(latlng: LatLng): this</span>
</code></td></tr><tr><td id="L7506" class="css-a4x74f"><span>7506</span></td><td id="LC7506" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the marker position to the given point.</span>
</code></td></tr><tr><td id="L7507" class="css-a4x74f"><span>7507</span></td><td id="LC7507" class="css-1dcdqdg"><code>	setLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L7508" class="css-a4x74f"><span>7508</span></td><td id="LC7508" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> oldLatLng = <span class="code-keyword">this</span>._latlng;
</code></td></tr><tr><td id="L7509" class="css-a4x74f"><span>7509</span></td><td id="LC7509" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L7510" class="css-a4x74f"><span>7510</span></td><td id="LC7510" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L7511" class="css-a4x74f"><span>7511</span></td><td id="LC7511" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7512" class="css-a4x74f"><span>7512</span></td><td id="LC7512" class="css-1dcdqdg"><code>		<span class="code-comment">// @event move: Event</span>
</code></td></tr><tr><td id="L7513" class="css-a4x74f"><span>7513</span></td><td id="LC7513" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the marker is moved via [`setLatLng`](#marker-setlatlng) or by [dragging](#marker-dragging). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.</span>
</code></td></tr><tr><td id="L7514" class="css-a4x74f"><span>7514</span></td><td id="LC7514" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>, {<span class="code-attr">oldLatLng</span>: oldLatLng, <span class="code-attr">latlng</span>: <span class="code-keyword">this</span>._latlng});
</code></td></tr><tr><td id="L7515" class="css-a4x74f"><span>7515</span></td><td id="LC7515" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7516" class="css-a4x74f"><span>7516</span></td><td id="LC7516" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7517" class="css-a4x74f"><span>7517</span></td><td id="LC7517" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZIndexOffset(offset: Number): this</span>
</code></td></tr><tr><td id="L7518" class="css-a4x74f"><span>7518</span></td><td id="LC7518" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the [zIndex offset](#marker-zindexoffset) of the marker.</span>
</code></td></tr><tr><td id="L7519" class="css-a4x74f"><span>7519</span></td><td id="LC7519" class="css-1dcdqdg"><code>	setZIndexOffset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">offset</span>) </span>{
</code></td></tr><tr><td id="L7520" class="css-a4x74f"><span>7520</span></td><td id="LC7520" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.zIndexOffset = offset;
</code></td></tr><tr><td id="L7521" class="css-a4x74f"><span>7521</span></td><td id="LC7521" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L7522" class="css-a4x74f"><span>7522</span></td><td id="LC7522" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7523" class="css-a4x74f"><span>7523</span></td><td id="LC7523" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7524" class="css-a4x74f"><span>7524</span></td><td id="LC7524" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getIcon: Icon</span>
</code></td></tr><tr><td id="L7525" class="css-a4x74f"><span>7525</span></td><td id="LC7525" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current icon used by the marker</span>
</code></td></tr><tr><td id="L7526" class="css-a4x74f"><span>7526</span></td><td id="LC7526" class="css-1dcdqdg"><code>	getIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7527" class="css-a4x74f"><span>7527</span></td><td id="LC7527" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.icon;
</code></td></tr><tr><td id="L7528" class="css-a4x74f"><span>7528</span></td><td id="LC7528" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7529" class="css-a4x74f"><span>7529</span></td><td id="LC7529" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7530" class="css-a4x74f"><span>7530</span></td><td id="LC7530" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setIcon(icon: Icon): this</span>
</code></td></tr><tr><td id="L7531" class="css-a4x74f"><span>7531</span></td><td id="LC7531" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the marker icon.</span>
</code></td></tr><tr><td id="L7532" class="css-a4x74f"><span>7532</span></td><td id="LC7532" class="css-1dcdqdg"><code>	setIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">icon</span>) </span>{
</code></td></tr><tr><td id="L7533" class="css-a4x74f"><span>7533</span></td><td id="LC7533" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7534" class="css-a4x74f"><span>7534</span></td><td id="LC7534" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.icon = icon;
</code></td></tr><tr><td id="L7535" class="css-a4x74f"><span>7535</span></td><td id="LC7535" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7536" class="css-a4x74f"><span>7536</span></td><td id="LC7536" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L7537" class="css-a4x74f"><span>7537</span></td><td id="LC7537" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._initIcon();
</code></td></tr><tr><td id="L7538" class="css-a4x74f"><span>7538</span></td><td id="LC7538" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L7539" class="css-a4x74f"><span>7539</span></td><td id="LC7539" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7540" class="css-a4x74f"><span>7540</span></td><td id="LC7540" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7541" class="css-a4x74f"><span>7541</span></td><td id="LC7541" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup) {
</code></td></tr><tr><td id="L7542" class="css-a4x74f"><span>7542</span></td><td id="LC7542" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.bindPopup(<span class="code-keyword">this</span>._popup, <span class="code-keyword">this</span>._popup.options);
</code></td></tr><tr><td id="L7543" class="css-a4x74f"><span>7543</span></td><td id="LC7543" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7544" class="css-a4x74f"><span>7544</span></td><td id="LC7544" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7545" class="css-a4x74f"><span>7545</span></td><td id="LC7545" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7546" class="css-a4x74f"><span>7546</span></td><td id="LC7546" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7547" class="css-a4x74f"><span>7547</span></td><td id="LC7547" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7548" class="css-a4x74f"><span>7548</span></td><td id="LC7548" class="css-1dcdqdg"><code>	getElement: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7549" class="css-a4x74f"><span>7549</span></td><td id="LC7549" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._icon;
</code></td></tr><tr><td id="L7550" class="css-a4x74f"><span>7550</span></td><td id="LC7550" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7551" class="css-a4x74f"><span>7551</span></td><td id="LC7551" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7552" class="css-a4x74f"><span>7552</span></td><td id="LC7552" class="css-1dcdqdg"><code>	update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7553" class="css-a4x74f"><span>7553</span></td><td id="LC7553" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7554" class="css-a4x74f"><span>7554</span></td><td id="LC7554" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._icon &amp;&amp; <span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L7555" class="css-a4x74f"><span>7555</span></td><td id="LC7555" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._map.latLngToLayerPoint(<span class="code-keyword">this</span>._latlng).round();
</code></td></tr><tr><td id="L7556" class="css-a4x74f"><span>7556</span></td><td id="LC7556" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._setPos(pos);
</code></td></tr><tr><td id="L7557" class="css-a4x74f"><span>7557</span></td><td id="LC7557" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7558" class="css-a4x74f"><span>7558</span></td><td id="LC7558" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7559" class="css-a4x74f"><span>7559</span></td><td id="LC7559" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7560" class="css-a4x74f"><span>7560</span></td><td id="LC7560" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7561" class="css-a4x74f"><span>7561</span></td><td id="LC7561" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7562" class="css-a4x74f"><span>7562</span></td><td id="LC7562" class="css-1dcdqdg"><code>	_initIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7563" class="css-a4x74f"><span>7563</span></td><td id="LC7563" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> options = <span class="code-keyword">this</span>.options,
</code></td></tr><tr><td id="L7564" class="css-a4x74f"><span>7564</span></td><td id="LC7564" class="css-1dcdqdg"><code>		    classToAdd = <span class="code-string">'leaflet-zoom-'</span> + (<span class="code-keyword">this</span>._zoomAnimated ? <span class="code-string">'animated'</span> : <span class="code-string">'hide'</span>);
</code></td></tr><tr><td id="L7565" class="css-a4x74f"><span>7565</span></td><td id="LC7565" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7566" class="css-a4x74f"><span>7566</span></td><td id="LC7566" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> icon = options.icon.createIcon(<span class="code-keyword">this</span>._icon),
</code></td></tr><tr><td id="L7567" class="css-a4x74f"><span>7567</span></td><td id="LC7567" class="css-1dcdqdg"><code>		    addIcon = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L7568" class="css-a4x74f"><span>7568</span></td><td id="LC7568" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7569" class="css-a4x74f"><span>7569</span></td><td id="LC7569" class="css-1dcdqdg"><code>		<span class="code-comment">// if we're not reusing the icon, remove the old one and init new one</span>
</code></td></tr><tr><td id="L7570" class="css-a4x74f"><span>7570</span></td><td id="LC7570" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (icon !== <span class="code-keyword">this</span>._icon) {
</code></td></tr><tr><td id="L7571" class="css-a4x74f"><span>7571</span></td><td id="LC7571" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._icon) {
</code></td></tr><tr><td id="L7572" class="css-a4x74f"><span>7572</span></td><td id="LC7572" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._removeIcon();
</code></td></tr><tr><td id="L7573" class="css-a4x74f"><span>7573</span></td><td id="LC7573" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7574" class="css-a4x74f"><span>7574</span></td><td id="LC7574" class="css-1dcdqdg"><code>			addIcon = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L7575" class="css-a4x74f"><span>7575</span></td><td id="LC7575" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7576" class="css-a4x74f"><span>7576</span></td><td id="LC7576" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.title) {
</code></td></tr><tr><td id="L7577" class="css-a4x74f"><span>7577</span></td><td id="LC7577" class="css-1dcdqdg"><code>				icon.title = options.title;
</code></td></tr><tr><td id="L7578" class="css-a4x74f"><span>7578</span></td><td id="LC7578" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7579" class="css-a4x74f"><span>7579</span></td><td id="LC7579" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7580" class="css-a4x74f"><span>7580</span></td><td id="LC7580" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (icon.tagName === <span class="code-string">'IMG'</span>) {
</code></td></tr><tr><td id="L7581" class="css-a4x74f"><span>7581</span></td><td id="LC7581" class="css-1dcdqdg"><code>				icon.alt = options.alt || <span class="code-string">''</span>;
</code></td></tr><tr><td id="L7582" class="css-a4x74f"><span>7582</span></td><td id="LC7582" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7583" class="css-a4x74f"><span>7583</span></td><td id="LC7583" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7584" class="css-a4x74f"><span>7584</span></td><td id="LC7584" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7585" class="css-a4x74f"><span>7585</span></td><td id="LC7585" class="css-1dcdqdg"><code>		addClass(icon, classToAdd);
</code></td></tr><tr><td id="L7586" class="css-a4x74f"><span>7586</span></td><td id="LC7586" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7587" class="css-a4x74f"><span>7587</span></td><td id="LC7587" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.keyboard) {
</code></td></tr><tr><td id="L7588" class="css-a4x74f"><span>7588</span></td><td id="LC7588" class="css-1dcdqdg"><code>			icon.tabIndex = <span class="code-string">'0'</span>;
</code></td></tr><tr><td id="L7589" class="css-a4x74f"><span>7589</span></td><td id="LC7589" class="css-1dcdqdg"><code>			icon.setAttribute(<span class="code-string">'role'</span>, <span class="code-string">'button'</span>);
</code></td></tr><tr><td id="L7590" class="css-a4x74f"><span>7590</span></td><td id="LC7590" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7591" class="css-a4x74f"><span>7591</span></td><td id="LC7591" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7592" class="css-a4x74f"><span>7592</span></td><td id="LC7592" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._icon = icon;
</code></td></tr><tr><td id="L7593" class="css-a4x74f"><span>7593</span></td><td id="LC7593" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7594" class="css-a4x74f"><span>7594</span></td><td id="LC7594" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.riseOnHover) {
</code></td></tr><tr><td id="L7595" class="css-a4x74f"><span>7595</span></td><td id="LC7595" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.on({
</code></td></tr><tr><td id="L7596" class="css-a4x74f"><span>7596</span></td><td id="LC7596" class="css-1dcdqdg"><code>				mouseover: <span class="code-keyword">this</span>._bringToFront,
</code></td></tr><tr><td id="L7597" class="css-a4x74f"><span>7597</span></td><td id="LC7597" class="css-1dcdqdg"><code>				mouseout: <span class="code-keyword">this</span>._resetZIndex
</code></td></tr><tr><td id="L7598" class="css-a4x74f"><span>7598</span></td><td id="LC7598" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L7599" class="css-a4x74f"><span>7599</span></td><td id="LC7599" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7600" class="css-a4x74f"><span>7600</span></td><td id="LC7600" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7601" class="css-a4x74f"><span>7601</span></td><td id="LC7601" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.autoPanOnFocus) {
</code></td></tr><tr><td id="L7602" class="css-a4x74f"><span>7602</span></td><td id="LC7602" class="css-1dcdqdg"><code>			on(icon, <span class="code-string">'focus'</span>, <span class="code-keyword">this</span>._panOnFocus, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7603" class="css-a4x74f"><span>7603</span></td><td id="LC7603" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7604" class="css-a4x74f"><span>7604</span></td><td id="LC7604" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7605" class="css-a4x74f"><span>7605</span></td><td id="LC7605" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> newShadow = options.icon.createShadow(<span class="code-keyword">this</span>._shadow),
</code></td></tr><tr><td id="L7606" class="css-a4x74f"><span>7606</span></td><td id="LC7606" class="css-1dcdqdg"><code>		    addShadow = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L7607" class="css-a4x74f"><span>7607</span></td><td id="LC7607" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7608" class="css-a4x74f"><span>7608</span></td><td id="LC7608" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (newShadow !== <span class="code-keyword">this</span>._shadow) {
</code></td></tr><tr><td id="L7609" class="css-a4x74f"><span>7609</span></td><td id="LC7609" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._removeShadow();
</code></td></tr><tr><td id="L7610" class="css-a4x74f"><span>7610</span></td><td id="LC7610" class="css-1dcdqdg"><code>			addShadow = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L7611" class="css-a4x74f"><span>7611</span></td><td id="LC7611" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7612" class="css-a4x74f"><span>7612</span></td><td id="LC7612" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7613" class="css-a4x74f"><span>7613</span></td><td id="LC7613" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (newShadow) {
</code></td></tr><tr><td id="L7614" class="css-a4x74f"><span>7614</span></td><td id="LC7614" class="css-1dcdqdg"><code>			addClass(newShadow, classToAdd);
</code></td></tr><tr><td id="L7615" class="css-a4x74f"><span>7615</span></td><td id="LC7615" class="css-1dcdqdg"><code>			newShadow.alt = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L7616" class="css-a4x74f"><span>7616</span></td><td id="LC7616" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7617" class="css-a4x74f"><span>7617</span></td><td id="LC7617" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._shadow = newShadow;
</code></td></tr><tr><td id="L7618" class="css-a4x74f"><span>7618</span></td><td id="LC7618" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7619" class="css-a4x74f"><span>7619</span></td><td id="LC7619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7620" class="css-a4x74f"><span>7620</span></td><td id="LC7620" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.opacity &lt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L7621" class="css-a4x74f"><span>7621</span></td><td id="LC7621" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateOpacity();
</code></td></tr><tr><td id="L7622" class="css-a4x74f"><span>7622</span></td><td id="LC7622" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7623" class="css-a4x74f"><span>7623</span></td><td id="LC7623" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7624" class="css-a4x74f"><span>7624</span></td><td id="LC7624" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7625" class="css-a4x74f"><span>7625</span></td><td id="LC7625" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (addIcon) {
</code></td></tr><tr><td id="L7626" class="css-a4x74f"><span>7626</span></td><td id="LC7626" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.getPane().appendChild(<span class="code-keyword">this</span>._icon);
</code></td></tr><tr><td id="L7627" class="css-a4x74f"><span>7627</span></td><td id="LC7627" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7628" class="css-a4x74f"><span>7628</span></td><td id="LC7628" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initInteraction();
</code></td></tr><tr><td id="L7629" class="css-a4x74f"><span>7629</span></td><td id="LC7629" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (newShadow &amp;&amp; addShadow) {
</code></td></tr><tr><td id="L7630" class="css-a4x74f"><span>7630</span></td><td id="LC7630" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.getPane(options.shadowPane).appendChild(<span class="code-keyword">this</span>._shadow);
</code></td></tr><tr><td id="L7631" class="css-a4x74f"><span>7631</span></td><td id="LC7631" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7632" class="css-a4x74f"><span>7632</span></td><td id="LC7632" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7633" class="css-a4x74f"><span>7633</span></td><td id="LC7633" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7634" class="css-a4x74f"><span>7634</span></td><td id="LC7634" class="css-1dcdqdg"><code>	_removeIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7635" class="css-a4x74f"><span>7635</span></td><td id="LC7635" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.riseOnHover) {
</code></td></tr><tr><td id="L7636" class="css-a4x74f"><span>7636</span></td><td id="LC7636" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.off({
</code></td></tr><tr><td id="L7637" class="css-a4x74f"><span>7637</span></td><td id="LC7637" class="css-1dcdqdg"><code>				mouseover: <span class="code-keyword">this</span>._bringToFront,
</code></td></tr><tr><td id="L7638" class="css-a4x74f"><span>7638</span></td><td id="LC7638" class="css-1dcdqdg"><code>				mouseout: <span class="code-keyword">this</span>._resetZIndex
</code></td></tr><tr><td id="L7639" class="css-a4x74f"><span>7639</span></td><td id="LC7639" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L7640" class="css-a4x74f"><span>7640</span></td><td id="LC7640" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7641" class="css-a4x74f"><span>7641</span></td><td id="LC7641" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7642" class="css-a4x74f"><span>7642</span></td><td id="LC7642" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.autoPanOnFocus) {
</code></td></tr><tr><td id="L7643" class="css-a4x74f"><span>7643</span></td><td id="LC7643" class="css-1dcdqdg"><code>			off(<span class="code-keyword">this</span>._icon, <span class="code-string">'focus'</span>, <span class="code-keyword">this</span>._panOnFocus, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7644" class="css-a4x74f"><span>7644</span></td><td id="LC7644" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7645" class="css-a4x74f"><span>7645</span></td><td id="LC7645" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7646" class="css-a4x74f"><span>7646</span></td><td id="LC7646" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._icon);
</code></td></tr><tr><td id="L7647" class="css-a4x74f"><span>7647</span></td><td id="LC7647" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.removeInteractiveTarget(<span class="code-keyword">this</span>._icon);
</code></td></tr><tr><td id="L7648" class="css-a4x74f"><span>7648</span></td><td id="LC7648" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7649" class="css-a4x74f"><span>7649</span></td><td id="LC7649" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._icon = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L7650" class="css-a4x74f"><span>7650</span></td><td id="LC7650" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7651" class="css-a4x74f"><span>7651</span></td><td id="LC7651" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7652" class="css-a4x74f"><span>7652</span></td><td id="LC7652" class="css-1dcdqdg"><code>	_removeShadow: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7653" class="css-a4x74f"><span>7653</span></td><td id="LC7653" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._shadow) {
</code></td></tr><tr><td id="L7654" class="css-a4x74f"><span>7654</span></td><td id="LC7654" class="css-1dcdqdg"><code>			remove(<span class="code-keyword">this</span>._shadow);
</code></td></tr><tr><td id="L7655" class="css-a4x74f"><span>7655</span></td><td id="LC7655" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7656" class="css-a4x74f"><span>7656</span></td><td id="LC7656" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._shadow = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L7657" class="css-a4x74f"><span>7657</span></td><td id="LC7657" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7658" class="css-a4x74f"><span>7658</span></td><td id="LC7658" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7659" class="css-a4x74f"><span>7659</span></td><td id="LC7659" class="css-1dcdqdg"><code>	_setPos: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">pos</span>) </span>{
</code></td></tr><tr><td id="L7660" class="css-a4x74f"><span>7660</span></td><td id="LC7660" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7661" class="css-a4x74f"><span>7661</span></td><td id="LC7661" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._icon) {
</code></td></tr><tr><td id="L7662" class="css-a4x74f"><span>7662</span></td><td id="LC7662" class="css-1dcdqdg"><code>			setPosition(<span class="code-keyword">this</span>._icon, pos);
</code></td></tr><tr><td id="L7663" class="css-a4x74f"><span>7663</span></td><td id="LC7663" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7664" class="css-a4x74f"><span>7664</span></td><td id="LC7664" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7665" class="css-a4x74f"><span>7665</span></td><td id="LC7665" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._shadow) {
</code></td></tr><tr><td id="L7666" class="css-a4x74f"><span>7666</span></td><td id="LC7666" class="css-1dcdqdg"><code>			setPosition(<span class="code-keyword">this</span>._shadow, pos);
</code></td></tr><tr><td id="L7667" class="css-a4x74f"><span>7667</span></td><td id="LC7667" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7668" class="css-a4x74f"><span>7668</span></td><td id="LC7668" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7669" class="css-a4x74f"><span>7669</span></td><td id="LC7669" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zIndex = pos.y + <span class="code-keyword">this</span>.options.zIndexOffset;
</code></td></tr><tr><td id="L7670" class="css-a4x74f"><span>7670</span></td><td id="LC7670" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7671" class="css-a4x74f"><span>7671</span></td><td id="LC7671" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetZIndex();
</code></td></tr><tr><td id="L7672" class="css-a4x74f"><span>7672</span></td><td id="LC7672" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7673" class="css-a4x74f"><span>7673</span></td><td id="LC7673" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7674" class="css-a4x74f"><span>7674</span></td><td id="LC7674" class="css-1dcdqdg"><code>	_updateZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">offset</span>) </span>{
</code></td></tr><tr><td id="L7675" class="css-a4x74f"><span>7675</span></td><td id="LC7675" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._icon) {
</code></td></tr><tr><td id="L7676" class="css-a4x74f"><span>7676</span></td><td id="LC7676" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._icon.style.zIndex = <span class="code-keyword">this</span>._zIndex + offset;
</code></td></tr><tr><td id="L7677" class="css-a4x74f"><span>7677</span></td><td id="LC7677" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7678" class="css-a4x74f"><span>7678</span></td><td id="LC7678" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7679" class="css-a4x74f"><span>7679</span></td><td id="LC7679" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7680" class="css-a4x74f"><span>7680</span></td><td id="LC7680" class="css-1dcdqdg"><code>	_animateZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">opt</span>) </span>{
</code></td></tr><tr><td id="L7681" class="css-a4x74f"><span>7681</span></td><td id="LC7681" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._map._latLngToNewLayerPoint(<span class="code-keyword">this</span>._latlng, opt.zoom, opt.center).round();
</code></td></tr><tr><td id="L7682" class="css-a4x74f"><span>7682</span></td><td id="LC7682" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7683" class="css-a4x74f"><span>7683</span></td><td id="LC7683" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPos(pos);
</code></td></tr><tr><td id="L7684" class="css-a4x74f"><span>7684</span></td><td id="LC7684" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7685" class="css-a4x74f"><span>7685</span></td><td id="LC7685" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7686" class="css-a4x74f"><span>7686</span></td><td id="LC7686" class="css-1dcdqdg"><code>	_initInteraction: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7687" class="css-a4x74f"><span>7687</span></td><td id="LC7687" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7688" class="css-a4x74f"><span>7688</span></td><td id="LC7688" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.interactive) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L7689" class="css-a4x74f"><span>7689</span></td><td id="LC7689" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7690" class="css-a4x74f"><span>7690</span></td><td id="LC7690" class="css-1dcdqdg"><code>		addClass(<span class="code-keyword">this</span>._icon, <span class="code-string">'leaflet-interactive'</span>);
</code></td></tr><tr><td id="L7691" class="css-a4x74f"><span>7691</span></td><td id="LC7691" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7692" class="css-a4x74f"><span>7692</span></td><td id="LC7692" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.addInteractiveTarget(<span class="code-keyword">this</span>._icon);
</code></td></tr><tr><td id="L7693" class="css-a4x74f"><span>7693</span></td><td id="LC7693" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7694" class="css-a4x74f"><span>7694</span></td><td id="LC7694" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (MarkerDrag) {
</code></td></tr><tr><td id="L7695" class="css-a4x74f"><span>7695</span></td><td id="LC7695" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> draggable = <span class="code-keyword">this</span>.options.draggable;
</code></td></tr><tr><td id="L7696" class="css-a4x74f"><span>7696</span></td><td id="LC7696" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.dragging) {
</code></td></tr><tr><td id="L7697" class="css-a4x74f"><span>7697</span></td><td id="LC7697" class="css-1dcdqdg"><code>				draggable = <span class="code-keyword">this</span>.dragging.enabled();
</code></td></tr><tr><td id="L7698" class="css-a4x74f"><span>7698</span></td><td id="LC7698" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.dragging.disable();
</code></td></tr><tr><td id="L7699" class="css-a4x74f"><span>7699</span></td><td id="LC7699" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7700" class="css-a4x74f"><span>7700</span></td><td id="LC7700" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7701" class="css-a4x74f"><span>7701</span></td><td id="LC7701" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.dragging = <span class="code-keyword">new</span> MarkerDrag(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7702" class="css-a4x74f"><span>7702</span></td><td id="LC7702" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7703" class="css-a4x74f"><span>7703</span></td><td id="LC7703" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (draggable) {
</code></td></tr><tr><td id="L7704" class="css-a4x74f"><span>7704</span></td><td id="LC7704" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.dragging.enable();
</code></td></tr><tr><td id="L7705" class="css-a4x74f"><span>7705</span></td><td id="LC7705" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7706" class="css-a4x74f"><span>7706</span></td><td id="LC7706" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7707" class="css-a4x74f"><span>7707</span></td><td id="LC7707" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7708" class="css-a4x74f"><span>7708</span></td><td id="LC7708" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7709" class="css-a4x74f"><span>7709</span></td><td id="LC7709" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setOpacity(opacity: Number): this</span>
</code></td></tr><tr><td id="L7710" class="css-a4x74f"><span>7710</span></td><td id="LC7710" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the opacity of the marker.</span>
</code></td></tr><tr><td id="L7711" class="css-a4x74f"><span>7711</span></td><td id="LC7711" class="css-1dcdqdg"><code>	setOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">opacity</span>) </span>{
</code></td></tr><tr><td id="L7712" class="css-a4x74f"><span>7712</span></td><td id="LC7712" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.opacity = opacity;
</code></td></tr><tr><td id="L7713" class="css-a4x74f"><span>7713</span></td><td id="LC7713" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L7714" class="css-a4x74f"><span>7714</span></td><td id="LC7714" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateOpacity();
</code></td></tr><tr><td id="L7715" class="css-a4x74f"><span>7715</span></td><td id="LC7715" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7716" class="css-a4x74f"><span>7716</span></td><td id="LC7716" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7717" class="css-a4x74f"><span>7717</span></td><td id="LC7717" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7718" class="css-a4x74f"><span>7718</span></td><td id="LC7718" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7719" class="css-a4x74f"><span>7719</span></td><td id="LC7719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7720" class="css-a4x74f"><span>7720</span></td><td id="LC7720" class="css-1dcdqdg"><code>	_updateOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7721" class="css-a4x74f"><span>7721</span></td><td id="LC7721" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> opacity = <span class="code-keyword">this</span>.options.opacity;
</code></td></tr><tr><td id="L7722" class="css-a4x74f"><span>7722</span></td><td id="LC7722" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7723" class="css-a4x74f"><span>7723</span></td><td id="LC7723" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._icon) {
</code></td></tr><tr><td id="L7724" class="css-a4x74f"><span>7724</span></td><td id="LC7724" class="css-1dcdqdg"><code>			setOpacity(<span class="code-keyword">this</span>._icon, opacity);
</code></td></tr><tr><td id="L7725" class="css-a4x74f"><span>7725</span></td><td id="LC7725" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7726" class="css-a4x74f"><span>7726</span></td><td id="LC7726" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7727" class="css-a4x74f"><span>7727</span></td><td id="LC7727" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._shadow) {
</code></td></tr><tr><td id="L7728" class="css-a4x74f"><span>7728</span></td><td id="LC7728" class="css-1dcdqdg"><code>			setOpacity(<span class="code-keyword">this</span>._shadow, opacity);
</code></td></tr><tr><td id="L7729" class="css-a4x74f"><span>7729</span></td><td id="LC7729" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7730" class="css-a4x74f"><span>7730</span></td><td id="LC7730" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7731" class="css-a4x74f"><span>7731</span></td><td id="LC7731" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7732" class="css-a4x74f"><span>7732</span></td><td id="LC7732" class="css-1dcdqdg"><code>	_bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7733" class="css-a4x74f"><span>7733</span></td><td id="LC7733" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateZIndex(<span class="code-keyword">this</span>.options.riseOffset);
</code></td></tr><tr><td id="L7734" class="css-a4x74f"><span>7734</span></td><td id="LC7734" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7735" class="css-a4x74f"><span>7735</span></td><td id="LC7735" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7736" class="css-a4x74f"><span>7736</span></td><td id="LC7736" class="css-1dcdqdg"><code>	_resetZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7737" class="css-a4x74f"><span>7737</span></td><td id="LC7737" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateZIndex(<span class="code-number">0</span>);
</code></td></tr><tr><td id="L7738" class="css-a4x74f"><span>7738</span></td><td id="LC7738" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7739" class="css-a4x74f"><span>7739</span></td><td id="LC7739" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7740" class="css-a4x74f"><span>7740</span></td><td id="LC7740" class="css-1dcdqdg"><code>	_panOnFocus: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7741" class="css-a4x74f"><span>7741</span></td><td id="LC7741" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L7742" class="css-a4x74f"><span>7742</span></td><td id="LC7742" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L7743" class="css-a4x74f"><span>7743</span></td><td id="LC7743" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7744" class="css-a4x74f"><span>7744</span></td><td id="LC7744" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> iconOpts = <span class="code-keyword">this</span>.options.icon.options;
</code></td></tr><tr><td id="L7745" class="css-a4x74f"><span>7745</span></td><td id="LC7745" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> size = toPoint(iconOpts.iconSize);
</code></td></tr><tr><td id="L7746" class="css-a4x74f"><span>7746</span></td><td id="LC7746" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> anchor = toPoint(iconOpts.iconAnchor);
</code></td></tr><tr><td id="L7747" class="css-a4x74f"><span>7747</span></td><td id="LC7747" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7748" class="css-a4x74f"><span>7748</span></td><td id="LC7748" class="css-1dcdqdg"><code>		map.panInside(<span class="code-keyword">this</span>._latlng, {
</code></td></tr><tr><td id="L7749" class="css-a4x74f"><span>7749</span></td><td id="LC7749" class="css-1dcdqdg"><code>			paddingTopLeft: anchor,
</code></td></tr><tr><td id="L7750" class="css-a4x74f"><span>7750</span></td><td id="LC7750" class="css-1dcdqdg"><code>			paddingBottomRight: size.subtract(anchor)
</code></td></tr><tr><td id="L7751" class="css-a4x74f"><span>7751</span></td><td id="LC7751" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L7752" class="css-a4x74f"><span>7752</span></td><td id="LC7752" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7753" class="css-a4x74f"><span>7753</span></td><td id="LC7753" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7754" class="css-a4x74f"><span>7754</span></td><td id="LC7754" class="css-1dcdqdg"><code>	_getPopupAnchor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7755" class="css-a4x74f"><span>7755</span></td><td id="LC7755" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.icon.options.popupAnchor;
</code></td></tr><tr><td id="L7756" class="css-a4x74f"><span>7756</span></td><td id="LC7756" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7757" class="css-a4x74f"><span>7757</span></td><td id="LC7757" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7758" class="css-a4x74f"><span>7758</span></td><td id="LC7758" class="css-1dcdqdg"><code>	_getTooltipAnchor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7759" class="css-a4x74f"><span>7759</span></td><td id="LC7759" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.icon.options.tooltipAnchor;
</code></td></tr><tr><td id="L7760" class="css-a4x74f"><span>7760</span></td><td id="LC7760" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L7761" class="css-a4x74f"><span>7761</span></td><td id="LC7761" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L7762" class="css-a4x74f"><span>7762</span></td><td id="LC7762" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7763" class="css-a4x74f"><span>7763</span></td><td id="LC7763" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7764" class="css-a4x74f"><span>7764</span></td><td id="LC7764" class="css-1dcdqdg"><code><span class="code-comment">// factory L.marker(latlng: LatLng, options? : Marker options)</span>
</code></td></tr><tr><td id="L7765" class="css-a4x74f"><span>7765</span></td><td id="LC7765" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7766" class="css-a4x74f"><span>7766</span></td><td id="LC7766" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.marker(latlng: LatLng, options? : Marker options)</span>
</code></td></tr><tr><td id="L7767" class="css-a4x74f"><span>7767</span></td><td id="LC7767" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a Marker object given a geographical point and optionally an options object.</span>
</code></td></tr><tr><td id="L7768" class="css-a4x74f"><span>7768</span></td><td id="LC7768" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">marker</span>(<span class="code-params">latlng, options</span>) </span>{
</code></td></tr><tr><td id="L7769" class="css-a4x74f"><span>7769</span></td><td id="LC7769" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Marker(latlng, options);
</code></td></tr><tr><td id="L7770" class="css-a4x74f"><span>7770</span></td><td id="LC7770" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L7771" class="css-a4x74f"><span>7771</span></td><td id="LC7771" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7772" class="css-a4x74f"><span>7772</span></td><td id="LC7772" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L7773" class="css-a4x74f"><span>7773</span></td><td id="LC7773" class="css-1dcdqdg"><code><span class="code-comment"> * @class Path
</span></code></td></tr><tr><td id="L7774" class="css-a4x74f"><span>7774</span></td><td id="LC7774" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Path
</span></code></td></tr><tr><td id="L7775" class="css-a4x74f"><span>7775</span></td><td id="LC7775" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Interactive layer
</span></code></td></tr><tr><td id="L7776" class="css-a4x74f"><span>7776</span></td><td id="LC7776" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7777" class="css-a4x74f"><span>7777</span></td><td id="LC7777" class="css-1dcdqdg"><code><span class="code-comment"> * An abstract class that contains options and constants shared between vector
</span></code></td></tr><tr><td id="L7778" class="css-a4x74f"><span>7778</span></td><td id="LC7778" class="css-1dcdqdg"><code><span class="code-comment"> * overlays (Polygon, Polyline, Circle). Do not use it directly. Extends `Layer`.
</span></code></td></tr><tr><td id="L7779" class="css-a4x74f"><span>7779</span></td><td id="LC7779" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7780" class="css-a4x74f"><span>7780</span></td><td id="LC7780" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7781" class="css-a4x74f"><span>7781</span></td><td id="LC7781" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Path = Layer.extend({
</code></td></tr><tr><td id="L7782" class="css-a4x74f"><span>7782</span></td><td id="LC7782" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7783" class="css-a4x74f"><span>7783</span></td><td id="LC7783" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L7784" class="css-a4x74f"><span>7784</span></td><td id="LC7784" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Path options</span>
</code></td></tr><tr><td id="L7785" class="css-a4x74f"><span>7785</span></td><td id="LC7785" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L7786" class="css-a4x74f"><span>7786</span></td><td id="LC7786" class="css-1dcdqdg"><code>		<span class="code-comment">// @option stroke: Boolean = true</span>
</code></td></tr><tr><td id="L7787" class="css-a4x74f"><span>7787</span></td><td id="LC7787" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.</span>
</code></td></tr><tr><td id="L7788" class="css-a4x74f"><span>7788</span></td><td id="LC7788" class="css-1dcdqdg"><code>		stroke: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L7789" class="css-a4x74f"><span>7789</span></td><td id="LC7789" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7790" class="css-a4x74f"><span>7790</span></td><td id="LC7790" class="css-1dcdqdg"><code>		<span class="code-comment">// @option color: String = '#3388ff'</span>
</code></td></tr><tr><td id="L7791" class="css-a4x74f"><span>7791</span></td><td id="LC7791" class="css-1dcdqdg"><code>		<span class="code-comment">// Stroke color</span>
</code></td></tr><tr><td id="L7792" class="css-a4x74f"><span>7792</span></td><td id="LC7792" class="css-1dcdqdg"><code>		color: <span class="code-string">'#3388ff'</span>,
</code></td></tr><tr><td id="L7793" class="css-a4x74f"><span>7793</span></td><td id="LC7793" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7794" class="css-a4x74f"><span>7794</span></td><td id="LC7794" class="css-1dcdqdg"><code>		<span class="code-comment">// @option weight: Number = 3</span>
</code></td></tr><tr><td id="L7795" class="css-a4x74f"><span>7795</span></td><td id="LC7795" class="css-1dcdqdg"><code>		<span class="code-comment">// Stroke width in pixels</span>
</code></td></tr><tr><td id="L7796" class="css-a4x74f"><span>7796</span></td><td id="LC7796" class="css-1dcdqdg"><code>		weight: <span class="code-number">3</span>,
</code></td></tr><tr><td id="L7797" class="css-a4x74f"><span>7797</span></td><td id="LC7797" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7798" class="css-a4x74f"><span>7798</span></td><td id="LC7798" class="css-1dcdqdg"><code>		<span class="code-comment">// @option opacity: Number = 1.0</span>
</code></td></tr><tr><td id="L7799" class="css-a4x74f"><span>7799</span></td><td id="LC7799" class="css-1dcdqdg"><code>		<span class="code-comment">// Stroke opacity</span>
</code></td></tr><tr><td id="L7800" class="css-a4x74f"><span>7800</span></td><td id="LC7800" class="css-1dcdqdg"><code>		opacity: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L7801" class="css-a4x74f"><span>7801</span></td><td id="LC7801" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7802" class="css-a4x74f"><span>7802</span></td><td id="LC7802" class="css-1dcdqdg"><code>		<span class="code-comment">// @option lineCap: String= 'round'</span>
</code></td></tr><tr><td id="L7803" class="css-a4x74f"><span>7803</span></td><td id="LC7803" class="css-1dcdqdg"><code>		<span class="code-comment">// A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.</span>
</code></td></tr><tr><td id="L7804" class="css-a4x74f"><span>7804</span></td><td id="LC7804" class="css-1dcdqdg"><code>		lineCap: <span class="code-string">'round'</span>,
</code></td></tr><tr><td id="L7805" class="css-a4x74f"><span>7805</span></td><td id="LC7805" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7806" class="css-a4x74f"><span>7806</span></td><td id="LC7806" class="css-1dcdqdg"><code>		<span class="code-comment">// @option lineJoin: String = 'round'</span>
</code></td></tr><tr><td id="L7807" class="css-a4x74f"><span>7807</span></td><td id="LC7807" class="css-1dcdqdg"><code>		<span class="code-comment">// A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.</span>
</code></td></tr><tr><td id="L7808" class="css-a4x74f"><span>7808</span></td><td id="LC7808" class="css-1dcdqdg"><code>		lineJoin: <span class="code-string">'round'</span>,
</code></td></tr><tr><td id="L7809" class="css-a4x74f"><span>7809</span></td><td id="LC7809" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7810" class="css-a4x74f"><span>7810</span></td><td id="LC7810" class="css-1dcdqdg"><code>		<span class="code-comment">// @option dashArray: String = null</span>
</code></td></tr><tr><td id="L7811" class="css-a4x74f"><span>7811</span></td><td id="LC7811" class="css-1dcdqdg"><code>		<span class="code-comment">// A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).</span>
</code></td></tr><tr><td id="L7812" class="css-a4x74f"><span>7812</span></td><td id="LC7812" class="css-1dcdqdg"><code>		dashArray: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L7813" class="css-a4x74f"><span>7813</span></td><td id="LC7813" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7814" class="css-a4x74f"><span>7814</span></td><td id="LC7814" class="css-1dcdqdg"><code>		<span class="code-comment">// @option dashOffset: String = null</span>
</code></td></tr><tr><td id="L7815" class="css-a4x74f"><span>7815</span></td><td id="LC7815" class="css-1dcdqdg"><code>		<span class="code-comment">// A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).</span>
</code></td></tr><tr><td id="L7816" class="css-a4x74f"><span>7816</span></td><td id="LC7816" class="css-1dcdqdg"><code>		dashOffset: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L7817" class="css-a4x74f"><span>7817</span></td><td id="LC7817" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7818" class="css-a4x74f"><span>7818</span></td><td id="LC7818" class="css-1dcdqdg"><code>		<span class="code-comment">// @option fill: Boolean = depends</span>
</code></td></tr><tr><td id="L7819" class="css-a4x74f"><span>7819</span></td><td id="LC7819" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.</span>
</code></td></tr><tr><td id="L7820" class="css-a4x74f"><span>7820</span></td><td id="LC7820" class="css-1dcdqdg"><code>		fill: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L7821" class="css-a4x74f"><span>7821</span></td><td id="LC7821" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7822" class="css-a4x74f"><span>7822</span></td><td id="LC7822" class="css-1dcdqdg"><code>		<span class="code-comment">// @option fillColor: String = *</span>
</code></td></tr><tr><td id="L7823" class="css-a4x74f"><span>7823</span></td><td id="LC7823" class="css-1dcdqdg"><code>		<span class="code-comment">// Fill color. Defaults to the value of the [`color`](#path-color) option</span>
</code></td></tr><tr><td id="L7824" class="css-a4x74f"><span>7824</span></td><td id="LC7824" class="css-1dcdqdg"><code>		fillColor: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L7825" class="css-a4x74f"><span>7825</span></td><td id="LC7825" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7826" class="css-a4x74f"><span>7826</span></td><td id="LC7826" class="css-1dcdqdg"><code>		<span class="code-comment">// @option fillOpacity: Number = 0.2</span>
</code></td></tr><tr><td id="L7827" class="css-a4x74f"><span>7827</span></td><td id="LC7827" class="css-1dcdqdg"><code>		<span class="code-comment">// Fill opacity.</span>
</code></td></tr><tr><td id="L7828" class="css-a4x74f"><span>7828</span></td><td id="LC7828" class="css-1dcdqdg"><code>		fillOpacity: <span class="code-number">0.2</span>,
</code></td></tr><tr><td id="L7829" class="css-a4x74f"><span>7829</span></td><td id="LC7829" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7830" class="css-a4x74f"><span>7830</span></td><td id="LC7830" class="css-1dcdqdg"><code>		<span class="code-comment">// @option fillRule: String = 'evenodd'</span>
</code></td></tr><tr><td id="L7831" class="css-a4x74f"><span>7831</span></td><td id="LC7831" class="css-1dcdqdg"><code>		<span class="code-comment">// A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.</span>
</code></td></tr><tr><td id="L7832" class="css-a4x74f"><span>7832</span></td><td id="LC7832" class="css-1dcdqdg"><code>		fillRule: <span class="code-string">'evenodd'</span>,
</code></td></tr><tr><td id="L7833" class="css-a4x74f"><span>7833</span></td><td id="LC7833" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7834" class="css-a4x74f"><span>7834</span></td><td id="LC7834" class="css-1dcdqdg"><code>		<span class="code-comment">// className: '',</span>
</code></td></tr><tr><td id="L7835" class="css-a4x74f"><span>7835</span></td><td id="LC7835" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7836" class="css-a4x74f"><span>7836</span></td><td id="LC7836" class="css-1dcdqdg"><code>		<span class="code-comment">// Option inherited from "Interactive layer" abstract class</span>
</code></td></tr><tr><td id="L7837" class="css-a4x74f"><span>7837</span></td><td id="LC7837" class="css-1dcdqdg"><code>		interactive: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L7838" class="css-a4x74f"><span>7838</span></td><td id="LC7838" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7839" class="css-a4x74f"><span>7839</span></td><td id="LC7839" class="css-1dcdqdg"><code>		<span class="code-comment">// @option bubblingMouseEvents: Boolean = true</span>
</code></td></tr><tr><td id="L7840" class="css-a4x74f"><span>7840</span></td><td id="LC7840" class="css-1dcdqdg"><code>		<span class="code-comment">// When `true`, a mouse event on this path will trigger the same event on the map</span>
</code></td></tr><tr><td id="L7841" class="css-a4x74f"><span>7841</span></td><td id="LC7841" class="css-1dcdqdg"><code>		<span class="code-comment">// (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).</span>
</code></td></tr><tr><td id="L7842" class="css-a4x74f"><span>7842</span></td><td id="LC7842" class="css-1dcdqdg"><code>		bubblingMouseEvents: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L7843" class="css-a4x74f"><span>7843</span></td><td id="LC7843" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7844" class="css-a4x74f"><span>7844</span></td><td id="LC7844" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7845" class="css-a4x74f"><span>7845</span></td><td id="LC7845" class="css-1dcdqdg"><code>	beforeAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L7846" class="css-a4x74f"><span>7846</span></td><td id="LC7846" class="css-1dcdqdg"><code>		<span class="code-comment">// Renderer is set here because we need to call renderer.getEvents</span>
</code></td></tr><tr><td id="L7847" class="css-a4x74f"><span>7847</span></td><td id="LC7847" class="css-1dcdqdg"><code>		<span class="code-comment">// before this.getEvents.</span>
</code></td></tr><tr><td id="L7848" class="css-a4x74f"><span>7848</span></td><td id="LC7848" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer = map.getRenderer(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7849" class="css-a4x74f"><span>7849</span></td><td id="LC7849" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7850" class="css-a4x74f"><span>7850</span></td><td id="LC7850" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7851" class="css-a4x74f"><span>7851</span></td><td id="LC7851" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7852" class="css-a4x74f"><span>7852</span></td><td id="LC7852" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer._initPath(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7853" class="css-a4x74f"><span>7853</span></td><td id="LC7853" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._reset();
</code></td></tr><tr><td id="L7854" class="css-a4x74f"><span>7854</span></td><td id="LC7854" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer._addPath(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7855" class="css-a4x74f"><span>7855</span></td><td id="LC7855" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7856" class="css-a4x74f"><span>7856</span></td><td id="LC7856" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7857" class="css-a4x74f"><span>7857</span></td><td id="LC7857" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7858" class="css-a4x74f"><span>7858</span></td><td id="LC7858" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer._removePath(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7859" class="css-a4x74f"><span>7859</span></td><td id="LC7859" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7860" class="css-a4x74f"><span>7860</span></td><td id="LC7860" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7861" class="css-a4x74f"><span>7861</span></td><td id="LC7861" class="css-1dcdqdg"><code>	<span class="code-comment">// @method redraw(): this</span>
</code></td></tr><tr><td id="L7862" class="css-a4x74f"><span>7862</span></td><td id="LC7862" class="css-1dcdqdg"><code>	<span class="code-comment">// Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.</span>
</code></td></tr><tr><td id="L7863" class="css-a4x74f"><span>7863</span></td><td id="LC7863" class="css-1dcdqdg"><code>	redraw: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7864" class="css-a4x74f"><span>7864</span></td><td id="LC7864" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L7865" class="css-a4x74f"><span>7865</span></td><td id="LC7865" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._renderer._updatePath(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7866" class="css-a4x74f"><span>7866</span></td><td id="LC7866" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7867" class="css-a4x74f"><span>7867</span></td><td id="LC7867" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7868" class="css-a4x74f"><span>7868</span></td><td id="LC7868" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7869" class="css-a4x74f"><span>7869</span></td><td id="LC7869" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7870" class="css-a4x74f"><span>7870</span></td><td id="LC7870" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setStyle(style: Path options): this</span>
</code></td></tr><tr><td id="L7871" class="css-a4x74f"><span>7871</span></td><td id="LC7871" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the appearance of a Path based on the options in the `Path options` object.</span>
</code></td></tr><tr><td id="L7872" class="css-a4x74f"><span>7872</span></td><td id="LC7872" class="css-1dcdqdg"><code>	setStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">style</span>) </span>{
</code></td></tr><tr><td id="L7873" class="css-a4x74f"><span>7873</span></td><td id="LC7873" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, style);
</code></td></tr><tr><td id="L7874" class="css-a4x74f"><span>7874</span></td><td id="LC7874" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._renderer) {
</code></td></tr><tr><td id="L7875" class="css-a4x74f"><span>7875</span></td><td id="LC7875" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._renderer._updateStyle(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7876" class="css-a4x74f"><span>7876</span></td><td id="LC7876" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.stroke &amp;&amp; style &amp;&amp; <span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(style, <span class="code-string">'weight'</span>)) {
</code></td></tr><tr><td id="L7877" class="css-a4x74f"><span>7877</span></td><td id="LC7877" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._updateBounds();
</code></td></tr><tr><td id="L7878" class="css-a4x74f"><span>7878</span></td><td id="LC7878" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L7879" class="css-a4x74f"><span>7879</span></td><td id="LC7879" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7880" class="css-a4x74f"><span>7880</span></td><td id="LC7880" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7881" class="css-a4x74f"><span>7881</span></td><td id="LC7881" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7882" class="css-a4x74f"><span>7882</span></td><td id="LC7882" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7883" class="css-a4x74f"><span>7883</span></td><td id="LC7883" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToFront(): this</span>
</code></td></tr><tr><td id="L7884" class="css-a4x74f"><span>7884</span></td><td id="LC7884" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the layer to the top of all path layers.</span>
</code></td></tr><tr><td id="L7885" class="css-a4x74f"><span>7885</span></td><td id="LC7885" class="css-1dcdqdg"><code>	bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7886" class="css-a4x74f"><span>7886</span></td><td id="LC7886" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._renderer) {
</code></td></tr><tr><td id="L7887" class="css-a4x74f"><span>7887</span></td><td id="LC7887" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._renderer._bringToFront(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7888" class="css-a4x74f"><span>7888</span></td><td id="LC7888" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7889" class="css-a4x74f"><span>7889</span></td><td id="LC7889" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7890" class="css-a4x74f"><span>7890</span></td><td id="LC7890" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7891" class="css-a4x74f"><span>7891</span></td><td id="LC7891" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7892" class="css-a4x74f"><span>7892</span></td><td id="LC7892" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToBack(): this</span>
</code></td></tr><tr><td id="L7893" class="css-a4x74f"><span>7893</span></td><td id="LC7893" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the layer to the bottom of all path layers.</span>
</code></td></tr><tr><td id="L7894" class="css-a4x74f"><span>7894</span></td><td id="LC7894" class="css-1dcdqdg"><code>	bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7895" class="css-a4x74f"><span>7895</span></td><td id="LC7895" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._renderer) {
</code></td></tr><tr><td id="L7896" class="css-a4x74f"><span>7896</span></td><td id="LC7896" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._renderer._bringToBack(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L7897" class="css-a4x74f"><span>7897</span></td><td id="LC7897" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7898" class="css-a4x74f"><span>7898</span></td><td id="LC7898" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7899" class="css-a4x74f"><span>7899</span></td><td id="LC7899" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7900" class="css-a4x74f"><span>7900</span></td><td id="LC7900" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7901" class="css-a4x74f"><span>7901</span></td><td id="LC7901" class="css-1dcdqdg"><code>	getElement: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7902" class="css-a4x74f"><span>7902</span></td><td id="LC7902" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._path;
</code></td></tr><tr><td id="L7903" class="css-a4x74f"><span>7903</span></td><td id="LC7903" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7904" class="css-a4x74f"><span>7904</span></td><td id="LC7904" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7905" class="css-a4x74f"><span>7905</span></td><td id="LC7905" class="css-1dcdqdg"><code>	_reset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7906" class="css-a4x74f"><span>7906</span></td><td id="LC7906" class="css-1dcdqdg"><code>		<span class="code-comment">// defined in child classes</span>
</code></td></tr><tr><td id="L7907" class="css-a4x74f"><span>7907</span></td><td id="LC7907" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._project();
</code></td></tr><tr><td id="L7908" class="css-a4x74f"><span>7908</span></td><td id="LC7908" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L7909" class="css-a4x74f"><span>7909</span></td><td id="LC7909" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7910" class="css-a4x74f"><span>7910</span></td><td id="LC7910" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7911" class="css-a4x74f"><span>7911</span></td><td id="LC7911" class="css-1dcdqdg"><code>	_clickTolerance: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7912" class="css-a4x74f"><span>7912</span></td><td id="LC7912" class="css-1dcdqdg"><code>		<span class="code-comment">// used when doing hit detection for Canvas layers</span>
</code></td></tr><tr><td id="L7913" class="css-a4x74f"><span>7913</span></td><td id="LC7913" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>.options.stroke ? <span class="code-keyword">this</span>.options.weight / <span class="code-number">2</span> : <span class="code-number">0</span>) +
</code></td></tr><tr><td id="L7914" class="css-a4x74f"><span>7914</span></td><td id="LC7914" class="css-1dcdqdg"><code>		  (<span class="code-keyword">this</span>._renderer.options.tolerance || <span class="code-number">0</span>);
</code></td></tr><tr><td id="L7915" class="css-a4x74f"><span>7915</span></td><td id="LC7915" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L7916" class="css-a4x74f"><span>7916</span></td><td id="LC7916" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L7917" class="css-a4x74f"><span>7917</span></td><td id="LC7917" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7918" class="css-a4x74f"><span>7918</span></td><td id="LC7918" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L7919" class="css-a4x74f"><span>7919</span></td><td id="LC7919" class="css-1dcdqdg"><code><span class="code-comment"> * @class CircleMarker
</span></code></td></tr><tr><td id="L7920" class="css-a4x74f"><span>7920</span></td><td id="LC7920" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.CircleMarker
</span></code></td></tr><tr><td id="L7921" class="css-a4x74f"><span>7921</span></td><td id="LC7921" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Path
</span></code></td></tr><tr><td id="L7922" class="css-a4x74f"><span>7922</span></td><td id="LC7922" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7923" class="css-a4x74f"><span>7923</span></td><td id="LC7923" class="css-1dcdqdg"><code><span class="code-comment"> * A circle of a fixed size with radius specified in pixels. Extends `Path`.
</span></code></td></tr><tr><td id="L7924" class="css-a4x74f"><span>7924</span></td><td id="LC7924" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7925" class="css-a4x74f"><span>7925</span></td><td id="LC7925" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7926" class="css-a4x74f"><span>7926</span></td><td id="LC7926" class="css-1dcdqdg"><code><span class="code-keyword">var</span> CircleMarker = Path.extend({
</code></td></tr><tr><td id="L7927" class="css-a4x74f"><span>7927</span></td><td id="LC7927" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7928" class="css-a4x74f"><span>7928</span></td><td id="LC7928" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L7929" class="css-a4x74f"><span>7929</span></td><td id="LC7929" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka CircleMarker options</span>
</code></td></tr><tr><td id="L7930" class="css-a4x74f"><span>7930</span></td><td id="LC7930" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L7931" class="css-a4x74f"><span>7931</span></td><td id="LC7931" class="css-1dcdqdg"><code>		fill: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L7932" class="css-a4x74f"><span>7932</span></td><td id="LC7932" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7933" class="css-a4x74f"><span>7933</span></td><td id="LC7933" class="css-1dcdqdg"><code>		<span class="code-comment">// @option radius: Number = 10</span>
</code></td></tr><tr><td id="L7934" class="css-a4x74f"><span>7934</span></td><td id="LC7934" class="css-1dcdqdg"><code>		<span class="code-comment">// Radius of the circle marker, in pixels</span>
</code></td></tr><tr><td id="L7935" class="css-a4x74f"><span>7935</span></td><td id="LC7935" class="css-1dcdqdg"><code>		radius: <span class="code-number">10</span>
</code></td></tr><tr><td id="L7936" class="css-a4x74f"><span>7936</span></td><td id="LC7936" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7937" class="css-a4x74f"><span>7937</span></td><td id="LC7937" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7938" class="css-a4x74f"><span>7938</span></td><td id="LC7938" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, options</span>) </span>{
</code></td></tr><tr><td id="L7939" class="css-a4x74f"><span>7939</span></td><td id="LC7939" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L7940" class="css-a4x74f"><span>7940</span></td><td id="LC7940" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L7941" class="css-a4x74f"><span>7941</span></td><td id="LC7941" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._radius = <span class="code-keyword">this</span>.options.radius;
</code></td></tr><tr><td id="L7942" class="css-a4x74f"><span>7942</span></td><td id="LC7942" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7943" class="css-a4x74f"><span>7943</span></td><td id="LC7943" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7944" class="css-a4x74f"><span>7944</span></td><td id="LC7944" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setLatLng(latLng: LatLng): this</span>
</code></td></tr><tr><td id="L7945" class="css-a4x74f"><span>7945</span></td><td id="LC7945" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the position of a circle marker to a new location.</span>
</code></td></tr><tr><td id="L7946" class="css-a4x74f"><span>7946</span></td><td id="LC7946" class="css-1dcdqdg"><code>	setLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L7947" class="css-a4x74f"><span>7947</span></td><td id="LC7947" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> oldLatLng = <span class="code-keyword">this</span>._latlng;
</code></td></tr><tr><td id="L7948" class="css-a4x74f"><span>7948</span></td><td id="LC7948" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L7949" class="css-a4x74f"><span>7949</span></td><td id="LC7949" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L7950" class="css-a4x74f"><span>7950</span></td><td id="LC7950" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7951" class="css-a4x74f"><span>7951</span></td><td id="LC7951" class="css-1dcdqdg"><code>		<span class="code-comment">// @event move: Event</span>
</code></td></tr><tr><td id="L7952" class="css-a4x74f"><span>7952</span></td><td id="LC7952" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the marker is moved via [`setLatLng`](#circlemarker-setlatlng). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.</span>
</code></td></tr><tr><td id="L7953" class="css-a4x74f"><span>7953</span></td><td id="LC7953" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fire(<span class="code-string">'move'</span>, {<span class="code-attr">oldLatLng</span>: oldLatLng, <span class="code-attr">latlng</span>: <span class="code-keyword">this</span>._latlng});
</code></td></tr><tr><td id="L7954" class="css-a4x74f"><span>7954</span></td><td id="LC7954" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7955" class="css-a4x74f"><span>7955</span></td><td id="LC7955" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7956" class="css-a4x74f"><span>7956</span></td><td id="LC7956" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLatLng(): LatLng</span>
</code></td></tr><tr><td id="L7957" class="css-a4x74f"><span>7957</span></td><td id="LC7957" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current geographical position of the circle marker</span>
</code></td></tr><tr><td id="L7958" class="css-a4x74f"><span>7958</span></td><td id="LC7958" class="css-1dcdqdg"><code>	getLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7959" class="css-a4x74f"><span>7959</span></td><td id="LC7959" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._latlng;
</code></td></tr><tr><td id="L7960" class="css-a4x74f"><span>7960</span></td><td id="LC7960" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7961" class="css-a4x74f"><span>7961</span></td><td id="LC7961" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7962" class="css-a4x74f"><span>7962</span></td><td id="LC7962" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setRadius(radius: Number): this</span>
</code></td></tr><tr><td id="L7963" class="css-a4x74f"><span>7963</span></td><td id="LC7963" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the radius of a circle marker. Units are in pixels.</span>
</code></td></tr><tr><td id="L7964" class="css-a4x74f"><span>7964</span></td><td id="LC7964" class="css-1dcdqdg"><code>	setRadius: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">radius</span>) </span>{
</code></td></tr><tr><td id="L7965" class="css-a4x74f"><span>7965</span></td><td id="LC7965" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.radius = <span class="code-keyword">this</span>._radius = radius;
</code></td></tr><tr><td id="L7966" class="css-a4x74f"><span>7966</span></td><td id="LC7966" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L7967" class="css-a4x74f"><span>7967</span></td><td id="LC7967" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7968" class="css-a4x74f"><span>7968</span></td><td id="LC7968" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7969" class="css-a4x74f"><span>7969</span></td><td id="LC7969" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getRadius(): Number</span>
</code></td></tr><tr><td id="L7970" class="css-a4x74f"><span>7970</span></td><td id="LC7970" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current radius of the circle</span>
</code></td></tr><tr><td id="L7971" class="css-a4x74f"><span>7971</span></td><td id="LC7971" class="css-1dcdqdg"><code>	getRadius: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7972" class="css-a4x74f"><span>7972</span></td><td id="LC7972" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._radius;
</code></td></tr><tr><td id="L7973" class="css-a4x74f"><span>7973</span></td><td id="LC7973" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7974" class="css-a4x74f"><span>7974</span></td><td id="LC7974" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7975" class="css-a4x74f"><span>7975</span></td><td id="LC7975" class="css-1dcdqdg"><code>	setStyle : <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L7976" class="css-a4x74f"><span>7976</span></td><td id="LC7976" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> radius = options &amp;&amp; options.radius || <span class="code-keyword">this</span>._radius;
</code></td></tr><tr><td id="L7977" class="css-a4x74f"><span>7977</span></td><td id="LC7977" class="css-1dcdqdg"><code>		Path.prototype.setStyle.call(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L7978" class="css-a4x74f"><span>7978</span></td><td id="LC7978" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.setRadius(radius);
</code></td></tr><tr><td id="L7979" class="css-a4x74f"><span>7979</span></td><td id="LC7979" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L7980" class="css-a4x74f"><span>7980</span></td><td id="LC7980" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7981" class="css-a4x74f"><span>7981</span></td><td id="LC7981" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7982" class="css-a4x74f"><span>7982</span></td><td id="LC7982" class="css-1dcdqdg"><code>	_project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7983" class="css-a4x74f"><span>7983</span></td><td id="LC7983" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._point = <span class="code-keyword">this</span>._map.latLngToLayerPoint(<span class="code-keyword">this</span>._latlng);
</code></td></tr><tr><td id="L7984" class="css-a4x74f"><span>7984</span></td><td id="LC7984" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateBounds();
</code></td></tr><tr><td id="L7985" class="css-a4x74f"><span>7985</span></td><td id="LC7985" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7986" class="css-a4x74f"><span>7986</span></td><td id="LC7986" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7987" class="css-a4x74f"><span>7987</span></td><td id="LC7987" class="css-1dcdqdg"><code>	_updateBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7988" class="css-a4x74f"><span>7988</span></td><td id="LC7988" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> r = <span class="code-keyword">this</span>._radius,
</code></td></tr><tr><td id="L7989" class="css-a4x74f"><span>7989</span></td><td id="LC7989" class="css-1dcdqdg"><code>		    r2 = <span class="code-keyword">this</span>._radiusY || r,
</code></td></tr><tr><td id="L7990" class="css-a4x74f"><span>7990</span></td><td id="LC7990" class="css-1dcdqdg"><code>		    w = <span class="code-keyword">this</span>._clickTolerance(),
</code></td></tr><tr><td id="L7991" class="css-a4x74f"><span>7991</span></td><td id="LC7991" class="css-1dcdqdg"><code>		    p = [r + w, r2 + w];
</code></td></tr><tr><td id="L7992" class="css-a4x74f"><span>7992</span></td><td id="LC7992" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._pxBounds = <span class="code-keyword">new</span> Bounds(<span class="code-keyword">this</span>._point.subtract(p), <span class="code-keyword">this</span>._point.add(p));
</code></td></tr><tr><td id="L7993" class="css-a4x74f"><span>7993</span></td><td id="LC7993" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L7994" class="css-a4x74f"><span>7994</span></td><td id="LC7994" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L7995" class="css-a4x74f"><span>7995</span></td><td id="LC7995" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L7996" class="css-a4x74f"><span>7996</span></td><td id="LC7996" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L7997" class="css-a4x74f"><span>7997</span></td><td id="LC7997" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updatePath();
</code></td></tr><tr><td id="L7998" class="css-a4x74f"><span>7998</span></td><td id="LC7998" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L7999" class="css-a4x74f"><span>7999</span></td><td id="LC7999" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8000" class="css-a4x74f"><span>8000</span></td><td id="LC8000" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8001" class="css-a4x74f"><span>8001</span></td><td id="LC8001" class="css-1dcdqdg"><code>	_updatePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8002" class="css-a4x74f"><span>8002</span></td><td id="LC8002" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer._updateCircle(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L8003" class="css-a4x74f"><span>8003</span></td><td id="LC8003" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8004" class="css-a4x74f"><span>8004</span></td><td id="LC8004" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8005" class="css-a4x74f"><span>8005</span></td><td id="LC8005" class="css-1dcdqdg"><code>	_empty: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8006" class="css-a4x74f"><span>8006</span></td><td id="LC8006" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._radius &amp;&amp; !<span class="code-keyword">this</span>._renderer._bounds.intersects(<span class="code-keyword">this</span>._pxBounds);
</code></td></tr><tr><td id="L8007" class="css-a4x74f"><span>8007</span></td><td id="LC8007" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8008" class="css-a4x74f"><span>8008</span></td><td id="LC8008" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8009" class="css-a4x74f"><span>8009</span></td><td id="LC8009" class="css-1dcdqdg"><code>	<span class="code-comment">// Needed by the `Canvas` renderer for interactivity</span>
</code></td></tr><tr><td id="L8010" class="css-a4x74f"><span>8010</span></td><td id="LC8010" class="css-1dcdqdg"><code>	_containsPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">p</span>) </span>{
</code></td></tr><tr><td id="L8011" class="css-a4x74f"><span>8011</span></td><td id="LC8011" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> p.distanceTo(<span class="code-keyword">this</span>._point) &lt;= <span class="code-keyword">this</span>._radius + <span class="code-keyword">this</span>._clickTolerance();
</code></td></tr><tr><td id="L8012" class="css-a4x74f"><span>8012</span></td><td id="LC8012" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8013" class="css-a4x74f"><span>8013</span></td><td id="LC8013" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8014" class="css-a4x74f"><span>8014</span></td><td id="LC8014" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8015" class="css-a4x74f"><span>8015</span></td><td id="LC8015" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8016" class="css-a4x74f"><span>8016</span></td><td id="LC8016" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.circleMarker(latlng: LatLng, options?: CircleMarker options)</span>
</code></td></tr><tr><td id="L8017" class="css-a4x74f"><span>8017</span></td><td id="LC8017" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a circle marker object given a geographical point, and an optional options object.</span>
</code></td></tr><tr><td id="L8018" class="css-a4x74f"><span>8018</span></td><td id="LC8018" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">circleMarker</span>(<span class="code-params">latlng, options</span>) </span>{
</code></td></tr><tr><td id="L8019" class="css-a4x74f"><span>8019</span></td><td id="LC8019" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> CircleMarker(latlng, options);
</code></td></tr><tr><td id="L8020" class="css-a4x74f"><span>8020</span></td><td id="LC8020" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8021" class="css-a4x74f"><span>8021</span></td><td id="LC8021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8022" class="css-a4x74f"><span>8022</span></td><td id="LC8022" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L8023" class="css-a4x74f"><span>8023</span></td><td id="LC8023" class="css-1dcdqdg"><code><span class="code-comment"> * @class Circle
</span></code></td></tr><tr><td id="L8024" class="css-a4x74f"><span>8024</span></td><td id="LC8024" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Circle
</span></code></td></tr><tr><td id="L8025" class="css-a4x74f"><span>8025</span></td><td id="LC8025" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits CircleMarker
</span></code></td></tr><tr><td id="L8026" class="css-a4x74f"><span>8026</span></td><td id="LC8026" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8027" class="css-a4x74f"><span>8027</span></td><td id="LC8027" class="css-1dcdqdg"><code><span class="code-comment"> * A class for drawing circle overlays on a map. Extends `CircleMarker`.
</span></code></td></tr><tr><td id="L8028" class="css-a4x74f"><span>8028</span></td><td id="LC8028" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8029" class="css-a4x74f"><span>8029</span></td><td id="LC8029" class="css-1dcdqdg"><code><span class="code-comment"> * It's an approximation and starts to diverge from a real circle closer to poles (due to projection distortion).
</span></code></td></tr><tr><td id="L8030" class="css-a4x74f"><span>8030</span></td><td id="LC8030" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8031" class="css-a4x74f"><span>8031</span></td><td id="LC8031" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L8032" class="css-a4x74f"><span>8032</span></td><td id="LC8032" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8033" class="css-a4x74f"><span>8033</span></td><td id="LC8033" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8034" class="css-a4x74f"><span>8034</span></td><td id="LC8034" class="css-1dcdqdg"><code><span class="code-comment"> * L.circle([50.5, 30.5], {radius: 200}).addTo(map);
</span></code></td></tr><tr><td id="L8035" class="css-a4x74f"><span>8035</span></td><td id="LC8035" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8036" class="css-a4x74f"><span>8036</span></td><td id="LC8036" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L8037" class="css-a4x74f"><span>8037</span></td><td id="LC8037" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8038" class="css-a4x74f"><span>8038</span></td><td id="LC8038" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Circle = CircleMarker.extend({
</code></td></tr><tr><td id="L8039" class="css-a4x74f"><span>8039</span></td><td id="LC8039" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8040" class="css-a4x74f"><span>8040</span></td><td id="LC8040" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, options, legacyOptions</span>) </span>{
</code></td></tr><tr><td id="L8041" class="css-a4x74f"><span>8041</span></td><td id="LC8041" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> options === <span class="code-string">'number'</span>) {
</code></td></tr><tr><td id="L8042" class="css-a4x74f"><span>8042</span></td><td id="LC8042" class="css-1dcdqdg"><code>			<span class="code-comment">// Backwards compatibility with 0.7.x factory (latlng, radius, options?)</span>
</code></td></tr><tr><td id="L8043" class="css-a4x74f"><span>8043</span></td><td id="LC8043" class="css-1dcdqdg"><code>			options = extend({}, legacyOptions, {<span class="code-attr">radius</span>: options});
</code></td></tr><tr><td id="L8044" class="css-a4x74f"><span>8044</span></td><td id="LC8044" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8045" class="css-a4x74f"><span>8045</span></td><td id="LC8045" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L8046" class="css-a4x74f"><span>8046</span></td><td id="LC8046" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L8047" class="css-a4x74f"><span>8047</span></td><td id="LC8047" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8048" class="css-a4x74f"><span>8048</span></td><td id="LC8048" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">isNaN</span>(<span class="code-keyword">this</span>.options.radius)) { <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Circle radius cannot be NaN'</span>); }
</code></td></tr><tr><td id="L8049" class="css-a4x74f"><span>8049</span></td><td id="LC8049" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8050" class="css-a4x74f"><span>8050</span></td><td id="LC8050" class="css-1dcdqdg"><code>		<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L8051" class="css-a4x74f"><span>8051</span></td><td id="LC8051" class="css-1dcdqdg"><code>		<span class="code-comment">// @aka Circle options</span>
</code></td></tr><tr><td id="L8052" class="css-a4x74f"><span>8052</span></td><td id="LC8052" class="css-1dcdqdg"><code>		<span class="code-comment">// @option radius: Number; Radius of the circle, in meters.</span>
</code></td></tr><tr><td id="L8053" class="css-a4x74f"><span>8053</span></td><td id="LC8053" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._mRadius = <span class="code-keyword">this</span>.options.radius;
</code></td></tr><tr><td id="L8054" class="css-a4x74f"><span>8054</span></td><td id="LC8054" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8055" class="css-a4x74f"><span>8055</span></td><td id="LC8055" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8056" class="css-a4x74f"><span>8056</span></td><td id="LC8056" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setRadius(radius: Number): this</span>
</code></td></tr><tr><td id="L8057" class="css-a4x74f"><span>8057</span></td><td id="LC8057" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the radius of a circle. Units are in meters.</span>
</code></td></tr><tr><td id="L8058" class="css-a4x74f"><span>8058</span></td><td id="LC8058" class="css-1dcdqdg"><code>	setRadius: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">radius</span>) </span>{
</code></td></tr><tr><td id="L8059" class="css-a4x74f"><span>8059</span></td><td id="LC8059" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._mRadius = radius;
</code></td></tr><tr><td id="L8060" class="css-a4x74f"><span>8060</span></td><td id="LC8060" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L8061" class="css-a4x74f"><span>8061</span></td><td id="LC8061" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8062" class="css-a4x74f"><span>8062</span></td><td id="LC8062" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8063" class="css-a4x74f"><span>8063</span></td><td id="LC8063" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getRadius(): Number</span>
</code></td></tr><tr><td id="L8064" class="css-a4x74f"><span>8064</span></td><td id="LC8064" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the current radius of a circle. Units are in meters.</span>
</code></td></tr><tr><td id="L8065" class="css-a4x74f"><span>8065</span></td><td id="LC8065" class="css-1dcdqdg"><code>	getRadius: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8066" class="css-a4x74f"><span>8066</span></td><td id="LC8066" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._mRadius;
</code></td></tr><tr><td id="L8067" class="css-a4x74f"><span>8067</span></td><td id="LC8067" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8068" class="css-a4x74f"><span>8068</span></td><td id="LC8068" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8069" class="css-a4x74f"><span>8069</span></td><td id="LC8069" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBounds(): LatLngBounds</span>
</code></td></tr><tr><td id="L8070" class="css-a4x74f"><span>8070</span></td><td id="LC8070" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the `LatLngBounds` of the path.</span>
</code></td></tr><tr><td id="L8071" class="css-a4x74f"><span>8071</span></td><td id="LC8071" class="css-1dcdqdg"><code>	getBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8072" class="css-a4x74f"><span>8072</span></td><td id="LC8072" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> half = [<span class="code-keyword">this</span>._radius, <span class="code-keyword">this</span>._radiusY || <span class="code-keyword">this</span>._radius];
</code></td></tr><tr><td id="L8073" class="css-a4x74f"><span>8073</span></td><td id="LC8073" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8074" class="css-a4x74f"><span>8074</span></td><td id="LC8074" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLngBounds(
</code></td></tr><tr><td id="L8075" class="css-a4x74f"><span>8075</span></td><td id="LC8075" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.layerPointToLatLng(<span class="code-keyword">this</span>._point.subtract(half)),
</code></td></tr><tr><td id="L8076" class="css-a4x74f"><span>8076</span></td><td id="LC8076" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.layerPointToLatLng(<span class="code-keyword">this</span>._point.add(half)));
</code></td></tr><tr><td id="L8077" class="css-a4x74f"><span>8077</span></td><td id="LC8077" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8078" class="css-a4x74f"><span>8078</span></td><td id="LC8078" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8079" class="css-a4x74f"><span>8079</span></td><td id="LC8079" class="css-1dcdqdg"><code>	setStyle: Path.prototype.setStyle,
</code></td></tr><tr><td id="L8080" class="css-a4x74f"><span>8080</span></td><td id="LC8080" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8081" class="css-a4x74f"><span>8081</span></td><td id="LC8081" class="css-1dcdqdg"><code>	_project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8082" class="css-a4x74f"><span>8082</span></td><td id="LC8082" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8083" class="css-a4x74f"><span>8083</span></td><td id="LC8083" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> lng = <span class="code-keyword">this</span>._latlng.lng,
</code></td></tr><tr><td id="L8084" class="css-a4x74f"><span>8084</span></td><td id="LC8084" class="css-1dcdqdg"><code>		    lat = <span class="code-keyword">this</span>._latlng.lat,
</code></td></tr><tr><td id="L8085" class="css-a4x74f"><span>8085</span></td><td id="LC8085" class="css-1dcdqdg"><code>		    map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L8086" class="css-a4x74f"><span>8086</span></td><td id="LC8086" class="css-1dcdqdg"><code>		    crs = map.options.crs;
</code></td></tr><tr><td id="L8087" class="css-a4x74f"><span>8087</span></td><td id="LC8087" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8088" class="css-a4x74f"><span>8088</span></td><td id="LC8088" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (crs.distance === Earth.distance) {
</code></td></tr><tr><td id="L8089" class="css-a4x74f"><span>8089</span></td><td id="LC8089" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> d = <span class="code-built_in">Math</span>.PI / <span class="code-number">180</span>,
</code></td></tr><tr><td id="L8090" class="css-a4x74f"><span>8090</span></td><td id="LC8090" class="css-1dcdqdg"><code>			    latR = (<span class="code-keyword">this</span>._mRadius / Earth.R) / d,
</code></td></tr><tr><td id="L8091" class="css-a4x74f"><span>8091</span></td><td id="LC8091" class="css-1dcdqdg"><code>			    top = map.project([lat + latR, lng]),
</code></td></tr><tr><td id="L8092" class="css-a4x74f"><span>8092</span></td><td id="LC8092" class="css-1dcdqdg"><code>			    bottom = map.project([lat - latR, lng]),
</code></td></tr><tr><td id="L8093" class="css-a4x74f"><span>8093</span></td><td id="LC8093" class="css-1dcdqdg"><code>			    p = top.add(bottom).divideBy(<span class="code-number">2</span>),
</code></td></tr><tr><td id="L8094" class="css-a4x74f"><span>8094</span></td><td id="LC8094" class="css-1dcdqdg"><code>			    lat2 = map.unproject(p).lat,
</code></td></tr><tr><td id="L8095" class="css-a4x74f"><span>8095</span></td><td id="LC8095" class="css-1dcdqdg"><code>			    lngR = <span class="code-built_in">Math</span>.acos((<span class="code-built_in">Math</span>.cos(latR * d) - <span class="code-built_in">Math</span>.sin(lat * d) * <span class="code-built_in">Math</span>.sin(lat2 * d)) /
</code></td></tr><tr><td id="L8096" class="css-a4x74f"><span>8096</span></td><td id="LC8096" class="css-1dcdqdg"><code>			            (<span class="code-built_in">Math</span>.cos(lat * d) * <span class="code-built_in">Math</span>.cos(lat2 * d))) / d;
</code></td></tr><tr><td id="L8097" class="css-a4x74f"><span>8097</span></td><td id="LC8097" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8098" class="css-a4x74f"><span>8098</span></td><td id="LC8098" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-built_in">isNaN</span>(lngR) || lngR === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L8099" class="css-a4x74f"><span>8099</span></td><td id="LC8099" class="css-1dcdqdg"><code>				lngR = latR / <span class="code-built_in">Math</span>.cos(<span class="code-built_in">Math</span>.PI / <span class="code-number">180</span> * lat); <span class="code-comment">// Fallback for edge case, #2425</span>
</code></td></tr><tr><td id="L8100" class="css-a4x74f"><span>8100</span></td><td id="LC8100" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8101" class="css-a4x74f"><span>8101</span></td><td id="LC8101" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8102" class="css-a4x74f"><span>8102</span></td><td id="LC8102" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._point = p.subtract(map.getPixelOrigin());
</code></td></tr><tr><td id="L8103" class="css-a4x74f"><span>8103</span></td><td id="LC8103" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._radius = <span class="code-built_in">isNaN</span>(lngR) ? <span class="code-number">0</span> : p.x - map.project([lat2, lng - lngR]).x;
</code></td></tr><tr><td id="L8104" class="css-a4x74f"><span>8104</span></td><td id="LC8104" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._radiusY = p.y - top.y;
</code></td></tr><tr><td id="L8105" class="css-a4x74f"><span>8105</span></td><td id="LC8105" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8106" class="css-a4x74f"><span>8106</span></td><td id="LC8106" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L8107" class="css-a4x74f"><span>8107</span></td><td id="LC8107" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> latlng2 = crs.unproject(crs.project(<span class="code-keyword">this</span>._latlng).subtract([<span class="code-keyword">this</span>._mRadius, <span class="code-number">0</span>]));
</code></td></tr><tr><td id="L8108" class="css-a4x74f"><span>8108</span></td><td id="LC8108" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8109" class="css-a4x74f"><span>8109</span></td><td id="LC8109" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._point = map.latLngToLayerPoint(<span class="code-keyword">this</span>._latlng);
</code></td></tr><tr><td id="L8110" class="css-a4x74f"><span>8110</span></td><td id="LC8110" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._radius = <span class="code-keyword">this</span>._point.x - map.latLngToLayerPoint(latlng2).x;
</code></td></tr><tr><td id="L8111" class="css-a4x74f"><span>8111</span></td><td id="LC8111" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8112" class="css-a4x74f"><span>8112</span></td><td id="LC8112" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8113" class="css-a4x74f"><span>8113</span></td><td id="LC8113" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateBounds();
</code></td></tr><tr><td id="L8114" class="css-a4x74f"><span>8114</span></td><td id="LC8114" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8115" class="css-a4x74f"><span>8115</span></td><td id="LC8115" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8116" class="css-a4x74f"><span>8116</span></td><td id="LC8116" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8117" class="css-a4x74f"><span>8117</span></td><td id="LC8117" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.circle(latlng: LatLng, options?: Circle options)</span>
</code></td></tr><tr><td id="L8118" class="css-a4x74f"><span>8118</span></td><td id="LC8118" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a circle object given a geographical point, and an options object</span>
</code></td></tr><tr><td id="L8119" class="css-a4x74f"><span>8119</span></td><td id="LC8119" class="css-1dcdqdg"><code><span class="code-comment">// which contains the circle radius.</span>
</code></td></tr><tr><td id="L8120" class="css-a4x74f"><span>8120</span></td><td id="LC8120" class="css-1dcdqdg"><code><span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L8121" class="css-a4x74f"><span>8121</span></td><td id="LC8121" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.circle(latlng: LatLng, radius: Number, options?: Circle options)</span>
</code></td></tr><tr><td id="L8122" class="css-a4x74f"><span>8122</span></td><td id="LC8122" class="css-1dcdqdg"><code><span class="code-comment">// Obsolete way of instantiating a circle, for compatibility with 0.7.x code.</span>
</code></td></tr><tr><td id="L8123" class="css-a4x74f"><span>8123</span></td><td id="LC8123" class="css-1dcdqdg"><code><span class="code-comment">// Do not use in new applications or plugins.</span>
</code></td></tr><tr><td id="L8124" class="css-a4x74f"><span>8124</span></td><td id="LC8124" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">circle</span>(<span class="code-params">latlng, options, legacyOptions</span>) </span>{
</code></td></tr><tr><td id="L8125" class="css-a4x74f"><span>8125</span></td><td id="LC8125" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Circle(latlng, options, legacyOptions);
</code></td></tr><tr><td id="L8126" class="css-a4x74f"><span>8126</span></td><td id="LC8126" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8127" class="css-a4x74f"><span>8127</span></td><td id="LC8127" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8128" class="css-a4x74f"><span>8128</span></td><td id="LC8128" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L8129" class="css-a4x74f"><span>8129</span></td><td id="LC8129" class="css-1dcdqdg"><code><span class="code-comment"> * @class Polyline
</span></code></td></tr><tr><td id="L8130" class="css-a4x74f"><span>8130</span></td><td id="LC8130" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Polyline
</span></code></td></tr><tr><td id="L8131" class="css-a4x74f"><span>8131</span></td><td id="LC8131" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Path
</span></code></td></tr><tr><td id="L8132" class="css-a4x74f"><span>8132</span></td><td id="LC8132" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8133" class="css-a4x74f"><span>8133</span></td><td id="LC8133" class="css-1dcdqdg"><code><span class="code-comment"> * A class for drawing polyline overlays on a map. Extends `Path`.
</span></code></td></tr><tr><td id="L8134" class="css-a4x74f"><span>8134</span></td><td id="LC8134" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8135" class="css-a4x74f"><span>8135</span></td><td id="LC8135" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L8136" class="css-a4x74f"><span>8136</span></td><td id="LC8136" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8137" class="css-a4x74f"><span>8137</span></td><td id="LC8137" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8138" class="css-a4x74f"><span>8138</span></td><td id="LC8138" class="css-1dcdqdg"><code><span class="code-comment"> * // create a red polyline from an array of LatLng points
</span></code></td></tr><tr><td id="L8139" class="css-a4x74f"><span>8139</span></td><td id="LC8139" class="css-1dcdqdg"><code><span class="code-comment"> * var latlngs = [
</span></code></td></tr><tr><td id="L8140" class="css-a4x74f"><span>8140</span></td><td id="LC8140" class="css-1dcdqdg"><code><span class="code-comment"> * 	[45.51, -122.68],
</span></code></td></tr><tr><td id="L8141" class="css-a4x74f"><span>8141</span></td><td id="LC8141" class="css-1dcdqdg"><code><span class="code-comment"> * 	[37.77, -122.43],
</span></code></td></tr><tr><td id="L8142" class="css-a4x74f"><span>8142</span></td><td id="LC8142" class="css-1dcdqdg"><code><span class="code-comment"> * 	[34.04, -118.2]
</span></code></td></tr><tr><td id="L8143" class="css-a4x74f"><span>8143</span></td><td id="LC8143" class="css-1dcdqdg"><code><span class="code-comment"> * ];
</span></code></td></tr><tr><td id="L8144" class="css-a4x74f"><span>8144</span></td><td id="LC8144" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8145" class="css-a4x74f"><span>8145</span></td><td id="LC8145" class="css-1dcdqdg"><code><span class="code-comment"> * var polyline = L.polyline(latlngs, {color: 'red'}).addTo(map);
</span></code></td></tr><tr><td id="L8146" class="css-a4x74f"><span>8146</span></td><td id="LC8146" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8147" class="css-a4x74f"><span>8147</span></td><td id="LC8147" class="css-1dcdqdg"><code><span class="code-comment"> * // zoom the map to the polyline
</span></code></td></tr><tr><td id="L8148" class="css-a4x74f"><span>8148</span></td><td id="LC8148" class="css-1dcdqdg"><code><span class="code-comment"> * map.fitBounds(polyline.getBounds());
</span></code></td></tr><tr><td id="L8149" class="css-a4x74f"><span>8149</span></td><td id="LC8149" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8150" class="css-a4x74f"><span>8150</span></td><td id="LC8150" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8151" class="css-a4x74f"><span>8151</span></td><td id="LC8151" class="css-1dcdqdg"><code><span class="code-comment"> * You can also pass a multi-dimensional array to represent a `MultiPolyline` shape:
</span></code></td></tr><tr><td id="L8152" class="css-a4x74f"><span>8152</span></td><td id="LC8152" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8153" class="css-a4x74f"><span>8153</span></td><td id="LC8153" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8154" class="css-a4x74f"><span>8154</span></td><td id="LC8154" class="css-1dcdqdg"><code><span class="code-comment"> * // create a red polyline from an array of arrays of LatLng points
</span></code></td></tr><tr><td id="L8155" class="css-a4x74f"><span>8155</span></td><td id="LC8155" class="css-1dcdqdg"><code><span class="code-comment"> * var latlngs = [
</span></code></td></tr><tr><td id="L8156" class="css-a4x74f"><span>8156</span></td><td id="LC8156" class="css-1dcdqdg"><code><span class="code-comment"> * 	[[45.51, -122.68],
</span></code></td></tr><tr><td id="L8157" class="css-a4x74f"><span>8157</span></td><td id="LC8157" class="css-1dcdqdg"><code><span class="code-comment"> * 	 [37.77, -122.43],
</span></code></td></tr><tr><td id="L8158" class="css-a4x74f"><span>8158</span></td><td id="LC8158" class="css-1dcdqdg"><code><span class="code-comment"> * 	 [34.04, -118.2]],
</span></code></td></tr><tr><td id="L8159" class="css-a4x74f"><span>8159</span></td><td id="LC8159" class="css-1dcdqdg"><code><span class="code-comment"> * 	[[40.78, -73.91],
</span></code></td></tr><tr><td id="L8160" class="css-a4x74f"><span>8160</span></td><td id="LC8160" class="css-1dcdqdg"><code><span class="code-comment"> * 	 [41.83, -87.62],
</span></code></td></tr><tr><td id="L8161" class="css-a4x74f"><span>8161</span></td><td id="LC8161" class="css-1dcdqdg"><code><span class="code-comment"> * 	 [32.76, -96.72]]
</span></code></td></tr><tr><td id="L8162" class="css-a4x74f"><span>8162</span></td><td id="LC8162" class="css-1dcdqdg"><code><span class="code-comment"> * ];
</span></code></td></tr><tr><td id="L8163" class="css-a4x74f"><span>8163</span></td><td id="LC8163" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8164" class="css-a4x74f"><span>8164</span></td><td id="LC8164" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L8165" class="css-a4x74f"><span>8165</span></td><td id="LC8165" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8166" class="css-a4x74f"><span>8166</span></td><td id="LC8166" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8167" class="css-a4x74f"><span>8167</span></td><td id="LC8167" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Polyline = Path.extend({
</code></td></tr><tr><td id="L8168" class="css-a4x74f"><span>8168</span></td><td id="LC8168" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8169" class="css-a4x74f"><span>8169</span></td><td id="LC8169" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L8170" class="css-a4x74f"><span>8170</span></td><td id="LC8170" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Polyline options</span>
</code></td></tr><tr><td id="L8171" class="css-a4x74f"><span>8171</span></td><td id="LC8171" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L8172" class="css-a4x74f"><span>8172</span></td><td id="LC8172" class="css-1dcdqdg"><code>		<span class="code-comment">// @option smoothFactor: Number = 1.0</span>
</code></td></tr><tr><td id="L8173" class="css-a4x74f"><span>8173</span></td><td id="LC8173" class="css-1dcdqdg"><code>		<span class="code-comment">// How much to simplify the polyline on each zoom level. More means</span>
</code></td></tr><tr><td id="L8174" class="css-a4x74f"><span>8174</span></td><td id="LC8174" class="css-1dcdqdg"><code>		<span class="code-comment">// better performance and smoother look, and less means more accurate representation.</span>
</code></td></tr><tr><td id="L8175" class="css-a4x74f"><span>8175</span></td><td id="LC8175" class="css-1dcdqdg"><code>		smoothFactor: <span class="code-number">1.0</span>,
</code></td></tr><tr><td id="L8176" class="css-a4x74f"><span>8176</span></td><td id="LC8176" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8177" class="css-a4x74f"><span>8177</span></td><td id="LC8177" class="css-1dcdqdg"><code>		<span class="code-comment">// @option noClip: Boolean = false</span>
</code></td></tr><tr><td id="L8178" class="css-a4x74f"><span>8178</span></td><td id="LC8178" class="css-1dcdqdg"><code>		<span class="code-comment">// Disable polyline clipping.</span>
</code></td></tr><tr><td id="L8179" class="css-a4x74f"><span>8179</span></td><td id="LC8179" class="css-1dcdqdg"><code>		noClip: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L8180" class="css-a4x74f"><span>8180</span></td><td id="LC8180" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8181" class="css-a4x74f"><span>8181</span></td><td id="LC8181" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8182" class="css-a4x74f"><span>8182</span></td><td id="LC8182" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs, options</span>) </span>{
</code></td></tr><tr><td id="L8183" class="css-a4x74f"><span>8183</span></td><td id="LC8183" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L8184" class="css-a4x74f"><span>8184</span></td><td id="LC8184" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setLatLngs(latlngs);
</code></td></tr><tr><td id="L8185" class="css-a4x74f"><span>8185</span></td><td id="LC8185" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8186" class="css-a4x74f"><span>8186</span></td><td id="LC8186" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8187" class="css-a4x74f"><span>8187</span></td><td id="LC8187" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLatLngs(): LatLng[]</span>
</code></td></tr><tr><td id="L8188" class="css-a4x74f"><span>8188</span></td><td id="LC8188" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.</span>
</code></td></tr><tr><td id="L8189" class="css-a4x74f"><span>8189</span></td><td id="LC8189" class="css-1dcdqdg"><code>	getLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8190" class="css-a4x74f"><span>8190</span></td><td id="LC8190" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._latlngs;
</code></td></tr><tr><td id="L8191" class="css-a4x74f"><span>8191</span></td><td id="LC8191" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8192" class="css-a4x74f"><span>8192</span></td><td id="LC8192" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8193" class="css-a4x74f"><span>8193</span></td><td id="LC8193" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setLatLngs(latlngs: LatLng[]): this</span>
</code></td></tr><tr><td id="L8194" class="css-a4x74f"><span>8194</span></td><td id="LC8194" class="css-1dcdqdg"><code>	<span class="code-comment">// Replaces all the points in the polyline with the given array of geographical points.</span>
</code></td></tr><tr><td id="L8195" class="css-a4x74f"><span>8195</span></td><td id="LC8195" class="css-1dcdqdg"><code>	setLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L8196" class="css-a4x74f"><span>8196</span></td><td id="LC8196" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setLatLngs(latlngs);
</code></td></tr><tr><td id="L8197" class="css-a4x74f"><span>8197</span></td><td id="LC8197" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L8198" class="css-a4x74f"><span>8198</span></td><td id="LC8198" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8199" class="css-a4x74f"><span>8199</span></td><td id="LC8199" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8200" class="css-a4x74f"><span>8200</span></td><td id="LC8200" class="css-1dcdqdg"><code>	<span class="code-comment">// @method isEmpty(): Boolean</span>
</code></td></tr><tr><td id="L8201" class="css-a4x74f"><span>8201</span></td><td id="LC8201" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the Polyline has no LatLngs.</span>
</code></td></tr><tr><td id="L8202" class="css-a4x74f"><span>8202</span></td><td id="LC8202" class="css-1dcdqdg"><code>	isEmpty: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8203" class="css-a4x74f"><span>8203</span></td><td id="LC8203" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !<span class="code-keyword">this</span>._latlngs.length;
</code></td></tr><tr><td id="L8204" class="css-a4x74f"><span>8204</span></td><td id="LC8204" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8205" class="css-a4x74f"><span>8205</span></td><td id="LC8205" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8206" class="css-a4x74f"><span>8206</span></td><td id="LC8206" class="css-1dcdqdg"><code>	<span class="code-comment">// @method closestLayerPoint(p: Point): Point</span>
</code></td></tr><tr><td id="L8207" class="css-a4x74f"><span>8207</span></td><td id="LC8207" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the point closest to `p` on the Polyline.</span>
</code></td></tr><tr><td id="L8208" class="css-a4x74f"><span>8208</span></td><td id="LC8208" class="css-1dcdqdg"><code>	closestLayerPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">p</span>) </span>{
</code></td></tr><tr><td id="L8209" class="css-a4x74f"><span>8209</span></td><td id="LC8209" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> minDistance = <span class="code-literal">Infinity</span>,
</code></td></tr><tr><td id="L8210" class="css-a4x74f"><span>8210</span></td><td id="LC8210" class="css-1dcdqdg"><code>		    minPoint = <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L8211" class="css-a4x74f"><span>8211</span></td><td id="LC8211" class="css-1dcdqdg"><code>		    closest = _sqClosestPointOnSegment,
</code></td></tr><tr><td id="L8212" class="css-a4x74f"><span>8212</span></td><td id="LC8212" class="css-1dcdqdg"><code>		    p1, p2;
</code></td></tr><tr><td id="L8213" class="css-a4x74f"><span>8213</span></td><td id="LC8213" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8214" class="css-a4x74f"><span>8214</span></td><td id="LC8214" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> j = <span class="code-number">0</span>, jLen = <span class="code-keyword">this</span>._parts.length; j &lt; jLen; j++) {
</code></td></tr><tr><td id="L8215" class="css-a4x74f"><span>8215</span></td><td id="LC8215" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> points = <span class="code-keyword">this</span>._parts[j];
</code></td></tr><tr><td id="L8216" class="css-a4x74f"><span>8216</span></td><td id="LC8216" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8217" class="css-a4x74f"><span>8217</span></td><td id="LC8217" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">1</span>, len = points.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8218" class="css-a4x74f"><span>8218</span></td><td id="LC8218" class="css-1dcdqdg"><code>				p1 = points[i - <span class="code-number">1</span>];
</code></td></tr><tr><td id="L8219" class="css-a4x74f"><span>8219</span></td><td id="LC8219" class="css-1dcdqdg"><code>				p2 = points[i];
</code></td></tr><tr><td id="L8220" class="css-a4x74f"><span>8220</span></td><td id="LC8220" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8221" class="css-a4x74f"><span>8221</span></td><td id="LC8221" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> sqDist = closest(p, p1, p2, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L8222" class="css-a4x74f"><span>8222</span></td><td id="LC8222" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8223" class="css-a4x74f"><span>8223</span></td><td id="LC8223" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (sqDist &lt; minDistance) {
</code></td></tr><tr><td id="L8224" class="css-a4x74f"><span>8224</span></td><td id="LC8224" class="css-1dcdqdg"><code>					minDistance = sqDist;
</code></td></tr><tr><td id="L8225" class="css-a4x74f"><span>8225</span></td><td id="LC8225" class="css-1dcdqdg"><code>					minPoint = closest(p, p1, p2);
</code></td></tr><tr><td id="L8226" class="css-a4x74f"><span>8226</span></td><td id="LC8226" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L8227" class="css-a4x74f"><span>8227</span></td><td id="LC8227" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8228" class="css-a4x74f"><span>8228</span></td><td id="LC8228" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8229" class="css-a4x74f"><span>8229</span></td><td id="LC8229" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (minPoint) {
</code></td></tr><tr><td id="L8230" class="css-a4x74f"><span>8230</span></td><td id="LC8230" class="css-1dcdqdg"><code>			minPoint.distance = <span class="code-built_in">Math</span>.sqrt(minDistance);
</code></td></tr><tr><td id="L8231" class="css-a4x74f"><span>8231</span></td><td id="LC8231" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8232" class="css-a4x74f"><span>8232</span></td><td id="LC8232" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> minPoint;
</code></td></tr><tr><td id="L8233" class="css-a4x74f"><span>8233</span></td><td id="LC8233" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8234" class="css-a4x74f"><span>8234</span></td><td id="LC8234" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8235" class="css-a4x74f"><span>8235</span></td><td id="LC8235" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getCenter(): LatLng</span>
</code></td></tr><tr><td id="L8236" class="css-a4x74f"><span>8236</span></td><td id="LC8236" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the center ([centroid](https://en.wikipedia.org/wiki/Centroid)) of the polyline.</span>
</code></td></tr><tr><td id="L8237" class="css-a4x74f"><span>8237</span></td><td id="LC8237" class="css-1dcdqdg"><code>	getCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8238" class="css-a4x74f"><span>8238</span></td><td id="LC8238" class="css-1dcdqdg"><code>		<span class="code-comment">// throws error when not yet added to map as this center calculation requires projected coordinates</span>
</code></td></tr><tr><td id="L8239" class="css-a4x74f"><span>8239</span></td><td id="LC8239" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L8240" class="css-a4x74f"><span>8240</span></td><td id="LC8240" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Must add layer to map before using getCenter()'</span>);
</code></td></tr><tr><td id="L8241" class="css-a4x74f"><span>8241</span></td><td id="LC8241" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8242" class="css-a4x74f"><span>8242</span></td><td id="LC8242" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8243" class="css-a4x74f"><span>8243</span></td><td id="LC8243" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i, halfDist, segDist, dist, p1, p2, ratio,
</code></td></tr><tr><td id="L8244" class="css-a4x74f"><span>8244</span></td><td id="LC8244" class="css-1dcdqdg"><code>		    points = <span class="code-keyword">this</span>._rings[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L8245" class="css-a4x74f"><span>8245</span></td><td id="LC8245" class="css-1dcdqdg"><code>		    len = points.length;
</code></td></tr><tr><td id="L8246" class="css-a4x74f"><span>8246</span></td><td id="LC8246" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8247" class="css-a4x74f"><span>8247</span></td><td id="LC8247" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!len) { <span class="code-keyword">return</span> <span class="code-literal">null</span>; }
</code></td></tr><tr><td id="L8248" class="css-a4x74f"><span>8248</span></td><td id="LC8248" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8249" class="css-a4x74f"><span>8249</span></td><td id="LC8249" class="css-1dcdqdg"><code>		<span class="code-comment">// polyline centroid algorithm; only uses the first ring if there are multiple</span>
</code></td></tr><tr><td id="L8250" class="css-a4x74f"><span>8250</span></td><td id="LC8250" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8251" class="css-a4x74f"><span>8251</span></td><td id="LC8251" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, halfDist = <span class="code-number">0</span>; i &lt; len - <span class="code-number">1</span>; i++) {
</code></td></tr><tr><td id="L8252" class="css-a4x74f"><span>8252</span></td><td id="LC8252" class="css-1dcdqdg"><code>			halfDist += points[i].distanceTo(points[i + <span class="code-number">1</span>]) / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L8253" class="css-a4x74f"><span>8253</span></td><td id="LC8253" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8254" class="css-a4x74f"><span>8254</span></td><td id="LC8254" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8255" class="css-a4x74f"><span>8255</span></td><td id="LC8255" class="css-1dcdqdg"><code>		<span class="code-comment">// The line is so small in the current view that all points are on the same pixel.</span>
</code></td></tr><tr><td id="L8256" class="css-a4x74f"><span>8256</span></td><td id="LC8256" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (halfDist === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L8257" class="css-a4x74f"><span>8257</span></td><td id="LC8257" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>._map.layerPointToLatLng(points[<span class="code-number">0</span>]);
</code></td></tr><tr><td id="L8258" class="css-a4x74f"><span>8258</span></td><td id="LC8258" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8259" class="css-a4x74f"><span>8259</span></td><td id="LC8259" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8260" class="css-a4x74f"><span>8260</span></td><td id="LC8260" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, dist = <span class="code-number">0</span>; i &lt; len - <span class="code-number">1</span>; i++) {
</code></td></tr><tr><td id="L8261" class="css-a4x74f"><span>8261</span></td><td id="LC8261" class="css-1dcdqdg"><code>			p1 = points[i];
</code></td></tr><tr><td id="L8262" class="css-a4x74f"><span>8262</span></td><td id="LC8262" class="css-1dcdqdg"><code>			p2 = points[i + <span class="code-number">1</span>];
</code></td></tr><tr><td id="L8263" class="css-a4x74f"><span>8263</span></td><td id="LC8263" class="css-1dcdqdg"><code>			segDist = p1.distanceTo(p2);
</code></td></tr><tr><td id="L8264" class="css-a4x74f"><span>8264</span></td><td id="LC8264" class="css-1dcdqdg"><code>			dist += segDist;
</code></td></tr><tr><td id="L8265" class="css-a4x74f"><span>8265</span></td><td id="LC8265" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8266" class="css-a4x74f"><span>8266</span></td><td id="LC8266" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (dist &gt; halfDist) {
</code></td></tr><tr><td id="L8267" class="css-a4x74f"><span>8267</span></td><td id="LC8267" class="css-1dcdqdg"><code>				ratio = (dist - halfDist) / segDist;
</code></td></tr><tr><td id="L8268" class="css-a4x74f"><span>8268</span></td><td id="LC8268" class="css-1dcdqdg"><code>				<span class="code-keyword">return</span> <span class="code-keyword">this</span>._map.layerPointToLatLng([
</code></td></tr><tr><td id="L8269" class="css-a4x74f"><span>8269</span></td><td id="LC8269" class="css-1dcdqdg"><code>					p2.x - ratio * (p2.x - p1.x),
</code></td></tr><tr><td id="L8270" class="css-a4x74f"><span>8270</span></td><td id="LC8270" class="css-1dcdqdg"><code>					p2.y - ratio * (p2.y - p1.y)
</code></td></tr><tr><td id="L8271" class="css-a4x74f"><span>8271</span></td><td id="LC8271" class="css-1dcdqdg"><code>				]);
</code></td></tr><tr><td id="L8272" class="css-a4x74f"><span>8272</span></td><td id="LC8272" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8273" class="css-a4x74f"><span>8273</span></td><td id="LC8273" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8274" class="css-a4x74f"><span>8274</span></td><td id="LC8274" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8275" class="css-a4x74f"><span>8275</span></td><td id="LC8275" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8276" class="css-a4x74f"><span>8276</span></td><td id="LC8276" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBounds(): LatLngBounds</span>
</code></td></tr><tr><td id="L8277" class="css-a4x74f"><span>8277</span></td><td id="LC8277" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the `LatLngBounds` of the path.</span>
</code></td></tr><tr><td id="L8278" class="css-a4x74f"><span>8278</span></td><td id="LC8278" class="css-1dcdqdg"><code>	getBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8279" class="css-a4x74f"><span>8279</span></td><td id="LC8279" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._bounds;
</code></td></tr><tr><td id="L8280" class="css-a4x74f"><span>8280</span></td><td id="LC8280" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8281" class="css-a4x74f"><span>8281</span></td><td id="LC8281" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8282" class="css-a4x74f"><span>8282</span></td><td id="LC8282" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addLatLng(latlng: LatLng, latlngs?: LatLng[]): this</span>
</code></td></tr><tr><td id="L8283" class="css-a4x74f"><span>8283</span></td><td id="LC8283" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds a given point to the polyline. By default, adds to the first ring of</span>
</code></td></tr><tr><td id="L8284" class="css-a4x74f"><span>8284</span></td><td id="LC8284" class="css-1dcdqdg"><code>	<span class="code-comment">// the polyline in case of a multi-polyline, but can be overridden by passing</span>
</code></td></tr><tr><td id="L8285" class="css-a4x74f"><span>8285</span></td><td id="LC8285" class="css-1dcdqdg"><code>	<span class="code-comment">// a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).</span>
</code></td></tr><tr><td id="L8286" class="css-a4x74f"><span>8286</span></td><td id="LC8286" class="css-1dcdqdg"><code>	addLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng, latlngs</span>) </span>{
</code></td></tr><tr><td id="L8287" class="css-a4x74f"><span>8287</span></td><td id="LC8287" class="css-1dcdqdg"><code>		latlngs = latlngs || <span class="code-keyword">this</span>._defaultShape();
</code></td></tr><tr><td id="L8288" class="css-a4x74f"><span>8288</span></td><td id="LC8288" class="css-1dcdqdg"><code>		latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L8289" class="css-a4x74f"><span>8289</span></td><td id="LC8289" class="css-1dcdqdg"><code>		latlngs.push(latlng);
</code></td></tr><tr><td id="L8290" class="css-a4x74f"><span>8290</span></td><td id="LC8290" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._bounds.extend(latlng);
</code></td></tr><tr><td id="L8291" class="css-a4x74f"><span>8291</span></td><td id="LC8291" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L8292" class="css-a4x74f"><span>8292</span></td><td id="LC8292" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8293" class="css-a4x74f"><span>8293</span></td><td id="LC8293" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8294" class="css-a4x74f"><span>8294</span></td><td id="LC8294" class="css-1dcdqdg"><code>	_setLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L8295" class="css-a4x74f"><span>8295</span></td><td id="LC8295" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._bounds = <span class="code-keyword">new</span> LatLngBounds();
</code></td></tr><tr><td id="L8296" class="css-a4x74f"><span>8296</span></td><td id="LC8296" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlngs = <span class="code-keyword">this</span>._convertLatLngs(latlngs);
</code></td></tr><tr><td id="L8297" class="css-a4x74f"><span>8297</span></td><td id="LC8297" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8298" class="css-a4x74f"><span>8298</span></td><td id="LC8298" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8299" class="css-a4x74f"><span>8299</span></td><td id="LC8299" class="css-1dcdqdg"><code>	_defaultShape: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8300" class="css-a4x74f"><span>8300</span></td><td id="LC8300" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> isFlat(<span class="code-keyword">this</span>._latlngs) ? <span class="code-keyword">this</span>._latlngs : <span class="code-keyword">this</span>._latlngs[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L8301" class="css-a4x74f"><span>8301</span></td><td id="LC8301" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8302" class="css-a4x74f"><span>8302</span></td><td id="LC8302" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8303" class="css-a4x74f"><span>8303</span></td><td id="LC8303" class="css-1dcdqdg"><code>	<span class="code-comment">// recursively convert latlngs input into actual LatLng instances; calculate bounds along the way</span>
</code></td></tr><tr><td id="L8304" class="css-a4x74f"><span>8304</span></td><td id="LC8304" class="css-1dcdqdg"><code>	_convertLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L8305" class="css-a4x74f"><span>8305</span></td><td id="LC8305" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> result = [],
</code></td></tr><tr><td id="L8306" class="css-a4x74f"><span>8306</span></td><td id="LC8306" class="css-1dcdqdg"><code>		    flat = isFlat(latlngs);
</code></td></tr><tr><td id="L8307" class="css-a4x74f"><span>8307</span></td><td id="LC8307" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8308" class="css-a4x74f"><span>8308</span></td><td id="LC8308" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = latlngs.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8309" class="css-a4x74f"><span>8309</span></td><td id="LC8309" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (flat) {
</code></td></tr><tr><td id="L8310" class="css-a4x74f"><span>8310</span></td><td id="LC8310" class="css-1dcdqdg"><code>				result[i] = toLatLng(latlngs[i]);
</code></td></tr><tr><td id="L8311" class="css-a4x74f"><span>8311</span></td><td id="LC8311" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._bounds.extend(result[i]);
</code></td></tr><tr><td id="L8312" class="css-a4x74f"><span>8312</span></td><td id="LC8312" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L8313" class="css-a4x74f"><span>8313</span></td><td id="LC8313" class="css-1dcdqdg"><code>				result[i] = <span class="code-keyword">this</span>._convertLatLngs(latlngs[i]);
</code></td></tr><tr><td id="L8314" class="css-a4x74f"><span>8314</span></td><td id="LC8314" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8315" class="css-a4x74f"><span>8315</span></td><td id="LC8315" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8316" class="css-a4x74f"><span>8316</span></td><td id="LC8316" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8317" class="css-a4x74f"><span>8317</span></td><td id="LC8317" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> result;
</code></td></tr><tr><td id="L8318" class="css-a4x74f"><span>8318</span></td><td id="LC8318" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8319" class="css-a4x74f"><span>8319</span></td><td id="LC8319" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8320" class="css-a4x74f"><span>8320</span></td><td id="LC8320" class="css-1dcdqdg"><code>	_project: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8321" class="css-a4x74f"><span>8321</span></td><td id="LC8321" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pxBounds = <span class="code-keyword">new</span> Bounds();
</code></td></tr><tr><td id="L8322" class="css-a4x74f"><span>8322</span></td><td id="LC8322" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._rings = [];
</code></td></tr><tr><td id="L8323" class="css-a4x74f"><span>8323</span></td><td id="LC8323" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._projectLatlngs(<span class="code-keyword">this</span>._latlngs, <span class="code-keyword">this</span>._rings, pxBounds);
</code></td></tr><tr><td id="L8324" class="css-a4x74f"><span>8324</span></td><td id="LC8324" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8325" class="css-a4x74f"><span>8325</span></td><td id="LC8325" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._bounds.isValid() &amp;&amp; pxBounds.isValid()) {
</code></td></tr><tr><td id="L8326" class="css-a4x74f"><span>8326</span></td><td id="LC8326" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._rawPxBounds = pxBounds;
</code></td></tr><tr><td id="L8327" class="css-a4x74f"><span>8327</span></td><td id="LC8327" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateBounds();
</code></td></tr><tr><td id="L8328" class="css-a4x74f"><span>8328</span></td><td id="LC8328" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8329" class="css-a4x74f"><span>8329</span></td><td id="LC8329" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8330" class="css-a4x74f"><span>8330</span></td><td id="LC8330" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8331" class="css-a4x74f"><span>8331</span></td><td id="LC8331" class="css-1dcdqdg"><code>	_updateBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8332" class="css-a4x74f"><span>8332</span></td><td id="LC8332" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> w = <span class="code-keyword">this</span>._clickTolerance(),
</code></td></tr><tr><td id="L8333" class="css-a4x74f"><span>8333</span></td><td id="LC8333" class="css-1dcdqdg"><code>		    p = <span class="code-keyword">new</span> Point(w, w);
</code></td></tr><tr><td id="L8334" class="css-a4x74f"><span>8334</span></td><td id="LC8334" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8335" class="css-a4x74f"><span>8335</span></td><td id="LC8335" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._rawPxBounds) {
</code></td></tr><tr><td id="L8336" class="css-a4x74f"><span>8336</span></td><td id="LC8336" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L8337" class="css-a4x74f"><span>8337</span></td><td id="LC8337" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8338" class="css-a4x74f"><span>8338</span></td><td id="LC8338" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8339" class="css-a4x74f"><span>8339</span></td><td id="LC8339" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._pxBounds = <span class="code-keyword">new</span> Bounds([
</code></td></tr><tr><td id="L8340" class="css-a4x74f"><span>8340</span></td><td id="LC8340" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._rawPxBounds.min.subtract(p),
</code></td></tr><tr><td id="L8341" class="css-a4x74f"><span>8341</span></td><td id="LC8341" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._rawPxBounds.max.add(p)
</code></td></tr><tr><td id="L8342" class="css-a4x74f"><span>8342</span></td><td id="LC8342" class="css-1dcdqdg"><code>		]);
</code></td></tr><tr><td id="L8343" class="css-a4x74f"><span>8343</span></td><td id="LC8343" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8344" class="css-a4x74f"><span>8344</span></td><td id="LC8344" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8345" class="css-a4x74f"><span>8345</span></td><td id="LC8345" class="css-1dcdqdg"><code>	<span class="code-comment">// recursively turns latlngs into a set of rings with projected coordinates</span>
</code></td></tr><tr><td id="L8346" class="css-a4x74f"><span>8346</span></td><td id="LC8346" class="css-1dcdqdg"><code>	_projectLatlngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs, result, projectedBounds</span>) </span>{
</code></td></tr><tr><td id="L8347" class="css-a4x74f"><span>8347</span></td><td id="LC8347" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> flat = latlngs[<span class="code-number">0</span>] <span class="code-keyword">instanceof</span> LatLng,
</code></td></tr><tr><td id="L8348" class="css-a4x74f"><span>8348</span></td><td id="LC8348" class="css-1dcdqdg"><code>		    len = latlngs.length,
</code></td></tr><tr><td id="L8349" class="css-a4x74f"><span>8349</span></td><td id="LC8349" class="css-1dcdqdg"><code>		    i, ring;
</code></td></tr><tr><td id="L8350" class="css-a4x74f"><span>8350</span></td><td id="LC8350" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8351" class="css-a4x74f"><span>8351</span></td><td id="LC8351" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (flat) {
</code></td></tr><tr><td id="L8352" class="css-a4x74f"><span>8352</span></td><td id="LC8352" class="css-1dcdqdg"><code>			ring = [];
</code></td></tr><tr><td id="L8353" class="css-a4x74f"><span>8353</span></td><td id="LC8353" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; len; i++) {
</code></td></tr><tr><td id="L8354" class="css-a4x74f"><span>8354</span></td><td id="LC8354" class="css-1dcdqdg"><code>				ring[i] = <span class="code-keyword">this</span>._map.latLngToLayerPoint(latlngs[i]);
</code></td></tr><tr><td id="L8355" class="css-a4x74f"><span>8355</span></td><td id="LC8355" class="css-1dcdqdg"><code>				projectedBounds.extend(ring[i]);
</code></td></tr><tr><td id="L8356" class="css-a4x74f"><span>8356</span></td><td id="LC8356" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8357" class="css-a4x74f"><span>8357</span></td><td id="LC8357" class="css-1dcdqdg"><code>			result.push(ring);
</code></td></tr><tr><td id="L8358" class="css-a4x74f"><span>8358</span></td><td id="LC8358" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L8359" class="css-a4x74f"><span>8359</span></td><td id="LC8359" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; len; i++) {
</code></td></tr><tr><td id="L8360" class="css-a4x74f"><span>8360</span></td><td id="LC8360" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._projectLatlngs(latlngs[i], result, projectedBounds);
</code></td></tr><tr><td id="L8361" class="css-a4x74f"><span>8361</span></td><td id="LC8361" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8362" class="css-a4x74f"><span>8362</span></td><td id="LC8362" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8363" class="css-a4x74f"><span>8363</span></td><td id="LC8363" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8364" class="css-a4x74f"><span>8364</span></td><td id="LC8364" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8365" class="css-a4x74f"><span>8365</span></td><td id="LC8365" class="css-1dcdqdg"><code>	<span class="code-comment">// clip polyline by renderer bounds so that we have less to render for performance</span>
</code></td></tr><tr><td id="L8366" class="css-a4x74f"><span>8366</span></td><td id="LC8366" class="css-1dcdqdg"><code>	_clipPoints: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8367" class="css-a4x74f"><span>8367</span></td><td id="LC8367" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">this</span>._renderer._bounds;
</code></td></tr><tr><td id="L8368" class="css-a4x74f"><span>8368</span></td><td id="LC8368" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8369" class="css-a4x74f"><span>8369</span></td><td id="LC8369" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._parts = [];
</code></td></tr><tr><td id="L8370" class="css-a4x74f"><span>8370</span></td><td id="LC8370" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._pxBounds || !<span class="code-keyword">this</span>._pxBounds.intersects(bounds)) {
</code></td></tr><tr><td id="L8371" class="css-a4x74f"><span>8371</span></td><td id="LC8371" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L8372" class="css-a4x74f"><span>8372</span></td><td id="LC8372" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8373" class="css-a4x74f"><span>8373</span></td><td id="LC8373" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8374" class="css-a4x74f"><span>8374</span></td><td id="LC8374" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.noClip) {
</code></td></tr><tr><td id="L8375" class="css-a4x74f"><span>8375</span></td><td id="LC8375" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._parts = <span class="code-keyword">this</span>._rings;
</code></td></tr><tr><td id="L8376" class="css-a4x74f"><span>8376</span></td><td id="LC8376" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L8377" class="css-a4x74f"><span>8377</span></td><td id="LC8377" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8378" class="css-a4x74f"><span>8378</span></td><td id="LC8378" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8379" class="css-a4x74f"><span>8379</span></td><td id="LC8379" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> parts = <span class="code-keyword">this</span>._parts,
</code></td></tr><tr><td id="L8380" class="css-a4x74f"><span>8380</span></td><td id="LC8380" class="css-1dcdqdg"><code>		    i, j, k, len, len2, segment, points;
</code></td></tr><tr><td id="L8381" class="css-a4x74f"><span>8381</span></td><td id="LC8381" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8382" class="css-a4x74f"><span>8382</span></td><td id="LC8382" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, k = <span class="code-number">0</span>, len = <span class="code-keyword">this</span>._rings.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8383" class="css-a4x74f"><span>8383</span></td><td id="LC8383" class="css-1dcdqdg"><code>			points = <span class="code-keyword">this</span>._rings[i];
</code></td></tr><tr><td id="L8384" class="css-a4x74f"><span>8384</span></td><td id="LC8384" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8385" class="css-a4x74f"><span>8385</span></td><td id="LC8385" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (j = <span class="code-number">0</span>, len2 = points.length; j &lt; len2 - <span class="code-number">1</span>; j++) {
</code></td></tr><tr><td id="L8386" class="css-a4x74f"><span>8386</span></td><td id="LC8386" class="css-1dcdqdg"><code>				segment = clipSegment(points[j], points[j + <span class="code-number">1</span>], bounds, j, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L8387" class="css-a4x74f"><span>8387</span></td><td id="LC8387" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8388" class="css-a4x74f"><span>8388</span></td><td id="LC8388" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (!segment) { <span class="code-keyword">continue</span>; }
</code></td></tr><tr><td id="L8389" class="css-a4x74f"><span>8389</span></td><td id="LC8389" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8390" class="css-a4x74f"><span>8390</span></td><td id="LC8390" class="css-1dcdqdg"><code>				parts[k] = parts[k] || [];
</code></td></tr><tr><td id="L8391" class="css-a4x74f"><span>8391</span></td><td id="LC8391" class="css-1dcdqdg"><code>				parts[k].push(segment[<span class="code-number">0</span>]);
</code></td></tr><tr><td id="L8392" class="css-a4x74f"><span>8392</span></td><td id="LC8392" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8393" class="css-a4x74f"><span>8393</span></td><td id="LC8393" class="css-1dcdqdg"><code>				<span class="code-comment">// if segment goes out of screen, or it's the last one, it's the end of the line part</span>
</code></td></tr><tr><td id="L8394" class="css-a4x74f"><span>8394</span></td><td id="LC8394" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> ((segment[<span class="code-number">1</span>] !== points[j + <span class="code-number">1</span>]) || (j === len2 - <span class="code-number">2</span>)) {
</code></td></tr><tr><td id="L8395" class="css-a4x74f"><span>8395</span></td><td id="LC8395" class="css-1dcdqdg"><code>					parts[k].push(segment[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L8396" class="css-a4x74f"><span>8396</span></td><td id="LC8396" class="css-1dcdqdg"><code>					k++;
</code></td></tr><tr><td id="L8397" class="css-a4x74f"><span>8397</span></td><td id="LC8397" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L8398" class="css-a4x74f"><span>8398</span></td><td id="LC8398" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8399" class="css-a4x74f"><span>8399</span></td><td id="LC8399" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8400" class="css-a4x74f"><span>8400</span></td><td id="LC8400" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8401" class="css-a4x74f"><span>8401</span></td><td id="LC8401" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8402" class="css-a4x74f"><span>8402</span></td><td id="LC8402" class="css-1dcdqdg"><code>	<span class="code-comment">// simplify each clipped part of the polyline for performance</span>
</code></td></tr><tr><td id="L8403" class="css-a4x74f"><span>8403</span></td><td id="LC8403" class="css-1dcdqdg"><code>	_simplifyPoints: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8404" class="css-a4x74f"><span>8404</span></td><td id="LC8404" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> parts = <span class="code-keyword">this</span>._parts,
</code></td></tr><tr><td id="L8405" class="css-a4x74f"><span>8405</span></td><td id="LC8405" class="css-1dcdqdg"><code>		    tolerance = <span class="code-keyword">this</span>.options.smoothFactor;
</code></td></tr><tr><td id="L8406" class="css-a4x74f"><span>8406</span></td><td id="LC8406" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8407" class="css-a4x74f"><span>8407</span></td><td id="LC8407" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = parts.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8408" class="css-a4x74f"><span>8408</span></td><td id="LC8408" class="css-1dcdqdg"><code>			parts[i] = simplify(parts[i], tolerance);
</code></td></tr><tr><td id="L8409" class="css-a4x74f"><span>8409</span></td><td id="LC8409" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8410" class="css-a4x74f"><span>8410</span></td><td id="LC8410" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8411" class="css-a4x74f"><span>8411</span></td><td id="LC8411" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8412" class="css-a4x74f"><span>8412</span></td><td id="LC8412" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8413" class="css-a4x74f"><span>8413</span></td><td id="LC8413" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L8414" class="css-a4x74f"><span>8414</span></td><td id="LC8414" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8415" class="css-a4x74f"><span>8415</span></td><td id="LC8415" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._clipPoints();
</code></td></tr><tr><td id="L8416" class="css-a4x74f"><span>8416</span></td><td id="LC8416" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._simplifyPoints();
</code></td></tr><tr><td id="L8417" class="css-a4x74f"><span>8417</span></td><td id="LC8417" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updatePath();
</code></td></tr><tr><td id="L8418" class="css-a4x74f"><span>8418</span></td><td id="LC8418" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8419" class="css-a4x74f"><span>8419</span></td><td id="LC8419" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8420" class="css-a4x74f"><span>8420</span></td><td id="LC8420" class="css-1dcdqdg"><code>	_updatePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8421" class="css-a4x74f"><span>8421</span></td><td id="LC8421" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer._updatePoly(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L8422" class="css-a4x74f"><span>8422</span></td><td id="LC8422" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8423" class="css-a4x74f"><span>8423</span></td><td id="LC8423" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8424" class="css-a4x74f"><span>8424</span></td><td id="LC8424" class="css-1dcdqdg"><code>	<span class="code-comment">// Needed by the `Canvas` renderer for interactivity</span>
</code></td></tr><tr><td id="L8425" class="css-a4x74f"><span>8425</span></td><td id="LC8425" class="css-1dcdqdg"><code>	_containsPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">p, closed</span>) </span>{
</code></td></tr><tr><td id="L8426" class="css-a4x74f"><span>8426</span></td><td id="LC8426" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i, j, k, len, len2, part,
</code></td></tr><tr><td id="L8427" class="css-a4x74f"><span>8427</span></td><td id="LC8427" class="css-1dcdqdg"><code>		    w = <span class="code-keyword">this</span>._clickTolerance();
</code></td></tr><tr><td id="L8428" class="css-a4x74f"><span>8428</span></td><td id="LC8428" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8429" class="css-a4x74f"><span>8429</span></td><td id="LC8429" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._pxBounds || !<span class="code-keyword">this</span>._pxBounds.contains(p)) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L8430" class="css-a4x74f"><span>8430</span></td><td id="LC8430" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8431" class="css-a4x74f"><span>8431</span></td><td id="LC8431" class="css-1dcdqdg"><code>		<span class="code-comment">// hit detection for polylines</span>
</code></td></tr><tr><td id="L8432" class="css-a4x74f"><span>8432</span></td><td id="LC8432" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = <span class="code-keyword">this</span>._parts.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8433" class="css-a4x74f"><span>8433</span></td><td id="LC8433" class="css-1dcdqdg"><code>			part = <span class="code-keyword">this</span>._parts[i];
</code></td></tr><tr><td id="L8434" class="css-a4x74f"><span>8434</span></td><td id="LC8434" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8435" class="css-a4x74f"><span>8435</span></td><td id="LC8435" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (j = <span class="code-number">0</span>, len2 = part.length, k = len2 - <span class="code-number">1</span>; j &lt; len2; k = j++) {
</code></td></tr><tr><td id="L8436" class="css-a4x74f"><span>8436</span></td><td id="LC8436" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (!closed &amp;&amp; (j === <span class="code-number">0</span>)) { <span class="code-keyword">continue</span>; }
</code></td></tr><tr><td id="L8437" class="css-a4x74f"><span>8437</span></td><td id="LC8437" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8438" class="css-a4x74f"><span>8438</span></td><td id="LC8438" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (pointToSegmentDistance(p, part[k], part[j]) &lt;= w) {
</code></td></tr><tr><td id="L8439" class="css-a4x74f"><span>8439</span></td><td id="LC8439" class="css-1dcdqdg"><code>					<span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L8440" class="css-a4x74f"><span>8440</span></td><td id="LC8440" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L8441" class="css-a4x74f"><span>8441</span></td><td id="LC8441" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8442" class="css-a4x74f"><span>8442</span></td><td id="LC8442" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8443" class="css-a4x74f"><span>8443</span></td><td id="LC8443" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L8444" class="css-a4x74f"><span>8444</span></td><td id="LC8444" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8445" class="css-a4x74f"><span>8445</span></td><td id="LC8445" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8446" class="css-a4x74f"><span>8446</span></td><td id="LC8446" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8447" class="css-a4x74f"><span>8447</span></td><td id="LC8447" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.polyline(latlngs: LatLng[], options?: Polyline options)</span>
</code></td></tr><tr><td id="L8448" class="css-a4x74f"><span>8448</span></td><td id="LC8448" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a polyline object given an array of geographical points and</span>
</code></td></tr><tr><td id="L8449" class="css-a4x74f"><span>8449</span></td><td id="LC8449" class="css-1dcdqdg"><code><span class="code-comment">// optionally an options object. You can create a `Polyline` object with</span>
</code></td></tr><tr><td id="L8450" class="css-a4x74f"><span>8450</span></td><td id="LC8450" class="css-1dcdqdg"><code><span class="code-comment">// multiple separate lines (`MultiPolyline`) by passing an array of arrays</span>
</code></td></tr><tr><td id="L8451" class="css-a4x74f"><span>8451</span></td><td id="LC8451" class="css-1dcdqdg"><code><span class="code-comment">// of geographic points.</span>
</code></td></tr><tr><td id="L8452" class="css-a4x74f"><span>8452</span></td><td id="LC8452" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">polyline</span>(<span class="code-params">latlngs, options</span>) </span>{
</code></td></tr><tr><td id="L8453" class="css-a4x74f"><span>8453</span></td><td id="LC8453" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Polyline(latlngs, options);
</code></td></tr><tr><td id="L8454" class="css-a4x74f"><span>8454</span></td><td id="LC8454" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8455" class="css-a4x74f"><span>8455</span></td><td id="LC8455" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8456" class="css-a4x74f"><span>8456</span></td><td id="LC8456" class="css-1dcdqdg"><code><span class="code-comment">// Retrocompat. Allow plugins to support Leaflet versions before and after 1.1.</span>
</code></td></tr><tr><td id="L8457" class="css-a4x74f"><span>8457</span></td><td id="LC8457" class="css-1dcdqdg"><code>Polyline._flat = _flat;
</code></td></tr><tr><td id="L8458" class="css-a4x74f"><span>8458</span></td><td id="LC8458" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8459" class="css-a4x74f"><span>8459</span></td><td id="LC8459" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L8460" class="css-a4x74f"><span>8460</span></td><td id="LC8460" class="css-1dcdqdg"><code><span class="code-comment"> * @class Polygon
</span></code></td></tr><tr><td id="L8461" class="css-a4x74f"><span>8461</span></td><td id="LC8461" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Polygon
</span></code></td></tr><tr><td id="L8462" class="css-a4x74f"><span>8462</span></td><td id="LC8462" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Polyline
</span></code></td></tr><tr><td id="L8463" class="css-a4x74f"><span>8463</span></td><td id="LC8463" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8464" class="css-a4x74f"><span>8464</span></td><td id="LC8464" class="css-1dcdqdg"><code><span class="code-comment"> * A class for drawing polygon overlays on a map. Extends `Polyline`.
</span></code></td></tr><tr><td id="L8465" class="css-a4x74f"><span>8465</span></td><td id="LC8465" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8466" class="css-a4x74f"><span>8466</span></td><td id="LC8466" class="css-1dcdqdg"><code><span class="code-comment"> * Note that points you pass when creating a polygon shouldn't have an additional last point equal to the first one  it's better to filter out such points.
</span></code></td></tr><tr><td id="L8467" class="css-a4x74f"><span>8467</span></td><td id="LC8467" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8468" class="css-a4x74f"><span>8468</span></td><td id="LC8468" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8469" class="css-a4x74f"><span>8469</span></td><td id="LC8469" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L8470" class="css-a4x74f"><span>8470</span></td><td id="LC8470" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8471" class="css-a4x74f"><span>8471</span></td><td id="LC8471" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8472" class="css-a4x74f"><span>8472</span></td><td id="LC8472" class="css-1dcdqdg"><code><span class="code-comment"> * // create a red polygon from an array of LatLng points
</span></code></td></tr><tr><td id="L8473" class="css-a4x74f"><span>8473</span></td><td id="LC8473" class="css-1dcdqdg"><code><span class="code-comment"> * var latlngs = [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]];
</span></code></td></tr><tr><td id="L8474" class="css-a4x74f"><span>8474</span></td><td id="LC8474" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8475" class="css-a4x74f"><span>8475</span></td><td id="LC8475" class="css-1dcdqdg"><code><span class="code-comment"> * var polygon = L.polygon(latlngs, {color: 'red'}).addTo(map);
</span></code></td></tr><tr><td id="L8476" class="css-a4x74f"><span>8476</span></td><td id="LC8476" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8477" class="css-a4x74f"><span>8477</span></td><td id="LC8477" class="css-1dcdqdg"><code><span class="code-comment"> * // zoom the map to the polygon
</span></code></td></tr><tr><td id="L8478" class="css-a4x74f"><span>8478</span></td><td id="LC8478" class="css-1dcdqdg"><code><span class="code-comment"> * map.fitBounds(polygon.getBounds());
</span></code></td></tr><tr><td id="L8479" class="css-a4x74f"><span>8479</span></td><td id="LC8479" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8480" class="css-a4x74f"><span>8480</span></td><td id="LC8480" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8481" class="css-a4x74f"><span>8481</span></td><td id="LC8481" class="css-1dcdqdg"><code><span class="code-comment"> * You can also pass an array of arrays of latlngs, with the first array representing the outer shape and the other arrays representing holes in the outer shape:
</span></code></td></tr><tr><td id="L8482" class="css-a4x74f"><span>8482</span></td><td id="LC8482" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8483" class="css-a4x74f"><span>8483</span></td><td id="LC8483" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8484" class="css-a4x74f"><span>8484</span></td><td id="LC8484" class="css-1dcdqdg"><code><span class="code-comment"> * var latlngs = [
</span></code></td></tr><tr><td id="L8485" class="css-a4x74f"><span>8485</span></td><td id="LC8485" class="css-1dcdqdg"><code><span class="code-comment"> *   [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]], // outer ring
</span></code></td></tr><tr><td id="L8486" class="css-a4x74f"><span>8486</span></td><td id="LC8486" class="css-1dcdqdg"><code><span class="code-comment"> *   [[37.29, -108.58],[40.71, -108.58],[40.71, -102.50],[37.29, -102.50]] // hole
</span></code></td></tr><tr><td id="L8487" class="css-a4x74f"><span>8487</span></td><td id="LC8487" class="css-1dcdqdg"><code><span class="code-comment"> * ];
</span></code></td></tr><tr><td id="L8488" class="css-a4x74f"><span>8488</span></td><td id="LC8488" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8489" class="css-a4x74f"><span>8489</span></td><td id="LC8489" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8490" class="css-a4x74f"><span>8490</span></td><td id="LC8490" class="css-1dcdqdg"><code><span class="code-comment"> * Additionally, you can pass a multi-dimensional array to represent a MultiPolygon shape.
</span></code></td></tr><tr><td id="L8491" class="css-a4x74f"><span>8491</span></td><td id="LC8491" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8492" class="css-a4x74f"><span>8492</span></td><td id="LC8492" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8493" class="css-a4x74f"><span>8493</span></td><td id="LC8493" class="css-1dcdqdg"><code><span class="code-comment"> * var latlngs = [
</span></code></td></tr><tr><td id="L8494" class="css-a4x74f"><span>8494</span></td><td id="LC8494" class="css-1dcdqdg"><code><span class="code-comment"> *   [ // first polygon
</span></code></td></tr><tr><td id="L8495" class="css-a4x74f"><span>8495</span></td><td id="LC8495" class="css-1dcdqdg"><code><span class="code-comment"> *     [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]], // outer ring
</span></code></td></tr><tr><td id="L8496" class="css-a4x74f"><span>8496</span></td><td id="LC8496" class="css-1dcdqdg"><code><span class="code-comment"> *     [[37.29, -108.58],[40.71, -108.58],[40.71, -102.50],[37.29, -102.50]] // hole
</span></code></td></tr><tr><td id="L8497" class="css-a4x74f"><span>8497</span></td><td id="LC8497" class="css-1dcdqdg"><code><span class="code-comment"> *   ],
</span></code></td></tr><tr><td id="L8498" class="css-a4x74f"><span>8498</span></td><td id="LC8498" class="css-1dcdqdg"><code><span class="code-comment"> *   [ // second polygon
</span></code></td></tr><tr><td id="L8499" class="css-a4x74f"><span>8499</span></td><td id="LC8499" class="css-1dcdqdg"><code><span class="code-comment"> *     [[41, -111.03],[45, -111.04],[45, -104.05],[41, -104.05]]
</span></code></td></tr><tr><td id="L8500" class="css-a4x74f"><span>8500</span></td><td id="LC8500" class="css-1dcdqdg"><code><span class="code-comment"> *   ]
</span></code></td></tr><tr><td id="L8501" class="css-a4x74f"><span>8501</span></td><td id="LC8501" class="css-1dcdqdg"><code><span class="code-comment"> * ];
</span></code></td></tr><tr><td id="L8502" class="css-a4x74f"><span>8502</span></td><td id="LC8502" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8503" class="css-a4x74f"><span>8503</span></td><td id="LC8503" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L8504" class="css-a4x74f"><span>8504</span></td><td id="LC8504" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8505" class="css-a4x74f"><span>8505</span></td><td id="LC8505" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Polygon = Polyline.extend({
</code></td></tr><tr><td id="L8506" class="css-a4x74f"><span>8506</span></td><td id="LC8506" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8507" class="css-a4x74f"><span>8507</span></td><td id="LC8507" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L8508" class="css-a4x74f"><span>8508</span></td><td id="LC8508" class="css-1dcdqdg"><code>		fill: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L8509" class="css-a4x74f"><span>8509</span></td><td id="LC8509" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8510" class="css-a4x74f"><span>8510</span></td><td id="LC8510" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8511" class="css-a4x74f"><span>8511</span></td><td id="LC8511" class="css-1dcdqdg"><code>	isEmpty: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8512" class="css-a4x74f"><span>8512</span></td><td id="LC8512" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !<span class="code-keyword">this</span>._latlngs.length || !<span class="code-keyword">this</span>._latlngs[<span class="code-number">0</span>].length;
</code></td></tr><tr><td id="L8513" class="css-a4x74f"><span>8513</span></td><td id="LC8513" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8514" class="css-a4x74f"><span>8514</span></td><td id="LC8514" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8515" class="css-a4x74f"><span>8515</span></td><td id="LC8515" class="css-1dcdqdg"><code>	getCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8516" class="css-a4x74f"><span>8516</span></td><td id="LC8516" class="css-1dcdqdg"><code>		<span class="code-comment">// throws error when not yet added to map as this center calculation requires projected coordinates</span>
</code></td></tr><tr><td id="L8517" class="css-a4x74f"><span>8517</span></td><td id="LC8517" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L8518" class="css-a4x74f"><span>8518</span></td><td id="LC8518" class="css-1dcdqdg"><code>			<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Must add layer to map before using getCenter()'</span>);
</code></td></tr><tr><td id="L8519" class="css-a4x74f"><span>8519</span></td><td id="LC8519" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8520" class="css-a4x74f"><span>8520</span></td><td id="LC8520" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8521" class="css-a4x74f"><span>8521</span></td><td id="LC8521" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i, j, p1, p2, f, area, x, y, center,
</code></td></tr><tr><td id="L8522" class="css-a4x74f"><span>8522</span></td><td id="LC8522" class="css-1dcdqdg"><code>		    points = <span class="code-keyword">this</span>._rings[<span class="code-number">0</span>],
</code></td></tr><tr><td id="L8523" class="css-a4x74f"><span>8523</span></td><td id="LC8523" class="css-1dcdqdg"><code>		    len = points.length;
</code></td></tr><tr><td id="L8524" class="css-a4x74f"><span>8524</span></td><td id="LC8524" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8525" class="css-a4x74f"><span>8525</span></td><td id="LC8525" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!len) { <span class="code-keyword">return</span> <span class="code-literal">null</span>; }
</code></td></tr><tr><td id="L8526" class="css-a4x74f"><span>8526</span></td><td id="LC8526" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8527" class="css-a4x74f"><span>8527</span></td><td id="LC8527" class="css-1dcdqdg"><code>		<span class="code-comment">// polygon centroid algorithm; only uses the first ring if there are multiple</span>
</code></td></tr><tr><td id="L8528" class="css-a4x74f"><span>8528</span></td><td id="LC8528" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8529" class="css-a4x74f"><span>8529</span></td><td id="LC8529" class="css-1dcdqdg"><code>		area = x = y = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L8530" class="css-a4x74f"><span>8530</span></td><td id="LC8530" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8531" class="css-a4x74f"><span>8531</span></td><td id="LC8531" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, j = len - <span class="code-number">1</span>; i &lt; len; j = i++) {
</code></td></tr><tr><td id="L8532" class="css-a4x74f"><span>8532</span></td><td id="LC8532" class="css-1dcdqdg"><code>			p1 = points[i];
</code></td></tr><tr><td id="L8533" class="css-a4x74f"><span>8533</span></td><td id="LC8533" class="css-1dcdqdg"><code>			p2 = points[j];
</code></td></tr><tr><td id="L8534" class="css-a4x74f"><span>8534</span></td><td id="LC8534" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8535" class="css-a4x74f"><span>8535</span></td><td id="LC8535" class="css-1dcdqdg"><code>			f = p1.y * p2.x - p2.y * p1.x;
</code></td></tr><tr><td id="L8536" class="css-a4x74f"><span>8536</span></td><td id="LC8536" class="css-1dcdqdg"><code>			x += (p1.x + p2.x) * f;
</code></td></tr><tr><td id="L8537" class="css-a4x74f"><span>8537</span></td><td id="LC8537" class="css-1dcdqdg"><code>			y += (p1.y + p2.y) * f;
</code></td></tr><tr><td id="L8538" class="css-a4x74f"><span>8538</span></td><td id="LC8538" class="css-1dcdqdg"><code>			area += f * <span class="code-number">3</span>;
</code></td></tr><tr><td id="L8539" class="css-a4x74f"><span>8539</span></td><td id="LC8539" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8540" class="css-a4x74f"><span>8540</span></td><td id="LC8540" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8541" class="css-a4x74f"><span>8541</span></td><td id="LC8541" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (area === <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L8542" class="css-a4x74f"><span>8542</span></td><td id="LC8542" class="css-1dcdqdg"><code>			<span class="code-comment">// Polygon is so small that all points are on same pixel.</span>
</code></td></tr><tr><td id="L8543" class="css-a4x74f"><span>8543</span></td><td id="LC8543" class="css-1dcdqdg"><code>			center = points[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L8544" class="css-a4x74f"><span>8544</span></td><td id="LC8544" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L8545" class="css-a4x74f"><span>8545</span></td><td id="LC8545" class="css-1dcdqdg"><code>			center = [x / area, y / area];
</code></td></tr><tr><td id="L8546" class="css-a4x74f"><span>8546</span></td><td id="LC8546" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8547" class="css-a4x74f"><span>8547</span></td><td id="LC8547" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._map.layerPointToLatLng(center);
</code></td></tr><tr><td id="L8548" class="css-a4x74f"><span>8548</span></td><td id="LC8548" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8549" class="css-a4x74f"><span>8549</span></td><td id="LC8549" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8550" class="css-a4x74f"><span>8550</span></td><td id="LC8550" class="css-1dcdqdg"><code>	_convertLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L8551" class="css-a4x74f"><span>8551</span></td><td id="LC8551" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> result = Polyline.prototype._convertLatLngs.call(<span class="code-keyword">this</span>, latlngs),
</code></td></tr><tr><td id="L8552" class="css-a4x74f"><span>8552</span></td><td id="LC8552" class="css-1dcdqdg"><code>		    len = result.length;
</code></td></tr><tr><td id="L8553" class="css-a4x74f"><span>8553</span></td><td id="LC8553" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8554" class="css-a4x74f"><span>8554</span></td><td id="LC8554" class="css-1dcdqdg"><code>		<span class="code-comment">// remove last point if it equals first one</span>
</code></td></tr><tr><td id="L8555" class="css-a4x74f"><span>8555</span></td><td id="LC8555" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (len &gt;= <span class="code-number">2</span> &amp;&amp; result[<span class="code-number">0</span>] <span class="code-keyword">instanceof</span> LatLng &amp;&amp; result[<span class="code-number">0</span>].equals(result[len - <span class="code-number">1</span>])) {
</code></td></tr><tr><td id="L8556" class="css-a4x74f"><span>8556</span></td><td id="LC8556" class="css-1dcdqdg"><code>			result.pop();
</code></td></tr><tr><td id="L8557" class="css-a4x74f"><span>8557</span></td><td id="LC8557" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8558" class="css-a4x74f"><span>8558</span></td><td id="LC8558" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> result;
</code></td></tr><tr><td id="L8559" class="css-a4x74f"><span>8559</span></td><td id="LC8559" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8560" class="css-a4x74f"><span>8560</span></td><td id="LC8560" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8561" class="css-a4x74f"><span>8561</span></td><td id="LC8561" class="css-1dcdqdg"><code>	_setLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlngs</span>) </span>{
</code></td></tr><tr><td id="L8562" class="css-a4x74f"><span>8562</span></td><td id="LC8562" class="css-1dcdqdg"><code>		Polyline.prototype._setLatLngs.call(<span class="code-keyword">this</span>, latlngs);
</code></td></tr><tr><td id="L8563" class="css-a4x74f"><span>8563</span></td><td id="LC8563" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (isFlat(<span class="code-keyword">this</span>._latlngs)) {
</code></td></tr><tr><td id="L8564" class="css-a4x74f"><span>8564</span></td><td id="LC8564" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._latlngs = [<span class="code-keyword">this</span>._latlngs];
</code></td></tr><tr><td id="L8565" class="css-a4x74f"><span>8565</span></td><td id="LC8565" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8566" class="css-a4x74f"><span>8566</span></td><td id="LC8566" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8567" class="css-a4x74f"><span>8567</span></td><td id="LC8567" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8568" class="css-a4x74f"><span>8568</span></td><td id="LC8568" class="css-1dcdqdg"><code>	_defaultShape: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8569" class="css-a4x74f"><span>8569</span></td><td id="LC8569" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> isFlat(<span class="code-keyword">this</span>._latlngs[<span class="code-number">0</span>]) ? <span class="code-keyword">this</span>._latlngs[<span class="code-number">0</span>] : <span class="code-keyword">this</span>._latlngs[<span class="code-number">0</span>][<span class="code-number">0</span>];
</code></td></tr><tr><td id="L8570" class="css-a4x74f"><span>8570</span></td><td id="LC8570" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8571" class="css-a4x74f"><span>8571</span></td><td id="LC8571" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8572" class="css-a4x74f"><span>8572</span></td><td id="LC8572" class="css-1dcdqdg"><code>	_clipPoints: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8573" class="css-a4x74f"><span>8573</span></td><td id="LC8573" class="css-1dcdqdg"><code>		<span class="code-comment">// polygons need a different clipping algorithm so we redefine that</span>
</code></td></tr><tr><td id="L8574" class="css-a4x74f"><span>8574</span></td><td id="LC8574" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8575" class="css-a4x74f"><span>8575</span></td><td id="LC8575" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">this</span>._renderer._bounds,
</code></td></tr><tr><td id="L8576" class="css-a4x74f"><span>8576</span></td><td id="LC8576" class="css-1dcdqdg"><code>		    w = <span class="code-keyword">this</span>.options.weight,
</code></td></tr><tr><td id="L8577" class="css-a4x74f"><span>8577</span></td><td id="LC8577" class="css-1dcdqdg"><code>		    p = <span class="code-keyword">new</span> Point(w, w);
</code></td></tr><tr><td id="L8578" class="css-a4x74f"><span>8578</span></td><td id="LC8578" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8579" class="css-a4x74f"><span>8579</span></td><td id="LC8579" class="css-1dcdqdg"><code>		<span class="code-comment">// increase clip padding by stroke width to avoid stroke on clip edges</span>
</code></td></tr><tr><td id="L8580" class="css-a4x74f"><span>8580</span></td><td id="LC8580" class="css-1dcdqdg"><code>		bounds = <span class="code-keyword">new</span> Bounds(bounds.min.subtract(p), bounds.max.add(p));
</code></td></tr><tr><td id="L8581" class="css-a4x74f"><span>8581</span></td><td id="LC8581" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8582" class="css-a4x74f"><span>8582</span></td><td id="LC8582" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._parts = [];
</code></td></tr><tr><td id="L8583" class="css-a4x74f"><span>8583</span></td><td id="LC8583" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._pxBounds || !<span class="code-keyword">this</span>._pxBounds.intersects(bounds)) {
</code></td></tr><tr><td id="L8584" class="css-a4x74f"><span>8584</span></td><td id="LC8584" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L8585" class="css-a4x74f"><span>8585</span></td><td id="LC8585" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8586" class="css-a4x74f"><span>8586</span></td><td id="LC8586" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8587" class="css-a4x74f"><span>8587</span></td><td id="LC8587" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.noClip) {
</code></td></tr><tr><td id="L8588" class="css-a4x74f"><span>8588</span></td><td id="LC8588" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._parts = <span class="code-keyword">this</span>._rings;
</code></td></tr><tr><td id="L8589" class="css-a4x74f"><span>8589</span></td><td id="LC8589" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L8590" class="css-a4x74f"><span>8590</span></td><td id="LC8590" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8591" class="css-a4x74f"><span>8591</span></td><td id="LC8591" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8592" class="css-a4x74f"><span>8592</span></td><td id="LC8592" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = <span class="code-keyword">this</span>._rings.length, clipped; i &lt; len; i++) {
</code></td></tr><tr><td id="L8593" class="css-a4x74f"><span>8593</span></td><td id="LC8593" class="css-1dcdqdg"><code>			clipped = clipPolygon(<span class="code-keyword">this</span>._rings[i], bounds, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L8594" class="css-a4x74f"><span>8594</span></td><td id="LC8594" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (clipped.length) {
</code></td></tr><tr><td id="L8595" class="css-a4x74f"><span>8595</span></td><td id="LC8595" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._parts.push(clipped);
</code></td></tr><tr><td id="L8596" class="css-a4x74f"><span>8596</span></td><td id="LC8596" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8597" class="css-a4x74f"><span>8597</span></td><td id="LC8597" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8598" class="css-a4x74f"><span>8598</span></td><td id="LC8598" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8599" class="css-a4x74f"><span>8599</span></td><td id="LC8599" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8600" class="css-a4x74f"><span>8600</span></td><td id="LC8600" class="css-1dcdqdg"><code>	_updatePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L8601" class="css-a4x74f"><span>8601</span></td><td id="LC8601" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._renderer._updatePoly(<span class="code-keyword">this</span>, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L8602" class="css-a4x74f"><span>8602</span></td><td id="LC8602" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8603" class="css-a4x74f"><span>8603</span></td><td id="LC8603" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8604" class="css-a4x74f"><span>8604</span></td><td id="LC8604" class="css-1dcdqdg"><code>	<span class="code-comment">// Needed by the `Canvas` renderer for interactivity</span>
</code></td></tr><tr><td id="L8605" class="css-a4x74f"><span>8605</span></td><td id="LC8605" class="css-1dcdqdg"><code>	_containsPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">p</span>) </span>{
</code></td></tr><tr><td id="L8606" class="css-a4x74f"><span>8606</span></td><td id="LC8606" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> inside = <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L8607" class="css-a4x74f"><span>8607</span></td><td id="LC8607" class="css-1dcdqdg"><code>		    part, p1, p2, i, j, k, len, len2;
</code></td></tr><tr><td id="L8608" class="css-a4x74f"><span>8608</span></td><td id="LC8608" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8609" class="css-a4x74f"><span>8609</span></td><td id="LC8609" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._pxBounds || !<span class="code-keyword">this</span>._pxBounds.contains(p)) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L8610" class="css-a4x74f"><span>8610</span></td><td id="LC8610" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8611" class="css-a4x74f"><span>8611</span></td><td id="LC8611" class="css-1dcdqdg"><code>		<span class="code-comment">// ray casting algorithm for detecting if point is in polygon</span>
</code></td></tr><tr><td id="L8612" class="css-a4x74f"><span>8612</span></td><td id="LC8612" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = <span class="code-keyword">this</span>._parts.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8613" class="css-a4x74f"><span>8613</span></td><td id="LC8613" class="css-1dcdqdg"><code>			part = <span class="code-keyword">this</span>._parts[i];
</code></td></tr><tr><td id="L8614" class="css-a4x74f"><span>8614</span></td><td id="LC8614" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8615" class="css-a4x74f"><span>8615</span></td><td id="LC8615" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (j = <span class="code-number">0</span>, len2 = part.length, k = len2 - <span class="code-number">1</span>; j &lt; len2; k = j++) {
</code></td></tr><tr><td id="L8616" class="css-a4x74f"><span>8616</span></td><td id="LC8616" class="css-1dcdqdg"><code>				p1 = part[j];
</code></td></tr><tr><td id="L8617" class="css-a4x74f"><span>8617</span></td><td id="LC8617" class="css-1dcdqdg"><code>				p2 = part[k];
</code></td></tr><tr><td id="L8618" class="css-a4x74f"><span>8618</span></td><td id="LC8618" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8619" class="css-a4x74f"><span>8619</span></td><td id="LC8619" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (((p1.y &gt; p.y) !== (p2.y &gt; p.y)) &amp;&amp; (p.x &lt; (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {
</code></td></tr><tr><td id="L8620" class="css-a4x74f"><span>8620</span></td><td id="LC8620" class="css-1dcdqdg"><code>					inside = !inside;
</code></td></tr><tr><td id="L8621" class="css-a4x74f"><span>8621</span></td><td id="LC8621" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L8622" class="css-a4x74f"><span>8622</span></td><td id="LC8622" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8623" class="css-a4x74f"><span>8623</span></td><td id="LC8623" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8624" class="css-a4x74f"><span>8624</span></td><td id="LC8624" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8625" class="css-a4x74f"><span>8625</span></td><td id="LC8625" class="css-1dcdqdg"><code>		<span class="code-comment">// also check if it's on polygon stroke</span>
</code></td></tr><tr><td id="L8626" class="css-a4x74f"><span>8626</span></td><td id="LC8626" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> inside || Polyline.prototype._containsPoint.call(<span class="code-keyword">this</span>, p, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L8627" class="css-a4x74f"><span>8627</span></td><td id="LC8627" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8628" class="css-a4x74f"><span>8628</span></td><td id="LC8628" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8629" class="css-a4x74f"><span>8629</span></td><td id="LC8629" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8630" class="css-a4x74f"><span>8630</span></td><td id="LC8630" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8631" class="css-a4x74f"><span>8631</span></td><td id="LC8631" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8632" class="css-a4x74f"><span>8632</span></td><td id="LC8632" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.polygon(latlngs: LatLng[], options?: Polyline options)</span>
</code></td></tr><tr><td id="L8633" class="css-a4x74f"><span>8633</span></td><td id="LC8633" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">polygon</span>(<span class="code-params">latlngs, options</span>) </span>{
</code></td></tr><tr><td id="L8634" class="css-a4x74f"><span>8634</span></td><td id="LC8634" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Polygon(latlngs, options);
</code></td></tr><tr><td id="L8635" class="css-a4x74f"><span>8635</span></td><td id="LC8635" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8636" class="css-a4x74f"><span>8636</span></td><td id="LC8636" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8637" class="css-a4x74f"><span>8637</span></td><td id="LC8637" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L8638" class="css-a4x74f"><span>8638</span></td><td id="LC8638" class="css-1dcdqdg"><code><span class="code-comment"> * @class GeoJSON
</span></code></td></tr><tr><td id="L8639" class="css-a4x74f"><span>8639</span></td><td id="LC8639" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.GeoJSON
</span></code></td></tr><tr><td id="L8640" class="css-a4x74f"><span>8640</span></td><td id="LC8640" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits FeatureGroup
</span></code></td></tr><tr><td id="L8641" class="css-a4x74f"><span>8641</span></td><td id="LC8641" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8642" class="css-a4x74f"><span>8642</span></td><td id="LC8642" class="css-1dcdqdg"><code><span class="code-comment"> * Represents a GeoJSON object or an array of GeoJSON objects. Allows you to parse
</span></code></td></tr><tr><td id="L8643" class="css-a4x74f"><span>8643</span></td><td id="LC8643" class="css-1dcdqdg"><code><span class="code-comment"> * GeoJSON data and display it on the map. Extends `FeatureGroup`.
</span></code></td></tr><tr><td id="L8644" class="css-a4x74f"><span>8644</span></td><td id="LC8644" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8645" class="css-a4x74f"><span>8645</span></td><td id="LC8645" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L8646" class="css-a4x74f"><span>8646</span></td><td id="LC8646" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8647" class="css-a4x74f"><span>8647</span></td><td id="LC8647" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L8648" class="css-a4x74f"><span>8648</span></td><td id="LC8648" class="css-1dcdqdg"><code><span class="code-comment"> * L.geoJSON(data, {
</span></code></td></tr><tr><td id="L8649" class="css-a4x74f"><span>8649</span></td><td id="LC8649" class="css-1dcdqdg"><code><span class="code-comment"> * 	style: function (feature) {
</span></code></td></tr><tr><td id="L8650" class="css-a4x74f"><span>8650</span></td><td id="LC8650" class="css-1dcdqdg"><code><span class="code-comment"> * 		return {color: feature.properties.color};
</span></code></td></tr><tr><td id="L8651" class="css-a4x74f"><span>8651</span></td><td id="LC8651" class="css-1dcdqdg"><code><span class="code-comment"> * 	}
</span></code></td></tr><tr><td id="L8652" class="css-a4x74f"><span>8652</span></td><td id="LC8652" class="css-1dcdqdg"><code><span class="code-comment"> * }).bindPopup(function (layer) {
</span></code></td></tr><tr><td id="L8653" class="css-a4x74f"><span>8653</span></td><td id="LC8653" class="css-1dcdqdg"><code><span class="code-comment"> * 	return layer.feature.properties.description;
</span></code></td></tr><tr><td id="L8654" class="css-a4x74f"><span>8654</span></td><td id="LC8654" class="css-1dcdqdg"><code><span class="code-comment"> * }).addTo(map);
</span></code></td></tr><tr><td id="L8655" class="css-a4x74f"><span>8655</span></td><td id="LC8655" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L8656" class="css-a4x74f"><span>8656</span></td><td id="LC8656" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L8657" class="css-a4x74f"><span>8657</span></td><td id="LC8657" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8658" class="css-a4x74f"><span>8658</span></td><td id="LC8658" class="css-1dcdqdg"><code><span class="code-keyword">var</span> GeoJSON = FeatureGroup.extend({
</code></td></tr><tr><td id="L8659" class="css-a4x74f"><span>8659</span></td><td id="LC8659" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8660" class="css-a4x74f"><span>8660</span></td><td id="LC8660" class="css-1dcdqdg"><code>	<span class="code-comment">/* @section
</span></code></td></tr><tr><td id="L8661" class="css-a4x74f"><span>8661</span></td><td id="LC8661" class="css-1dcdqdg"><code><span class="code-comment">	 * @aka GeoJSON options
</span></code></td></tr><tr><td id="L8662" class="css-a4x74f"><span>8662</span></td><td id="LC8662" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L8663" class="css-a4x74f"><span>8663</span></td><td id="LC8663" class="css-1dcdqdg"><code><span class="code-comment">	 * @option pointToLayer: Function = *
</span></code></td></tr><tr><td id="L8664" class="css-a4x74f"><span>8664</span></td><td id="LC8664" class="css-1dcdqdg"><code><span class="code-comment">	 * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally
</span></code></td></tr><tr><td id="L8665" class="css-a4x74f"><span>8665</span></td><td id="LC8665" class="css-1dcdqdg"><code><span class="code-comment">	 * called when data is added, passing the GeoJSON point feature and its `LatLng`.
</span></code></td></tr><tr><td id="L8666" class="css-a4x74f"><span>8666</span></td><td id="LC8666" class="css-1dcdqdg"><code><span class="code-comment">	 * The default is to spawn a default `Marker`:
</span></code></td></tr><tr><td id="L8667" class="css-a4x74f"><span>8667</span></td><td id="LC8667" class="css-1dcdqdg"><code><span class="code-comment">	 * ```js
</span></code></td></tr><tr><td id="L8668" class="css-a4x74f"><span>8668</span></td><td id="LC8668" class="css-1dcdqdg"><code><span class="code-comment">	 * function(geoJsonPoint, latlng) {
</span></code></td></tr><tr><td id="L8669" class="css-a4x74f"><span>8669</span></td><td id="LC8669" class="css-1dcdqdg"><code><span class="code-comment">	 * 	return L.marker(latlng);
</span></code></td></tr><tr><td id="L8670" class="css-a4x74f"><span>8670</span></td><td id="LC8670" class="css-1dcdqdg"><code><span class="code-comment">	 * }
</span></code></td></tr><tr><td id="L8671" class="css-a4x74f"><span>8671</span></td><td id="LC8671" class="css-1dcdqdg"><code><span class="code-comment">	 * ```
</span></code></td></tr><tr><td id="L8672" class="css-a4x74f"><span>8672</span></td><td id="LC8672" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L8673" class="css-a4x74f"><span>8673</span></td><td id="LC8673" class="css-1dcdqdg"><code><span class="code-comment">	 * @option style: Function = *
</span></code></td></tr><tr><td id="L8674" class="css-a4x74f"><span>8674</span></td><td id="LC8674" class="css-1dcdqdg"><code><span class="code-comment">	 * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,
</span></code></td></tr><tr><td id="L8675" class="css-a4x74f"><span>8675</span></td><td id="LC8675" class="css-1dcdqdg"><code><span class="code-comment">	 * called internally when data is added.
</span></code></td></tr><tr><td id="L8676" class="css-a4x74f"><span>8676</span></td><td id="LC8676" class="css-1dcdqdg"><code><span class="code-comment">	 * The default value is to not override any defaults:
</span></code></td></tr><tr><td id="L8677" class="css-a4x74f"><span>8677</span></td><td id="LC8677" class="css-1dcdqdg"><code><span class="code-comment">	 * ```js
</span></code></td></tr><tr><td id="L8678" class="css-a4x74f"><span>8678</span></td><td id="LC8678" class="css-1dcdqdg"><code><span class="code-comment">	 * function (geoJsonFeature) {
</span></code></td></tr><tr><td id="L8679" class="css-a4x74f"><span>8679</span></td><td id="LC8679" class="css-1dcdqdg"><code><span class="code-comment">	 * 	return {}
</span></code></td></tr><tr><td id="L8680" class="css-a4x74f"><span>8680</span></td><td id="LC8680" class="css-1dcdqdg"><code><span class="code-comment">	 * }
</span></code></td></tr><tr><td id="L8681" class="css-a4x74f"><span>8681</span></td><td id="LC8681" class="css-1dcdqdg"><code><span class="code-comment">	 * ```
</span></code></td></tr><tr><td id="L8682" class="css-a4x74f"><span>8682</span></td><td id="LC8682" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L8683" class="css-a4x74f"><span>8683</span></td><td id="LC8683" class="css-1dcdqdg"><code><span class="code-comment">	 * @option onEachFeature: Function = *
</span></code></td></tr><tr><td id="L8684" class="css-a4x74f"><span>8684</span></td><td id="LC8684" class="css-1dcdqdg"><code><span class="code-comment">	 * A `Function` that will be called once for each created `Feature`, after it has
</span></code></td></tr><tr><td id="L8685" class="css-a4x74f"><span>8685</span></td><td id="LC8685" class="css-1dcdqdg"><code><span class="code-comment">	 * been created and styled. Useful for attaching events and popups to features.
</span></code></td></tr><tr><td id="L8686" class="css-a4x74f"><span>8686</span></td><td id="LC8686" class="css-1dcdqdg"><code><span class="code-comment">	 * The default is to do nothing with the newly created layers:
</span></code></td></tr><tr><td id="L8687" class="css-a4x74f"><span>8687</span></td><td id="LC8687" class="css-1dcdqdg"><code><span class="code-comment">	 * ```js
</span></code></td></tr><tr><td id="L8688" class="css-a4x74f"><span>8688</span></td><td id="LC8688" class="css-1dcdqdg"><code><span class="code-comment">	 * function (feature, layer) {}
</span></code></td></tr><tr><td id="L8689" class="css-a4x74f"><span>8689</span></td><td id="LC8689" class="css-1dcdqdg"><code><span class="code-comment">	 * ```
</span></code></td></tr><tr><td id="L8690" class="css-a4x74f"><span>8690</span></td><td id="LC8690" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L8691" class="css-a4x74f"><span>8691</span></td><td id="LC8691" class="css-1dcdqdg"><code><span class="code-comment">	 * @option filter: Function = *
</span></code></td></tr><tr><td id="L8692" class="css-a4x74f"><span>8692</span></td><td id="LC8692" class="css-1dcdqdg"><code><span class="code-comment">	 * A `Function` that will be used to decide whether to include a feature or not.
</span></code></td></tr><tr><td id="L8693" class="css-a4x74f"><span>8693</span></td><td id="LC8693" class="css-1dcdqdg"><code><span class="code-comment">	 * The default is to include all features:
</span></code></td></tr><tr><td id="L8694" class="css-a4x74f"><span>8694</span></td><td id="LC8694" class="css-1dcdqdg"><code><span class="code-comment">	 * ```js
</span></code></td></tr><tr><td id="L8695" class="css-a4x74f"><span>8695</span></td><td id="LC8695" class="css-1dcdqdg"><code><span class="code-comment">	 * function (geoJsonFeature) {
</span></code></td></tr><tr><td id="L8696" class="css-a4x74f"><span>8696</span></td><td id="LC8696" class="css-1dcdqdg"><code><span class="code-comment">	 * 	return true;
</span></code></td></tr><tr><td id="L8697" class="css-a4x74f"><span>8697</span></td><td id="LC8697" class="css-1dcdqdg"><code><span class="code-comment">	 * }
</span></code></td></tr><tr><td id="L8698" class="css-a4x74f"><span>8698</span></td><td id="LC8698" class="css-1dcdqdg"><code><span class="code-comment">	 * ```
</span></code></td></tr><tr><td id="L8699" class="css-a4x74f"><span>8699</span></td><td id="LC8699" class="css-1dcdqdg"><code><span class="code-comment">	 * <span class="code-doctag">Note:</span> dynamically changing the `filter` option will have effect only on newly
</span></code></td></tr><tr><td id="L8700" class="css-a4x74f"><span>8700</span></td><td id="LC8700" class="css-1dcdqdg"><code><span class="code-comment">	 * added data. It will _not_ re-evaluate already included features.
</span></code></td></tr><tr><td id="L8701" class="css-a4x74f"><span>8701</span></td><td id="LC8701" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L8702" class="css-a4x74f"><span>8702</span></td><td id="LC8702" class="css-1dcdqdg"><code><span class="code-comment">	 * @option coordsToLatLng: Function = *
</span></code></td></tr><tr><td id="L8703" class="css-a4x74f"><span>8703</span></td><td id="LC8703" class="css-1dcdqdg"><code><span class="code-comment">	 * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.
</span></code></td></tr><tr><td id="L8704" class="css-a4x74f"><span>8704</span></td><td id="LC8704" class="css-1dcdqdg"><code><span class="code-comment">	 * The default is the `coordsToLatLng` static method.
</span></code></td></tr><tr><td id="L8705" class="css-a4x74f"><span>8705</span></td><td id="LC8705" class="css-1dcdqdg"><code><span class="code-comment">	 *
</span></code></td></tr><tr><td id="L8706" class="css-a4x74f"><span>8706</span></td><td id="LC8706" class="css-1dcdqdg"><code><span class="code-comment">	 * @option markersInheritOptions: Boolean = false
</span></code></td></tr><tr><td id="L8707" class="css-a4x74f"><span>8707</span></td><td id="LC8707" class="css-1dcdqdg"><code><span class="code-comment">	 * Whether default Markers for "Point" type Features inherit from group options.
</span></code></td></tr><tr><td id="L8708" class="css-a4x74f"><span>8708</span></td><td id="LC8708" class="css-1dcdqdg"><code><span class="code-comment">	 */</span>
</code></td></tr><tr><td id="L8709" class="css-a4x74f"><span>8709</span></td><td id="LC8709" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8710" class="css-a4x74f"><span>8710</span></td><td id="LC8710" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">geojson, options</span>) </span>{
</code></td></tr><tr><td id="L8711" class="css-a4x74f"><span>8711</span></td><td id="LC8711" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L8712" class="css-a4x74f"><span>8712</span></td><td id="LC8712" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8713" class="css-a4x74f"><span>8713</span></td><td id="LC8713" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers = {};
</code></td></tr><tr><td id="L8714" class="css-a4x74f"><span>8714</span></td><td id="LC8714" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8715" class="css-a4x74f"><span>8715</span></td><td id="LC8715" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (geojson) {
</code></td></tr><tr><td id="L8716" class="css-a4x74f"><span>8716</span></td><td id="LC8716" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addData(geojson);
</code></td></tr><tr><td id="L8717" class="css-a4x74f"><span>8717</span></td><td id="LC8717" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8718" class="css-a4x74f"><span>8718</span></td><td id="LC8718" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8719" class="css-a4x74f"><span>8719</span></td><td id="LC8719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8720" class="css-a4x74f"><span>8720</span></td><td id="LC8720" class="css-1dcdqdg"><code>	<span class="code-comment">// @method addData( &lt;GeoJSON&gt; data ): this</span>
</code></td></tr><tr><td id="L8721" class="css-a4x74f"><span>8721</span></td><td id="LC8721" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds a GeoJSON object to the layer.</span>
</code></td></tr><tr><td id="L8722" class="css-a4x74f"><span>8722</span></td><td id="LC8722" class="css-1dcdqdg"><code>	addData: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">geojson</span>) </span>{
</code></td></tr><tr><td id="L8723" class="css-a4x74f"><span>8723</span></td><td id="LC8723" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> features = isArray(geojson) ? geojson : geojson.features,
</code></td></tr><tr><td id="L8724" class="css-a4x74f"><span>8724</span></td><td id="LC8724" class="css-1dcdqdg"><code>		    i, len, feature;
</code></td></tr><tr><td id="L8725" class="css-a4x74f"><span>8725</span></td><td id="LC8725" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8726" class="css-a4x74f"><span>8726</span></td><td id="LC8726" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (features) {
</code></td></tr><tr><td id="L8727" class="css-a4x74f"><span>8727</span></td><td id="LC8727" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = features.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8728" class="css-a4x74f"><span>8728</span></td><td id="LC8728" class="css-1dcdqdg"><code>				<span class="code-comment">// only add this if geometry or geometries are set and not null</span>
</code></td></tr><tr><td id="L8729" class="css-a4x74f"><span>8729</span></td><td id="LC8729" class="css-1dcdqdg"><code>				feature = features[i];
</code></td></tr><tr><td id="L8730" class="css-a4x74f"><span>8730</span></td><td id="LC8730" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (feature.geometries || feature.geometry || feature.features || feature.coordinates) {
</code></td></tr><tr><td id="L8731" class="css-a4x74f"><span>8731</span></td><td id="LC8731" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>.addData(feature);
</code></td></tr><tr><td id="L8732" class="css-a4x74f"><span>8732</span></td><td id="LC8732" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L8733" class="css-a4x74f"><span>8733</span></td><td id="LC8733" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8734" class="css-a4x74f"><span>8734</span></td><td id="LC8734" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L8735" class="css-a4x74f"><span>8735</span></td><td id="LC8735" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8736" class="css-a4x74f"><span>8736</span></td><td id="LC8736" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8737" class="css-a4x74f"><span>8737</span></td><td id="LC8737" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> options = <span class="code-keyword">this</span>.options;
</code></td></tr><tr><td id="L8738" class="css-a4x74f"><span>8738</span></td><td id="LC8738" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8739" class="css-a4x74f"><span>8739</span></td><td id="LC8739" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.filter &amp;&amp; !options.filter(geojson)) { <span class="code-keyword">return</span> <span class="code-keyword">this</span>; }
</code></td></tr><tr><td id="L8740" class="css-a4x74f"><span>8740</span></td><td id="LC8740" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8741" class="css-a4x74f"><span>8741</span></td><td id="LC8741" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layer = geometryToLayer(geojson, options);
</code></td></tr><tr><td id="L8742" class="css-a4x74f"><span>8742</span></td><td id="LC8742" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!layer) {
</code></td></tr><tr><td id="L8743" class="css-a4x74f"><span>8743</span></td><td id="LC8743" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L8744" class="css-a4x74f"><span>8744</span></td><td id="LC8744" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8745" class="css-a4x74f"><span>8745</span></td><td id="LC8745" class="css-1dcdqdg"><code>		layer.feature = asFeature(geojson);
</code></td></tr><tr><td id="L8746" class="css-a4x74f"><span>8746</span></td><td id="LC8746" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8747" class="css-a4x74f"><span>8747</span></td><td id="LC8747" class="css-1dcdqdg"><code>		layer.defaultOptions = layer.options;
</code></td></tr><tr><td id="L8748" class="css-a4x74f"><span>8748</span></td><td id="LC8748" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.resetStyle(layer);
</code></td></tr><tr><td id="L8749" class="css-a4x74f"><span>8749</span></td><td id="LC8749" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8750" class="css-a4x74f"><span>8750</span></td><td id="LC8750" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.onEachFeature) {
</code></td></tr><tr><td id="L8751" class="css-a4x74f"><span>8751</span></td><td id="LC8751" class="css-1dcdqdg"><code>			options.onEachFeature(geojson, layer);
</code></td></tr><tr><td id="L8752" class="css-a4x74f"><span>8752</span></td><td id="LC8752" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8753" class="css-a4x74f"><span>8753</span></td><td id="LC8753" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8754" class="css-a4x74f"><span>8754</span></td><td id="LC8754" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.addLayer(layer);
</code></td></tr><tr><td id="L8755" class="css-a4x74f"><span>8755</span></td><td id="LC8755" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8756" class="css-a4x74f"><span>8756</span></td><td id="LC8756" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8757" class="css-a4x74f"><span>8757</span></td><td id="LC8757" class="css-1dcdqdg"><code>	<span class="code-comment">// @method resetStyle( &lt;Path&gt; layer? ): this</span>
</code></td></tr><tr><td id="L8758" class="css-a4x74f"><span>8758</span></td><td id="LC8758" class="css-1dcdqdg"><code>	<span class="code-comment">// Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.</span>
</code></td></tr><tr><td id="L8759" class="css-a4x74f"><span>8759</span></td><td id="LC8759" class="css-1dcdqdg"><code>	<span class="code-comment">// If `layer` is omitted, the style of all features in the current layer is reset.</span>
</code></td></tr><tr><td id="L8760" class="css-a4x74f"><span>8760</span></td><td id="LC8760" class="css-1dcdqdg"><code>	resetStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L8761" class="css-a4x74f"><span>8761</span></td><td id="LC8761" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L8762" class="css-a4x74f"><span>8762</span></td><td id="LC8762" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>.eachLayer(<span class="code-keyword">this</span>.resetStyle, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L8763" class="css-a4x74f"><span>8763</span></td><td id="LC8763" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8764" class="css-a4x74f"><span>8764</span></td><td id="LC8764" class="css-1dcdqdg"><code>		<span class="code-comment">// reset any custom styles</span>
</code></td></tr><tr><td id="L8765" class="css-a4x74f"><span>8765</span></td><td id="LC8765" class="css-1dcdqdg"><code>		layer.options = extend({}, layer.defaultOptions);
</code></td></tr><tr><td id="L8766" class="css-a4x74f"><span>8766</span></td><td id="LC8766" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setLayerStyle(layer, <span class="code-keyword">this</span>.options.style);
</code></td></tr><tr><td id="L8767" class="css-a4x74f"><span>8767</span></td><td id="LC8767" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L8768" class="css-a4x74f"><span>8768</span></td><td id="LC8768" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8769" class="css-a4x74f"><span>8769</span></td><td id="LC8769" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8770" class="css-a4x74f"><span>8770</span></td><td id="LC8770" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setStyle( &lt;Function&gt; style ): this</span>
</code></td></tr><tr><td id="L8771" class="css-a4x74f"><span>8771</span></td><td id="LC8771" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes styles of GeoJSON vector layers with the given style function.</span>
</code></td></tr><tr><td id="L8772" class="css-a4x74f"><span>8772</span></td><td id="LC8772" class="css-1dcdqdg"><code>	setStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">style</span>) </span>{
</code></td></tr><tr><td id="L8773" class="css-a4x74f"><span>8773</span></td><td id="LC8773" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.eachLayer(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L8774" class="css-a4x74f"><span>8774</span></td><td id="LC8774" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._setLayerStyle(layer, style);
</code></td></tr><tr><td id="L8775" class="css-a4x74f"><span>8775</span></td><td id="LC8775" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L8776" class="css-a4x74f"><span>8776</span></td><td id="LC8776" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L8777" class="css-a4x74f"><span>8777</span></td><td id="LC8777" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8778" class="css-a4x74f"><span>8778</span></td><td id="LC8778" class="css-1dcdqdg"><code>	_setLayerStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, style</span>) </span>{
</code></td></tr><tr><td id="L8779" class="css-a4x74f"><span>8779</span></td><td id="LC8779" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer.setStyle) {
</code></td></tr><tr><td id="L8780" class="css-a4x74f"><span>8780</span></td><td id="LC8780" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> style === <span class="code-string">'function'</span>) {
</code></td></tr><tr><td id="L8781" class="css-a4x74f"><span>8781</span></td><td id="LC8781" class="css-1dcdqdg"><code>				style = style(layer.feature);
</code></td></tr><tr><td id="L8782" class="css-a4x74f"><span>8782</span></td><td id="LC8782" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8783" class="css-a4x74f"><span>8783</span></td><td id="LC8783" class="css-1dcdqdg"><code>			layer.setStyle(style);
</code></td></tr><tr><td id="L8784" class="css-a4x74f"><span>8784</span></td><td id="LC8784" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8785" class="css-a4x74f"><span>8785</span></td><td id="LC8785" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8786" class="css-a4x74f"><span>8786</span></td><td id="LC8786" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8787" class="css-a4x74f"><span>8787</span></td><td id="LC8787" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8788" class="css-a4x74f"><span>8788</span></td><td id="LC8788" class="css-1dcdqdg"><code><span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L8789" class="css-a4x74f"><span>8789</span></td><td id="LC8789" class="css-1dcdqdg"><code><span class="code-comment">// There are several static functions which can be called without instantiating L.GeoJSON:</span>
</code></td></tr><tr><td id="L8790" class="css-a4x74f"><span>8790</span></td><td id="LC8790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8791" class="css-a4x74f"><span>8791</span></td><td id="LC8791" class="css-1dcdqdg"><code><span class="code-comment">// @function geometryToLayer(featureData: Object, options?: GeoJSON options): Layer</span>
</code></td></tr><tr><td id="L8792" class="css-a4x74f"><span>8792</span></td><td id="LC8792" class="css-1dcdqdg"><code><span class="code-comment">// Creates a `Layer` from a given GeoJSON feature. Can use a custom</span>
</code></td></tr><tr><td id="L8793" class="css-a4x74f"><span>8793</span></td><td id="LC8793" class="css-1dcdqdg"><code><span class="code-comment">// [`pointToLayer`](#geojson-pointtolayer) and/or [`coordsToLatLng`](#geojson-coordstolatlng)</span>
</code></td></tr><tr><td id="L8794" class="css-a4x74f"><span>8794</span></td><td id="LC8794" class="css-1dcdqdg"><code><span class="code-comment">// functions if provided as options.</span>
</code></td></tr><tr><td id="L8795" class="css-a4x74f"><span>8795</span></td><td id="LC8795" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">geometryToLayer</span>(<span class="code-params">geojson, options</span>) </span>{
</code></td></tr><tr><td id="L8796" class="css-a4x74f"><span>8796</span></td><td id="LC8796" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8797" class="css-a4x74f"><span>8797</span></td><td id="LC8797" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> geometry = geojson.type === <span class="code-string">'Feature'</span> ? geojson.geometry : geojson,
</code></td></tr><tr><td id="L8798" class="css-a4x74f"><span>8798</span></td><td id="LC8798" class="css-1dcdqdg"><code>	    coords = geometry ? geometry.coordinates : <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L8799" class="css-a4x74f"><span>8799</span></td><td id="LC8799" class="css-1dcdqdg"><code>	    layers = [],
</code></td></tr><tr><td id="L8800" class="css-a4x74f"><span>8800</span></td><td id="LC8800" class="css-1dcdqdg"><code>	    pointToLayer = options &amp;&amp; options.pointToLayer,
</code></td></tr><tr><td id="L8801" class="css-a4x74f"><span>8801</span></td><td id="LC8801" class="css-1dcdqdg"><code>	    _coordsToLatLng = options &amp;&amp; options.coordsToLatLng || coordsToLatLng,
</code></td></tr><tr><td id="L8802" class="css-a4x74f"><span>8802</span></td><td id="LC8802" class="css-1dcdqdg"><code>	    latlng, latlngs, i, len;
</code></td></tr><tr><td id="L8803" class="css-a4x74f"><span>8803</span></td><td id="LC8803" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8804" class="css-a4x74f"><span>8804</span></td><td id="LC8804" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!coords &amp;&amp; !geometry) {
</code></td></tr><tr><td id="L8805" class="css-a4x74f"><span>8805</span></td><td id="LC8805" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L8806" class="css-a4x74f"><span>8806</span></td><td id="LC8806" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8807" class="css-a4x74f"><span>8807</span></td><td id="LC8807" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8808" class="css-a4x74f"><span>8808</span></td><td id="LC8808" class="css-1dcdqdg"><code>	<span class="code-keyword">switch</span> (geometry.type) {
</code></td></tr><tr><td id="L8809" class="css-a4x74f"><span>8809</span></td><td id="LC8809" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'Point'</span>:
</code></td></tr><tr><td id="L8810" class="css-a4x74f"><span>8810</span></td><td id="LC8810" class="css-1dcdqdg"><code>		latlng = _coordsToLatLng(coords);
</code></td></tr><tr><td id="L8811" class="css-a4x74f"><span>8811</span></td><td id="LC8811" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> _pointToLayer(pointToLayer, geojson, latlng, options);
</code></td></tr><tr><td id="L8812" class="css-a4x74f"><span>8812</span></td><td id="LC8812" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8813" class="css-a4x74f"><span>8813</span></td><td id="LC8813" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'MultiPoint'</span>:
</code></td></tr><tr><td id="L8814" class="css-a4x74f"><span>8814</span></td><td id="LC8814" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = coords.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8815" class="css-a4x74f"><span>8815</span></td><td id="LC8815" class="css-1dcdqdg"><code>			latlng = _coordsToLatLng(coords[i]);
</code></td></tr><tr><td id="L8816" class="css-a4x74f"><span>8816</span></td><td id="LC8816" class="css-1dcdqdg"><code>			layers.push(_pointToLayer(pointToLayer, geojson, latlng, options));
</code></td></tr><tr><td id="L8817" class="css-a4x74f"><span>8817</span></td><td id="LC8817" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8818" class="css-a4x74f"><span>8818</span></td><td id="LC8818" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> FeatureGroup(layers);
</code></td></tr><tr><td id="L8819" class="css-a4x74f"><span>8819</span></td><td id="LC8819" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8820" class="css-a4x74f"><span>8820</span></td><td id="LC8820" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'LineString'</span>:
</code></td></tr><tr><td id="L8821" class="css-a4x74f"><span>8821</span></td><td id="LC8821" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'MultiLineString'</span>:
</code></td></tr><tr><td id="L8822" class="css-a4x74f"><span>8822</span></td><td id="LC8822" class="css-1dcdqdg"><code>		latlngs = coordsToLatLngs(coords, geometry.type === <span class="code-string">'LineString'</span> ? <span class="code-number">0</span> : <span class="code-number">1</span>, _coordsToLatLng);
</code></td></tr><tr><td id="L8823" class="css-a4x74f"><span>8823</span></td><td id="LC8823" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Polyline(latlngs, options);
</code></td></tr><tr><td id="L8824" class="css-a4x74f"><span>8824</span></td><td id="LC8824" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8825" class="css-a4x74f"><span>8825</span></td><td id="LC8825" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'Polygon'</span>:
</code></td></tr><tr><td id="L8826" class="css-a4x74f"><span>8826</span></td><td id="LC8826" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'MultiPolygon'</span>:
</code></td></tr><tr><td id="L8827" class="css-a4x74f"><span>8827</span></td><td id="LC8827" class="css-1dcdqdg"><code>		latlngs = coordsToLatLngs(coords, geometry.type === <span class="code-string">'Polygon'</span> ? <span class="code-number">1</span> : <span class="code-number">2</span>, _coordsToLatLng);
</code></td></tr><tr><td id="L8828" class="css-a4x74f"><span>8828</span></td><td id="LC8828" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Polygon(latlngs, options);
</code></td></tr><tr><td id="L8829" class="css-a4x74f"><span>8829</span></td><td id="LC8829" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8830" class="css-a4x74f"><span>8830</span></td><td id="LC8830" class="css-1dcdqdg"><code>	<span class="code-keyword">case</span> <span class="code-string">'GeometryCollection'</span>:
</code></td></tr><tr><td id="L8831" class="css-a4x74f"><span>8831</span></td><td id="LC8831" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = geometry.geometries.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8832" class="css-a4x74f"><span>8832</span></td><td id="LC8832" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> layer = geometryToLayer({
</code></td></tr><tr><td id="L8833" class="css-a4x74f"><span>8833</span></td><td id="LC8833" class="css-1dcdqdg"><code>				geometry: geometry.geometries[i],
</code></td></tr><tr><td id="L8834" class="css-a4x74f"><span>8834</span></td><td id="LC8834" class="css-1dcdqdg"><code>				type: <span class="code-string">'Feature'</span>,
</code></td></tr><tr><td id="L8835" class="css-a4x74f"><span>8835</span></td><td id="LC8835" class="css-1dcdqdg"><code>				properties: geojson.properties
</code></td></tr><tr><td id="L8836" class="css-a4x74f"><span>8836</span></td><td id="LC8836" class="css-1dcdqdg"><code>			}, options);
</code></td></tr><tr><td id="L8837" class="css-a4x74f"><span>8837</span></td><td id="LC8837" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8838" class="css-a4x74f"><span>8838</span></td><td id="LC8838" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (layer) {
</code></td></tr><tr><td id="L8839" class="css-a4x74f"><span>8839</span></td><td id="LC8839" class="css-1dcdqdg"><code>				layers.push(layer);
</code></td></tr><tr><td id="L8840" class="css-a4x74f"><span>8840</span></td><td id="LC8840" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L8841" class="css-a4x74f"><span>8841</span></td><td id="LC8841" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8842" class="css-a4x74f"><span>8842</span></td><td id="LC8842" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> FeatureGroup(layers);
</code></td></tr><tr><td id="L8843" class="css-a4x74f"><span>8843</span></td><td id="LC8843" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8844" class="css-a4x74f"><span>8844</span></td><td id="LC8844" class="css-1dcdqdg"><code>	<span class="code-keyword">default</span>:
</code></td></tr><tr><td id="L8845" class="css-a4x74f"><span>8845</span></td><td id="LC8845" class="css-1dcdqdg"><code>		<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Invalid GeoJSON object.'</span>);
</code></td></tr><tr><td id="L8846" class="css-a4x74f"><span>8846</span></td><td id="LC8846" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8847" class="css-a4x74f"><span>8847</span></td><td id="LC8847" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8848" class="css-a4x74f"><span>8848</span></td><td id="LC8848" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8849" class="css-a4x74f"><span>8849</span></td><td id="LC8849" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_pointToLayer</span>(<span class="code-params">pointToLayerFn, geojson, latlng, options</span>) </span>{
</code></td></tr><tr><td id="L8850" class="css-a4x74f"><span>8850</span></td><td id="LC8850" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> pointToLayerFn ?
</code></td></tr><tr><td id="L8851" class="css-a4x74f"><span>8851</span></td><td id="LC8851" class="css-1dcdqdg"><code>		pointToLayerFn(geojson, latlng) :
</code></td></tr><tr><td id="L8852" class="css-a4x74f"><span>8852</span></td><td id="LC8852" class="css-1dcdqdg"><code>		<span class="code-keyword">new</span> Marker(latlng, options &amp;&amp; options.markersInheritOptions &amp;&amp; options);
</code></td></tr><tr><td id="L8853" class="css-a4x74f"><span>8853</span></td><td id="LC8853" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8854" class="css-a4x74f"><span>8854</span></td><td id="LC8854" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8855" class="css-a4x74f"><span>8855</span></td><td id="LC8855" class="css-1dcdqdg"><code><span class="code-comment">// @function coordsToLatLng(coords: Array): LatLng</span>
</code></td></tr><tr><td id="L8856" class="css-a4x74f"><span>8856</span></td><td id="LC8856" class="css-1dcdqdg"><code><span class="code-comment">// Creates a `LatLng` object from an array of 2 numbers (longitude, latitude)</span>
</code></td></tr><tr><td id="L8857" class="css-a4x74f"><span>8857</span></td><td id="LC8857" class="css-1dcdqdg"><code><span class="code-comment">// or 3 numbers (longitude, latitude, altitude) used in GeoJSON for points.</span>
</code></td></tr><tr><td id="L8858" class="css-a4x74f"><span>8858</span></td><td id="LC8858" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">coordsToLatLng</span>(<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L8859" class="css-a4x74f"><span>8859</span></td><td id="LC8859" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> LatLng(coords[<span class="code-number">1</span>], coords[<span class="code-number">0</span>], coords[<span class="code-number">2</span>]);
</code></td></tr><tr><td id="L8860" class="css-a4x74f"><span>8860</span></td><td id="LC8860" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8861" class="css-a4x74f"><span>8861</span></td><td id="LC8861" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8862" class="css-a4x74f"><span>8862</span></td><td id="LC8862" class="css-1dcdqdg"><code><span class="code-comment">// @function coordsToLatLngs(coords: Array, levelsDeep?: Number, coordsToLatLng?: Function): Array</span>
</code></td></tr><tr><td id="L8863" class="css-a4x74f"><span>8863</span></td><td id="LC8863" class="css-1dcdqdg"><code><span class="code-comment">// Creates a multidimensional array of `LatLng`s from a GeoJSON coordinates array.</span>
</code></td></tr><tr><td id="L8864" class="css-a4x74f"><span>8864</span></td><td id="LC8864" class="css-1dcdqdg"><code><span class="code-comment">// `levelsDeep` specifies the nesting level (0 is for an array of points, 1 for an array of arrays of points, etc., 0 by default).</span>
</code></td></tr><tr><td id="L8865" class="css-a4x74f"><span>8865</span></td><td id="LC8865" class="css-1dcdqdg"><code><span class="code-comment">// Can use a custom [`coordsToLatLng`](#geojson-coordstolatlng) function.</span>
</code></td></tr><tr><td id="L8866" class="css-a4x74f"><span>8866</span></td><td id="LC8866" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">coordsToLatLngs</span>(<span class="code-params">coords, levelsDeep, _coordsToLatLng</span>) </span>{
</code></td></tr><tr><td id="L8867" class="css-a4x74f"><span>8867</span></td><td id="LC8867" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> latlngs = [];
</code></td></tr><tr><td id="L8868" class="css-a4x74f"><span>8868</span></td><td id="LC8868" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8869" class="css-a4x74f"><span>8869</span></td><td id="LC8869" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = coords.length, latlng; i &lt; len; i++) {
</code></td></tr><tr><td id="L8870" class="css-a4x74f"><span>8870</span></td><td id="LC8870" class="css-1dcdqdg"><code>		latlng = levelsDeep ?
</code></td></tr><tr><td id="L8871" class="css-a4x74f"><span>8871</span></td><td id="LC8871" class="css-1dcdqdg"><code>			coordsToLatLngs(coords[i], levelsDeep - <span class="code-number">1</span>, _coordsToLatLng) :
</code></td></tr><tr><td id="L8872" class="css-a4x74f"><span>8872</span></td><td id="LC8872" class="css-1dcdqdg"><code>			(_coordsToLatLng || coordsToLatLng)(coords[i]);
</code></td></tr><tr><td id="L8873" class="css-a4x74f"><span>8873</span></td><td id="LC8873" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8874" class="css-a4x74f"><span>8874</span></td><td id="LC8874" class="css-1dcdqdg"><code>		latlngs.push(latlng);
</code></td></tr><tr><td id="L8875" class="css-a4x74f"><span>8875</span></td><td id="LC8875" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8876" class="css-a4x74f"><span>8876</span></td><td id="LC8876" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8877" class="css-a4x74f"><span>8877</span></td><td id="LC8877" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> latlngs;
</code></td></tr><tr><td id="L8878" class="css-a4x74f"><span>8878</span></td><td id="LC8878" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8879" class="css-a4x74f"><span>8879</span></td><td id="LC8879" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8880" class="css-a4x74f"><span>8880</span></td><td id="LC8880" class="css-1dcdqdg"><code><span class="code-comment">// @function latLngToCoords(latlng: LatLng, precision?: Number|false): Array</span>
</code></td></tr><tr><td id="L8881" class="css-a4x74f"><span>8881</span></td><td id="LC8881" class="css-1dcdqdg"><code><span class="code-comment">// Reverse of [`coordsToLatLng`](#geojson-coordstolatlng)</span>
</code></td></tr><tr><td id="L8882" class="css-a4x74f"><span>8882</span></td><td id="LC8882" class="css-1dcdqdg"><code><span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function.</span>
</code></td></tr><tr><td id="L8883" class="css-a4x74f"><span>8883</span></td><td id="LC8883" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">latLngToCoords</span>(<span class="code-params">latlng, precision</span>) </span>{
</code></td></tr><tr><td id="L8884" class="css-a4x74f"><span>8884</span></td><td id="LC8884" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> latlng.alt !== <span class="code-literal">undefined</span> ?
</code></td></tr><tr><td id="L8885" class="css-a4x74f"><span>8885</span></td><td id="LC8885" class="css-1dcdqdg"><code>		[formatNum(latlng.lng, precision), formatNum(latlng.lat, precision), formatNum(latlng.alt, precision)] :
</code></td></tr><tr><td id="L8886" class="css-a4x74f"><span>8886</span></td><td id="LC8886" class="css-1dcdqdg"><code>		[formatNum(latlng.lng, precision), formatNum(latlng.lat, precision)];
</code></td></tr><tr><td id="L8887" class="css-a4x74f"><span>8887</span></td><td id="LC8887" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8888" class="css-a4x74f"><span>8888</span></td><td id="LC8888" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8889" class="css-a4x74f"><span>8889</span></td><td id="LC8889" class="css-1dcdqdg"><code><span class="code-comment">// @function latLngsToCoords(latlngs: Array, levelsDeep?: Number, closed?: Boolean, precision?: Number|false): Array</span>
</code></td></tr><tr><td id="L8890" class="css-a4x74f"><span>8890</span></td><td id="LC8890" class="css-1dcdqdg"><code><span class="code-comment">// Reverse of [`coordsToLatLngs`](#geojson-coordstolatlngs)</span>
</code></td></tr><tr><td id="L8891" class="css-a4x74f"><span>8891</span></td><td id="LC8891" class="css-1dcdqdg"><code><span class="code-comment">// `closed` determines whether the first point should be appended to the end of the array to close the feature, only used when `levelsDeep` is 0. False by default.</span>
</code></td></tr><tr><td id="L8892" class="css-a4x74f"><span>8892</span></td><td id="LC8892" class="css-1dcdqdg"><code><span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function.</span>
</code></td></tr><tr><td id="L8893" class="css-a4x74f"><span>8893</span></td><td id="LC8893" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">latLngsToCoords</span>(<span class="code-params">latlngs, levelsDeep, closed, precision</span>) </span>{
</code></td></tr><tr><td id="L8894" class="css-a4x74f"><span>8894</span></td><td id="LC8894" class="css-1dcdqdg"><code>	<span class="code-keyword">var</span> coords = [];
</code></td></tr><tr><td id="L8895" class="css-a4x74f"><span>8895</span></td><td id="LC8895" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8896" class="css-a4x74f"><span>8896</span></td><td id="LC8896" class="css-1dcdqdg"><code>	<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = latlngs.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L8897" class="css-a4x74f"><span>8897</span></td><td id="LC8897" class="css-1dcdqdg"><code>		coords.push(levelsDeep ?
</code></td></tr><tr><td id="L8898" class="css-a4x74f"><span>8898</span></td><td id="LC8898" class="css-1dcdqdg"><code>			latLngsToCoords(latlngs[i], levelsDeep - <span class="code-number">1</span>, closed, precision) :
</code></td></tr><tr><td id="L8899" class="css-a4x74f"><span>8899</span></td><td id="LC8899" class="css-1dcdqdg"><code>			latLngToCoords(latlngs[i], precision));
</code></td></tr><tr><td id="L8900" class="css-a4x74f"><span>8900</span></td><td id="LC8900" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8901" class="css-a4x74f"><span>8901</span></td><td id="LC8901" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8902" class="css-a4x74f"><span>8902</span></td><td id="LC8902" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (!levelsDeep &amp;&amp; closed) {
</code></td></tr><tr><td id="L8903" class="css-a4x74f"><span>8903</span></td><td id="LC8903" class="css-1dcdqdg"><code>		coords.push(coords[<span class="code-number">0</span>]);
</code></td></tr><tr><td id="L8904" class="css-a4x74f"><span>8904</span></td><td id="LC8904" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8905" class="css-a4x74f"><span>8905</span></td><td id="LC8905" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8906" class="css-a4x74f"><span>8906</span></td><td id="LC8906" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> coords;
</code></td></tr><tr><td id="L8907" class="css-a4x74f"><span>8907</span></td><td id="LC8907" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8908" class="css-a4x74f"><span>8908</span></td><td id="LC8908" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8909" class="css-a4x74f"><span>8909</span></td><td id="LC8909" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">getFeature</span>(<span class="code-params">layer, newGeometry</span>) </span>{
</code></td></tr><tr><td id="L8910" class="css-a4x74f"><span>8910</span></td><td id="LC8910" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> layer.feature ?
</code></td></tr><tr><td id="L8911" class="css-a4x74f"><span>8911</span></td><td id="LC8911" class="css-1dcdqdg"><code>		extend({}, layer.feature, {<span class="code-attr">geometry</span>: newGeometry}) :
</code></td></tr><tr><td id="L8912" class="css-a4x74f"><span>8912</span></td><td id="LC8912" class="css-1dcdqdg"><code>		asFeature(newGeometry);
</code></td></tr><tr><td id="L8913" class="css-a4x74f"><span>8913</span></td><td id="LC8913" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8914" class="css-a4x74f"><span>8914</span></td><td id="LC8914" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8915" class="css-a4x74f"><span>8915</span></td><td id="LC8915" class="css-1dcdqdg"><code><span class="code-comment">// @function asFeature(geojson: Object): Object</span>
</code></td></tr><tr><td id="L8916" class="css-a4x74f"><span>8916</span></td><td id="LC8916" class="css-1dcdqdg"><code><span class="code-comment">// Normalize GeoJSON geometries/features into GeoJSON features.</span>
</code></td></tr><tr><td id="L8917" class="css-a4x74f"><span>8917</span></td><td id="LC8917" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">asFeature</span>(<span class="code-params">geojson</span>) </span>{
</code></td></tr><tr><td id="L8918" class="css-a4x74f"><span>8918</span></td><td id="LC8918" class="css-1dcdqdg"><code>	<span class="code-keyword">if</span> (geojson.type === <span class="code-string">'Feature'</span> || geojson.type === <span class="code-string">'FeatureCollection'</span>) {
</code></td></tr><tr><td id="L8919" class="css-a4x74f"><span>8919</span></td><td id="LC8919" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> geojson;
</code></td></tr><tr><td id="L8920" class="css-a4x74f"><span>8920</span></td><td id="LC8920" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8921" class="css-a4x74f"><span>8921</span></td><td id="LC8921" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8922" class="css-a4x74f"><span>8922</span></td><td id="LC8922" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L8923" class="css-a4x74f"><span>8923</span></td><td id="LC8923" class="css-1dcdqdg"><code>		type: <span class="code-string">'Feature'</span>,
</code></td></tr><tr><td id="L8924" class="css-a4x74f"><span>8924</span></td><td id="LC8924" class="css-1dcdqdg"><code>		properties: {},
</code></td></tr><tr><td id="L8925" class="css-a4x74f"><span>8925</span></td><td id="LC8925" class="css-1dcdqdg"><code>		geometry: geojson
</code></td></tr><tr><td id="L8926" class="css-a4x74f"><span>8926</span></td><td id="LC8926" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L8927" class="css-a4x74f"><span>8927</span></td><td id="LC8927" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L8928" class="css-a4x74f"><span>8928</span></td><td id="LC8928" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8929" class="css-a4x74f"><span>8929</span></td><td id="LC8929" class="css-1dcdqdg"><code><span class="code-keyword">var</span> PointToGeoJSON = {
</code></td></tr><tr><td id="L8930" class="css-a4x74f"><span>8930</span></td><td id="LC8930" class="css-1dcdqdg"><code>	toGeoJSON: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">precision</span>) </span>{
</code></td></tr><tr><td id="L8931" class="css-a4x74f"><span>8931</span></td><td id="LC8931" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> getFeature(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L8932" class="css-a4x74f"><span>8932</span></td><td id="LC8932" class="css-1dcdqdg"><code>			type: <span class="code-string">'Point'</span>,
</code></td></tr><tr><td id="L8933" class="css-a4x74f"><span>8933</span></td><td id="LC8933" class="css-1dcdqdg"><code>			coordinates: latLngToCoords(<span class="code-keyword">this</span>.getLatLng(), precision)
</code></td></tr><tr><td id="L8934" class="css-a4x74f"><span>8934</span></td><td id="LC8934" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L8935" class="css-a4x74f"><span>8935</span></td><td id="LC8935" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8936" class="css-a4x74f"><span>8936</span></td><td id="LC8936" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L8937" class="css-a4x74f"><span>8937</span></td><td id="LC8937" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8938" class="css-a4x74f"><span>8938</span></td><td id="LC8938" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Marker</span>
</code></td></tr><tr><td id="L8939" class="css-a4x74f"><span>8939</span></td><td id="LC8939" class="css-1dcdqdg"><code><span class="code-comment">// @section Other methods</span>
</code></td></tr><tr><td id="L8940" class="css-a4x74f"><span>8940</span></td><td id="LC8940" class="css-1dcdqdg"><code><span class="code-comment">// @method toGeoJSON(precision?: Number|false): Object</span>
</code></td></tr><tr><td id="L8941" class="css-a4x74f"><span>8941</span></td><td id="LC8941" class="css-1dcdqdg"><code><span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>
</code></td></tr><tr><td id="L8942" class="css-a4x74f"><span>8942</span></td><td id="LC8942" class="css-1dcdqdg"><code><span class="code-comment">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the marker (as a GeoJSON `Point` Feature).</span>
</code></td></tr><tr><td id="L8943" class="css-a4x74f"><span>8943</span></td><td id="LC8943" class="css-1dcdqdg"><code>Marker.include(PointToGeoJSON);
</code></td></tr><tr><td id="L8944" class="css-a4x74f"><span>8944</span></td><td id="LC8944" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8945" class="css-a4x74f"><span>8945</span></td><td id="LC8945" class="css-1dcdqdg"><code><span class="code-comment">// @namespace CircleMarker</span>
</code></td></tr><tr><td id="L8946" class="css-a4x74f"><span>8946</span></td><td id="LC8946" class="css-1dcdqdg"><code><span class="code-comment">// @method toGeoJSON(precision?: Number|false): Object</span>
</code></td></tr><tr><td id="L8947" class="css-a4x74f"><span>8947</span></td><td id="LC8947" class="css-1dcdqdg"><code><span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>
</code></td></tr><tr><td id="L8948" class="css-a4x74f"><span>8948</span></td><td id="LC8948" class="css-1dcdqdg"><code><span class="code-comment">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the circle marker (as a GeoJSON `Point` Feature).</span>
</code></td></tr><tr><td id="L8949" class="css-a4x74f"><span>8949</span></td><td id="LC8949" class="css-1dcdqdg"><code>Circle.include(PointToGeoJSON);
</code></td></tr><tr><td id="L8950" class="css-a4x74f"><span>8950</span></td><td id="LC8950" class="css-1dcdqdg"><code>CircleMarker.include(PointToGeoJSON);
</code></td></tr><tr><td id="L8951" class="css-a4x74f"><span>8951</span></td><td id="LC8951" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8952" class="css-a4x74f"><span>8952</span></td><td id="LC8952" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8953" class="css-a4x74f"><span>8953</span></td><td id="LC8953" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Polyline</span>
</code></td></tr><tr><td id="L8954" class="css-a4x74f"><span>8954</span></td><td id="LC8954" class="css-1dcdqdg"><code><span class="code-comment">// @method toGeoJSON(precision?: Number|false): Object</span>
</code></td></tr><tr><td id="L8955" class="css-a4x74f"><span>8955</span></td><td id="LC8955" class="css-1dcdqdg"><code><span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>
</code></td></tr><tr><td id="L8956" class="css-a4x74f"><span>8956</span></td><td id="LC8956" class="css-1dcdqdg"><code><span class="code-comment">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the polyline (as a GeoJSON `LineString` or `MultiLineString` Feature).</span>
</code></td></tr><tr><td id="L8957" class="css-a4x74f"><span>8957</span></td><td id="LC8957" class="css-1dcdqdg"><code>Polyline.include({
</code></td></tr><tr><td id="L8958" class="css-a4x74f"><span>8958</span></td><td id="LC8958" class="css-1dcdqdg"><code>	toGeoJSON: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">precision</span>) </span>{
</code></td></tr><tr><td id="L8959" class="css-a4x74f"><span>8959</span></td><td id="LC8959" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> multi = !isFlat(<span class="code-keyword">this</span>._latlngs);
</code></td></tr><tr><td id="L8960" class="css-a4x74f"><span>8960</span></td><td id="LC8960" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8961" class="css-a4x74f"><span>8961</span></td><td id="LC8961" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> coords = latLngsToCoords(<span class="code-keyword">this</span>._latlngs, multi ? <span class="code-number">1</span> : <span class="code-number">0</span>, <span class="code-literal">false</span>, precision);
</code></td></tr><tr><td id="L8962" class="css-a4x74f"><span>8962</span></td><td id="LC8962" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8963" class="css-a4x74f"><span>8963</span></td><td id="LC8963" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> getFeature(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L8964" class="css-a4x74f"><span>8964</span></td><td id="LC8964" class="css-1dcdqdg"><code>			type: (multi ? <span class="code-string">'Multi'</span> : <span class="code-string">''</span>) + <span class="code-string">'LineString'</span>,
</code></td></tr><tr><td id="L8965" class="css-a4x74f"><span>8965</span></td><td id="LC8965" class="css-1dcdqdg"><code>			coordinates: coords
</code></td></tr><tr><td id="L8966" class="css-a4x74f"><span>8966</span></td><td id="LC8966" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L8967" class="css-a4x74f"><span>8967</span></td><td id="LC8967" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8968" class="css-a4x74f"><span>8968</span></td><td id="LC8968" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8969" class="css-a4x74f"><span>8969</span></td><td id="LC8969" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8970" class="css-a4x74f"><span>8970</span></td><td id="LC8970" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Polygon</span>
</code></td></tr><tr><td id="L8971" class="css-a4x74f"><span>8971</span></td><td id="LC8971" class="css-1dcdqdg"><code><span class="code-comment">// @method toGeoJSON(precision?: Number|false): Object</span>
</code></td></tr><tr><td id="L8972" class="css-a4x74f"><span>8972</span></td><td id="LC8972" class="css-1dcdqdg"><code><span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>
</code></td></tr><tr><td id="L8973" class="css-a4x74f"><span>8973</span></td><td id="LC8973" class="css-1dcdqdg"><code><span class="code-comment">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the polygon (as a GeoJSON `Polygon` or `MultiPolygon` Feature).</span>
</code></td></tr><tr><td id="L8974" class="css-a4x74f"><span>8974</span></td><td id="LC8974" class="css-1dcdqdg"><code>Polygon.include({
</code></td></tr><tr><td id="L8975" class="css-a4x74f"><span>8975</span></td><td id="LC8975" class="css-1dcdqdg"><code>	toGeoJSON: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">precision</span>) </span>{
</code></td></tr><tr><td id="L8976" class="css-a4x74f"><span>8976</span></td><td id="LC8976" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> holes = !isFlat(<span class="code-keyword">this</span>._latlngs),
</code></td></tr><tr><td id="L8977" class="css-a4x74f"><span>8977</span></td><td id="LC8977" class="css-1dcdqdg"><code>		    multi = holes &amp;&amp; !isFlat(<span class="code-keyword">this</span>._latlngs[<span class="code-number">0</span>]);
</code></td></tr><tr><td id="L8978" class="css-a4x74f"><span>8978</span></td><td id="LC8978" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8979" class="css-a4x74f"><span>8979</span></td><td id="LC8979" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> coords = latLngsToCoords(<span class="code-keyword">this</span>._latlngs, multi ? <span class="code-number">2</span> : holes ? <span class="code-number">1</span> : <span class="code-number">0</span>, <span class="code-literal">true</span>, precision);
</code></td></tr><tr><td id="L8980" class="css-a4x74f"><span>8980</span></td><td id="LC8980" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8981" class="css-a4x74f"><span>8981</span></td><td id="LC8981" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!holes) {
</code></td></tr><tr><td id="L8982" class="css-a4x74f"><span>8982</span></td><td id="LC8982" class="css-1dcdqdg"><code>			coords = [coords];
</code></td></tr><tr><td id="L8983" class="css-a4x74f"><span>8983</span></td><td id="LC8983" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L8984" class="css-a4x74f"><span>8984</span></td><td id="LC8984" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8985" class="css-a4x74f"><span>8985</span></td><td id="LC8985" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> getFeature(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L8986" class="css-a4x74f"><span>8986</span></td><td id="LC8986" class="css-1dcdqdg"><code>			type: (multi ? <span class="code-string">'Multi'</span> : <span class="code-string">''</span>) + <span class="code-string">'Polygon'</span>,
</code></td></tr><tr><td id="L8987" class="css-a4x74f"><span>8987</span></td><td id="LC8987" class="css-1dcdqdg"><code>			coordinates: coords
</code></td></tr><tr><td id="L8988" class="css-a4x74f"><span>8988</span></td><td id="LC8988" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L8989" class="css-a4x74f"><span>8989</span></td><td id="LC8989" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L8990" class="css-a4x74f"><span>8990</span></td><td id="LC8990" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L8991" class="css-a4x74f"><span>8991</span></td><td id="LC8991" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8992" class="css-a4x74f"><span>8992</span></td><td id="LC8992" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8993" class="css-a4x74f"><span>8993</span></td><td id="LC8993" class="css-1dcdqdg"><code><span class="code-comment">// @namespace LayerGroup</span>
</code></td></tr><tr><td id="L8994" class="css-a4x74f"><span>8994</span></td><td id="LC8994" class="css-1dcdqdg"><code>LayerGroup.include({
</code></td></tr><tr><td id="L8995" class="css-a4x74f"><span>8995</span></td><td id="LC8995" class="css-1dcdqdg"><code>	toMultiPoint: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">precision</span>) </span>{
</code></td></tr><tr><td id="L8996" class="css-a4x74f"><span>8996</span></td><td id="LC8996" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> coords = [];
</code></td></tr><tr><td id="L8997" class="css-a4x74f"><span>8997</span></td><td id="LC8997" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L8998" class="css-a4x74f"><span>8998</span></td><td id="LC8998" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.eachLayer(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L8999" class="css-a4x74f"><span>8999</span></td><td id="LC8999" class="css-1dcdqdg"><code>			coords.push(layer.toGeoJSON(precision).geometry.coordinates);
</code></td></tr><tr><td id="L9000" class="css-a4x74f"><span>9000</span></td><td id="LC9000" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L9001" class="css-a4x74f"><span>9001</span></td><td id="LC9001" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9002" class="css-a4x74f"><span>9002</span></td><td id="LC9002" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> getFeature(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L9003" class="css-a4x74f"><span>9003</span></td><td id="LC9003" class="css-1dcdqdg"><code>			type: <span class="code-string">'MultiPoint'</span>,
</code></td></tr><tr><td id="L9004" class="css-a4x74f"><span>9004</span></td><td id="LC9004" class="css-1dcdqdg"><code>			coordinates: coords
</code></td></tr><tr><td id="L9005" class="css-a4x74f"><span>9005</span></td><td id="LC9005" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L9006" class="css-a4x74f"><span>9006</span></td><td id="LC9006" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9007" class="css-a4x74f"><span>9007</span></td><td id="LC9007" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9008" class="css-a4x74f"><span>9008</span></td><td id="LC9008" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toGeoJSON(precision?: Number|false): Object</span>
</code></td></tr><tr><td id="L9009" class="css-a4x74f"><span>9009</span></td><td id="LC9009" class="css-1dcdqdg"><code>	<span class="code-comment">// Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.</span>
</code></td></tr><tr><td id="L9010" class="css-a4x74f"><span>9010</span></td><td id="LC9010" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `FeatureCollection`, `GeometryCollection`, or `MultiPoint`).</span>
</code></td></tr><tr><td id="L9011" class="css-a4x74f"><span>9011</span></td><td id="LC9011" class="css-1dcdqdg"><code>	toGeoJSON: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">precision</span>) </span>{
</code></td></tr><tr><td id="L9012" class="css-a4x74f"><span>9012</span></td><td id="LC9012" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9013" class="css-a4x74f"><span>9013</span></td><td id="LC9013" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> type = <span class="code-keyword">this</span>.feature &amp;&amp; <span class="code-keyword">this</span>.feature.geometry &amp;&amp; <span class="code-keyword">this</span>.feature.geometry.type;
</code></td></tr><tr><td id="L9014" class="css-a4x74f"><span>9014</span></td><td id="LC9014" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9015" class="css-a4x74f"><span>9015</span></td><td id="LC9015" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (type === <span class="code-string">'MultiPoint'</span>) {
</code></td></tr><tr><td id="L9016" class="css-a4x74f"><span>9016</span></td><td id="LC9016" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>.toMultiPoint(precision);
</code></td></tr><tr><td id="L9017" class="css-a4x74f"><span>9017</span></td><td id="LC9017" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9018" class="css-a4x74f"><span>9018</span></td><td id="LC9018" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9019" class="css-a4x74f"><span>9019</span></td><td id="LC9019" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> isGeometryCollection = type === <span class="code-string">'GeometryCollection'</span>,
</code></td></tr><tr><td id="L9020" class="css-a4x74f"><span>9020</span></td><td id="LC9020" class="css-1dcdqdg"><code>		    jsons = [];
</code></td></tr><tr><td id="L9021" class="css-a4x74f"><span>9021</span></td><td id="LC9021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9022" class="css-a4x74f"><span>9022</span></td><td id="LC9022" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.eachLayer(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L9023" class="css-a4x74f"><span>9023</span></td><td id="LC9023" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (layer.toGeoJSON) {
</code></td></tr><tr><td id="L9024" class="css-a4x74f"><span>9024</span></td><td id="LC9024" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> json = layer.toGeoJSON(precision);
</code></td></tr><tr><td id="L9025" class="css-a4x74f"><span>9025</span></td><td id="LC9025" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (isGeometryCollection) {
</code></td></tr><tr><td id="L9026" class="css-a4x74f"><span>9026</span></td><td id="LC9026" class="css-1dcdqdg"><code>					jsons.push(json.geometry);
</code></td></tr><tr><td id="L9027" class="css-a4x74f"><span>9027</span></td><td id="LC9027" class="css-1dcdqdg"><code>				} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9028" class="css-a4x74f"><span>9028</span></td><td id="LC9028" class="css-1dcdqdg"><code>					<span class="code-keyword">var</span> feature = asFeature(json);
</code></td></tr><tr><td id="L9029" class="css-a4x74f"><span>9029</span></td><td id="LC9029" class="css-1dcdqdg"><code>					<span class="code-comment">// Squash nested feature collections</span>
</code></td></tr><tr><td id="L9030" class="css-a4x74f"><span>9030</span></td><td id="LC9030" class="css-1dcdqdg"><code>					<span class="code-keyword">if</span> (feature.type === <span class="code-string">'FeatureCollection'</span>) {
</code></td></tr><tr><td id="L9031" class="css-a4x74f"><span>9031</span></td><td id="LC9031" class="css-1dcdqdg"><code>						jsons.push.apply(jsons, feature.features);
</code></td></tr><tr><td id="L9032" class="css-a4x74f"><span>9032</span></td><td id="LC9032" class="css-1dcdqdg"><code>					} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9033" class="css-a4x74f"><span>9033</span></td><td id="LC9033" class="css-1dcdqdg"><code>						jsons.push(feature);
</code></td></tr><tr><td id="L9034" class="css-a4x74f"><span>9034</span></td><td id="LC9034" class="css-1dcdqdg"><code>					}
</code></td></tr><tr><td id="L9035" class="css-a4x74f"><span>9035</span></td><td id="LC9035" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L9036" class="css-a4x74f"><span>9036</span></td><td id="LC9036" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9037" class="css-a4x74f"><span>9037</span></td><td id="LC9037" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L9038" class="css-a4x74f"><span>9038</span></td><td id="LC9038" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9039" class="css-a4x74f"><span>9039</span></td><td id="LC9039" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (isGeometryCollection) {
</code></td></tr><tr><td id="L9040" class="css-a4x74f"><span>9040</span></td><td id="LC9040" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> getFeature(<span class="code-keyword">this</span>, {
</code></td></tr><tr><td id="L9041" class="css-a4x74f"><span>9041</span></td><td id="LC9041" class="css-1dcdqdg"><code>				geometries: jsons,
</code></td></tr><tr><td id="L9042" class="css-a4x74f"><span>9042</span></td><td id="LC9042" class="css-1dcdqdg"><code>				type: <span class="code-string">'GeometryCollection'</span>
</code></td></tr><tr><td id="L9043" class="css-a4x74f"><span>9043</span></td><td id="LC9043" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L9044" class="css-a4x74f"><span>9044</span></td><td id="LC9044" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9045" class="css-a4x74f"><span>9045</span></td><td id="LC9045" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9046" class="css-a4x74f"><span>9046</span></td><td id="LC9046" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> {
</code></td></tr><tr><td id="L9047" class="css-a4x74f"><span>9047</span></td><td id="LC9047" class="css-1dcdqdg"><code>			type: <span class="code-string">'FeatureCollection'</span>,
</code></td></tr><tr><td id="L9048" class="css-a4x74f"><span>9048</span></td><td id="LC9048" class="css-1dcdqdg"><code>			features: jsons
</code></td></tr><tr><td id="L9049" class="css-a4x74f"><span>9049</span></td><td id="LC9049" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L9050" class="css-a4x74f"><span>9050</span></td><td id="LC9050" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9051" class="css-a4x74f"><span>9051</span></td><td id="LC9051" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9052" class="css-a4x74f"><span>9052</span></td><td id="LC9052" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9053" class="css-a4x74f"><span>9053</span></td><td id="LC9053" class="css-1dcdqdg"><code><span class="code-comment">// @namespace GeoJSON</span>
</code></td></tr><tr><td id="L9054" class="css-a4x74f"><span>9054</span></td><td id="LC9054" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.geoJSON(geojson?: Object, options?: GeoJSON options)</span>
</code></td></tr><tr><td id="L9055" class="css-a4x74f"><span>9055</span></td><td id="LC9055" class="css-1dcdqdg"><code><span class="code-comment">// Creates a GeoJSON layer. Optionally accepts an object in</span>
</code></td></tr><tr><td id="L9056" class="css-a4x74f"><span>9056</span></td><td id="LC9056" class="css-1dcdqdg"><code><span class="code-comment">// [GeoJSON format](https://tools.ietf.org/html/rfc7946) to display on the map</span>
</code></td></tr><tr><td id="L9057" class="css-a4x74f"><span>9057</span></td><td id="LC9057" class="css-1dcdqdg"><code><span class="code-comment">// (you can alternatively add it later with `addData` method) and an `options` object.</span>
</code></td></tr><tr><td id="L9058" class="css-a4x74f"><span>9058</span></td><td id="LC9058" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">geoJSON</span>(<span class="code-params">geojson, options</span>) </span>{
</code></td></tr><tr><td id="L9059" class="css-a4x74f"><span>9059</span></td><td id="LC9059" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> GeoJSON(geojson, options);
</code></td></tr><tr><td id="L9060" class="css-a4x74f"><span>9060</span></td><td id="LC9060" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L9061" class="css-a4x74f"><span>9061</span></td><td id="LC9061" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9062" class="css-a4x74f"><span>9062</span></td><td id="LC9062" class="css-1dcdqdg"><code><span class="code-comment">// Backward compatibility.</span>
</code></td></tr><tr><td id="L9063" class="css-a4x74f"><span>9063</span></td><td id="LC9063" class="css-1dcdqdg"><code><span class="code-keyword">var</span> geoJson = geoJSON;
</code></td></tr><tr><td id="L9064" class="css-a4x74f"><span>9064</span></td><td id="LC9064" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9065" class="css-a4x74f"><span>9065</span></td><td id="LC9065" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L9066" class="css-a4x74f"><span>9066</span></td><td id="LC9066" class="css-1dcdqdg"><code><span class="code-comment"> * @class ImageOverlay
</span></code></td></tr><tr><td id="L9067" class="css-a4x74f"><span>9067</span></td><td id="LC9067" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.ImageOverlay
</span></code></td></tr><tr><td id="L9068" class="css-a4x74f"><span>9068</span></td><td id="LC9068" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Interactive layer
</span></code></td></tr><tr><td id="L9069" class="css-a4x74f"><span>9069</span></td><td id="LC9069" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9070" class="css-a4x74f"><span>9070</span></td><td id="LC9070" class="css-1dcdqdg"><code><span class="code-comment"> * Used to load and display a single image over specific bounds of the map. Extends `Layer`.
</span></code></td></tr><tr><td id="L9071" class="css-a4x74f"><span>9071</span></td><td id="LC9071" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9072" class="css-a4x74f"><span>9072</span></td><td id="LC9072" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L9073" class="css-a4x74f"><span>9073</span></td><td id="LC9073" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9074" class="css-a4x74f"><span>9074</span></td><td id="LC9074" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L9075" class="css-a4x74f"><span>9075</span></td><td id="LC9075" class="css-1dcdqdg"><code><span class="code-comment"> * var imageUrl = 'https://maps.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',
</span></code></td></tr><tr><td id="L9076" class="css-a4x74f"><span>9076</span></td><td id="LC9076" class="css-1dcdqdg"><code><span class="code-comment"> * 	imageBounds = [[40.712216, -74.22655], [40.773941, -74.12544]];
</span></code></td></tr><tr><td id="L9077" class="css-a4x74f"><span>9077</span></td><td id="LC9077" class="css-1dcdqdg"><code><span class="code-comment"> * L.imageOverlay(imageUrl, imageBounds).addTo(map);
</span></code></td></tr><tr><td id="L9078" class="css-a4x74f"><span>9078</span></td><td id="LC9078" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L9079" class="css-a4x74f"><span>9079</span></td><td id="LC9079" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L9080" class="css-a4x74f"><span>9080</span></td><td id="LC9080" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9081" class="css-a4x74f"><span>9081</span></td><td id="LC9081" class="css-1dcdqdg"><code><span class="code-keyword">var</span> ImageOverlay = Layer.extend({
</code></td></tr><tr><td id="L9082" class="css-a4x74f"><span>9082</span></td><td id="LC9082" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9083" class="css-a4x74f"><span>9083</span></td><td id="LC9083" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L9084" class="css-a4x74f"><span>9084</span></td><td id="LC9084" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka ImageOverlay options</span>
</code></td></tr><tr><td id="L9085" class="css-a4x74f"><span>9085</span></td><td id="LC9085" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L9086" class="css-a4x74f"><span>9086</span></td><td id="LC9086" class="css-1dcdqdg"><code>		<span class="code-comment">// @option opacity: Number = 1.0</span>
</code></td></tr><tr><td id="L9087" class="css-a4x74f"><span>9087</span></td><td id="LC9087" class="css-1dcdqdg"><code>		<span class="code-comment">// The opacity of the image overlay.</span>
</code></td></tr><tr><td id="L9088" class="css-a4x74f"><span>9088</span></td><td id="LC9088" class="css-1dcdqdg"><code>		opacity: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L9089" class="css-a4x74f"><span>9089</span></td><td id="LC9089" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9090" class="css-a4x74f"><span>9090</span></td><td id="LC9090" class="css-1dcdqdg"><code>		<span class="code-comment">// @option alt: String = ''</span>
</code></td></tr><tr><td id="L9091" class="css-a4x74f"><span>9091</span></td><td id="LC9091" class="css-1dcdqdg"><code>		<span class="code-comment">// Text for the `alt` attribute of the image (useful for accessibility).</span>
</code></td></tr><tr><td id="L9092" class="css-a4x74f"><span>9092</span></td><td id="LC9092" class="css-1dcdqdg"><code>		alt: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L9093" class="css-a4x74f"><span>9093</span></td><td id="LC9093" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9094" class="css-a4x74f"><span>9094</span></td><td id="LC9094" class="css-1dcdqdg"><code>		<span class="code-comment">// @option interactive: Boolean = false</span>
</code></td></tr><tr><td id="L9095" class="css-a4x74f"><span>9095</span></td><td id="LC9095" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.</span>
</code></td></tr><tr><td id="L9096" class="css-a4x74f"><span>9096</span></td><td id="LC9096" class="css-1dcdqdg"><code>		interactive: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L9097" class="css-a4x74f"><span>9097</span></td><td id="LC9097" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9098" class="css-a4x74f"><span>9098</span></td><td id="LC9098" class="css-1dcdqdg"><code>		<span class="code-comment">// @option crossOrigin: Boolean|String = false</span>
</code></td></tr><tr><td id="L9099" class="css-a4x74f"><span>9099</span></td><td id="LC9099" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the crossOrigin attribute will be added to the image.</span>
</code></td></tr><tr><td id="L9100" class="css-a4x74f"><span>9100</span></td><td id="LC9100" class="css-1dcdqdg"><code>		<span class="code-comment">// If a String is provided, the image will have its crossOrigin attribute set to the String provided. This is needed if you want to access image pixel data.</span>
</code></td></tr><tr><td id="L9101" class="css-a4x74f"><span>9101</span></td><td id="LC9101" class="css-1dcdqdg"><code>		<span class="code-comment">// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.</span>
</code></td></tr><tr><td id="L9102" class="css-a4x74f"><span>9102</span></td><td id="LC9102" class="css-1dcdqdg"><code>		crossOrigin: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L9103" class="css-a4x74f"><span>9103</span></td><td id="LC9103" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9104" class="css-a4x74f"><span>9104</span></td><td id="LC9104" class="css-1dcdqdg"><code>		<span class="code-comment">// @option errorOverlayUrl: String = ''</span>
</code></td></tr><tr><td id="L9105" class="css-a4x74f"><span>9105</span></td><td id="LC9105" class="css-1dcdqdg"><code>		<span class="code-comment">// URL to the overlay image to show in place of the overlay that failed to load.</span>
</code></td></tr><tr><td id="L9106" class="css-a4x74f"><span>9106</span></td><td id="LC9106" class="css-1dcdqdg"><code>		errorOverlayUrl: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L9107" class="css-a4x74f"><span>9107</span></td><td id="LC9107" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9108" class="css-a4x74f"><span>9108</span></td><td id="LC9108" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zIndex: Number = 1</span>
</code></td></tr><tr><td id="L9109" class="css-a4x74f"><span>9109</span></td><td id="LC9109" class="css-1dcdqdg"><code>		<span class="code-comment">// The explicit [zIndex](https://developer.mozilla.org/docs/Web/CSS/CSS_Positioning/Understanding_z_index) of the overlay layer.</span>
</code></td></tr><tr><td id="L9110" class="css-a4x74f"><span>9110</span></td><td id="LC9110" class="css-1dcdqdg"><code>		zIndex: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L9111" class="css-a4x74f"><span>9111</span></td><td id="LC9111" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9112" class="css-a4x74f"><span>9112</span></td><td id="LC9112" class="css-1dcdqdg"><code>		<span class="code-comment">// @option className: String = ''</span>
</code></td></tr><tr><td id="L9113" class="css-a4x74f"><span>9113</span></td><td id="LC9113" class="css-1dcdqdg"><code>		<span class="code-comment">// A custom class name to assign to the image. Empty by default.</span>
</code></td></tr><tr><td id="L9114" class="css-a4x74f"><span>9114</span></td><td id="LC9114" class="css-1dcdqdg"><code>		className: <span class="code-string">''</span>
</code></td></tr><tr><td id="L9115" class="css-a4x74f"><span>9115</span></td><td id="LC9115" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9116" class="css-a4x74f"><span>9116</span></td><td id="LC9116" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9117" class="css-a4x74f"><span>9117</span></td><td id="LC9117" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">url, bounds, options</span>) </span>{ <span class="code-comment">// (String, LatLngBounds, Object)</span>
</code></td></tr><tr><td id="L9118" class="css-a4x74f"><span>9118</span></td><td id="LC9118" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._url = url;
</code></td></tr><tr><td id="L9119" class="css-a4x74f"><span>9119</span></td><td id="LC9119" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L9120" class="css-a4x74f"><span>9120</span></td><td id="LC9120" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9121" class="css-a4x74f"><span>9121</span></td><td id="LC9121" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L9122" class="css-a4x74f"><span>9122</span></td><td id="LC9122" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9123" class="css-a4x74f"><span>9123</span></td><td id="LC9123" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9124" class="css-a4x74f"><span>9124</span></td><td id="LC9124" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9125" class="css-a4x74f"><span>9125</span></td><td id="LC9125" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._image) {
</code></td></tr><tr><td id="L9126" class="css-a4x74f"><span>9126</span></td><td id="LC9126" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._initImage();
</code></td></tr><tr><td id="L9127" class="css-a4x74f"><span>9127</span></td><td id="LC9127" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9128" class="css-a4x74f"><span>9128</span></td><td id="LC9128" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.opacity &lt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L9129" class="css-a4x74f"><span>9129</span></td><td id="LC9129" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._updateOpacity();
</code></td></tr><tr><td id="L9130" class="css-a4x74f"><span>9130</span></td><td id="LC9130" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9131" class="css-a4x74f"><span>9131</span></td><td id="LC9131" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9132" class="css-a4x74f"><span>9132</span></td><td id="LC9132" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9133" class="css-a4x74f"><span>9133</span></td><td id="LC9133" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.interactive) {
</code></td></tr><tr><td id="L9134" class="css-a4x74f"><span>9134</span></td><td id="LC9134" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._image, <span class="code-string">'leaflet-interactive'</span>);
</code></td></tr><tr><td id="L9135" class="css-a4x74f"><span>9135</span></td><td id="LC9135" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addInteractiveTarget(<span class="code-keyword">this</span>._image);
</code></td></tr><tr><td id="L9136" class="css-a4x74f"><span>9136</span></td><td id="LC9136" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9137" class="css-a4x74f"><span>9137</span></td><td id="LC9137" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9138" class="css-a4x74f"><span>9138</span></td><td id="LC9138" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.getPane().appendChild(<span class="code-keyword">this</span>._image);
</code></td></tr><tr><td id="L9139" class="css-a4x74f"><span>9139</span></td><td id="LC9139" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._reset();
</code></td></tr><tr><td id="L9140" class="css-a4x74f"><span>9140</span></td><td id="LC9140" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9141" class="css-a4x74f"><span>9141</span></td><td id="LC9141" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9142" class="css-a4x74f"><span>9142</span></td><td id="LC9142" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9143" class="css-a4x74f"><span>9143</span></td><td id="LC9143" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._image);
</code></td></tr><tr><td id="L9144" class="css-a4x74f"><span>9144</span></td><td id="LC9144" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.interactive) {
</code></td></tr><tr><td id="L9145" class="css-a4x74f"><span>9145</span></td><td id="LC9145" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.removeInteractiveTarget(<span class="code-keyword">this</span>._image);
</code></td></tr><tr><td id="L9146" class="css-a4x74f"><span>9146</span></td><td id="LC9146" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9147" class="css-a4x74f"><span>9147</span></td><td id="LC9147" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9148" class="css-a4x74f"><span>9148</span></td><td id="LC9148" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9149" class="css-a4x74f"><span>9149</span></td><td id="LC9149" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setOpacity(opacity: Number): this</span>
</code></td></tr><tr><td id="L9150" class="css-a4x74f"><span>9150</span></td><td id="LC9150" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the opacity of the overlay.</span>
</code></td></tr><tr><td id="L9151" class="css-a4x74f"><span>9151</span></td><td id="LC9151" class="css-1dcdqdg"><code>	setOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">opacity</span>) </span>{
</code></td></tr><tr><td id="L9152" class="css-a4x74f"><span>9152</span></td><td id="LC9152" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.opacity = opacity;
</code></td></tr><tr><td id="L9153" class="css-a4x74f"><span>9153</span></td><td id="LC9153" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9154" class="css-a4x74f"><span>9154</span></td><td id="LC9154" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._image) {
</code></td></tr><tr><td id="L9155" class="css-a4x74f"><span>9155</span></td><td id="LC9155" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateOpacity();
</code></td></tr><tr><td id="L9156" class="css-a4x74f"><span>9156</span></td><td id="LC9156" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9157" class="css-a4x74f"><span>9157</span></td><td id="LC9157" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9158" class="css-a4x74f"><span>9158</span></td><td id="LC9158" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9159" class="css-a4x74f"><span>9159</span></td><td id="LC9159" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9160" class="css-a4x74f"><span>9160</span></td><td id="LC9160" class="css-1dcdqdg"><code>	setStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">styleOpts</span>) </span>{
</code></td></tr><tr><td id="L9161" class="css-a4x74f"><span>9161</span></td><td id="LC9161" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (styleOpts.opacity) {
</code></td></tr><tr><td id="L9162" class="css-a4x74f"><span>9162</span></td><td id="LC9162" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.setOpacity(styleOpts.opacity);
</code></td></tr><tr><td id="L9163" class="css-a4x74f"><span>9163</span></td><td id="LC9163" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9164" class="css-a4x74f"><span>9164</span></td><td id="LC9164" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9165" class="css-a4x74f"><span>9165</span></td><td id="LC9165" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9166" class="css-a4x74f"><span>9166</span></td><td id="LC9166" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9167" class="css-a4x74f"><span>9167</span></td><td id="LC9167" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToFront(): this</span>
</code></td></tr><tr><td id="L9168" class="css-a4x74f"><span>9168</span></td><td id="LC9168" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the layer to the top of all overlays.</span>
</code></td></tr><tr><td id="L9169" class="css-a4x74f"><span>9169</span></td><td id="LC9169" class="css-1dcdqdg"><code>	bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9170" class="css-a4x74f"><span>9170</span></td><td id="LC9170" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9171" class="css-a4x74f"><span>9171</span></td><td id="LC9171" class="css-1dcdqdg"><code>			toFront(<span class="code-keyword">this</span>._image);
</code></td></tr><tr><td id="L9172" class="css-a4x74f"><span>9172</span></td><td id="LC9172" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9173" class="css-a4x74f"><span>9173</span></td><td id="LC9173" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9174" class="css-a4x74f"><span>9174</span></td><td id="LC9174" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9175" class="css-a4x74f"><span>9175</span></td><td id="LC9175" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9176" class="css-a4x74f"><span>9176</span></td><td id="LC9176" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToBack(): this</span>
</code></td></tr><tr><td id="L9177" class="css-a4x74f"><span>9177</span></td><td id="LC9177" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the layer to the bottom of all overlays.</span>
</code></td></tr><tr><td id="L9178" class="css-a4x74f"><span>9178</span></td><td id="LC9178" class="css-1dcdqdg"><code>	bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9179" class="css-a4x74f"><span>9179</span></td><td id="LC9179" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9180" class="css-a4x74f"><span>9180</span></td><td id="LC9180" class="css-1dcdqdg"><code>			toBack(<span class="code-keyword">this</span>._image);
</code></td></tr><tr><td id="L9181" class="css-a4x74f"><span>9181</span></td><td id="LC9181" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9182" class="css-a4x74f"><span>9182</span></td><td id="LC9182" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9183" class="css-a4x74f"><span>9183</span></td><td id="LC9183" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9184" class="css-a4x74f"><span>9184</span></td><td id="LC9184" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9185" class="css-a4x74f"><span>9185</span></td><td id="LC9185" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setUrl(url: String): this</span>
</code></td></tr><tr><td id="L9186" class="css-a4x74f"><span>9186</span></td><td id="LC9186" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the URL of the image.</span>
</code></td></tr><tr><td id="L9187" class="css-a4x74f"><span>9187</span></td><td id="LC9187" class="css-1dcdqdg"><code>	setUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">url</span>) </span>{
</code></td></tr><tr><td id="L9188" class="css-a4x74f"><span>9188</span></td><td id="LC9188" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._url = url;
</code></td></tr><tr><td id="L9189" class="css-a4x74f"><span>9189</span></td><td id="LC9189" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9190" class="css-a4x74f"><span>9190</span></td><td id="LC9190" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._image) {
</code></td></tr><tr><td id="L9191" class="css-a4x74f"><span>9191</span></td><td id="LC9191" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._image.src = url;
</code></td></tr><tr><td id="L9192" class="css-a4x74f"><span>9192</span></td><td id="LC9192" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9193" class="css-a4x74f"><span>9193</span></td><td id="LC9193" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9194" class="css-a4x74f"><span>9194</span></td><td id="LC9194" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9195" class="css-a4x74f"><span>9195</span></td><td id="LC9195" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9196" class="css-a4x74f"><span>9196</span></td><td id="LC9196" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setBounds(bounds: LatLngBounds): this</span>
</code></td></tr><tr><td id="L9197" class="css-a4x74f"><span>9197</span></td><td id="LC9197" class="css-1dcdqdg"><code>	<span class="code-comment">// Update the bounds that this ImageOverlay covers</span>
</code></td></tr><tr><td id="L9198" class="css-a4x74f"><span>9198</span></td><td id="LC9198" class="css-1dcdqdg"><code>	setBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{
</code></td></tr><tr><td id="L9199" class="css-a4x74f"><span>9199</span></td><td id="LC9199" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._bounds = toLatLngBounds(bounds);
</code></td></tr><tr><td id="L9200" class="css-a4x74f"><span>9200</span></td><td id="LC9200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9201" class="css-a4x74f"><span>9201</span></td><td id="LC9201" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9202" class="css-a4x74f"><span>9202</span></td><td id="LC9202" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._reset();
</code></td></tr><tr><td id="L9203" class="css-a4x74f"><span>9203</span></td><td id="LC9203" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9204" class="css-a4x74f"><span>9204</span></td><td id="LC9204" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9205" class="css-a4x74f"><span>9205</span></td><td id="LC9205" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9206" class="css-a4x74f"><span>9206</span></td><td id="LC9206" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9207" class="css-a4x74f"><span>9207</span></td><td id="LC9207" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9208" class="css-a4x74f"><span>9208</span></td><td id="LC9208" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = {
</code></td></tr><tr><td id="L9209" class="css-a4x74f"><span>9209</span></td><td id="LC9209" class="css-1dcdqdg"><code>			zoom: <span class="code-keyword">this</span>._reset,
</code></td></tr><tr><td id="L9210" class="css-a4x74f"><span>9210</span></td><td id="LC9210" class="css-1dcdqdg"><code>			viewreset: <span class="code-keyword">this</span>._reset
</code></td></tr><tr><td id="L9211" class="css-a4x74f"><span>9211</span></td><td id="LC9211" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L9212" class="css-a4x74f"><span>9212</span></td><td id="LC9212" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9213" class="css-a4x74f"><span>9213</span></td><td id="LC9213" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L9214" class="css-a4x74f"><span>9214</span></td><td id="LC9214" class="css-1dcdqdg"><code>			events.zoomanim = <span class="code-keyword">this</span>._animateZoom;
</code></td></tr><tr><td id="L9215" class="css-a4x74f"><span>9215</span></td><td id="LC9215" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9216" class="css-a4x74f"><span>9216</span></td><td id="LC9216" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9217" class="css-a4x74f"><span>9217</span></td><td id="LC9217" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L9218" class="css-a4x74f"><span>9218</span></td><td id="LC9218" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9219" class="css-a4x74f"><span>9219</span></td><td id="LC9219" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9220" class="css-a4x74f"><span>9220</span></td><td id="LC9220" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZIndex(value: Number): this</span>
</code></td></tr><tr><td id="L9221" class="css-a4x74f"><span>9221</span></td><td id="LC9221" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the [zIndex](#imageoverlay-zindex) of the image overlay.</span>
</code></td></tr><tr><td id="L9222" class="css-a4x74f"><span>9222</span></td><td id="LC9222" class="css-1dcdqdg"><code>	setZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value</span>) </span>{
</code></td></tr><tr><td id="L9223" class="css-a4x74f"><span>9223</span></td><td id="LC9223" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.zIndex = value;
</code></td></tr><tr><td id="L9224" class="css-a4x74f"><span>9224</span></td><td id="LC9224" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateZIndex();
</code></td></tr><tr><td id="L9225" class="css-a4x74f"><span>9225</span></td><td id="LC9225" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9226" class="css-a4x74f"><span>9226</span></td><td id="LC9226" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9227" class="css-a4x74f"><span>9227</span></td><td id="LC9227" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9228" class="css-a4x74f"><span>9228</span></td><td id="LC9228" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getBounds(): LatLngBounds</span>
</code></td></tr><tr><td id="L9229" class="css-a4x74f"><span>9229</span></td><td id="LC9229" class="css-1dcdqdg"><code>	<span class="code-comment">// Get the bounds that this ImageOverlay covers</span>
</code></td></tr><tr><td id="L9230" class="css-a4x74f"><span>9230</span></td><td id="LC9230" class="css-1dcdqdg"><code>	getBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9231" class="css-a4x74f"><span>9231</span></td><td id="LC9231" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._bounds;
</code></td></tr><tr><td id="L9232" class="css-a4x74f"><span>9232</span></td><td id="LC9232" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9233" class="css-a4x74f"><span>9233</span></td><td id="LC9233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9234" class="css-a4x74f"><span>9234</span></td><td id="LC9234" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getElement(): HTMLElement</span>
</code></td></tr><tr><td id="L9235" class="css-a4x74f"><span>9235</span></td><td id="LC9235" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the instance of [`HTMLImageElement`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement)</span>
</code></td></tr><tr><td id="L9236" class="css-a4x74f"><span>9236</span></td><td id="LC9236" class="css-1dcdqdg"><code>	<span class="code-comment">// used by this overlay.</span>
</code></td></tr><tr><td id="L9237" class="css-a4x74f"><span>9237</span></td><td id="LC9237" class="css-1dcdqdg"><code>	getElement: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9238" class="css-a4x74f"><span>9238</span></td><td id="LC9238" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._image;
</code></td></tr><tr><td id="L9239" class="css-a4x74f"><span>9239</span></td><td id="LC9239" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9240" class="css-a4x74f"><span>9240</span></td><td id="LC9240" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9241" class="css-a4x74f"><span>9241</span></td><td id="LC9241" class="css-1dcdqdg"><code>	_initImage: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9242" class="css-a4x74f"><span>9242</span></td><td id="LC9242" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> wasElementSupplied = <span class="code-keyword">this</span>._url.tagName === <span class="code-string">'IMG'</span>;
</code></td></tr><tr><td id="L9243" class="css-a4x74f"><span>9243</span></td><td id="LC9243" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> img = <span class="code-keyword">this</span>._image = wasElementSupplied ? <span class="code-keyword">this</span>._url : create$<span class="code-number">1</span>(<span class="code-string">'img'</span>);
</code></td></tr><tr><td id="L9244" class="css-a4x74f"><span>9244</span></td><td id="LC9244" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9245" class="css-a4x74f"><span>9245</span></td><td id="LC9245" class="css-1dcdqdg"><code>		addClass(img, <span class="code-string">'leaflet-image-layer'</span>);
</code></td></tr><tr><td id="L9246" class="css-a4x74f"><span>9246</span></td><td id="LC9246" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) { addClass(img, <span class="code-string">'leaflet-zoom-animated'</span>); }
</code></td></tr><tr><td id="L9247" class="css-a4x74f"><span>9247</span></td><td id="LC9247" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.className) { addClass(img, <span class="code-keyword">this</span>.options.className); }
</code></td></tr><tr><td id="L9248" class="css-a4x74f"><span>9248</span></td><td id="LC9248" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9249" class="css-a4x74f"><span>9249</span></td><td id="LC9249" class="css-1dcdqdg"><code>		img.onselectstart = falseFn;
</code></td></tr><tr><td id="L9250" class="css-a4x74f"><span>9250</span></td><td id="LC9250" class="css-1dcdqdg"><code>		img.onmousemove = falseFn;
</code></td></tr><tr><td id="L9251" class="css-a4x74f"><span>9251</span></td><td id="LC9251" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9252" class="css-a4x74f"><span>9252</span></td><td id="LC9252" class="css-1dcdqdg"><code>		<span class="code-comment">// @event load: Event</span>
</code></td></tr><tr><td id="L9253" class="css-a4x74f"><span>9253</span></td><td id="LC9253" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the ImageOverlay layer has loaded its image</span>
</code></td></tr><tr><td id="L9254" class="css-a4x74f"><span>9254</span></td><td id="LC9254" class="css-1dcdqdg"><code>		img.onload = bind(<span class="code-keyword">this</span>.fire, <span class="code-keyword">this</span>, <span class="code-string">'load'</span>);
</code></td></tr><tr><td id="L9255" class="css-a4x74f"><span>9255</span></td><td id="LC9255" class="css-1dcdqdg"><code>		img.onerror = bind(<span class="code-keyword">this</span>._overlayOnError, <span class="code-keyword">this</span>, <span class="code-string">'error'</span>);
</code></td></tr><tr><td id="L9256" class="css-a4x74f"><span>9256</span></td><td id="LC9256" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9257" class="css-a4x74f"><span>9257</span></td><td id="LC9257" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.crossOrigin || <span class="code-keyword">this</span>.options.crossOrigin === <span class="code-string">''</span>) {
</code></td></tr><tr><td id="L9258" class="css-a4x74f"><span>9258</span></td><td id="LC9258" class="css-1dcdqdg"><code>			img.crossOrigin = <span class="code-keyword">this</span>.options.crossOrigin === <span class="code-literal">true</span> ? <span class="code-string">''</span> : <span class="code-keyword">this</span>.options.crossOrigin;
</code></td></tr><tr><td id="L9259" class="css-a4x74f"><span>9259</span></td><td id="LC9259" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9260" class="css-a4x74f"><span>9260</span></td><td id="LC9260" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9261" class="css-a4x74f"><span>9261</span></td><td id="LC9261" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.zIndex) {
</code></td></tr><tr><td id="L9262" class="css-a4x74f"><span>9262</span></td><td id="LC9262" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateZIndex();
</code></td></tr><tr><td id="L9263" class="css-a4x74f"><span>9263</span></td><td id="LC9263" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9264" class="css-a4x74f"><span>9264</span></td><td id="LC9264" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9265" class="css-a4x74f"><span>9265</span></td><td id="LC9265" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (wasElementSupplied) {
</code></td></tr><tr><td id="L9266" class="css-a4x74f"><span>9266</span></td><td id="LC9266" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._url = img.src;
</code></td></tr><tr><td id="L9267" class="css-a4x74f"><span>9267</span></td><td id="LC9267" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L9268" class="css-a4x74f"><span>9268</span></td><td id="LC9268" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9269" class="css-a4x74f"><span>9269</span></td><td id="LC9269" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9270" class="css-a4x74f"><span>9270</span></td><td id="LC9270" class="css-1dcdqdg"><code>		img.src = <span class="code-keyword">this</span>._url;
</code></td></tr><tr><td id="L9271" class="css-a4x74f"><span>9271</span></td><td id="LC9271" class="css-1dcdqdg"><code>		img.alt = <span class="code-keyword">this</span>.options.alt;
</code></td></tr><tr><td id="L9272" class="css-a4x74f"><span>9272</span></td><td id="LC9272" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9273" class="css-a4x74f"><span>9273</span></td><td id="LC9273" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9274" class="css-a4x74f"><span>9274</span></td><td id="LC9274" class="css-1dcdqdg"><code>	_animateZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L9275" class="css-a4x74f"><span>9275</span></td><td id="LC9275" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-keyword">this</span>._map.getZoomScale(e.zoom),
</code></td></tr><tr><td id="L9276" class="css-a4x74f"><span>9276</span></td><td id="LC9276" class="css-1dcdqdg"><code>		    offset = <span class="code-keyword">this</span>._map._latLngBoundsToNewLayerBounds(<span class="code-keyword">this</span>._bounds, e.zoom, e.center).min;
</code></td></tr><tr><td id="L9277" class="css-a4x74f"><span>9277</span></td><td id="LC9277" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9278" class="css-a4x74f"><span>9278</span></td><td id="LC9278" class="css-1dcdqdg"><code>		setTransform(<span class="code-keyword">this</span>._image, offset, scale);
</code></td></tr><tr><td id="L9279" class="css-a4x74f"><span>9279</span></td><td id="LC9279" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9280" class="css-a4x74f"><span>9280</span></td><td id="LC9280" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9281" class="css-a4x74f"><span>9281</span></td><td id="LC9281" class="css-1dcdqdg"><code>	_reset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9282" class="css-a4x74f"><span>9282</span></td><td id="LC9282" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> image = <span class="code-keyword">this</span>._image,
</code></td></tr><tr><td id="L9283" class="css-a4x74f"><span>9283</span></td><td id="LC9283" class="css-1dcdqdg"><code>		    bounds = <span class="code-keyword">new</span> Bounds(
</code></td></tr><tr><td id="L9284" class="css-a4x74f"><span>9284</span></td><td id="LC9284" class="css-1dcdqdg"><code>		        <span class="code-keyword">this</span>._map.latLngToLayerPoint(<span class="code-keyword">this</span>._bounds.getNorthWest()),
</code></td></tr><tr><td id="L9285" class="css-a4x74f"><span>9285</span></td><td id="LC9285" class="css-1dcdqdg"><code>		        <span class="code-keyword">this</span>._map.latLngToLayerPoint(<span class="code-keyword">this</span>._bounds.getSouthEast())),
</code></td></tr><tr><td id="L9286" class="css-a4x74f"><span>9286</span></td><td id="LC9286" class="css-1dcdqdg"><code>		    size = bounds.getSize();
</code></td></tr><tr><td id="L9287" class="css-a4x74f"><span>9287</span></td><td id="LC9287" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9288" class="css-a4x74f"><span>9288</span></td><td id="LC9288" class="css-1dcdqdg"><code>		setPosition(image, bounds.min);
</code></td></tr><tr><td id="L9289" class="css-a4x74f"><span>9289</span></td><td id="LC9289" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9290" class="css-a4x74f"><span>9290</span></td><td id="LC9290" class="css-1dcdqdg"><code>		image.style.width  = size.x + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L9291" class="css-a4x74f"><span>9291</span></td><td id="LC9291" class="css-1dcdqdg"><code>		image.style.height = size.y + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L9292" class="css-a4x74f"><span>9292</span></td><td id="LC9292" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9293" class="css-a4x74f"><span>9293</span></td><td id="LC9293" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9294" class="css-a4x74f"><span>9294</span></td><td id="LC9294" class="css-1dcdqdg"><code>	_updateOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9295" class="css-a4x74f"><span>9295</span></td><td id="LC9295" class="css-1dcdqdg"><code>		setOpacity(<span class="code-keyword">this</span>._image, <span class="code-keyword">this</span>.options.opacity);
</code></td></tr><tr><td id="L9296" class="css-a4x74f"><span>9296</span></td><td id="LC9296" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9297" class="css-a4x74f"><span>9297</span></td><td id="LC9297" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9298" class="css-a4x74f"><span>9298</span></td><td id="LC9298" class="css-1dcdqdg"><code>	_updateZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9299" class="css-a4x74f"><span>9299</span></td><td id="LC9299" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._image &amp;&amp; <span class="code-keyword">this</span>.options.zIndex !== <span class="code-literal">undefined</span> &amp;&amp; <span class="code-keyword">this</span>.options.zIndex !== <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L9300" class="css-a4x74f"><span>9300</span></td><td id="LC9300" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._image.style.zIndex = <span class="code-keyword">this</span>.options.zIndex;
</code></td></tr><tr><td id="L9301" class="css-a4x74f"><span>9301</span></td><td id="LC9301" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9302" class="css-a4x74f"><span>9302</span></td><td id="LC9302" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9303" class="css-a4x74f"><span>9303</span></td><td id="LC9303" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9304" class="css-a4x74f"><span>9304</span></td><td id="LC9304" class="css-1dcdqdg"><code>	_overlayOnError: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9305" class="css-a4x74f"><span>9305</span></td><td id="LC9305" class="css-1dcdqdg"><code>		<span class="code-comment">// @event error: Event</span>
</code></td></tr><tr><td id="L9306" class="css-a4x74f"><span>9306</span></td><td id="LC9306" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the ImageOverlay layer fails to load its image</span>
</code></td></tr><tr><td id="L9307" class="css-a4x74f"><span>9307</span></td><td id="LC9307" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'error'</span>);
</code></td></tr><tr><td id="L9308" class="css-a4x74f"><span>9308</span></td><td id="LC9308" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9309" class="css-a4x74f"><span>9309</span></td><td id="LC9309" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> errorUrl = <span class="code-keyword">this</span>.options.errorOverlayUrl;
</code></td></tr><tr><td id="L9310" class="css-a4x74f"><span>9310</span></td><td id="LC9310" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (errorUrl &amp;&amp; <span class="code-keyword">this</span>._url !== errorUrl) {
</code></td></tr><tr><td id="L9311" class="css-a4x74f"><span>9311</span></td><td id="LC9311" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._url = errorUrl;
</code></td></tr><tr><td id="L9312" class="css-a4x74f"><span>9312</span></td><td id="LC9312" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._image.src = errorUrl;
</code></td></tr><tr><td id="L9313" class="css-a4x74f"><span>9313</span></td><td id="LC9313" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9314" class="css-a4x74f"><span>9314</span></td><td id="LC9314" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9315" class="css-a4x74f"><span>9315</span></td><td id="LC9315" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9316" class="css-a4x74f"><span>9316</span></td><td id="LC9316" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getCenter(): LatLng</span>
</code></td></tr><tr><td id="L9317" class="css-a4x74f"><span>9317</span></td><td id="LC9317" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the center of the ImageOverlay.</span>
</code></td></tr><tr><td id="L9318" class="css-a4x74f"><span>9318</span></td><td id="LC9318" class="css-1dcdqdg"><code>	getCenter: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9319" class="css-a4x74f"><span>9319</span></td><td id="LC9319" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._bounds.getCenter();
</code></td></tr><tr><td id="L9320" class="css-a4x74f"><span>9320</span></td><td id="LC9320" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9321" class="css-a4x74f"><span>9321</span></td><td id="LC9321" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9322" class="css-a4x74f"><span>9322</span></td><td id="LC9322" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9323" class="css-a4x74f"><span>9323</span></td><td id="LC9323" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.imageOverlay(imageUrl: String, bounds: LatLngBounds, options?: ImageOverlay options)</span>
</code></td></tr><tr><td id="L9324" class="css-a4x74f"><span>9324</span></td><td id="LC9324" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates an image overlay object given the URL of the image and the</span>
</code></td></tr><tr><td id="L9325" class="css-a4x74f"><span>9325</span></td><td id="LC9325" class="css-1dcdqdg"><code><span class="code-comment">// geographical bounds it is tied to.</span>
</code></td></tr><tr><td id="L9326" class="css-a4x74f"><span>9326</span></td><td id="LC9326" class="css-1dcdqdg"><code><span class="code-keyword">var</span> imageOverlay = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">url, bounds, options</span>) </span>{
</code></td></tr><tr><td id="L9327" class="css-a4x74f"><span>9327</span></td><td id="LC9327" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> ImageOverlay(url, bounds, options);
</code></td></tr><tr><td id="L9328" class="css-a4x74f"><span>9328</span></td><td id="LC9328" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L9329" class="css-a4x74f"><span>9329</span></td><td id="LC9329" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9330" class="css-a4x74f"><span>9330</span></td><td id="LC9330" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L9331" class="css-a4x74f"><span>9331</span></td><td id="LC9331" class="css-1dcdqdg"><code><span class="code-comment"> * @class VideoOverlay
</span></code></td></tr><tr><td id="L9332" class="css-a4x74f"><span>9332</span></td><td id="LC9332" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.VideoOverlay
</span></code></td></tr><tr><td id="L9333" class="css-a4x74f"><span>9333</span></td><td id="LC9333" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits ImageOverlay
</span></code></td></tr><tr><td id="L9334" class="css-a4x74f"><span>9334</span></td><td id="LC9334" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9335" class="css-a4x74f"><span>9335</span></td><td id="LC9335" class="css-1dcdqdg"><code><span class="code-comment"> * Used to load and display a video player over specific bounds of the map. Extends `ImageOverlay`.
</span></code></td></tr><tr><td id="L9336" class="css-a4x74f"><span>9336</span></td><td id="LC9336" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9337" class="css-a4x74f"><span>9337</span></td><td id="LC9337" class="css-1dcdqdg"><code><span class="code-comment"> * A video overlay uses the [`&lt;video&gt;`](https://developer.mozilla.org/docs/Web/HTML/Element/video)
</span></code></td></tr><tr><td id="L9338" class="css-a4x74f"><span>9338</span></td><td id="LC9338" class="css-1dcdqdg"><code><span class="code-comment"> * HTML5 element.
</span></code></td></tr><tr><td id="L9339" class="css-a4x74f"><span>9339</span></td><td id="LC9339" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9340" class="css-a4x74f"><span>9340</span></td><td id="LC9340" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L9341" class="css-a4x74f"><span>9341</span></td><td id="LC9341" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9342" class="css-a4x74f"><span>9342</span></td><td id="LC9342" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L9343" class="css-a4x74f"><span>9343</span></td><td id="LC9343" class="css-1dcdqdg"><code><span class="code-comment"> * var videoUrl = 'https://www.mapbox.com/bites/00188/patricia_nasa.webm',
</span></code></td></tr><tr><td id="L9344" class="css-a4x74f"><span>9344</span></td><td id="LC9344" class="css-1dcdqdg"><code><span class="code-comment"> * 	videoBounds = [[ 32, -130], [ 13, -100]];
</span></code></td></tr><tr><td id="L9345" class="css-a4x74f"><span>9345</span></td><td id="LC9345" class="css-1dcdqdg"><code><span class="code-comment"> * L.videoOverlay(videoUrl, videoBounds ).addTo(map);
</span></code></td></tr><tr><td id="L9346" class="css-a4x74f"><span>9346</span></td><td id="LC9346" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L9347" class="css-a4x74f"><span>9347</span></td><td id="LC9347" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L9348" class="css-a4x74f"><span>9348</span></td><td id="LC9348" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9349" class="css-a4x74f"><span>9349</span></td><td id="LC9349" class="css-1dcdqdg"><code><span class="code-keyword">var</span> VideoOverlay = ImageOverlay.extend({
</code></td></tr><tr><td id="L9350" class="css-a4x74f"><span>9350</span></td><td id="LC9350" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9351" class="css-a4x74f"><span>9351</span></td><td id="LC9351" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L9352" class="css-a4x74f"><span>9352</span></td><td id="LC9352" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka VideoOverlay options</span>
</code></td></tr><tr><td id="L9353" class="css-a4x74f"><span>9353</span></td><td id="LC9353" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L9354" class="css-a4x74f"><span>9354</span></td><td id="LC9354" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoplay: Boolean = true</span>
</code></td></tr><tr><td id="L9355" class="css-a4x74f"><span>9355</span></td><td id="LC9355" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the video starts playing automatically when loaded.</span>
</code></td></tr><tr><td id="L9356" class="css-a4x74f"><span>9356</span></td><td id="LC9356" class="css-1dcdqdg"><code>		<span class="code-comment">// On some browsers autoplay will only work with `muted: true`</span>
</code></td></tr><tr><td id="L9357" class="css-a4x74f"><span>9357</span></td><td id="LC9357" class="css-1dcdqdg"><code>		autoplay: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9358" class="css-a4x74f"><span>9358</span></td><td id="LC9358" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9359" class="css-a4x74f"><span>9359</span></td><td id="LC9359" class="css-1dcdqdg"><code>		<span class="code-comment">// @option loop: Boolean = true</span>
</code></td></tr><tr><td id="L9360" class="css-a4x74f"><span>9360</span></td><td id="LC9360" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the video will loop back to the beginning when played.</span>
</code></td></tr><tr><td id="L9361" class="css-a4x74f"><span>9361</span></td><td id="LC9361" class="css-1dcdqdg"><code>		loop: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9362" class="css-a4x74f"><span>9362</span></td><td id="LC9362" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9363" class="css-a4x74f"><span>9363</span></td><td id="LC9363" class="css-1dcdqdg"><code>		<span class="code-comment">// @option keepAspectRatio: Boolean = true</span>
</code></td></tr><tr><td id="L9364" class="css-a4x74f"><span>9364</span></td><td id="LC9364" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the video will save aspect ratio after the projection.</span>
</code></td></tr><tr><td id="L9365" class="css-a4x74f"><span>9365</span></td><td id="LC9365" class="css-1dcdqdg"><code>		<span class="code-comment">// Relevant for supported browsers. See [browser compatibility](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit)</span>
</code></td></tr><tr><td id="L9366" class="css-a4x74f"><span>9366</span></td><td id="LC9366" class="css-1dcdqdg"><code>		keepAspectRatio: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9367" class="css-a4x74f"><span>9367</span></td><td id="LC9367" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9368" class="css-a4x74f"><span>9368</span></td><td id="LC9368" class="css-1dcdqdg"><code>		<span class="code-comment">// @option muted: Boolean = false</span>
</code></td></tr><tr><td id="L9369" class="css-a4x74f"><span>9369</span></td><td id="LC9369" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the video starts on mute when loaded.</span>
</code></td></tr><tr><td id="L9370" class="css-a4x74f"><span>9370</span></td><td id="LC9370" class="css-1dcdqdg"><code>		muted: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L9371" class="css-a4x74f"><span>9371</span></td><td id="LC9371" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9372" class="css-a4x74f"><span>9372</span></td><td id="LC9372" class="css-1dcdqdg"><code>		<span class="code-comment">// @option playsInline: Boolean = true</span>
</code></td></tr><tr><td id="L9373" class="css-a4x74f"><span>9373</span></td><td id="LC9373" class="css-1dcdqdg"><code>		<span class="code-comment">// Mobile browsers will play the video right where it is instead of open it up in fullscreen mode.</span>
</code></td></tr><tr><td id="L9374" class="css-a4x74f"><span>9374</span></td><td id="LC9374" class="css-1dcdqdg"><code>		playsInline: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L9375" class="css-a4x74f"><span>9375</span></td><td id="LC9375" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9376" class="css-a4x74f"><span>9376</span></td><td id="LC9376" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9377" class="css-a4x74f"><span>9377</span></td><td id="LC9377" class="css-1dcdqdg"><code>	_initImage: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9378" class="css-a4x74f"><span>9378</span></td><td id="LC9378" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> wasElementSupplied = <span class="code-keyword">this</span>._url.tagName === <span class="code-string">'VIDEO'</span>;
</code></td></tr><tr><td id="L9379" class="css-a4x74f"><span>9379</span></td><td id="LC9379" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> vid = <span class="code-keyword">this</span>._image = wasElementSupplied ? <span class="code-keyword">this</span>._url : create$<span class="code-number">1</span>(<span class="code-string">'video'</span>);
</code></td></tr><tr><td id="L9380" class="css-a4x74f"><span>9380</span></td><td id="LC9380" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9381" class="css-a4x74f"><span>9381</span></td><td id="LC9381" class="css-1dcdqdg"><code>		addClass(vid, <span class="code-string">'leaflet-image-layer'</span>);
</code></td></tr><tr><td id="L9382" class="css-a4x74f"><span>9382</span></td><td id="LC9382" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) { addClass(vid, <span class="code-string">'leaflet-zoom-animated'</span>); }
</code></td></tr><tr><td id="L9383" class="css-a4x74f"><span>9383</span></td><td id="LC9383" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.className) { addClass(vid, <span class="code-keyword">this</span>.options.className); }
</code></td></tr><tr><td id="L9384" class="css-a4x74f"><span>9384</span></td><td id="LC9384" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9385" class="css-a4x74f"><span>9385</span></td><td id="LC9385" class="css-1dcdqdg"><code>		vid.onselectstart = falseFn;
</code></td></tr><tr><td id="L9386" class="css-a4x74f"><span>9386</span></td><td id="LC9386" class="css-1dcdqdg"><code>		vid.onmousemove = falseFn;
</code></td></tr><tr><td id="L9387" class="css-a4x74f"><span>9387</span></td><td id="LC9387" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9388" class="css-a4x74f"><span>9388</span></td><td id="LC9388" class="css-1dcdqdg"><code>		<span class="code-comment">// @event load: Event</span>
</code></td></tr><tr><td id="L9389" class="css-a4x74f"><span>9389</span></td><td id="LC9389" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the video has finished loading the first frame</span>
</code></td></tr><tr><td id="L9390" class="css-a4x74f"><span>9390</span></td><td id="LC9390" class="css-1dcdqdg"><code>		vid.onloadeddata = bind(<span class="code-keyword">this</span>.fire, <span class="code-keyword">this</span>, <span class="code-string">'load'</span>);
</code></td></tr><tr><td id="L9391" class="css-a4x74f"><span>9391</span></td><td id="LC9391" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9392" class="css-a4x74f"><span>9392</span></td><td id="LC9392" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (wasElementSupplied) {
</code></td></tr><tr><td id="L9393" class="css-a4x74f"><span>9393</span></td><td id="LC9393" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> sourceElements = vid.getElementsByTagName(<span class="code-string">'source'</span>);
</code></td></tr><tr><td id="L9394" class="css-a4x74f"><span>9394</span></td><td id="LC9394" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> sources = [];
</code></td></tr><tr><td id="L9395" class="css-a4x74f"><span>9395</span></td><td id="LC9395" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> j = <span class="code-number">0</span>; j &lt; sourceElements.length; j++) {
</code></td></tr><tr><td id="L9396" class="css-a4x74f"><span>9396</span></td><td id="LC9396" class="css-1dcdqdg"><code>				sources.push(sourceElements[j].src);
</code></td></tr><tr><td id="L9397" class="css-a4x74f"><span>9397</span></td><td id="LC9397" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9398" class="css-a4x74f"><span>9398</span></td><td id="LC9398" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9399" class="css-a4x74f"><span>9399</span></td><td id="LC9399" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._url = (sourceElements.length &gt; <span class="code-number">0</span>) ? sources : [vid.src];
</code></td></tr><tr><td id="L9400" class="css-a4x74f"><span>9400</span></td><td id="LC9400" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L9401" class="css-a4x74f"><span>9401</span></td><td id="LC9401" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9402" class="css-a4x74f"><span>9402</span></td><td id="LC9402" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9403" class="css-a4x74f"><span>9403</span></td><td id="LC9403" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!isArray(<span class="code-keyword">this</span>._url)) { <span class="code-keyword">this</span>._url = [<span class="code-keyword">this</span>._url]; }
</code></td></tr><tr><td id="L9404" class="css-a4x74f"><span>9404</span></td><td id="LC9404" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9405" class="css-a4x74f"><span>9405</span></td><td id="LC9405" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.keepAspectRatio &amp;&amp; <span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(vid.style, <span class="code-string">'objectFit'</span>)) {
</code></td></tr><tr><td id="L9406" class="css-a4x74f"><span>9406</span></td><td id="LC9406" class="css-1dcdqdg"><code>			vid.style[<span class="code-string">'objectFit'</span>] = <span class="code-string">'fill'</span>;
</code></td></tr><tr><td id="L9407" class="css-a4x74f"><span>9407</span></td><td id="LC9407" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9408" class="css-a4x74f"><span>9408</span></td><td id="LC9408" class="css-1dcdqdg"><code>		vid.autoplay = !!<span class="code-keyword">this</span>.options.autoplay;
</code></td></tr><tr><td id="L9409" class="css-a4x74f"><span>9409</span></td><td id="LC9409" class="css-1dcdqdg"><code>		vid.loop = !!<span class="code-keyword">this</span>.options.loop;
</code></td></tr><tr><td id="L9410" class="css-a4x74f"><span>9410</span></td><td id="LC9410" class="css-1dcdqdg"><code>		vid.muted = !!<span class="code-keyword">this</span>.options.muted;
</code></td></tr><tr><td id="L9411" class="css-a4x74f"><span>9411</span></td><td id="LC9411" class="css-1dcdqdg"><code>		vid.playsInline = !!<span class="code-keyword">this</span>.options.playsInline;
</code></td></tr><tr><td id="L9412" class="css-a4x74f"><span>9412</span></td><td id="LC9412" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i &lt; <span class="code-keyword">this</span>._url.length; i++) {
</code></td></tr><tr><td id="L9413" class="css-a4x74f"><span>9413</span></td><td id="LC9413" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> source = create$<span class="code-number">1</span>(<span class="code-string">'source'</span>);
</code></td></tr><tr><td id="L9414" class="css-a4x74f"><span>9414</span></td><td id="LC9414" class="css-1dcdqdg"><code>			source.src = <span class="code-keyword">this</span>._url[i];
</code></td></tr><tr><td id="L9415" class="css-a4x74f"><span>9415</span></td><td id="LC9415" class="css-1dcdqdg"><code>			vid.appendChild(source);
</code></td></tr><tr><td id="L9416" class="css-a4x74f"><span>9416</span></td><td id="LC9416" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9417" class="css-a4x74f"><span>9417</span></td><td id="LC9417" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9418" class="css-a4x74f"><span>9418</span></td><td id="LC9418" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9419" class="css-a4x74f"><span>9419</span></td><td id="LC9419" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getElement(): HTMLVideoElement</span>
</code></td></tr><tr><td id="L9420" class="css-a4x74f"><span>9420</span></td><td id="LC9420" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the instance of [`HTMLVideoElement`](https://developer.mozilla.org/docs/Web/API/HTMLVideoElement)</span>
</code></td></tr><tr><td id="L9421" class="css-a4x74f"><span>9421</span></td><td id="LC9421" class="css-1dcdqdg"><code>	<span class="code-comment">// used by this overlay.</span>
</code></td></tr><tr><td id="L9422" class="css-a4x74f"><span>9422</span></td><td id="LC9422" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9423" class="css-a4x74f"><span>9423</span></td><td id="LC9423" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9424" class="css-a4x74f"><span>9424</span></td><td id="LC9424" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9425" class="css-a4x74f"><span>9425</span></td><td id="LC9425" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.videoOverlay(video: String|Array|HTMLVideoElement, bounds: LatLngBounds, options?: VideoOverlay options)</span>
</code></td></tr><tr><td id="L9426" class="css-a4x74f"><span>9426</span></td><td id="LC9426" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates an image overlay object given the URL of the video (or array of URLs, or even a video element) and the</span>
</code></td></tr><tr><td id="L9427" class="css-a4x74f"><span>9427</span></td><td id="LC9427" class="css-1dcdqdg"><code><span class="code-comment">// geographical bounds it is tied to.</span>
</code></td></tr><tr><td id="L9428" class="css-a4x74f"><span>9428</span></td><td id="LC9428" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9429" class="css-a4x74f"><span>9429</span></td><td id="LC9429" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">videoOverlay</span>(<span class="code-params">video, bounds, options</span>) </span>{
</code></td></tr><tr><td id="L9430" class="css-a4x74f"><span>9430</span></td><td id="LC9430" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> VideoOverlay(video, bounds, options);
</code></td></tr><tr><td id="L9431" class="css-a4x74f"><span>9431</span></td><td id="LC9431" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L9432" class="css-a4x74f"><span>9432</span></td><td id="LC9432" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9433" class="css-a4x74f"><span>9433</span></td><td id="LC9433" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L9434" class="css-a4x74f"><span>9434</span></td><td id="LC9434" class="css-1dcdqdg"><code><span class="code-comment"> * @class SVGOverlay
</span></code></td></tr><tr><td id="L9435" class="css-a4x74f"><span>9435</span></td><td id="LC9435" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.SVGOverlay
</span></code></td></tr><tr><td id="L9436" class="css-a4x74f"><span>9436</span></td><td id="LC9436" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits ImageOverlay
</span></code></td></tr><tr><td id="L9437" class="css-a4x74f"><span>9437</span></td><td id="LC9437" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9438" class="css-a4x74f"><span>9438</span></td><td id="LC9438" class="css-1dcdqdg"><code><span class="code-comment"> * Used to load, display and provide DOM access to an SVG file over specific bounds of the map. Extends `ImageOverlay`.
</span></code></td></tr><tr><td id="L9439" class="css-a4x74f"><span>9439</span></td><td id="LC9439" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9440" class="css-a4x74f"><span>9440</span></td><td id="LC9440" class="css-1dcdqdg"><code><span class="code-comment"> * An SVG overlay uses the [`&lt;svg&gt;`](https://developer.mozilla.org/docs/Web/SVG/Element/svg) element.
</span></code></td></tr><tr><td id="L9441" class="css-a4x74f"><span>9441</span></td><td id="LC9441" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9442" class="css-a4x74f"><span>9442</span></td><td id="LC9442" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L9443" class="css-a4x74f"><span>9443</span></td><td id="LC9443" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9444" class="css-a4x74f"><span>9444</span></td><td id="LC9444" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L9445" class="css-a4x74f"><span>9445</span></td><td id="LC9445" class="css-1dcdqdg"><code><span class="code-comment"> * var svgElement = document.createElementNS("http://www.w3.org/2000/svg", "svg");
</span></code></td></tr><tr><td id="L9446" class="css-a4x74f"><span>9446</span></td><td id="LC9446" class="css-1dcdqdg"><code><span class="code-comment"> * svgElement.setAttribute('xmlns', "http://www.w3.org/2000/svg");
</span></code></td></tr><tr><td id="L9447" class="css-a4x74f"><span>9447</span></td><td id="LC9447" class="css-1dcdqdg"><code><span class="code-comment"> * svgElement.setAttribute('viewBox', "0 0 200 200");
</span></code></td></tr><tr><td id="L9448" class="css-a4x74f"><span>9448</span></td><td id="LC9448" class="css-1dcdqdg"><code><span class="code-comment"> * svgElement.innerHTML = '&lt;rect width="200" height="200"/&gt;&lt;rect x="75" y="23" width="50" height="50" style="fill:red"/&gt;&lt;rect x="75" y="123" width="50" height="50" style="fill:#0013ff"/&gt;';
</span></code></td></tr><tr><td id="L9449" class="css-a4x74f"><span>9449</span></td><td id="LC9449" class="css-1dcdqdg"><code><span class="code-comment"> * var svgElementBounds = [ [ 32, -130 ], [ 13, -100 ] ];
</span></code></td></tr><tr><td id="L9450" class="css-a4x74f"><span>9450</span></td><td id="LC9450" class="css-1dcdqdg"><code><span class="code-comment"> * L.svgOverlay(svgElement, svgElementBounds).addTo(map);
</span></code></td></tr><tr><td id="L9451" class="css-a4x74f"><span>9451</span></td><td id="LC9451" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L9452" class="css-a4x74f"><span>9452</span></td><td id="LC9452" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L9453" class="css-a4x74f"><span>9453</span></td><td id="LC9453" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9454" class="css-a4x74f"><span>9454</span></td><td id="LC9454" class="css-1dcdqdg"><code><span class="code-keyword">var</span> SVGOverlay = ImageOverlay.extend({
</code></td></tr><tr><td id="L9455" class="css-a4x74f"><span>9455</span></td><td id="LC9455" class="css-1dcdqdg"><code>	_initImage: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9456" class="css-a4x74f"><span>9456</span></td><td id="LC9456" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> el = <span class="code-keyword">this</span>._image = <span class="code-keyword">this</span>._url;
</code></td></tr><tr><td id="L9457" class="css-a4x74f"><span>9457</span></td><td id="LC9457" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9458" class="css-a4x74f"><span>9458</span></td><td id="LC9458" class="css-1dcdqdg"><code>		addClass(el, <span class="code-string">'leaflet-image-layer'</span>);
</code></td></tr><tr><td id="L9459" class="css-a4x74f"><span>9459</span></td><td id="LC9459" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) { addClass(el, <span class="code-string">'leaflet-zoom-animated'</span>); }
</code></td></tr><tr><td id="L9460" class="css-a4x74f"><span>9460</span></td><td id="LC9460" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.className) { addClass(el, <span class="code-keyword">this</span>.options.className); }
</code></td></tr><tr><td id="L9461" class="css-a4x74f"><span>9461</span></td><td id="LC9461" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9462" class="css-a4x74f"><span>9462</span></td><td id="LC9462" class="css-1dcdqdg"><code>		el.onselectstart = falseFn;
</code></td></tr><tr><td id="L9463" class="css-a4x74f"><span>9463</span></td><td id="LC9463" class="css-1dcdqdg"><code>		el.onmousemove = falseFn;
</code></td></tr><tr><td id="L9464" class="css-a4x74f"><span>9464</span></td><td id="LC9464" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9465" class="css-a4x74f"><span>9465</span></td><td id="LC9465" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9466" class="css-a4x74f"><span>9466</span></td><td id="LC9466" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getElement(): SVGElement</span>
</code></td></tr><tr><td id="L9467" class="css-a4x74f"><span>9467</span></td><td id="LC9467" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the instance of [`SVGElement`](https://developer.mozilla.org/docs/Web/API/SVGElement)</span>
</code></td></tr><tr><td id="L9468" class="css-a4x74f"><span>9468</span></td><td id="LC9468" class="css-1dcdqdg"><code>	<span class="code-comment">// used by this overlay.</span>
</code></td></tr><tr><td id="L9469" class="css-a4x74f"><span>9469</span></td><td id="LC9469" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9470" class="css-a4x74f"><span>9470</span></td><td id="LC9470" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9471" class="css-a4x74f"><span>9471</span></td><td id="LC9471" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9472" class="css-a4x74f"><span>9472</span></td><td id="LC9472" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.svgOverlay(svg: String|SVGElement, bounds: LatLngBounds, options?: SVGOverlay options)</span>
</code></td></tr><tr><td id="L9473" class="css-a4x74f"><span>9473</span></td><td id="LC9473" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates an image overlay object given an SVG element and the geographical bounds it is tied to.</span>
</code></td></tr><tr><td id="L9474" class="css-a4x74f"><span>9474</span></td><td id="LC9474" class="css-1dcdqdg"><code><span class="code-comment">// A viewBox attribute is required on the SVG element to zoom in and out properly.</span>
</code></td></tr><tr><td id="L9475" class="css-a4x74f"><span>9475</span></td><td id="LC9475" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9476" class="css-a4x74f"><span>9476</span></td><td id="LC9476" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">svgOverlay</span>(<span class="code-params">el, bounds, options</span>) </span>{
</code></td></tr><tr><td id="L9477" class="css-a4x74f"><span>9477</span></td><td id="LC9477" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> SVGOverlay(el, bounds, options);
</code></td></tr><tr><td id="L9478" class="css-a4x74f"><span>9478</span></td><td id="LC9478" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L9479" class="css-a4x74f"><span>9479</span></td><td id="LC9479" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9480" class="css-a4x74f"><span>9480</span></td><td id="LC9480" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L9481" class="css-a4x74f"><span>9481</span></td><td id="LC9481" class="css-1dcdqdg"><code><span class="code-comment"> * @class DivOverlay
</span></code></td></tr><tr><td id="L9482" class="css-a4x74f"><span>9482</span></td><td id="LC9482" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Interactive layer
</span></code></td></tr><tr><td id="L9483" class="css-a4x74f"><span>9483</span></td><td id="LC9483" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.DivOverlay
</span></code></td></tr><tr><td id="L9484" class="css-a4x74f"><span>9484</span></td><td id="LC9484" class="css-1dcdqdg"><code><span class="code-comment"> * Base model for L.Popup and L.Tooltip. Inherit from it for custom overlays like plugins.
</span></code></td></tr><tr><td id="L9485" class="css-a4x74f"><span>9485</span></td><td id="LC9485" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L9486" class="css-a4x74f"><span>9486</span></td><td id="LC9486" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9487" class="css-a4x74f"><span>9487</span></td><td id="LC9487" class="css-1dcdqdg"><code><span class="code-comment">// @namespace DivOverlay</span>
</code></td></tr><tr><td id="L9488" class="css-a4x74f"><span>9488</span></td><td id="LC9488" class="css-1dcdqdg"><code><span class="code-keyword">var</span> DivOverlay = Layer.extend({
</code></td></tr><tr><td id="L9489" class="css-a4x74f"><span>9489</span></td><td id="LC9489" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9490" class="css-a4x74f"><span>9490</span></td><td id="LC9490" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L9491" class="css-a4x74f"><span>9491</span></td><td id="LC9491" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka DivOverlay options</span>
</code></td></tr><tr><td id="L9492" class="css-a4x74f"><span>9492</span></td><td id="LC9492" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L9493" class="css-a4x74f"><span>9493</span></td><td id="LC9493" class="css-1dcdqdg"><code>		<span class="code-comment">// @option interactive: Boolean = false</span>
</code></td></tr><tr><td id="L9494" class="css-a4x74f"><span>9494</span></td><td id="LC9494" class="css-1dcdqdg"><code>		<span class="code-comment">// If true, the popup/tooltip will listen to the mouse events.</span>
</code></td></tr><tr><td id="L9495" class="css-a4x74f"><span>9495</span></td><td id="LC9495" class="css-1dcdqdg"><code>		interactive: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L9496" class="css-a4x74f"><span>9496</span></td><td id="LC9496" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9497" class="css-a4x74f"><span>9497</span></td><td id="LC9497" class="css-1dcdqdg"><code>		<span class="code-comment">// @option offset: Point = Point(0, 0)</span>
</code></td></tr><tr><td id="L9498" class="css-a4x74f"><span>9498</span></td><td id="LC9498" class="css-1dcdqdg"><code>		<span class="code-comment">// The offset of the overlay position.</span>
</code></td></tr><tr><td id="L9499" class="css-a4x74f"><span>9499</span></td><td id="LC9499" class="css-1dcdqdg"><code>		offset: [<span class="code-number">0</span>, <span class="code-number">0</span>],
</code></td></tr><tr><td id="L9500" class="css-a4x74f"><span>9500</span></td><td id="LC9500" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9501" class="css-a4x74f"><span>9501</span></td><td id="LC9501" class="css-1dcdqdg"><code>		<span class="code-comment">// @option className: String = ''</span>
</code></td></tr><tr><td id="L9502" class="css-a4x74f"><span>9502</span></td><td id="LC9502" class="css-1dcdqdg"><code>		<span class="code-comment">// A custom CSS class name to assign to the overlay.</span>
</code></td></tr><tr><td id="L9503" class="css-a4x74f"><span>9503</span></td><td id="LC9503" class="css-1dcdqdg"><code>		className: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L9504" class="css-a4x74f"><span>9504</span></td><td id="LC9504" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9505" class="css-a4x74f"><span>9505</span></td><td id="LC9505" class="css-1dcdqdg"><code>		<span class="code-comment">// @option pane: String = undefined</span>
</code></td></tr><tr><td id="L9506" class="css-a4x74f"><span>9506</span></td><td id="LC9506" class="css-1dcdqdg"><code>		<span class="code-comment">// `Map pane` where the overlay will be added.</span>
</code></td></tr><tr><td id="L9507" class="css-a4x74f"><span>9507</span></td><td id="LC9507" class="css-1dcdqdg"><code>		pane: <span class="code-literal">undefined</span>
</code></td></tr><tr><td id="L9508" class="css-a4x74f"><span>9508</span></td><td id="LC9508" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9509" class="css-a4x74f"><span>9509</span></td><td id="LC9509" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9510" class="css-a4x74f"><span>9510</span></td><td id="LC9510" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options, source</span>) </span>{
</code></td></tr><tr><td id="L9511" class="css-a4x74f"><span>9511</span></td><td id="LC9511" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L9512" class="css-a4x74f"><span>9512</span></td><td id="LC9512" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9513" class="css-a4x74f"><span>9513</span></td><td id="LC9513" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._source = source;
</code></td></tr><tr><td id="L9514" class="css-a4x74f"><span>9514</span></td><td id="LC9514" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9515" class="css-a4x74f"><span>9515</span></td><td id="LC9515" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9516" class="css-a4x74f"><span>9516</span></td><td id="LC9516" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openOn(map: Map): this</span>
</code></td></tr><tr><td id="L9517" class="css-a4x74f"><span>9517</span></td><td id="LC9517" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds the overlay to the map.</span>
</code></td></tr><tr><td id="L9518" class="css-a4x74f"><span>9518</span></td><td id="LC9518" class="css-1dcdqdg"><code>	<span class="code-comment">// Alternative to `map.openPopup(popup)`/`.openTooltip(tooltip)`.</span>
</code></td></tr><tr><td id="L9519" class="css-a4x74f"><span>9519</span></td><td id="LC9519" class="css-1dcdqdg"><code>	openOn: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L9520" class="css-a4x74f"><span>9520</span></td><td id="LC9520" class="css-1dcdqdg"><code>		map = <span class="code-built_in">arguments</span>.length ? map : <span class="code-keyword">this</span>._source._map; <span class="code-comment">// experimental, not the part of public api</span>
</code></td></tr><tr><td id="L9521" class="css-a4x74f"><span>9521</span></td><td id="LC9521" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!map.hasLayer(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L9522" class="css-a4x74f"><span>9522</span></td><td id="LC9522" class="css-1dcdqdg"><code>			map.addLayer(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L9523" class="css-a4x74f"><span>9523</span></td><td id="LC9523" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9524" class="css-a4x74f"><span>9524</span></td><td id="LC9524" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9525" class="css-a4x74f"><span>9525</span></td><td id="LC9525" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9526" class="css-a4x74f"><span>9526</span></td><td id="LC9526" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9527" class="css-a4x74f"><span>9527</span></td><td id="LC9527" class="css-1dcdqdg"><code>	<span class="code-comment">// @method close(): this</span>
</code></td></tr><tr><td id="L9528" class="css-a4x74f"><span>9528</span></td><td id="LC9528" class="css-1dcdqdg"><code>	<span class="code-comment">// Closes the overlay.</span>
</code></td></tr><tr><td id="L9529" class="css-a4x74f"><span>9529</span></td><td id="LC9529" class="css-1dcdqdg"><code>	<span class="code-comment">// Alternative to `map.closePopup(popup)`/`.closeTooltip(tooltip)`</span>
</code></td></tr><tr><td id="L9530" class="css-a4x74f"><span>9530</span></td><td id="LC9530" class="css-1dcdqdg"><code>	<span class="code-comment">// and `layer.closePopup()`/`.closeTooltip()`.</span>
</code></td></tr><tr><td id="L9531" class="css-a4x74f"><span>9531</span></td><td id="LC9531" class="css-1dcdqdg"><code>	close: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9532" class="css-a4x74f"><span>9532</span></td><td id="LC9532" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9533" class="css-a4x74f"><span>9533</span></td><td id="LC9533" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.removeLayer(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L9534" class="css-a4x74f"><span>9534</span></td><td id="LC9534" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9535" class="css-a4x74f"><span>9535</span></td><td id="LC9535" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9536" class="css-a4x74f"><span>9536</span></td><td id="LC9536" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9537" class="css-a4x74f"><span>9537</span></td><td id="LC9537" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9538" class="css-a4x74f"><span>9538</span></td><td id="LC9538" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toggle(layer?: Layer): this</span>
</code></td></tr><tr><td id="L9539" class="css-a4x74f"><span>9539</span></td><td id="LC9539" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens or closes the overlay bound to layer depending on its current state.</span>
</code></td></tr><tr><td id="L9540" class="css-a4x74f"><span>9540</span></td><td id="LC9540" class="css-1dcdqdg"><code>	<span class="code-comment">// Argument may be omitted only for overlay bound to layer.</span>
</code></td></tr><tr><td id="L9541" class="css-a4x74f"><span>9541</span></td><td id="LC9541" class="css-1dcdqdg"><code>	<span class="code-comment">// Alternative to `layer.togglePopup()`/`.toggleTooltip()`.</span>
</code></td></tr><tr><td id="L9542" class="css-a4x74f"><span>9542</span></td><td id="LC9542" class="css-1dcdqdg"><code>	toggle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L9543" class="css-a4x74f"><span>9543</span></td><td id="LC9543" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9544" class="css-a4x74f"><span>9544</span></td><td id="LC9544" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.close();
</code></td></tr><tr><td id="L9545" class="css-a4x74f"><span>9545</span></td><td id="LC9545" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9546" class="css-a4x74f"><span>9546</span></td><td id="LC9546" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-built_in">arguments</span>.length) {
</code></td></tr><tr><td id="L9547" class="css-a4x74f"><span>9547</span></td><td id="LC9547" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._source = layer;
</code></td></tr><tr><td id="L9548" class="css-a4x74f"><span>9548</span></td><td id="LC9548" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9549" class="css-a4x74f"><span>9549</span></td><td id="LC9549" class="css-1dcdqdg"><code>				layer = <span class="code-keyword">this</span>._source;
</code></td></tr><tr><td id="L9550" class="css-a4x74f"><span>9550</span></td><td id="LC9550" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9551" class="css-a4x74f"><span>9551</span></td><td id="LC9551" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._prepareOpen();
</code></td></tr><tr><td id="L9552" class="css-a4x74f"><span>9552</span></td><td id="LC9552" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9553" class="css-a4x74f"><span>9553</span></td><td id="LC9553" class="css-1dcdqdg"><code>			<span class="code-comment">// open the overlay on the map</span>
</code></td></tr><tr><td id="L9554" class="css-a4x74f"><span>9554</span></td><td id="LC9554" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.openOn(layer._map);
</code></td></tr><tr><td id="L9555" class="css-a4x74f"><span>9555</span></td><td id="LC9555" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9556" class="css-a4x74f"><span>9556</span></td><td id="LC9556" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9557" class="css-a4x74f"><span>9557</span></td><td id="LC9557" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9558" class="css-a4x74f"><span>9558</span></td><td id="LC9558" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9559" class="css-a4x74f"><span>9559</span></td><td id="LC9559" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L9560" class="css-a4x74f"><span>9560</span></td><td id="LC9560" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoomAnimated = map._zoomAnimated;
</code></td></tr><tr><td id="L9561" class="css-a4x74f"><span>9561</span></td><td id="LC9561" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9562" class="css-a4x74f"><span>9562</span></td><td id="LC9562" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._container) {
</code></td></tr><tr><td id="L9563" class="css-a4x74f"><span>9563</span></td><td id="LC9563" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._initLayout();
</code></td></tr><tr><td id="L9564" class="css-a4x74f"><span>9564</span></td><td id="LC9564" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9565" class="css-a4x74f"><span>9565</span></td><td id="LC9565" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9566" class="css-a4x74f"><span>9566</span></td><td id="LC9566" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map._fadeAnimated) {
</code></td></tr><tr><td id="L9567" class="css-a4x74f"><span>9567</span></td><td id="LC9567" class="css-1dcdqdg"><code>			setOpacity(<span class="code-keyword">this</span>._container, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L9568" class="css-a4x74f"><span>9568</span></td><td id="LC9568" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9569" class="css-a4x74f"><span>9569</span></td><td id="LC9569" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9570" class="css-a4x74f"><span>9570</span></td><td id="LC9570" class="css-1dcdqdg"><code>		clearTimeout(<span class="code-keyword">this</span>._removeTimeout);
</code></td></tr><tr><td id="L9571" class="css-a4x74f"><span>9571</span></td><td id="LC9571" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.getPane().appendChild(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L9572" class="css-a4x74f"><span>9572</span></td><td id="LC9572" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L9573" class="css-a4x74f"><span>9573</span></td><td id="LC9573" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9574" class="css-a4x74f"><span>9574</span></td><td id="LC9574" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map._fadeAnimated) {
</code></td></tr><tr><td id="L9575" class="css-a4x74f"><span>9575</span></td><td id="LC9575" class="css-1dcdqdg"><code>			setOpacity(<span class="code-keyword">this</span>._container, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L9576" class="css-a4x74f"><span>9576</span></td><td id="LC9576" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9577" class="css-a4x74f"><span>9577</span></td><td id="LC9577" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9578" class="css-a4x74f"><span>9578</span></td><td id="LC9578" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.bringToFront();
</code></td></tr><tr><td id="L9579" class="css-a4x74f"><span>9579</span></td><td id="LC9579" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9580" class="css-a4x74f"><span>9580</span></td><td id="LC9580" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.interactive) {
</code></td></tr><tr><td id="L9581" class="css-a4x74f"><span>9581</span></td><td id="LC9581" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-interactive'</span>);
</code></td></tr><tr><td id="L9582" class="css-a4x74f"><span>9582</span></td><td id="LC9582" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addInteractiveTarget(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L9583" class="css-a4x74f"><span>9583</span></td><td id="LC9583" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9584" class="css-a4x74f"><span>9584</span></td><td id="LC9584" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9585" class="css-a4x74f"><span>9585</span></td><td id="LC9585" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9586" class="css-a4x74f"><span>9586</span></td><td id="LC9586" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L9587" class="css-a4x74f"><span>9587</span></td><td id="LC9587" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map._fadeAnimated) {
</code></td></tr><tr><td id="L9588" class="css-a4x74f"><span>9588</span></td><td id="LC9588" class="css-1dcdqdg"><code>			setOpacity(<span class="code-keyword">this</span>._container, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L9589" class="css-a4x74f"><span>9589</span></td><td id="LC9589" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._removeTimeout = setTimeout(bind(remove, <span class="code-literal">undefined</span>, <span class="code-keyword">this</span>._container), <span class="code-number">200</span>);
</code></td></tr><tr><td id="L9590" class="css-a4x74f"><span>9590</span></td><td id="LC9590" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9591" class="css-a4x74f"><span>9591</span></td><td id="LC9591" class="css-1dcdqdg"><code>			remove(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L9592" class="css-a4x74f"><span>9592</span></td><td id="LC9592" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9593" class="css-a4x74f"><span>9593</span></td><td id="LC9593" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9594" class="css-a4x74f"><span>9594</span></td><td id="LC9594" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.interactive) {
</code></td></tr><tr><td id="L9595" class="css-a4x74f"><span>9595</span></td><td id="LC9595" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-interactive'</span>);
</code></td></tr><tr><td id="L9596" class="css-a4x74f"><span>9596</span></td><td id="LC9596" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.removeInteractiveTarget(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L9597" class="css-a4x74f"><span>9597</span></td><td id="LC9597" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9598" class="css-a4x74f"><span>9598</span></td><td id="LC9598" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9599" class="css-a4x74f"><span>9599</span></td><td id="LC9599" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9600" class="css-a4x74f"><span>9600</span></td><td id="LC9600" class="css-1dcdqdg"><code>	<span class="code-comment">// @namespace DivOverlay</span>
</code></td></tr><tr><td id="L9601" class="css-a4x74f"><span>9601</span></td><td id="LC9601" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getLatLng: LatLng</span>
</code></td></tr><tr><td id="L9602" class="css-a4x74f"><span>9602</span></td><td id="LC9602" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the geographical point of the overlay.</span>
</code></td></tr><tr><td id="L9603" class="css-a4x74f"><span>9603</span></td><td id="LC9603" class="css-1dcdqdg"><code>	getLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9604" class="css-a4x74f"><span>9604</span></td><td id="LC9604" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._latlng;
</code></td></tr><tr><td id="L9605" class="css-a4x74f"><span>9605</span></td><td id="LC9605" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9606" class="css-a4x74f"><span>9606</span></td><td id="LC9606" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9607" class="css-a4x74f"><span>9607</span></td><td id="LC9607" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setLatLng(latlng: LatLng): this</span>
</code></td></tr><tr><td id="L9608" class="css-a4x74f"><span>9608</span></td><td id="LC9608" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the geographical point where the overlay will open.</span>
</code></td></tr><tr><td id="L9609" class="css-a4x74f"><span>9609</span></td><td id="LC9609" class="css-1dcdqdg"><code>	setLatLng: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L9610" class="css-a4x74f"><span>9610</span></td><td id="LC9610" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._latlng = toLatLng(latlng);
</code></td></tr><tr><td id="L9611" class="css-a4x74f"><span>9611</span></td><td id="LC9611" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9612" class="css-a4x74f"><span>9612</span></td><td id="LC9612" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updatePosition();
</code></td></tr><tr><td id="L9613" class="css-a4x74f"><span>9613</span></td><td id="LC9613" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._adjustPan();
</code></td></tr><tr><td id="L9614" class="css-a4x74f"><span>9614</span></td><td id="LC9614" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9615" class="css-a4x74f"><span>9615</span></td><td id="LC9615" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9616" class="css-a4x74f"><span>9616</span></td><td id="LC9616" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9617" class="css-a4x74f"><span>9617</span></td><td id="LC9617" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9618" class="css-a4x74f"><span>9618</span></td><td id="LC9618" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getContent: String|HTMLElement</span>
</code></td></tr><tr><td id="L9619" class="css-a4x74f"><span>9619</span></td><td id="LC9619" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the content of the overlay.</span>
</code></td></tr><tr><td id="L9620" class="css-a4x74f"><span>9620</span></td><td id="LC9620" class="css-1dcdqdg"><code>	getContent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9621" class="css-a4x74f"><span>9621</span></td><td id="LC9621" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._content;
</code></td></tr><tr><td id="L9622" class="css-a4x74f"><span>9622</span></td><td id="LC9622" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9623" class="css-a4x74f"><span>9623</span></td><td id="LC9623" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9624" class="css-a4x74f"><span>9624</span></td><td id="LC9624" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setContent(htmlContent: String|HTMLElement|Function): this</span>
</code></td></tr><tr><td id="L9625" class="css-a4x74f"><span>9625</span></td><td id="LC9625" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the HTML content of the overlay. If a function is passed the source layer will be passed to the function.</span>
</code></td></tr><tr><td id="L9626" class="css-a4x74f"><span>9626</span></td><td id="LC9626" class="css-1dcdqdg"><code>	<span class="code-comment">// The function should return a `String` or `HTMLElement` to be used in the overlay.</span>
</code></td></tr><tr><td id="L9627" class="css-a4x74f"><span>9627</span></td><td id="LC9627" class="css-1dcdqdg"><code>	setContent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">content</span>) </span>{
</code></td></tr><tr><td id="L9628" class="css-a4x74f"><span>9628</span></td><td id="LC9628" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._content = content;
</code></td></tr><tr><td id="L9629" class="css-a4x74f"><span>9629</span></td><td id="LC9629" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L9630" class="css-a4x74f"><span>9630</span></td><td id="LC9630" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9631" class="css-a4x74f"><span>9631</span></td><td id="LC9631" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9632" class="css-a4x74f"><span>9632</span></td><td id="LC9632" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9633" class="css-a4x74f"><span>9633</span></td><td id="LC9633" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getElement: String|HTMLElement</span>
</code></td></tr><tr><td id="L9634" class="css-a4x74f"><span>9634</span></td><td id="LC9634" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the HTML container of the overlay.</span>
</code></td></tr><tr><td id="L9635" class="css-a4x74f"><span>9635</span></td><td id="LC9635" class="css-1dcdqdg"><code>	getElement: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9636" class="css-a4x74f"><span>9636</span></td><td id="LC9636" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L9637" class="css-a4x74f"><span>9637</span></td><td id="LC9637" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9638" class="css-a4x74f"><span>9638</span></td><td id="LC9638" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9639" class="css-a4x74f"><span>9639</span></td><td id="LC9639" class="css-1dcdqdg"><code>	<span class="code-comment">// @method update: null</span>
</code></td></tr><tr><td id="L9640" class="css-a4x74f"><span>9640</span></td><td id="LC9640" class="css-1dcdqdg"><code>	<span class="code-comment">// Updates the overlay content, layout and position. Useful for updating the overlay after something inside changed, e.g. image loaded.</span>
</code></td></tr><tr><td id="L9641" class="css-a4x74f"><span>9641</span></td><td id="LC9641" class="css-1dcdqdg"><code>	update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9642" class="css-a4x74f"><span>9642</span></td><td id="LC9642" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L9643" class="css-a4x74f"><span>9643</span></td><td id="LC9643" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9644" class="css-a4x74f"><span>9644</span></td><td id="LC9644" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.style.visibility = <span class="code-string">'hidden'</span>;
</code></td></tr><tr><td id="L9645" class="css-a4x74f"><span>9645</span></td><td id="LC9645" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9646" class="css-a4x74f"><span>9646</span></td><td id="LC9646" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateContent();
</code></td></tr><tr><td id="L9647" class="css-a4x74f"><span>9647</span></td><td id="LC9647" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateLayout();
</code></td></tr><tr><td id="L9648" class="css-a4x74f"><span>9648</span></td><td id="LC9648" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updatePosition();
</code></td></tr><tr><td id="L9649" class="css-a4x74f"><span>9649</span></td><td id="LC9649" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9650" class="css-a4x74f"><span>9650</span></td><td id="LC9650" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.style.visibility = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L9651" class="css-a4x74f"><span>9651</span></td><td id="LC9651" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9652" class="css-a4x74f"><span>9652</span></td><td id="LC9652" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._adjustPan();
</code></td></tr><tr><td id="L9653" class="css-a4x74f"><span>9653</span></td><td id="LC9653" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9654" class="css-a4x74f"><span>9654</span></td><td id="LC9654" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9655" class="css-a4x74f"><span>9655</span></td><td id="LC9655" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9656" class="css-a4x74f"><span>9656</span></td><td id="LC9656" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = {
</code></td></tr><tr><td id="L9657" class="css-a4x74f"><span>9657</span></td><td id="LC9657" class="css-1dcdqdg"><code>			zoom: <span class="code-keyword">this</span>._updatePosition,
</code></td></tr><tr><td id="L9658" class="css-a4x74f"><span>9658</span></td><td id="LC9658" class="css-1dcdqdg"><code>			viewreset: <span class="code-keyword">this</span>._updatePosition
</code></td></tr><tr><td id="L9659" class="css-a4x74f"><span>9659</span></td><td id="LC9659" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L9660" class="css-a4x74f"><span>9660</span></td><td id="LC9660" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9661" class="css-a4x74f"><span>9661</span></td><td id="LC9661" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L9662" class="css-a4x74f"><span>9662</span></td><td id="LC9662" class="css-1dcdqdg"><code>			events.zoomanim = <span class="code-keyword">this</span>._animateZoom;
</code></td></tr><tr><td id="L9663" class="css-a4x74f"><span>9663</span></td><td id="LC9663" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9664" class="css-a4x74f"><span>9664</span></td><td id="LC9664" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L9665" class="css-a4x74f"><span>9665</span></td><td id="LC9665" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9666" class="css-a4x74f"><span>9666</span></td><td id="LC9666" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9667" class="css-a4x74f"><span>9667</span></td><td id="LC9667" class="css-1dcdqdg"><code>	<span class="code-comment">// @method isOpen: Boolean</span>
</code></td></tr><tr><td id="L9668" class="css-a4x74f"><span>9668</span></td><td id="LC9668" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` when the overlay is visible on the map.</span>
</code></td></tr><tr><td id="L9669" class="css-a4x74f"><span>9669</span></td><td id="LC9669" class="css-1dcdqdg"><code>	isOpen: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9670" class="css-a4x74f"><span>9670</span></td><td id="LC9670" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> !!<span class="code-keyword">this</span>._map &amp;&amp; <span class="code-keyword">this</span>._map.hasLayer(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L9671" class="css-a4x74f"><span>9671</span></td><td id="LC9671" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9672" class="css-a4x74f"><span>9672</span></td><td id="LC9672" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9673" class="css-a4x74f"><span>9673</span></td><td id="LC9673" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToFront: this</span>
</code></td></tr><tr><td id="L9674" class="css-a4x74f"><span>9674</span></td><td id="LC9674" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings this overlay in front of other overlays (in the same map pane).</span>
</code></td></tr><tr><td id="L9675" class="css-a4x74f"><span>9675</span></td><td id="LC9675" class="css-1dcdqdg"><code>	bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9676" class="css-a4x74f"><span>9676</span></td><td id="LC9676" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9677" class="css-a4x74f"><span>9677</span></td><td id="LC9677" class="css-1dcdqdg"><code>			toFront(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L9678" class="css-a4x74f"><span>9678</span></td><td id="LC9678" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9679" class="css-a4x74f"><span>9679</span></td><td id="LC9679" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9680" class="css-a4x74f"><span>9680</span></td><td id="LC9680" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9681" class="css-a4x74f"><span>9681</span></td><td id="LC9681" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9682" class="css-a4x74f"><span>9682</span></td><td id="LC9682" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToBack: this</span>
</code></td></tr><tr><td id="L9683" class="css-a4x74f"><span>9683</span></td><td id="LC9683" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings this overlay to the back of other overlays (in the same map pane).</span>
</code></td></tr><tr><td id="L9684" class="css-a4x74f"><span>9684</span></td><td id="LC9684" class="css-1dcdqdg"><code>	bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9685" class="css-a4x74f"><span>9685</span></td><td id="LC9685" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9686" class="css-a4x74f"><span>9686</span></td><td id="LC9686" class="css-1dcdqdg"><code>			toBack(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L9687" class="css-a4x74f"><span>9687</span></td><td id="LC9687" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9688" class="css-a4x74f"><span>9688</span></td><td id="LC9688" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9689" class="css-a4x74f"><span>9689</span></td><td id="LC9689" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9690" class="css-a4x74f"><span>9690</span></td><td id="LC9690" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9691" class="css-a4x74f"><span>9691</span></td><td id="LC9691" class="css-1dcdqdg"><code>	<span class="code-comment">// prepare bound overlay to open: update latlng pos / content source (for FeatureGroup)</span>
</code></td></tr><tr><td id="L9692" class="css-a4x74f"><span>9692</span></td><td id="LC9692" class="css-1dcdqdg"><code>	_prepareOpen: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L9693" class="css-a4x74f"><span>9693</span></td><td id="LC9693" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> source = <span class="code-keyword">this</span>._source;
</code></td></tr><tr><td id="L9694" class="css-a4x74f"><span>9694</span></td><td id="LC9694" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!source._map) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L9695" class="css-a4x74f"><span>9695</span></td><td id="LC9695" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9696" class="css-a4x74f"><span>9696</span></td><td id="LC9696" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (source <span class="code-keyword">instanceof</span> FeatureGroup) {
</code></td></tr><tr><td id="L9697" class="css-a4x74f"><span>9697</span></td><td id="LC9697" class="css-1dcdqdg"><code>			source = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L9698" class="css-a4x74f"><span>9698</span></td><td id="LC9698" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> layers = <span class="code-keyword">this</span>._source._layers;
</code></td></tr><tr><td id="L9699" class="css-a4x74f"><span>9699</span></td><td id="LC9699" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> layers) {
</code></td></tr><tr><td id="L9700" class="css-a4x74f"><span>9700</span></td><td id="LC9700" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (layers[id]._map) {
</code></td></tr><tr><td id="L9701" class="css-a4x74f"><span>9701</span></td><td id="LC9701" class="css-1dcdqdg"><code>					source = layers[id];
</code></td></tr><tr><td id="L9702" class="css-a4x74f"><span>9702</span></td><td id="LC9702" class="css-1dcdqdg"><code>					<span class="code-keyword">break</span>;
</code></td></tr><tr><td id="L9703" class="css-a4x74f"><span>9703</span></td><td id="LC9703" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L9704" class="css-a4x74f"><span>9704</span></td><td id="LC9704" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9705" class="css-a4x74f"><span>9705</span></td><td id="LC9705" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!source) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; } <span class="code-comment">// Unable to get source layer.</span>
</code></td></tr><tr><td id="L9706" class="css-a4x74f"><span>9706</span></td><td id="LC9706" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9707" class="css-a4x74f"><span>9707</span></td><td id="LC9707" class="css-1dcdqdg"><code>			<span class="code-comment">// set overlay source to this layer</span>
</code></td></tr><tr><td id="L9708" class="css-a4x74f"><span>9708</span></td><td id="LC9708" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._source = source;
</code></td></tr><tr><td id="L9709" class="css-a4x74f"><span>9709</span></td><td id="LC9709" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9710" class="css-a4x74f"><span>9710</span></td><td id="LC9710" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9711" class="css-a4x74f"><span>9711</span></td><td id="LC9711" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!latlng) {
</code></td></tr><tr><td id="L9712" class="css-a4x74f"><span>9712</span></td><td id="LC9712" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (source.getCenter) {
</code></td></tr><tr><td id="L9713" class="css-a4x74f"><span>9713</span></td><td id="LC9713" class="css-1dcdqdg"><code>				latlng = source.getCenter();
</code></td></tr><tr><td id="L9714" class="css-a4x74f"><span>9714</span></td><td id="LC9714" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (source.getLatLng) {
</code></td></tr><tr><td id="L9715" class="css-a4x74f"><span>9715</span></td><td id="LC9715" class="css-1dcdqdg"><code>				latlng = source.getLatLng();
</code></td></tr><tr><td id="L9716" class="css-a4x74f"><span>9716</span></td><td id="LC9716" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (source.getBounds) {
</code></td></tr><tr><td id="L9717" class="css-a4x74f"><span>9717</span></td><td id="LC9717" class="css-1dcdqdg"><code>				latlng = source.getBounds().getCenter();
</code></td></tr><tr><td id="L9718" class="css-a4x74f"><span>9718</span></td><td id="LC9718" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9719" class="css-a4x74f"><span>9719</span></td><td id="LC9719" class="css-1dcdqdg"><code>				<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Unable to get source layer LatLng.'</span>);
</code></td></tr><tr><td id="L9720" class="css-a4x74f"><span>9720</span></td><td id="LC9720" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9721" class="css-a4x74f"><span>9721</span></td><td id="LC9721" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9722" class="css-a4x74f"><span>9722</span></td><td id="LC9722" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.setLatLng(latlng);
</code></td></tr><tr><td id="L9723" class="css-a4x74f"><span>9723</span></td><td id="LC9723" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9724" class="css-a4x74f"><span>9724</span></td><td id="LC9724" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L9725" class="css-a4x74f"><span>9725</span></td><td id="LC9725" class="css-1dcdqdg"><code>			<span class="code-comment">// update the overlay (content, layout, etc...)</span>
</code></td></tr><tr><td id="L9726" class="css-a4x74f"><span>9726</span></td><td id="LC9726" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.update();
</code></td></tr><tr><td id="L9727" class="css-a4x74f"><span>9727</span></td><td id="LC9727" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9728" class="css-a4x74f"><span>9728</span></td><td id="LC9728" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9729" class="css-a4x74f"><span>9729</span></td><td id="LC9729" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L9730" class="css-a4x74f"><span>9730</span></td><td id="LC9730" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9731" class="css-a4x74f"><span>9731</span></td><td id="LC9731" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9732" class="css-a4x74f"><span>9732</span></td><td id="LC9732" class="css-1dcdqdg"><code>	_updateContent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9733" class="css-a4x74f"><span>9733</span></td><td id="LC9733" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._content) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L9734" class="css-a4x74f"><span>9734</span></td><td id="LC9734" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9735" class="css-a4x74f"><span>9735</span></td><td id="LC9735" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> node = <span class="code-keyword">this</span>._contentNode;
</code></td></tr><tr><td id="L9736" class="css-a4x74f"><span>9736</span></td><td id="LC9736" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> content = (<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>._content === <span class="code-string">'function'</span>) ? <span class="code-keyword">this</span>._content(<span class="code-keyword">this</span>._source || <span class="code-keyword">this</span>) : <span class="code-keyword">this</span>._content;
</code></td></tr><tr><td id="L9737" class="css-a4x74f"><span>9737</span></td><td id="LC9737" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9738" class="css-a4x74f"><span>9738</span></td><td id="LC9738" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> content === <span class="code-string">'string'</span>) {
</code></td></tr><tr><td id="L9739" class="css-a4x74f"><span>9739</span></td><td id="LC9739" class="css-1dcdqdg"><code>			node.innerHTML = content;
</code></td></tr><tr><td id="L9740" class="css-a4x74f"><span>9740</span></td><td id="LC9740" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9741" class="css-a4x74f"><span>9741</span></td><td id="LC9741" class="css-1dcdqdg"><code>			<span class="code-keyword">while</span> (node.hasChildNodes()) {
</code></td></tr><tr><td id="L9742" class="css-a4x74f"><span>9742</span></td><td id="LC9742" class="css-1dcdqdg"><code>				node.removeChild(node.firstChild);
</code></td></tr><tr><td id="L9743" class="css-a4x74f"><span>9743</span></td><td id="LC9743" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9744" class="css-a4x74f"><span>9744</span></td><td id="LC9744" class="css-1dcdqdg"><code>			node.appendChild(content);
</code></td></tr><tr><td id="L9745" class="css-a4x74f"><span>9745</span></td><td id="LC9745" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9746" class="css-a4x74f"><span>9746</span></td><td id="LC9746" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9747" class="css-a4x74f"><span>9747</span></td><td id="LC9747" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace DivOverlay</span>
</code></td></tr><tr><td id="L9748" class="css-a4x74f"><span>9748</span></td><td id="LC9748" class="css-1dcdqdg"><code>		<span class="code-comment">// @section DivOverlay events</span>
</code></td></tr><tr><td id="L9749" class="css-a4x74f"><span>9749</span></td><td id="LC9749" class="css-1dcdqdg"><code>		<span class="code-comment">// @event contentupdate: Event</span>
</code></td></tr><tr><td id="L9750" class="css-a4x74f"><span>9750</span></td><td id="LC9750" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the content of the overlay is updated</span>
</code></td></tr><tr><td id="L9751" class="css-a4x74f"><span>9751</span></td><td id="LC9751" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'contentupdate'</span>);
</code></td></tr><tr><td id="L9752" class="css-a4x74f"><span>9752</span></td><td id="LC9752" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9753" class="css-a4x74f"><span>9753</span></td><td id="LC9753" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9754" class="css-a4x74f"><span>9754</span></td><td id="LC9754" class="css-1dcdqdg"><code>	_updatePosition: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9755" class="css-a4x74f"><span>9755</span></td><td id="LC9755" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L9756" class="css-a4x74f"><span>9756</span></td><td id="LC9756" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9757" class="css-a4x74f"><span>9757</span></td><td id="LC9757" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._map.latLngToLayerPoint(<span class="code-keyword">this</span>._latlng),
</code></td></tr><tr><td id="L9758" class="css-a4x74f"><span>9758</span></td><td id="LC9758" class="css-1dcdqdg"><code>		    offset = toPoint(<span class="code-keyword">this</span>.options.offset),
</code></td></tr><tr><td id="L9759" class="css-a4x74f"><span>9759</span></td><td id="LC9759" class="css-1dcdqdg"><code>		    anchor = <span class="code-keyword">this</span>._getAnchor();
</code></td></tr><tr><td id="L9760" class="css-a4x74f"><span>9760</span></td><td id="LC9760" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9761" class="css-a4x74f"><span>9761</span></td><td id="LC9761" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L9762" class="css-a4x74f"><span>9762</span></td><td id="LC9762" class="css-1dcdqdg"><code>			setPosition(<span class="code-keyword">this</span>._container, pos.add(anchor));
</code></td></tr><tr><td id="L9763" class="css-a4x74f"><span>9763</span></td><td id="LC9763" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9764" class="css-a4x74f"><span>9764</span></td><td id="LC9764" class="css-1dcdqdg"><code>			offset = offset.add(pos).add(anchor);
</code></td></tr><tr><td id="L9765" class="css-a4x74f"><span>9765</span></td><td id="LC9765" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9766" class="css-a4x74f"><span>9766</span></td><td id="LC9766" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9767" class="css-a4x74f"><span>9767</span></td><td id="LC9767" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bottom = <span class="code-keyword">this</span>._containerBottom = -offset.y,
</code></td></tr><tr><td id="L9768" class="css-a4x74f"><span>9768</span></td><td id="LC9768" class="css-1dcdqdg"><code>		    left = <span class="code-keyword">this</span>._containerLeft = -<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>._containerWidth / <span class="code-number">2</span>) + offset.x;
</code></td></tr><tr><td id="L9769" class="css-a4x74f"><span>9769</span></td><td id="LC9769" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9770" class="css-a4x74f"><span>9770</span></td><td id="LC9770" class="css-1dcdqdg"><code>		<span class="code-comment">// bottom position the overlay in case the height of the overlay changes (images loading etc)</span>
</code></td></tr><tr><td id="L9771" class="css-a4x74f"><span>9771</span></td><td id="LC9771" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.style.bottom = bottom + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L9772" class="css-a4x74f"><span>9772</span></td><td id="LC9772" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.style.left = left + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L9773" class="css-a4x74f"><span>9773</span></td><td id="LC9773" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9774" class="css-a4x74f"><span>9774</span></td><td id="LC9774" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9775" class="css-a4x74f"><span>9775</span></td><td id="LC9775" class="css-1dcdqdg"><code>	_getAnchor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9776" class="css-a4x74f"><span>9776</span></td><td id="LC9776" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> [<span class="code-number">0</span>, <span class="code-number">0</span>];
</code></td></tr><tr><td id="L9777" class="css-a4x74f"><span>9777</span></td><td id="LC9777" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9778" class="css-a4x74f"><span>9778</span></td><td id="LC9778" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9779" class="css-a4x74f"><span>9779</span></td><td id="LC9779" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9780" class="css-a4x74f"><span>9780</span></td><td id="LC9780" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9781" class="css-a4x74f"><span>9781</span></td><td id="LC9781" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.include({
</code></td></tr><tr><td id="L9782" class="css-a4x74f"><span>9782</span></td><td id="LC9782" class="css-1dcdqdg"><code>	_initOverlay: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">OverlayClass, content, latlng, options</span>) </span>{
</code></td></tr><tr><td id="L9783" class="css-a4x74f"><span>9783</span></td><td id="LC9783" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> overlay = content;
</code></td></tr><tr><td id="L9784" class="css-a4x74f"><span>9784</span></td><td id="LC9784" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!(overlay <span class="code-keyword">instanceof</span> OverlayClass)) {
</code></td></tr><tr><td id="L9785" class="css-a4x74f"><span>9785</span></td><td id="LC9785" class="css-1dcdqdg"><code>			overlay = <span class="code-keyword">new</span> OverlayClass(options).setContent(content);
</code></td></tr><tr><td id="L9786" class="css-a4x74f"><span>9786</span></td><td id="LC9786" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9787" class="css-a4x74f"><span>9787</span></td><td id="LC9787" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (latlng) {
</code></td></tr><tr><td id="L9788" class="css-a4x74f"><span>9788</span></td><td id="LC9788" class="css-1dcdqdg"><code>			overlay.setLatLng(latlng);
</code></td></tr><tr><td id="L9789" class="css-a4x74f"><span>9789</span></td><td id="LC9789" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9790" class="css-a4x74f"><span>9790</span></td><td id="LC9790" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> overlay;
</code></td></tr><tr><td id="L9791" class="css-a4x74f"><span>9791</span></td><td id="LC9791" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9792" class="css-a4x74f"><span>9792</span></td><td id="LC9792" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9793" class="css-a4x74f"><span>9793</span></td><td id="LC9793" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9794" class="css-a4x74f"><span>9794</span></td><td id="LC9794" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9795" class="css-a4x74f"><span>9795</span></td><td id="LC9795" class="css-1dcdqdg"><code>Layer.include({
</code></td></tr><tr><td id="L9796" class="css-a4x74f"><span>9796</span></td><td id="LC9796" class="css-1dcdqdg"><code>	_initOverlay: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">OverlayClass, old, content, options</span>) </span>{
</code></td></tr><tr><td id="L9797" class="css-a4x74f"><span>9797</span></td><td id="LC9797" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> overlay = content;
</code></td></tr><tr><td id="L9798" class="css-a4x74f"><span>9798</span></td><td id="LC9798" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (overlay <span class="code-keyword">instanceof</span> OverlayClass) {
</code></td></tr><tr><td id="L9799" class="css-a4x74f"><span>9799</span></td><td id="LC9799" class="css-1dcdqdg"><code>			setOptions(overlay, options);
</code></td></tr><tr><td id="L9800" class="css-a4x74f"><span>9800</span></td><td id="LC9800" class="css-1dcdqdg"><code>			overlay._source = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9801" class="css-a4x74f"><span>9801</span></td><td id="LC9801" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L9802" class="css-a4x74f"><span>9802</span></td><td id="LC9802" class="css-1dcdqdg"><code>			overlay = (old &amp;&amp; !options) ? old : <span class="code-keyword">new</span> OverlayClass(options, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L9803" class="css-a4x74f"><span>9803</span></td><td id="LC9803" class="css-1dcdqdg"><code>			overlay.setContent(content);
</code></td></tr><tr><td id="L9804" class="css-a4x74f"><span>9804</span></td><td id="LC9804" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9805" class="css-a4x74f"><span>9805</span></td><td id="LC9805" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> overlay;
</code></td></tr><tr><td id="L9806" class="css-a4x74f"><span>9806</span></td><td id="LC9806" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L9807" class="css-a4x74f"><span>9807</span></td><td id="LC9807" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L9808" class="css-a4x74f"><span>9808</span></td><td id="LC9808" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9809" class="css-a4x74f"><span>9809</span></td><td id="LC9809" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L9810" class="css-a4x74f"><span>9810</span></td><td id="LC9810" class="css-1dcdqdg"><code><span class="code-comment"> * @class Popup
</span></code></td></tr><tr><td id="L9811" class="css-a4x74f"><span>9811</span></td><td id="LC9811" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits DivOverlay
</span></code></td></tr><tr><td id="L9812" class="css-a4x74f"><span>9812</span></td><td id="LC9812" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Popup
</span></code></td></tr><tr><td id="L9813" class="css-a4x74f"><span>9813</span></td><td id="LC9813" class="css-1dcdqdg"><code><span class="code-comment"> * Used to open popups in certain places of the map. Use [Map.openPopup](#map-openpopup) to
</span></code></td></tr><tr><td id="L9814" class="css-a4x74f"><span>9814</span></td><td id="LC9814" class="css-1dcdqdg"><code><span class="code-comment"> * open popups while making sure that only one popup is open at one time
</span></code></td></tr><tr><td id="L9815" class="css-a4x74f"><span>9815</span></td><td id="LC9815" class="css-1dcdqdg"><code><span class="code-comment"> * (recommended for usability), or use [Map.addLayer](#map-addlayer) to open as many as you want.
</span></code></td></tr><tr><td id="L9816" class="css-a4x74f"><span>9816</span></td><td id="LC9816" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9817" class="css-a4x74f"><span>9817</span></td><td id="LC9817" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L9818" class="css-a4x74f"><span>9818</span></td><td id="LC9818" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9819" class="css-a4x74f"><span>9819</span></td><td id="LC9819" class="css-1dcdqdg"><code><span class="code-comment"> * If you want to just bind a popup to marker click and then open it, it's really easy:
</span></code></td></tr><tr><td id="L9820" class="css-a4x74f"><span>9820</span></td><td id="LC9820" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9821" class="css-a4x74f"><span>9821</span></td><td id="LC9821" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L9822" class="css-a4x74f"><span>9822</span></td><td id="LC9822" class="css-1dcdqdg"><code><span class="code-comment"> * marker.bindPopup(popupContent).openPopup();
</span></code></td></tr><tr><td id="L9823" class="css-a4x74f"><span>9823</span></td><td id="LC9823" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L9824" class="css-a4x74f"><span>9824</span></td><td id="LC9824" class="css-1dcdqdg"><code><span class="code-comment"> * Path overlays like polylines also have a `bindPopup` method.
</span></code></td></tr><tr><td id="L9825" class="css-a4x74f"><span>9825</span></td><td id="LC9825" class="css-1dcdqdg"><code><span class="code-comment"> * Here's a more complicated way to open a popup on a map:
</span></code></td></tr><tr><td id="L9826" class="css-a4x74f"><span>9826</span></td><td id="LC9826" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L9827" class="css-a4x74f"><span>9827</span></td><td id="LC9827" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L9828" class="css-a4x74f"><span>9828</span></td><td id="LC9828" class="css-1dcdqdg"><code><span class="code-comment"> * var popup = L.popup()
</span></code></td></tr><tr><td id="L9829" class="css-a4x74f"><span>9829</span></td><td id="LC9829" class="css-1dcdqdg"><code><span class="code-comment"> * 	.setLatLng(latlng)
</span></code></td></tr><tr><td id="L9830" class="css-a4x74f"><span>9830</span></td><td id="LC9830" class="css-1dcdqdg"><code><span class="code-comment"> * 	.setContent('&lt;p&gt;Hello world!&lt;br /&gt;This is a nice popup.&lt;/p&gt;')
</span></code></td></tr><tr><td id="L9831" class="css-a4x74f"><span>9831</span></td><td id="LC9831" class="css-1dcdqdg"><code><span class="code-comment"> * 	.openOn(map);
</span></code></td></tr><tr><td id="L9832" class="css-a4x74f"><span>9832</span></td><td id="LC9832" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L9833" class="css-a4x74f"><span>9833</span></td><td id="LC9833" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L9834" class="css-a4x74f"><span>9834</span></td><td id="LC9834" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9835" class="css-a4x74f"><span>9835</span></td><td id="LC9835" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9836" class="css-a4x74f"><span>9836</span></td><td id="LC9836" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Popup</span>
</code></td></tr><tr><td id="L9837" class="css-a4x74f"><span>9837</span></td><td id="LC9837" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Popup = DivOverlay.extend({
</code></td></tr><tr><td id="L9838" class="css-a4x74f"><span>9838</span></td><td id="LC9838" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9839" class="css-a4x74f"><span>9839</span></td><td id="LC9839" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L9840" class="css-a4x74f"><span>9840</span></td><td id="LC9840" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Popup options</span>
</code></td></tr><tr><td id="L9841" class="css-a4x74f"><span>9841</span></td><td id="LC9841" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L9842" class="css-a4x74f"><span>9842</span></td><td id="LC9842" class="css-1dcdqdg"><code>		<span class="code-comment">// @option pane: String = 'popupPane'</span>
</code></td></tr><tr><td id="L9843" class="css-a4x74f"><span>9843</span></td><td id="LC9843" class="css-1dcdqdg"><code>		<span class="code-comment">// `Map pane` where the popup will be added.</span>
</code></td></tr><tr><td id="L9844" class="css-a4x74f"><span>9844</span></td><td id="LC9844" class="css-1dcdqdg"><code>		pane: <span class="code-string">'popupPane'</span>,
</code></td></tr><tr><td id="L9845" class="css-a4x74f"><span>9845</span></td><td id="LC9845" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9846" class="css-a4x74f"><span>9846</span></td><td id="LC9846" class="css-1dcdqdg"><code>		<span class="code-comment">// @option offset: Point = Point(0, 7)</span>
</code></td></tr><tr><td id="L9847" class="css-a4x74f"><span>9847</span></td><td id="LC9847" class="css-1dcdqdg"><code>		<span class="code-comment">// The offset of the popup position.</span>
</code></td></tr><tr><td id="L9848" class="css-a4x74f"><span>9848</span></td><td id="LC9848" class="css-1dcdqdg"><code>		offset: [<span class="code-number">0</span>, <span class="code-number">7</span>],
</code></td></tr><tr><td id="L9849" class="css-a4x74f"><span>9849</span></td><td id="LC9849" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9850" class="css-a4x74f"><span>9850</span></td><td id="LC9850" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxWidth: Number = 300</span>
</code></td></tr><tr><td id="L9851" class="css-a4x74f"><span>9851</span></td><td id="LC9851" class="css-1dcdqdg"><code>		<span class="code-comment">// Max width of the popup, in pixels.</span>
</code></td></tr><tr><td id="L9852" class="css-a4x74f"><span>9852</span></td><td id="LC9852" class="css-1dcdqdg"><code>		maxWidth: <span class="code-number">300</span>,
</code></td></tr><tr><td id="L9853" class="css-a4x74f"><span>9853</span></td><td id="LC9853" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9854" class="css-a4x74f"><span>9854</span></td><td id="LC9854" class="css-1dcdqdg"><code>		<span class="code-comment">// @option minWidth: Number = 50</span>
</code></td></tr><tr><td id="L9855" class="css-a4x74f"><span>9855</span></td><td id="LC9855" class="css-1dcdqdg"><code>		<span class="code-comment">// Min width of the popup, in pixels.</span>
</code></td></tr><tr><td id="L9856" class="css-a4x74f"><span>9856</span></td><td id="LC9856" class="css-1dcdqdg"><code>		minWidth: <span class="code-number">50</span>,
</code></td></tr><tr><td id="L9857" class="css-a4x74f"><span>9857</span></td><td id="LC9857" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9858" class="css-a4x74f"><span>9858</span></td><td id="LC9858" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxHeight: Number = null</span>
</code></td></tr><tr><td id="L9859" class="css-a4x74f"><span>9859</span></td><td id="LC9859" class="css-1dcdqdg"><code>		<span class="code-comment">// If set, creates a scrollable container of the given height</span>
</code></td></tr><tr><td id="L9860" class="css-a4x74f"><span>9860</span></td><td id="LC9860" class="css-1dcdqdg"><code>		<span class="code-comment">// inside a popup if its content exceeds it.</span>
</code></td></tr><tr><td id="L9861" class="css-a4x74f"><span>9861</span></td><td id="LC9861" class="css-1dcdqdg"><code>		maxHeight: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L9862" class="css-a4x74f"><span>9862</span></td><td id="LC9862" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9863" class="css-a4x74f"><span>9863</span></td><td id="LC9863" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPan: Boolean = true</span>
</code></td></tr><tr><td id="L9864" class="css-a4x74f"><span>9864</span></td><td id="LC9864" class="css-1dcdqdg"><code>		<span class="code-comment">// Set it to `false` if you don't want the map to do panning animation</span>
</code></td></tr><tr><td id="L9865" class="css-a4x74f"><span>9865</span></td><td id="LC9865" class="css-1dcdqdg"><code>		<span class="code-comment">// to fit the opened popup.</span>
</code></td></tr><tr><td id="L9866" class="css-a4x74f"><span>9866</span></td><td id="LC9866" class="css-1dcdqdg"><code>		autoPan: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9867" class="css-a4x74f"><span>9867</span></td><td id="LC9867" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9868" class="css-a4x74f"><span>9868</span></td><td id="LC9868" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPanPaddingTopLeft: Point = null</span>
</code></td></tr><tr><td id="L9869" class="css-a4x74f"><span>9869</span></td><td id="LC9869" class="css-1dcdqdg"><code>		<span class="code-comment">// The margin between the popup and the top left corner of the map</span>
</code></td></tr><tr><td id="L9870" class="css-a4x74f"><span>9870</span></td><td id="LC9870" class="css-1dcdqdg"><code>		<span class="code-comment">// view after autopanning was performed.</span>
</code></td></tr><tr><td id="L9871" class="css-a4x74f"><span>9871</span></td><td id="LC9871" class="css-1dcdqdg"><code>		autoPanPaddingTopLeft: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L9872" class="css-a4x74f"><span>9872</span></td><td id="LC9872" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9873" class="css-a4x74f"><span>9873</span></td><td id="LC9873" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPanPaddingBottomRight: Point = null</span>
</code></td></tr><tr><td id="L9874" class="css-a4x74f"><span>9874</span></td><td id="LC9874" class="css-1dcdqdg"><code>		<span class="code-comment">// The margin between the popup and the bottom right corner of the map</span>
</code></td></tr><tr><td id="L9875" class="css-a4x74f"><span>9875</span></td><td id="LC9875" class="css-1dcdqdg"><code>		<span class="code-comment">// view after autopanning was performed.</span>
</code></td></tr><tr><td id="L9876" class="css-a4x74f"><span>9876</span></td><td id="LC9876" class="css-1dcdqdg"><code>		autoPanPaddingBottomRight: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L9877" class="css-a4x74f"><span>9877</span></td><td id="LC9877" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9878" class="css-a4x74f"><span>9878</span></td><td id="LC9878" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoPanPadding: Point = Point(5, 5)</span>
</code></td></tr><tr><td id="L9879" class="css-a4x74f"><span>9879</span></td><td id="LC9879" class="css-1dcdqdg"><code>		<span class="code-comment">// Equivalent of setting both top left and bottom right autopan padding to the same value.</span>
</code></td></tr><tr><td id="L9880" class="css-a4x74f"><span>9880</span></td><td id="LC9880" class="css-1dcdqdg"><code>		autoPanPadding: [<span class="code-number">5</span>, <span class="code-number">5</span>],
</code></td></tr><tr><td id="L9881" class="css-a4x74f"><span>9881</span></td><td id="LC9881" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9882" class="css-a4x74f"><span>9882</span></td><td id="LC9882" class="css-1dcdqdg"><code>		<span class="code-comment">// @option keepInView: Boolean = false</span>
</code></td></tr><tr><td id="L9883" class="css-a4x74f"><span>9883</span></td><td id="LC9883" class="css-1dcdqdg"><code>		<span class="code-comment">// Set it to `true` if you want to prevent users from panning the popup</span>
</code></td></tr><tr><td id="L9884" class="css-a4x74f"><span>9884</span></td><td id="LC9884" class="css-1dcdqdg"><code>		<span class="code-comment">// off of the screen while it is open.</span>
</code></td></tr><tr><td id="L9885" class="css-a4x74f"><span>9885</span></td><td id="LC9885" class="css-1dcdqdg"><code>		keepInView: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L9886" class="css-a4x74f"><span>9886</span></td><td id="LC9886" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9887" class="css-a4x74f"><span>9887</span></td><td id="LC9887" class="css-1dcdqdg"><code>		<span class="code-comment">// @option closeButton: Boolean = true</span>
</code></td></tr><tr><td id="L9888" class="css-a4x74f"><span>9888</span></td><td id="LC9888" class="css-1dcdqdg"><code>		<span class="code-comment">// Controls the presence of a close button in the popup.</span>
</code></td></tr><tr><td id="L9889" class="css-a4x74f"><span>9889</span></td><td id="LC9889" class="css-1dcdqdg"><code>		closeButton: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9890" class="css-a4x74f"><span>9890</span></td><td id="LC9890" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9891" class="css-a4x74f"><span>9891</span></td><td id="LC9891" class="css-1dcdqdg"><code>		<span class="code-comment">// @option autoClose: Boolean = true</span>
</code></td></tr><tr><td id="L9892" class="css-a4x74f"><span>9892</span></td><td id="LC9892" class="css-1dcdqdg"><code>		<span class="code-comment">// Set it to `false` if you want to override the default behavior of</span>
</code></td></tr><tr><td id="L9893" class="css-a4x74f"><span>9893</span></td><td id="LC9893" class="css-1dcdqdg"><code>		<span class="code-comment">// the popup closing when another popup is opened.</span>
</code></td></tr><tr><td id="L9894" class="css-a4x74f"><span>9894</span></td><td id="LC9894" class="css-1dcdqdg"><code>		autoClose: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9895" class="css-a4x74f"><span>9895</span></td><td id="LC9895" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9896" class="css-a4x74f"><span>9896</span></td><td id="LC9896" class="css-1dcdqdg"><code>		<span class="code-comment">// @option closeOnEscapeKey: Boolean = true</span>
</code></td></tr><tr><td id="L9897" class="css-a4x74f"><span>9897</span></td><td id="LC9897" class="css-1dcdqdg"><code>		<span class="code-comment">// Set it to `false` if you want to override the default behavior of</span>
</code></td></tr><tr><td id="L9898" class="css-a4x74f"><span>9898</span></td><td id="LC9898" class="css-1dcdqdg"><code>		<span class="code-comment">// the ESC key for closing of the popup.</span>
</code></td></tr><tr><td id="L9899" class="css-a4x74f"><span>9899</span></td><td id="LC9899" class="css-1dcdqdg"><code>		closeOnEscapeKey: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L9900" class="css-a4x74f"><span>9900</span></td><td id="LC9900" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9901" class="css-a4x74f"><span>9901</span></td><td id="LC9901" class="css-1dcdqdg"><code>		<span class="code-comment">// @option closeOnClick: Boolean = *</span>
</code></td></tr><tr><td id="L9902" class="css-a4x74f"><span>9902</span></td><td id="LC9902" class="css-1dcdqdg"><code>		<span class="code-comment">// Set it if you want to override the default behavior of the popup closing when user clicks</span>
</code></td></tr><tr><td id="L9903" class="css-a4x74f"><span>9903</span></td><td id="LC9903" class="css-1dcdqdg"><code>		<span class="code-comment">// on the map. Defaults to the map's [`closePopupOnClick`](#map-closepopuponclick) option.</span>
</code></td></tr><tr><td id="L9904" class="css-a4x74f"><span>9904</span></td><td id="LC9904" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9905" class="css-a4x74f"><span>9905</span></td><td id="LC9905" class="css-1dcdqdg"><code>		<span class="code-comment">// @option className: String = ''</span>
</code></td></tr><tr><td id="L9906" class="css-a4x74f"><span>9906</span></td><td id="LC9906" class="css-1dcdqdg"><code>		<span class="code-comment">// A custom CSS class name to assign to the popup.</span>
</code></td></tr><tr><td id="L9907" class="css-a4x74f"><span>9907</span></td><td id="LC9907" class="css-1dcdqdg"><code>		className: <span class="code-string">''</span>
</code></td></tr><tr><td id="L9908" class="css-a4x74f"><span>9908</span></td><td id="LC9908" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9909" class="css-a4x74f"><span>9909</span></td><td id="LC9909" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9910" class="css-a4x74f"><span>9910</span></td><td id="LC9910" class="css-1dcdqdg"><code>	<span class="code-comment">// @namespace Popup</span>
</code></td></tr><tr><td id="L9911" class="css-a4x74f"><span>9911</span></td><td id="LC9911" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openOn(map: Map): this</span>
</code></td></tr><tr><td id="L9912" class="css-a4x74f"><span>9912</span></td><td id="LC9912" class="css-1dcdqdg"><code>	<span class="code-comment">// Alternative to `map.openPopup(popup)`.</span>
</code></td></tr><tr><td id="L9913" class="css-a4x74f"><span>9913</span></td><td id="LC9913" class="css-1dcdqdg"><code>	<span class="code-comment">// Adds the popup to the map and closes the previous one.</span>
</code></td></tr><tr><td id="L9914" class="css-a4x74f"><span>9914</span></td><td id="LC9914" class="css-1dcdqdg"><code>	openOn: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L9915" class="css-a4x74f"><span>9915</span></td><td id="LC9915" class="css-1dcdqdg"><code>		map = <span class="code-built_in">arguments</span>.length ? map : <span class="code-keyword">this</span>._source._map; <span class="code-comment">// experimental, not the part of public api</span>
</code></td></tr><tr><td id="L9916" class="css-a4x74f"><span>9916</span></td><td id="LC9916" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9917" class="css-a4x74f"><span>9917</span></td><td id="LC9917" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!map.hasLayer(<span class="code-keyword">this</span>) &amp;&amp; map._popup &amp;&amp; map._popup.options.autoClose) {
</code></td></tr><tr><td id="L9918" class="css-a4x74f"><span>9918</span></td><td id="LC9918" class="css-1dcdqdg"><code>			map.removeLayer(map._popup);
</code></td></tr><tr><td id="L9919" class="css-a4x74f"><span>9919</span></td><td id="LC9919" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9920" class="css-a4x74f"><span>9920</span></td><td id="LC9920" class="css-1dcdqdg"><code>		map._popup = <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L9921" class="css-a4x74f"><span>9921</span></td><td id="LC9921" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9922" class="css-a4x74f"><span>9922</span></td><td id="LC9922" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> DivOverlay.prototype.openOn.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L9923" class="css-a4x74f"><span>9923</span></td><td id="LC9923" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9924" class="css-a4x74f"><span>9924</span></td><td id="LC9924" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9925" class="css-a4x74f"><span>9925</span></td><td id="LC9925" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L9926" class="css-a4x74f"><span>9926</span></td><td id="LC9926" class="css-1dcdqdg"><code>		DivOverlay.prototype.onAdd.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L9927" class="css-a4x74f"><span>9927</span></td><td id="LC9927" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9928" class="css-a4x74f"><span>9928</span></td><td id="LC9928" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L9929" class="css-a4x74f"><span>9929</span></td><td id="LC9929" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Popup events</span>
</code></td></tr><tr><td id="L9930" class="css-a4x74f"><span>9930</span></td><td id="LC9930" class="css-1dcdqdg"><code>		<span class="code-comment">// @event popupopen: PopupEvent</span>
</code></td></tr><tr><td id="L9931" class="css-a4x74f"><span>9931</span></td><td id="LC9931" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a popup is opened in the map</span>
</code></td></tr><tr><td id="L9932" class="css-a4x74f"><span>9932</span></td><td id="LC9932" class="css-1dcdqdg"><code>		map.fire(<span class="code-string">'popupopen'</span>, {<span class="code-attr">popup</span>: <span class="code-keyword">this</span>});
</code></td></tr><tr><td id="L9933" class="css-a4x74f"><span>9933</span></td><td id="LC9933" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9934" class="css-a4x74f"><span>9934</span></td><td id="LC9934" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._source) {
</code></td></tr><tr><td id="L9935" class="css-a4x74f"><span>9935</span></td><td id="LC9935" class="css-1dcdqdg"><code>			<span class="code-comment">// @namespace Layer</span>
</code></td></tr><tr><td id="L9936" class="css-a4x74f"><span>9936</span></td><td id="LC9936" class="css-1dcdqdg"><code>			<span class="code-comment">// @section Popup events</span>
</code></td></tr><tr><td id="L9937" class="css-a4x74f"><span>9937</span></td><td id="LC9937" class="css-1dcdqdg"><code>			<span class="code-comment">// @event popupopen: PopupEvent</span>
</code></td></tr><tr><td id="L9938" class="css-a4x74f"><span>9938</span></td><td id="LC9938" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when a popup bound to this layer is opened</span>
</code></td></tr><tr><td id="L9939" class="css-a4x74f"><span>9939</span></td><td id="LC9939" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._source.fire(<span class="code-string">'popupopen'</span>, {<span class="code-attr">popup</span>: <span class="code-keyword">this</span>}, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L9940" class="css-a4x74f"><span>9940</span></td><td id="LC9940" class="css-1dcdqdg"><code>			<span class="code-comment">// For non-path layers, we toggle the popup when clicking</span>
</code></td></tr><tr><td id="L9941" class="css-a4x74f"><span>9941</span></td><td id="LC9941" class="css-1dcdqdg"><code>			<span class="code-comment">// again the layer, so prevent the map to reopen it.</span>
</code></td></tr><tr><td id="L9942" class="css-a4x74f"><span>9942</span></td><td id="LC9942" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!(<span class="code-keyword">this</span>._source <span class="code-keyword">instanceof</span> Path)) {
</code></td></tr><tr><td id="L9943" class="css-a4x74f"><span>9943</span></td><td id="LC9943" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._source.on(<span class="code-string">'preclick'</span>, stopPropagation);
</code></td></tr><tr><td id="L9944" class="css-a4x74f"><span>9944</span></td><td id="LC9944" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9945" class="css-a4x74f"><span>9945</span></td><td id="LC9945" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9946" class="css-a4x74f"><span>9946</span></td><td id="LC9946" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9947" class="css-a4x74f"><span>9947</span></td><td id="LC9947" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9948" class="css-a4x74f"><span>9948</span></td><td id="LC9948" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L9949" class="css-a4x74f"><span>9949</span></td><td id="LC9949" class="css-1dcdqdg"><code>		DivOverlay.prototype.onRemove.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L9950" class="css-a4x74f"><span>9950</span></td><td id="LC9950" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9951" class="css-a4x74f"><span>9951</span></td><td id="LC9951" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L9952" class="css-a4x74f"><span>9952</span></td><td id="LC9952" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Popup events</span>
</code></td></tr><tr><td id="L9953" class="css-a4x74f"><span>9953</span></td><td id="LC9953" class="css-1dcdqdg"><code>		<span class="code-comment">// @event popupclose: PopupEvent</span>
</code></td></tr><tr><td id="L9954" class="css-a4x74f"><span>9954</span></td><td id="LC9954" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a popup in the map is closed</span>
</code></td></tr><tr><td id="L9955" class="css-a4x74f"><span>9955</span></td><td id="LC9955" class="css-1dcdqdg"><code>		map.fire(<span class="code-string">'popupclose'</span>, {<span class="code-attr">popup</span>: <span class="code-keyword">this</span>});
</code></td></tr><tr><td id="L9956" class="css-a4x74f"><span>9956</span></td><td id="LC9956" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9957" class="css-a4x74f"><span>9957</span></td><td id="LC9957" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._source) {
</code></td></tr><tr><td id="L9958" class="css-a4x74f"><span>9958</span></td><td id="LC9958" class="css-1dcdqdg"><code>			<span class="code-comment">// @namespace Layer</span>
</code></td></tr><tr><td id="L9959" class="css-a4x74f"><span>9959</span></td><td id="LC9959" class="css-1dcdqdg"><code>			<span class="code-comment">// @section Popup events</span>
</code></td></tr><tr><td id="L9960" class="css-a4x74f"><span>9960</span></td><td id="LC9960" class="css-1dcdqdg"><code>			<span class="code-comment">// @event popupclose: PopupEvent</span>
</code></td></tr><tr><td id="L9961" class="css-a4x74f"><span>9961</span></td><td id="LC9961" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when a popup bound to this layer is closed</span>
</code></td></tr><tr><td id="L9962" class="css-a4x74f"><span>9962</span></td><td id="LC9962" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._source.fire(<span class="code-string">'popupclose'</span>, {<span class="code-attr">popup</span>: <span class="code-keyword">this</span>}, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L9963" class="css-a4x74f"><span>9963</span></td><td id="LC9963" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!(<span class="code-keyword">this</span>._source <span class="code-keyword">instanceof</span> Path)) {
</code></td></tr><tr><td id="L9964" class="css-a4x74f"><span>9964</span></td><td id="LC9964" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._source.off(<span class="code-string">'preclick'</span>, stopPropagation);
</code></td></tr><tr><td id="L9965" class="css-a4x74f"><span>9965</span></td><td id="LC9965" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L9966" class="css-a4x74f"><span>9966</span></td><td id="LC9966" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9967" class="css-a4x74f"><span>9967</span></td><td id="LC9967" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9968" class="css-a4x74f"><span>9968</span></td><td id="LC9968" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9969" class="css-a4x74f"><span>9969</span></td><td id="LC9969" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9970" class="css-a4x74f"><span>9970</span></td><td id="LC9970" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = DivOverlay.prototype.getEvents.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L9971" class="css-a4x74f"><span>9971</span></td><td id="LC9971" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9972" class="css-a4x74f"><span>9972</span></td><td id="LC9972" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.closeOnClick !== <span class="code-literal">undefined</span> ? <span class="code-keyword">this</span>.options.closeOnClick : <span class="code-keyword">this</span>._map.options.closePopupOnClick) {
</code></td></tr><tr><td id="L9973" class="css-a4x74f"><span>9973</span></td><td id="LC9973" class="css-1dcdqdg"><code>			events.preclick = <span class="code-keyword">this</span>.close;
</code></td></tr><tr><td id="L9974" class="css-a4x74f"><span>9974</span></td><td id="LC9974" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9975" class="css-a4x74f"><span>9975</span></td><td id="LC9975" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9976" class="css-a4x74f"><span>9976</span></td><td id="LC9976" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.keepInView) {
</code></td></tr><tr><td id="L9977" class="css-a4x74f"><span>9977</span></td><td id="LC9977" class="css-1dcdqdg"><code>			events.moveend = <span class="code-keyword">this</span>._adjustPan;
</code></td></tr><tr><td id="L9978" class="css-a4x74f"><span>9978</span></td><td id="LC9978" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L9979" class="css-a4x74f"><span>9979</span></td><td id="LC9979" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9980" class="css-a4x74f"><span>9980</span></td><td id="LC9980" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L9981" class="css-a4x74f"><span>9981</span></td><td id="LC9981" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L9982" class="css-a4x74f"><span>9982</span></td><td id="LC9982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9983" class="css-a4x74f"><span>9983</span></td><td id="LC9983" class="css-1dcdqdg"><code>	_initLayout: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L9984" class="css-a4x74f"><span>9984</span></td><td id="LC9984" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> prefix = <span class="code-string">'leaflet-popup'</span>,
</code></td></tr><tr><td id="L9985" class="css-a4x74f"><span>9985</span></td><td id="LC9985" class="css-1dcdqdg"><code>		    container = <span class="code-keyword">this</span>._container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>,
</code></td></tr><tr><td id="L9986" class="css-a4x74f"><span>9986</span></td><td id="LC9986" class="css-1dcdqdg"><code>			prefix + <span class="code-string">' '</span> + (<span class="code-keyword">this</span>.options.className || <span class="code-string">''</span>) +
</code></td></tr><tr><td id="L9987" class="css-a4x74f"><span>9987</span></td><td id="LC9987" class="css-1dcdqdg"><code>			<span class="code-string">' leaflet-zoom-animated'</span>);
</code></td></tr><tr><td id="L9988" class="css-a4x74f"><span>9988</span></td><td id="LC9988" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9989" class="css-a4x74f"><span>9989</span></td><td id="LC9989" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> wrapper = <span class="code-keyword">this</span>._wrapper = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, prefix + <span class="code-string">'-content-wrapper'</span>, container);
</code></td></tr><tr><td id="L9990" class="css-a4x74f"><span>9990</span></td><td id="LC9990" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._contentNode = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, prefix + <span class="code-string">'-content'</span>, wrapper);
</code></td></tr><tr><td id="L9991" class="css-a4x74f"><span>9991</span></td><td id="LC9991" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9992" class="css-a4x74f"><span>9992</span></td><td id="LC9992" class="css-1dcdqdg"><code>		disableClickPropagation(container);
</code></td></tr><tr><td id="L9993" class="css-a4x74f"><span>9993</span></td><td id="LC9993" class="css-1dcdqdg"><code>		disableScrollPropagation(<span class="code-keyword">this</span>._contentNode);
</code></td></tr><tr><td id="L9994" class="css-a4x74f"><span>9994</span></td><td id="LC9994" class="css-1dcdqdg"><code>		on(container, <span class="code-string">'contextmenu'</span>, stopPropagation);
</code></td></tr><tr><td id="L9995" class="css-a4x74f"><span>9995</span></td><td id="LC9995" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9996" class="css-a4x74f"><span>9996</span></td><td id="LC9996" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tipContainer = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, prefix + <span class="code-string">'-tip-container'</span>, container);
</code></td></tr><tr><td id="L9997" class="css-a4x74f"><span>9997</span></td><td id="LC9997" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tip = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, prefix + <span class="code-string">'-tip'</span>, <span class="code-keyword">this</span>._tipContainer);
</code></td></tr><tr><td id="L9998" class="css-a4x74f"><span>9998</span></td><td id="LC9998" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L9999" class="css-a4x74f"><span>9999</span></td><td id="LC9999" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.closeButton) {
</code></td></tr><tr><td id="L10000" class="css-a4x74f"><span>10000</span></td><td id="LC10000" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> closeButton = <span class="code-keyword">this</span>._closeButton = create$<span class="code-number">1</span>(<span class="code-string">'a'</span>, prefix + <span class="code-string">'-close-button'</span>, container);
</code></td></tr><tr><td id="L10001" class="css-a4x74f"><span>10001</span></td><td id="LC10001" class="css-1dcdqdg"><code>			closeButton.setAttribute(<span class="code-string">'role'</span>, <span class="code-string">'button'</span>); <span class="code-comment">// overrides the implicit role=link of &lt;a&gt; elements #7399</span>
</code></td></tr><tr><td id="L10002" class="css-a4x74f"><span>10002</span></td><td id="LC10002" class="css-1dcdqdg"><code>			closeButton.setAttribute(<span class="code-string">'aria-label'</span>, <span class="code-string">'Close popup'</span>);
</code></td></tr><tr><td id="L10003" class="css-a4x74f"><span>10003</span></td><td id="LC10003" class="css-1dcdqdg"><code>			closeButton.href = <span class="code-string">'#close'</span>;
</code></td></tr><tr><td id="L10004" class="css-a4x74f"><span>10004</span></td><td id="LC10004" class="css-1dcdqdg"><code>			closeButton.innerHTML = <span class="code-string">'&lt;span aria-hidden="true"&gt;&amp;#215;&lt;/span&gt;'</span>;
</code></td></tr><tr><td id="L10005" class="css-a4x74f"><span>10005</span></td><td id="LC10005" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10006" class="css-a4x74f"><span>10006</span></td><td id="LC10006" class="css-1dcdqdg"><code>			on(closeButton, <span class="code-string">'click'</span>, <span class="code-keyword">this</span>.close, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10007" class="css-a4x74f"><span>10007</span></td><td id="LC10007" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10008" class="css-a4x74f"><span>10008</span></td><td id="LC10008" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10009" class="css-a4x74f"><span>10009</span></td><td id="LC10009" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10010" class="css-a4x74f"><span>10010</span></td><td id="LC10010" class="css-1dcdqdg"><code>	_updateLayout: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10011" class="css-a4x74f"><span>10011</span></td><td id="LC10011" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = <span class="code-keyword">this</span>._contentNode,
</code></td></tr><tr><td id="L10012" class="css-a4x74f"><span>10012</span></td><td id="LC10012" class="css-1dcdqdg"><code>		    style = container.style;
</code></td></tr><tr><td id="L10013" class="css-a4x74f"><span>10013</span></td><td id="LC10013" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10014" class="css-a4x74f"><span>10014</span></td><td id="LC10014" class="css-1dcdqdg"><code>		style.width = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L10015" class="css-a4x74f"><span>10015</span></td><td id="LC10015" class="css-1dcdqdg"><code>		style.whiteSpace = <span class="code-string">'nowrap'</span>;
</code></td></tr><tr><td id="L10016" class="css-a4x74f"><span>10016</span></td><td id="LC10016" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10017" class="css-a4x74f"><span>10017</span></td><td id="LC10017" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> width = container.offsetWidth;
</code></td></tr><tr><td id="L10018" class="css-a4x74f"><span>10018</span></td><td id="LC10018" class="css-1dcdqdg"><code>		width = <span class="code-built_in">Math</span>.min(width, <span class="code-keyword">this</span>.options.maxWidth);
</code></td></tr><tr><td id="L10019" class="css-a4x74f"><span>10019</span></td><td id="LC10019" class="css-1dcdqdg"><code>		width = <span class="code-built_in">Math</span>.max(width, <span class="code-keyword">this</span>.options.minWidth);
</code></td></tr><tr><td id="L10020" class="css-a4x74f"><span>10020</span></td><td id="LC10020" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10021" class="css-a4x74f"><span>10021</span></td><td id="LC10021" class="css-1dcdqdg"><code>		style.width = (width + <span class="code-number">1</span>) + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L10022" class="css-a4x74f"><span>10022</span></td><td id="LC10022" class="css-1dcdqdg"><code>		style.whiteSpace = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L10023" class="css-a4x74f"><span>10023</span></td><td id="LC10023" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10024" class="css-a4x74f"><span>10024</span></td><td id="LC10024" class="css-1dcdqdg"><code>		style.height = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L10025" class="css-a4x74f"><span>10025</span></td><td id="LC10025" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10026" class="css-a4x74f"><span>10026</span></td><td id="LC10026" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> height = container.offsetHeight,
</code></td></tr><tr><td id="L10027" class="css-a4x74f"><span>10027</span></td><td id="LC10027" class="css-1dcdqdg"><code>		    maxHeight = <span class="code-keyword">this</span>.options.maxHeight,
</code></td></tr><tr><td id="L10028" class="css-a4x74f"><span>10028</span></td><td id="LC10028" class="css-1dcdqdg"><code>		    scrolledClass = <span class="code-string">'leaflet-popup-scrolled'</span>;
</code></td></tr><tr><td id="L10029" class="css-a4x74f"><span>10029</span></td><td id="LC10029" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10030" class="css-a4x74f"><span>10030</span></td><td id="LC10030" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (maxHeight &amp;&amp; height &gt; maxHeight) {
</code></td></tr><tr><td id="L10031" class="css-a4x74f"><span>10031</span></td><td id="LC10031" class="css-1dcdqdg"><code>			style.height = maxHeight + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L10032" class="css-a4x74f"><span>10032</span></td><td id="LC10032" class="css-1dcdqdg"><code>			addClass(container, scrolledClass);
</code></td></tr><tr><td id="L10033" class="css-a4x74f"><span>10033</span></td><td id="LC10033" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L10034" class="css-a4x74f"><span>10034</span></td><td id="LC10034" class="css-1dcdqdg"><code>			removeClass(container, scrolledClass);
</code></td></tr><tr><td id="L10035" class="css-a4x74f"><span>10035</span></td><td id="LC10035" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10036" class="css-a4x74f"><span>10036</span></td><td id="LC10036" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10037" class="css-a4x74f"><span>10037</span></td><td id="LC10037" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._containerWidth = <span class="code-keyword">this</span>._container.offsetWidth;
</code></td></tr><tr><td id="L10038" class="css-a4x74f"><span>10038</span></td><td id="LC10038" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10039" class="css-a4x74f"><span>10039</span></td><td id="LC10039" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10040" class="css-a4x74f"><span>10040</span></td><td id="LC10040" class="css-1dcdqdg"><code>	_animateZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10041" class="css-a4x74f"><span>10041</span></td><td id="LC10041" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._map._latLngToNewLayerPoint(<span class="code-keyword">this</span>._latlng, e.zoom, e.center),
</code></td></tr><tr><td id="L10042" class="css-a4x74f"><span>10042</span></td><td id="LC10042" class="css-1dcdqdg"><code>		    anchor = <span class="code-keyword">this</span>._getAnchor();
</code></td></tr><tr><td id="L10043" class="css-a4x74f"><span>10043</span></td><td id="LC10043" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._container, pos.add(anchor));
</code></td></tr><tr><td id="L10044" class="css-a4x74f"><span>10044</span></td><td id="LC10044" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10045" class="css-a4x74f"><span>10045</span></td><td id="LC10045" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10046" class="css-a4x74f"><span>10046</span></td><td id="LC10046" class="css-1dcdqdg"><code>	_adjustPan: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10047" class="css-a4x74f"><span>10047</span></td><td id="LC10047" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.autoPan) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L10048" class="css-a4x74f"><span>10048</span></td><td id="LC10048" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map._panAnim) { <span class="code-keyword">this</span>._map._panAnim.stop(); }
</code></td></tr><tr><td id="L10049" class="css-a4x74f"><span>10049</span></td><td id="LC10049" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10050" class="css-a4x74f"><span>10050</span></td><td id="LC10050" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L10051" class="css-a4x74f"><span>10051</span></td><td id="LC10051" class="css-1dcdqdg"><code>		    marginBottom = <span class="code-built_in">parseInt</span>(getStyle(<span class="code-keyword">this</span>._container, <span class="code-string">'marginBottom'</span>), <span class="code-number">10</span>) || <span class="code-number">0</span>,
</code></td></tr><tr><td id="L10052" class="css-a4x74f"><span>10052</span></td><td id="LC10052" class="css-1dcdqdg"><code>		    containerHeight = <span class="code-keyword">this</span>._container.offsetHeight + marginBottom,
</code></td></tr><tr><td id="L10053" class="css-a4x74f"><span>10053</span></td><td id="LC10053" class="css-1dcdqdg"><code>		    containerWidth = <span class="code-keyword">this</span>._containerWidth,
</code></td></tr><tr><td id="L10054" class="css-a4x74f"><span>10054</span></td><td id="LC10054" class="css-1dcdqdg"><code>		    layerPos = <span class="code-keyword">new</span> Point(<span class="code-keyword">this</span>._containerLeft, -containerHeight - <span class="code-keyword">this</span>._containerBottom);
</code></td></tr><tr><td id="L10055" class="css-a4x74f"><span>10055</span></td><td id="LC10055" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10056" class="css-a4x74f"><span>10056</span></td><td id="LC10056" class="css-1dcdqdg"><code>		layerPos._add(getPosition(<span class="code-keyword">this</span>._container));
</code></td></tr><tr><td id="L10057" class="css-a4x74f"><span>10057</span></td><td id="LC10057" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10058" class="css-a4x74f"><span>10058</span></td><td id="LC10058" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> containerPos = map.layerPointToContainerPoint(layerPos),
</code></td></tr><tr><td id="L10059" class="css-a4x74f"><span>10059</span></td><td id="LC10059" class="css-1dcdqdg"><code>		    padding = toPoint(<span class="code-keyword">this</span>.options.autoPanPadding),
</code></td></tr><tr><td id="L10060" class="css-a4x74f"><span>10060</span></td><td id="LC10060" class="css-1dcdqdg"><code>		    paddingTL = toPoint(<span class="code-keyword">this</span>.options.autoPanPaddingTopLeft || padding),
</code></td></tr><tr><td id="L10061" class="css-a4x74f"><span>10061</span></td><td id="LC10061" class="css-1dcdqdg"><code>		    paddingBR = toPoint(<span class="code-keyword">this</span>.options.autoPanPaddingBottomRight || padding),
</code></td></tr><tr><td id="L10062" class="css-a4x74f"><span>10062</span></td><td id="LC10062" class="css-1dcdqdg"><code>		    size = map.getSize(),
</code></td></tr><tr><td id="L10063" class="css-a4x74f"><span>10063</span></td><td id="LC10063" class="css-1dcdqdg"><code>		    dx = <span class="code-number">0</span>,
</code></td></tr><tr><td id="L10064" class="css-a4x74f"><span>10064</span></td><td id="LC10064" class="css-1dcdqdg"><code>		    dy = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L10065" class="css-a4x74f"><span>10065</span></td><td id="LC10065" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10066" class="css-a4x74f"><span>10066</span></td><td id="LC10066" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (containerPos.x + containerWidth + paddingBR.x &gt; size.x) { <span class="code-comment">// right</span>
</code></td></tr><tr><td id="L10067" class="css-a4x74f"><span>10067</span></td><td id="LC10067" class="css-1dcdqdg"><code>			dx = containerPos.x + containerWidth - size.x + paddingBR.x;
</code></td></tr><tr><td id="L10068" class="css-a4x74f"><span>10068</span></td><td id="LC10068" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10069" class="css-a4x74f"><span>10069</span></td><td id="LC10069" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (containerPos.x - dx - paddingTL.x &lt; <span class="code-number">0</span>) { <span class="code-comment">// left</span>
</code></td></tr><tr><td id="L10070" class="css-a4x74f"><span>10070</span></td><td id="LC10070" class="css-1dcdqdg"><code>			dx = containerPos.x - paddingTL.x;
</code></td></tr><tr><td id="L10071" class="css-a4x74f"><span>10071</span></td><td id="LC10071" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10072" class="css-a4x74f"><span>10072</span></td><td id="LC10072" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (containerPos.y + containerHeight + paddingBR.y &gt; size.y) { <span class="code-comment">// bottom</span>
</code></td></tr><tr><td id="L10073" class="css-a4x74f"><span>10073</span></td><td id="LC10073" class="css-1dcdqdg"><code>			dy = containerPos.y + containerHeight - size.y + paddingBR.y;
</code></td></tr><tr><td id="L10074" class="css-a4x74f"><span>10074</span></td><td id="LC10074" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10075" class="css-a4x74f"><span>10075</span></td><td id="LC10075" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (containerPos.y - dy - paddingTL.y &lt; <span class="code-number">0</span>) { <span class="code-comment">// top</span>
</code></td></tr><tr><td id="L10076" class="css-a4x74f"><span>10076</span></td><td id="LC10076" class="css-1dcdqdg"><code>			dy = containerPos.y - paddingTL.y;
</code></td></tr><tr><td id="L10077" class="css-a4x74f"><span>10077</span></td><td id="LC10077" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10078" class="css-a4x74f"><span>10078</span></td><td id="LC10078" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10079" class="css-a4x74f"><span>10079</span></td><td id="LC10079" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L10080" class="css-a4x74f"><span>10080</span></td><td id="LC10080" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Popup events</span>
</code></td></tr><tr><td id="L10081" class="css-a4x74f"><span>10081</span></td><td id="LC10081" class="css-1dcdqdg"><code>		<span class="code-comment">// @event autopanstart: Event</span>
</code></td></tr><tr><td id="L10082" class="css-a4x74f"><span>10082</span></td><td id="LC10082" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when the map starts autopanning when opening a popup.</span>
</code></td></tr><tr><td id="L10083" class="css-a4x74f"><span>10083</span></td><td id="LC10083" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (dx || dy) {
</code></td></tr><tr><td id="L10084" class="css-a4x74f"><span>10084</span></td><td id="LC10084" class="css-1dcdqdg"><code>			map
</code></td></tr><tr><td id="L10085" class="css-a4x74f"><span>10085</span></td><td id="LC10085" class="css-1dcdqdg"><code>			    .fire(<span class="code-string">'autopanstart'</span>)
</code></td></tr><tr><td id="L10086" class="css-a4x74f"><span>10086</span></td><td id="LC10086" class="css-1dcdqdg"><code>			    .panBy([dx, dy], {<span class="code-attr">animate</span>: e &amp;&amp; e.type === <span class="code-string">'moveend'</span>});
</code></td></tr><tr><td id="L10087" class="css-a4x74f"><span>10087</span></td><td id="LC10087" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10088" class="css-a4x74f"><span>10088</span></td><td id="LC10088" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10089" class="css-a4x74f"><span>10089</span></td><td id="LC10089" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10090" class="css-a4x74f"><span>10090</span></td><td id="LC10090" class="css-1dcdqdg"><code>	_getAnchor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10091" class="css-a4x74f"><span>10091</span></td><td id="LC10091" class="css-1dcdqdg"><code>		<span class="code-comment">// Where should we anchor the popup on the source layer?</span>
</code></td></tr><tr><td id="L10092" class="css-a4x74f"><span>10092</span></td><td id="LC10092" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toPoint(<span class="code-keyword">this</span>._source &amp;&amp; <span class="code-keyword">this</span>._source._getPopupAnchor ? <span class="code-keyword">this</span>._source._getPopupAnchor() : [<span class="code-number">0</span>, <span class="code-number">0</span>]);
</code></td></tr><tr><td id="L10093" class="css-a4x74f"><span>10093</span></td><td id="LC10093" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10094" class="css-a4x74f"><span>10094</span></td><td id="LC10094" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10095" class="css-a4x74f"><span>10095</span></td><td id="LC10095" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10096" class="css-a4x74f"><span>10096</span></td><td id="LC10096" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10097" class="css-a4x74f"><span>10097</span></td><td id="LC10097" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Popup</span>
</code></td></tr><tr><td id="L10098" class="css-a4x74f"><span>10098</span></td><td id="LC10098" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.popup(options?: Popup options, source?: Layer)</span>
</code></td></tr><tr><td id="L10099" class="css-a4x74f"><span>10099</span></td><td id="LC10099" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a `Popup` object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the popup with a reference to the Layer to which it refers.</span>
</code></td></tr><tr><td id="L10100" class="css-a4x74f"><span>10100</span></td><td id="LC10100" class="css-1dcdqdg"><code><span class="code-keyword">var</span> popup = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options, source</span>) </span>{
</code></td></tr><tr><td id="L10101" class="css-a4x74f"><span>10101</span></td><td id="LC10101" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Popup(options, source);
</code></td></tr><tr><td id="L10102" class="css-a4x74f"><span>10102</span></td><td id="LC10102" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L10103" class="css-a4x74f"><span>10103</span></td><td id="LC10103" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10104" class="css-a4x74f"><span>10104</span></td><td id="LC10104" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10105" class="css-a4x74f"><span>10105</span></td><td id="LC10105" class="css-1dcdqdg"><code><span class="code-comment">/* @namespace Map
</span></code></td></tr><tr><td id="L10106" class="css-a4x74f"><span>10106</span></td><td id="LC10106" class="css-1dcdqdg"><code><span class="code-comment"> * @section Interaction Options
</span></code></td></tr><tr><td id="L10107" class="css-a4x74f"><span>10107</span></td><td id="LC10107" class="css-1dcdqdg"><code><span class="code-comment"> * @option closePopupOnClick: Boolean = true
</span></code></td></tr><tr><td id="L10108" class="css-a4x74f"><span>10108</span></td><td id="LC10108" class="css-1dcdqdg"><code><span class="code-comment"> * Set it to `false` if you don't want popups to close when user clicks the map.
</span></code></td></tr><tr><td id="L10109" class="css-a4x74f"><span>10109</span></td><td id="LC10109" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L10110" class="css-a4x74f"><span>10110</span></td><td id="LC10110" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L10111" class="css-a4x74f"><span>10111</span></td><td id="LC10111" class="css-1dcdqdg"><code>	closePopupOnClick: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L10112" class="css-a4x74f"><span>10112</span></td><td id="LC10112" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10113" class="css-a4x74f"><span>10113</span></td><td id="LC10113" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10114" class="css-a4x74f"><span>10114</span></td><td id="LC10114" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10115" class="css-a4x74f"><span>10115</span></td><td id="LC10115" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L10116" class="css-a4x74f"><span>10116</span></td><td id="LC10116" class="css-1dcdqdg"><code><span class="code-comment">// @section Methods for Layers and Controls</span>
</code></td></tr><tr><td id="L10117" class="css-a4x74f"><span>10117</span></td><td id="LC10117" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.include({
</code></td></tr><tr><td id="L10118" class="css-a4x74f"><span>10118</span></td><td id="LC10118" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openPopup(popup: Popup): this</span>
</code></td></tr><tr><td id="L10119" class="css-a4x74f"><span>10119</span></td><td id="LC10119" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).</span>
</code></td></tr><tr><td id="L10120" class="css-a4x74f"><span>10120</span></td><td id="LC10120" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L10121" class="css-a4x74f"><span>10121</span></td><td id="LC10121" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this</span>
</code></td></tr><tr><td id="L10122" class="css-a4x74f"><span>10122</span></td><td id="LC10122" class="css-1dcdqdg"><code>	<span class="code-comment">// Creates a popup with the specified content and options and opens it in the given point on a map.</span>
</code></td></tr><tr><td id="L10123" class="css-a4x74f"><span>10123</span></td><td id="LC10123" class="css-1dcdqdg"><code>	openPopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">popup, latlng, options</span>) </span>{
</code></td></tr><tr><td id="L10124" class="css-a4x74f"><span>10124</span></td><td id="LC10124" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initOverlay(Popup, popup, latlng, options)
</code></td></tr><tr><td id="L10125" class="css-a4x74f"><span>10125</span></td><td id="LC10125" class="css-1dcdqdg"><code>		  .openOn(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10126" class="css-a4x74f"><span>10126</span></td><td id="LC10126" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10127" class="css-a4x74f"><span>10127</span></td><td id="LC10127" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10128" class="css-a4x74f"><span>10128</span></td><td id="LC10128" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10129" class="css-a4x74f"><span>10129</span></td><td id="LC10129" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10130" class="css-a4x74f"><span>10130</span></td><td id="LC10130" class="css-1dcdqdg"><code>	<span class="code-comment">// @method closePopup(popup?: Popup): this</span>
</code></td></tr><tr><td id="L10131" class="css-a4x74f"><span>10131</span></td><td id="LC10131" class="css-1dcdqdg"><code>	<span class="code-comment">// Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).</span>
</code></td></tr><tr><td id="L10132" class="css-a4x74f"><span>10132</span></td><td id="LC10132" class="css-1dcdqdg"><code>	closePopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">popup</span>) </span>{
</code></td></tr><tr><td id="L10133" class="css-a4x74f"><span>10133</span></td><td id="LC10133" class="css-1dcdqdg"><code>		popup = <span class="code-built_in">arguments</span>.length ? popup : <span class="code-keyword">this</span>._popup;
</code></td></tr><tr><td id="L10134" class="css-a4x74f"><span>10134</span></td><td id="LC10134" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (popup) {
</code></td></tr><tr><td id="L10135" class="css-a4x74f"><span>10135</span></td><td id="LC10135" class="css-1dcdqdg"><code>			popup.close();
</code></td></tr><tr><td id="L10136" class="css-a4x74f"><span>10136</span></td><td id="LC10136" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10137" class="css-a4x74f"><span>10137</span></td><td id="LC10137" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10138" class="css-a4x74f"><span>10138</span></td><td id="LC10138" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10139" class="css-a4x74f"><span>10139</span></td><td id="LC10139" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10140" class="css-a4x74f"><span>10140</span></td><td id="LC10140" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10141" class="css-a4x74f"><span>10141</span></td><td id="LC10141" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L10142" class="css-a4x74f"><span>10142</span></td><td id="LC10142" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Layer
</span></code></td></tr><tr><td id="L10143" class="css-a4x74f"><span>10143</span></td><td id="LC10143" class="css-1dcdqdg"><code><span class="code-comment"> * @section Popup methods example
</span></code></td></tr><tr><td id="L10144" class="css-a4x74f"><span>10144</span></td><td id="LC10144" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10145" class="css-a4x74f"><span>10145</span></td><td id="LC10145" class="css-1dcdqdg"><code><span class="code-comment"> * All layers share a set of methods convenient for binding popups to it.
</span></code></td></tr><tr><td id="L10146" class="css-a4x74f"><span>10146</span></td><td id="LC10146" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10147" class="css-a4x74f"><span>10147</span></td><td id="LC10147" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L10148" class="css-a4x74f"><span>10148</span></td><td id="LC10148" class="css-1dcdqdg"><code><span class="code-comment"> * var layer = L.Polygon(latlngs).bindPopup('Hi There!').addTo(map);
</span></code></td></tr><tr><td id="L10149" class="css-a4x74f"><span>10149</span></td><td id="LC10149" class="css-1dcdqdg"><code><span class="code-comment"> * layer.openPopup();
</span></code></td></tr><tr><td id="L10150" class="css-a4x74f"><span>10150</span></td><td id="LC10150" class="css-1dcdqdg"><code><span class="code-comment"> * layer.closePopup();
</span></code></td></tr><tr><td id="L10151" class="css-a4x74f"><span>10151</span></td><td id="LC10151" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L10152" class="css-a4x74f"><span>10152</span></td><td id="LC10152" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10153" class="css-a4x74f"><span>10153</span></td><td id="LC10153" class="css-1dcdqdg"><code><span class="code-comment"> * Popups will also be automatically opened when the layer is clicked on and closed when the layer is removed from the map or another popup is opened.
</span></code></td></tr><tr><td id="L10154" class="css-a4x74f"><span>10154</span></td><td id="LC10154" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L10155" class="css-a4x74f"><span>10155</span></td><td id="LC10155" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10156" class="css-a4x74f"><span>10156</span></td><td id="LC10156" class="css-1dcdqdg"><code><span class="code-comment">// @section Popup methods</span>
</code></td></tr><tr><td id="L10157" class="css-a4x74f"><span>10157</span></td><td id="LC10157" class="css-1dcdqdg"><code>Layer.include({
</code></td></tr><tr><td id="L10158" class="css-a4x74f"><span>10158</span></td><td id="LC10158" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10159" class="css-a4x74f"><span>10159</span></td><td id="LC10159" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this</span>
</code></td></tr><tr><td id="L10160" class="css-a4x74f"><span>10160</span></td><td id="LC10160" class="css-1dcdqdg"><code>	<span class="code-comment">// Binds a popup to the layer with the passed `content` and sets up the</span>
</code></td></tr><tr><td id="L10161" class="css-a4x74f"><span>10161</span></td><td id="LC10161" class="css-1dcdqdg"><code>	<span class="code-comment">// necessary event listeners. If a `Function` is passed it will receive</span>
</code></td></tr><tr><td id="L10162" class="css-a4x74f"><span>10162</span></td><td id="LC10162" class="css-1dcdqdg"><code>	<span class="code-comment">// the layer as the first argument and should return a `String` or `HTMLElement`.</span>
</code></td></tr><tr><td id="L10163" class="css-a4x74f"><span>10163</span></td><td id="LC10163" class="css-1dcdqdg"><code>	bindPopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">content, options</span>) </span>{
</code></td></tr><tr><td id="L10164" class="css-a4x74f"><span>10164</span></td><td id="LC10164" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._popup = <span class="code-keyword">this</span>._initOverlay(Popup, <span class="code-keyword">this</span>._popup, content, options);
</code></td></tr><tr><td id="L10165" class="css-a4x74f"><span>10165</span></td><td id="LC10165" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._popupHandlersAdded) {
</code></td></tr><tr><td id="L10166" class="css-a4x74f"><span>10166</span></td><td id="LC10166" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.on({
</code></td></tr><tr><td id="L10167" class="css-a4x74f"><span>10167</span></td><td id="LC10167" class="css-1dcdqdg"><code>				click: <span class="code-keyword">this</span>._openPopup,
</code></td></tr><tr><td id="L10168" class="css-a4x74f"><span>10168</span></td><td id="LC10168" class="css-1dcdqdg"><code>				keypress: <span class="code-keyword">this</span>._onKeyPress,
</code></td></tr><tr><td id="L10169" class="css-a4x74f"><span>10169</span></td><td id="LC10169" class="css-1dcdqdg"><code>				remove: <span class="code-keyword">this</span>.closePopup,
</code></td></tr><tr><td id="L10170" class="css-a4x74f"><span>10170</span></td><td id="LC10170" class="css-1dcdqdg"><code>				move: <span class="code-keyword">this</span>._movePopup
</code></td></tr><tr><td id="L10171" class="css-a4x74f"><span>10171</span></td><td id="LC10171" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L10172" class="css-a4x74f"><span>10172</span></td><td id="LC10172" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popupHandlersAdded = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L10173" class="css-a4x74f"><span>10173</span></td><td id="LC10173" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10174" class="css-a4x74f"><span>10174</span></td><td id="LC10174" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10175" class="css-a4x74f"><span>10175</span></td><td id="LC10175" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10176" class="css-a4x74f"><span>10176</span></td><td id="LC10176" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10177" class="css-a4x74f"><span>10177</span></td><td id="LC10177" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10178" class="css-a4x74f"><span>10178</span></td><td id="LC10178" class="css-1dcdqdg"><code>	<span class="code-comment">// @method unbindPopup(): this</span>
</code></td></tr><tr><td id="L10179" class="css-a4x74f"><span>10179</span></td><td id="LC10179" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the popup previously bound with `bindPopup`.</span>
</code></td></tr><tr><td id="L10180" class="css-a4x74f"><span>10180</span></td><td id="LC10180" class="css-1dcdqdg"><code>	unbindPopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10181" class="css-a4x74f"><span>10181</span></td><td id="LC10181" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup) {
</code></td></tr><tr><td id="L10182" class="css-a4x74f"><span>10182</span></td><td id="LC10182" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.off({
</code></td></tr><tr><td id="L10183" class="css-a4x74f"><span>10183</span></td><td id="LC10183" class="css-1dcdqdg"><code>				click: <span class="code-keyword">this</span>._openPopup,
</code></td></tr><tr><td id="L10184" class="css-a4x74f"><span>10184</span></td><td id="LC10184" class="css-1dcdqdg"><code>				keypress: <span class="code-keyword">this</span>._onKeyPress,
</code></td></tr><tr><td id="L10185" class="css-a4x74f"><span>10185</span></td><td id="LC10185" class="css-1dcdqdg"><code>				remove: <span class="code-keyword">this</span>.closePopup,
</code></td></tr><tr><td id="L10186" class="css-a4x74f"><span>10186</span></td><td id="LC10186" class="css-1dcdqdg"><code>				move: <span class="code-keyword">this</span>._movePopup
</code></td></tr><tr><td id="L10187" class="css-a4x74f"><span>10187</span></td><td id="LC10187" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L10188" class="css-a4x74f"><span>10188</span></td><td id="LC10188" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popupHandlersAdded = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L10189" class="css-a4x74f"><span>10189</span></td><td id="LC10189" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popup = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L10190" class="css-a4x74f"><span>10190</span></td><td id="LC10190" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10191" class="css-a4x74f"><span>10191</span></td><td id="LC10191" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10192" class="css-a4x74f"><span>10192</span></td><td id="LC10192" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10193" class="css-a4x74f"><span>10193</span></td><td id="LC10193" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10194" class="css-a4x74f"><span>10194</span></td><td id="LC10194" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openPopup(latlng?: LatLng): this</span>
</code></td></tr><tr><td id="L10195" class="css-a4x74f"><span>10195</span></td><td id="LC10195" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens the bound popup at the specified `latlng` or at the default popup anchor if no `latlng` is passed.</span>
</code></td></tr><tr><td id="L10196" class="css-a4x74f"><span>10196</span></td><td id="LC10196" class="css-1dcdqdg"><code>	openPopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L10197" class="css-a4x74f"><span>10197</span></td><td id="LC10197" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup &amp;&amp; <span class="code-keyword">this</span>._popup._prepareOpen(latlng)) {
</code></td></tr><tr><td id="L10198" class="css-a4x74f"><span>10198</span></td><td id="LC10198" class="css-1dcdqdg"><code>			<span class="code-comment">// open the popup on the map</span>
</code></td></tr><tr><td id="L10199" class="css-a4x74f"><span>10199</span></td><td id="LC10199" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popup.openOn(<span class="code-keyword">this</span>._map);
</code></td></tr><tr><td id="L10200" class="css-a4x74f"><span>10200</span></td><td id="LC10200" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10201" class="css-a4x74f"><span>10201</span></td><td id="LC10201" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10202" class="css-a4x74f"><span>10202</span></td><td id="LC10202" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10203" class="css-a4x74f"><span>10203</span></td><td id="LC10203" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10204" class="css-a4x74f"><span>10204</span></td><td id="LC10204" class="css-1dcdqdg"><code>	<span class="code-comment">// @method closePopup(): this</span>
</code></td></tr><tr><td id="L10205" class="css-a4x74f"><span>10205</span></td><td id="LC10205" class="css-1dcdqdg"><code>	<span class="code-comment">// Closes the popup bound to this layer if it is open.</span>
</code></td></tr><tr><td id="L10206" class="css-a4x74f"><span>10206</span></td><td id="LC10206" class="css-1dcdqdg"><code>	closePopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10207" class="css-a4x74f"><span>10207</span></td><td id="LC10207" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup) {
</code></td></tr><tr><td id="L10208" class="css-a4x74f"><span>10208</span></td><td id="LC10208" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popup.close();
</code></td></tr><tr><td id="L10209" class="css-a4x74f"><span>10209</span></td><td id="LC10209" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10210" class="css-a4x74f"><span>10210</span></td><td id="LC10210" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10211" class="css-a4x74f"><span>10211</span></td><td id="LC10211" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10212" class="css-a4x74f"><span>10212</span></td><td id="LC10212" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10213" class="css-a4x74f"><span>10213</span></td><td id="LC10213" class="css-1dcdqdg"><code>	<span class="code-comment">// @method togglePopup(): this</span>
</code></td></tr><tr><td id="L10214" class="css-a4x74f"><span>10214</span></td><td id="LC10214" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens or closes the popup bound to this layer depending on its current state.</span>
</code></td></tr><tr><td id="L10215" class="css-a4x74f"><span>10215</span></td><td id="LC10215" class="css-1dcdqdg"><code>	togglePopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10216" class="css-a4x74f"><span>10216</span></td><td id="LC10216" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup) {
</code></td></tr><tr><td id="L10217" class="css-a4x74f"><span>10217</span></td><td id="LC10217" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popup.toggle(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10218" class="css-a4x74f"><span>10218</span></td><td id="LC10218" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10219" class="css-a4x74f"><span>10219</span></td><td id="LC10219" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10220" class="css-a4x74f"><span>10220</span></td><td id="LC10220" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10221" class="css-a4x74f"><span>10221</span></td><td id="LC10221" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10222" class="css-a4x74f"><span>10222</span></td><td id="LC10222" class="css-1dcdqdg"><code>	<span class="code-comment">// @method isPopupOpen(): boolean</span>
</code></td></tr><tr><td id="L10223" class="css-a4x74f"><span>10223</span></td><td id="LC10223" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the popup bound to this layer is currently open.</span>
</code></td></tr><tr><td id="L10224" class="css-a4x74f"><span>10224</span></td><td id="LC10224" class="css-1dcdqdg"><code>	isPopupOpen: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10225" class="css-a4x74f"><span>10225</span></td><td id="LC10225" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>._popup ? <span class="code-keyword">this</span>._popup.isOpen() : <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L10226" class="css-a4x74f"><span>10226</span></td><td id="LC10226" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10227" class="css-a4x74f"><span>10227</span></td><td id="LC10227" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10228" class="css-a4x74f"><span>10228</span></td><td id="LC10228" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setPopupContent(content: String|HTMLElement|Popup): this</span>
</code></td></tr><tr><td id="L10229" class="css-a4x74f"><span>10229</span></td><td id="LC10229" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the content of the popup bound to this layer.</span>
</code></td></tr><tr><td id="L10230" class="css-a4x74f"><span>10230</span></td><td id="LC10230" class="css-1dcdqdg"><code>	setPopupContent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">content</span>) </span>{
</code></td></tr><tr><td id="L10231" class="css-a4x74f"><span>10231</span></td><td id="LC10231" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup) {
</code></td></tr><tr><td id="L10232" class="css-a4x74f"><span>10232</span></td><td id="LC10232" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._popup.setContent(content);
</code></td></tr><tr><td id="L10233" class="css-a4x74f"><span>10233</span></td><td id="LC10233" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10234" class="css-a4x74f"><span>10234</span></td><td id="LC10234" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10235" class="css-a4x74f"><span>10235</span></td><td id="LC10235" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10236" class="css-a4x74f"><span>10236</span></td><td id="LC10236" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10237" class="css-a4x74f"><span>10237</span></td><td id="LC10237" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getPopup(): Popup</span>
</code></td></tr><tr><td id="L10238" class="css-a4x74f"><span>10238</span></td><td id="LC10238" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the popup bound to this layer.</span>
</code></td></tr><tr><td id="L10239" class="css-a4x74f"><span>10239</span></td><td id="LC10239" class="css-1dcdqdg"><code>	getPopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10240" class="css-a4x74f"><span>10240</span></td><td id="LC10240" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._popup;
</code></td></tr><tr><td id="L10241" class="css-a4x74f"><span>10241</span></td><td id="LC10241" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10242" class="css-a4x74f"><span>10242</span></td><td id="LC10242" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10243" class="css-a4x74f"><span>10243</span></td><td id="LC10243" class="css-1dcdqdg"><code>	_openPopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10244" class="css-a4x74f"><span>10244</span></td><td id="LC10244" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._popup || !<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L10245" class="css-a4x74f"><span>10245</span></td><td id="LC10245" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L10246" class="css-a4x74f"><span>10246</span></td><td id="LC10246" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10247" class="css-a4x74f"><span>10247</span></td><td id="LC10247" class="css-1dcdqdg"><code>		<span class="code-comment">// prevent map click</span>
</code></td></tr><tr><td id="L10248" class="css-a4x74f"><span>10248</span></td><td id="LC10248" class="css-1dcdqdg"><code>		stop(e);
</code></td></tr><tr><td id="L10249" class="css-a4x74f"><span>10249</span></td><td id="LC10249" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10250" class="css-a4x74f"><span>10250</span></td><td id="LC10250" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> target = e.layer || e.target;
</code></td></tr><tr><td id="L10251" class="css-a4x74f"><span>10251</span></td><td id="LC10251" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._popup._source === target &amp;&amp; !(target <span class="code-keyword">instanceof</span> Path)) {
</code></td></tr><tr><td id="L10252" class="css-a4x74f"><span>10252</span></td><td id="LC10252" class="css-1dcdqdg"><code>			<span class="code-comment">// treat it like a marker and figure out</span>
</code></td></tr><tr><td id="L10253" class="css-a4x74f"><span>10253</span></td><td id="LC10253" class="css-1dcdqdg"><code>			<span class="code-comment">// if we should toggle it open/closed</span>
</code></td></tr><tr><td id="L10254" class="css-a4x74f"><span>10254</span></td><td id="LC10254" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map.hasLayer(<span class="code-keyword">this</span>._popup)) {
</code></td></tr><tr><td id="L10255" class="css-a4x74f"><span>10255</span></td><td id="LC10255" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.closePopup();
</code></td></tr><tr><td id="L10256" class="css-a4x74f"><span>10256</span></td><td id="LC10256" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L10257" class="css-a4x74f"><span>10257</span></td><td id="LC10257" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.openPopup(e.latlng);
</code></td></tr><tr><td id="L10258" class="css-a4x74f"><span>10258</span></td><td id="LC10258" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L10259" class="css-a4x74f"><span>10259</span></td><td id="LC10259" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L10260" class="css-a4x74f"><span>10260</span></td><td id="LC10260" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10261" class="css-a4x74f"><span>10261</span></td><td id="LC10261" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._popup._source = target;
</code></td></tr><tr><td id="L10262" class="css-a4x74f"><span>10262</span></td><td id="LC10262" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.openPopup(e.latlng);
</code></td></tr><tr><td id="L10263" class="css-a4x74f"><span>10263</span></td><td id="LC10263" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10264" class="css-a4x74f"><span>10264</span></td><td id="LC10264" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10265" class="css-a4x74f"><span>10265</span></td><td id="LC10265" class="css-1dcdqdg"><code>	_movePopup: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10266" class="css-a4x74f"><span>10266</span></td><td id="LC10266" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._popup.setLatLng(e.latlng);
</code></td></tr><tr><td id="L10267" class="css-a4x74f"><span>10267</span></td><td id="LC10267" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10268" class="css-a4x74f"><span>10268</span></td><td id="LC10268" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10269" class="css-a4x74f"><span>10269</span></td><td id="LC10269" class="css-1dcdqdg"><code>	_onKeyPress: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10270" class="css-a4x74f"><span>10270</span></td><td id="LC10270" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.originalEvent.keyCode === <span class="code-number">13</span>) {
</code></td></tr><tr><td id="L10271" class="css-a4x74f"><span>10271</span></td><td id="LC10271" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._openPopup(e);
</code></td></tr><tr><td id="L10272" class="css-a4x74f"><span>10272</span></td><td id="LC10272" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10273" class="css-a4x74f"><span>10273</span></td><td id="LC10273" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10274" class="css-a4x74f"><span>10274</span></td><td id="LC10274" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10275" class="css-a4x74f"><span>10275</span></td><td id="LC10275" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10276" class="css-a4x74f"><span>10276</span></td><td id="LC10276" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L10277" class="css-a4x74f"><span>10277</span></td><td id="LC10277" class="css-1dcdqdg"><code><span class="code-comment"> * @class Tooltip
</span></code></td></tr><tr><td id="L10278" class="css-a4x74f"><span>10278</span></td><td id="LC10278" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits DivOverlay
</span></code></td></tr><tr><td id="L10279" class="css-a4x74f"><span>10279</span></td><td id="LC10279" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Tooltip
</span></code></td></tr><tr><td id="L10280" class="css-a4x74f"><span>10280</span></td><td id="LC10280" class="css-1dcdqdg"><code><span class="code-comment"> * Used to display small texts on top of map layers.
</span></code></td></tr><tr><td id="L10281" class="css-a4x74f"><span>10281</span></td><td id="LC10281" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10282" class="css-a4x74f"><span>10282</span></td><td id="LC10282" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L10283" class="css-a4x74f"><span>10283</span></td><td id="LC10283" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10284" class="css-a4x74f"><span>10284</span></td><td id="LC10284" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L10285" class="css-a4x74f"><span>10285</span></td><td id="LC10285" class="css-1dcdqdg"><code><span class="code-comment"> * marker.bindTooltip("my tooltip text").openTooltip();
</span></code></td></tr><tr><td id="L10286" class="css-a4x74f"><span>10286</span></td><td id="LC10286" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L10287" class="css-a4x74f"><span>10287</span></td><td id="LC10287" class="css-1dcdqdg"><code><span class="code-comment"> * Note about tooltip offset. Leaflet takes two options in consideration
</span></code></td></tr><tr><td id="L10288" class="css-a4x74f"><span>10288</span></td><td id="LC10288" class="css-1dcdqdg"><code><span class="code-comment"> * for computing tooltip offsetting:
</span></code></td></tr><tr><td id="L10289" class="css-a4x74f"><span>10289</span></td><td id="LC10289" class="css-1dcdqdg"><code><span class="code-comment"> * - the `offset` Tooltip option: it defaults to [0, 0], and it's specific to one tooltip.
</span></code></td></tr><tr><td id="L10290" class="css-a4x74f"><span>10290</span></td><td id="LC10290" class="css-1dcdqdg"><code><span class="code-comment"> *   Add a positive x offset to move the tooltip to the right, and a positive y offset to
</span></code></td></tr><tr><td id="L10291" class="css-a4x74f"><span>10291</span></td><td id="LC10291" class="css-1dcdqdg"><code><span class="code-comment"> *   move it to the bottom. Negatives will move to the left and top.
</span></code></td></tr><tr><td id="L10292" class="css-a4x74f"><span>10292</span></td><td id="LC10292" class="css-1dcdqdg"><code><span class="code-comment"> * - the `tooltipAnchor` Icon option: this will only be considered for Marker. You
</span></code></td></tr><tr><td id="L10293" class="css-a4x74f"><span>10293</span></td><td id="LC10293" class="css-1dcdqdg"><code><span class="code-comment"> *   should adapt this value if you use a custom icon.
</span></code></td></tr><tr><td id="L10294" class="css-a4x74f"><span>10294</span></td><td id="LC10294" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L10295" class="css-a4x74f"><span>10295</span></td><td id="LC10295" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10296" class="css-a4x74f"><span>10296</span></td><td id="LC10296" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10297" class="css-a4x74f"><span>10297</span></td><td id="LC10297" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Tooltip</span>
</code></td></tr><tr><td id="L10298" class="css-a4x74f"><span>10298</span></td><td id="LC10298" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Tooltip = DivOverlay.extend({
</code></td></tr><tr><td id="L10299" class="css-a4x74f"><span>10299</span></td><td id="LC10299" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10300" class="css-a4x74f"><span>10300</span></td><td id="LC10300" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L10301" class="css-a4x74f"><span>10301</span></td><td id="LC10301" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Tooltip options</span>
</code></td></tr><tr><td id="L10302" class="css-a4x74f"><span>10302</span></td><td id="LC10302" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L10303" class="css-a4x74f"><span>10303</span></td><td id="LC10303" class="css-1dcdqdg"><code>		<span class="code-comment">// @option pane: String = 'tooltipPane'</span>
</code></td></tr><tr><td id="L10304" class="css-a4x74f"><span>10304</span></td><td id="LC10304" class="css-1dcdqdg"><code>		<span class="code-comment">// `Map pane` where the tooltip will be added.</span>
</code></td></tr><tr><td id="L10305" class="css-a4x74f"><span>10305</span></td><td id="LC10305" class="css-1dcdqdg"><code>		pane: <span class="code-string">'tooltipPane'</span>,
</code></td></tr><tr><td id="L10306" class="css-a4x74f"><span>10306</span></td><td id="LC10306" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10307" class="css-a4x74f"><span>10307</span></td><td id="LC10307" class="css-1dcdqdg"><code>		<span class="code-comment">// @option offset: Point = Point(0, 0)</span>
</code></td></tr><tr><td id="L10308" class="css-a4x74f"><span>10308</span></td><td id="LC10308" class="css-1dcdqdg"><code>		<span class="code-comment">// Optional offset of the tooltip position.</span>
</code></td></tr><tr><td id="L10309" class="css-a4x74f"><span>10309</span></td><td id="LC10309" class="css-1dcdqdg"><code>		offset: [<span class="code-number">0</span>, <span class="code-number">0</span>],
</code></td></tr><tr><td id="L10310" class="css-a4x74f"><span>10310</span></td><td id="LC10310" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10311" class="css-a4x74f"><span>10311</span></td><td id="LC10311" class="css-1dcdqdg"><code>		<span class="code-comment">// @option direction: String = 'auto'</span>
</code></td></tr><tr><td id="L10312" class="css-a4x74f"><span>10312</span></td><td id="LC10312" class="css-1dcdqdg"><code>		<span class="code-comment">// Direction where to open the tooltip. Possible values are: `right`, `left`,</span>
</code></td></tr><tr><td id="L10313" class="css-a4x74f"><span>10313</span></td><td id="LC10313" class="css-1dcdqdg"><code>		<span class="code-comment">// `top`, `bottom`, `center`, `auto`.</span>
</code></td></tr><tr><td id="L10314" class="css-a4x74f"><span>10314</span></td><td id="LC10314" class="css-1dcdqdg"><code>		<span class="code-comment">// `auto` will dynamically switch between `right` and `left` according to the tooltip</span>
</code></td></tr><tr><td id="L10315" class="css-a4x74f"><span>10315</span></td><td id="LC10315" class="css-1dcdqdg"><code>		<span class="code-comment">// position on the map.</span>
</code></td></tr><tr><td id="L10316" class="css-a4x74f"><span>10316</span></td><td id="LC10316" class="css-1dcdqdg"><code>		direction: <span class="code-string">'auto'</span>,
</code></td></tr><tr><td id="L10317" class="css-a4x74f"><span>10317</span></td><td id="LC10317" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10318" class="css-a4x74f"><span>10318</span></td><td id="LC10318" class="css-1dcdqdg"><code>		<span class="code-comment">// @option permanent: Boolean = false</span>
</code></td></tr><tr><td id="L10319" class="css-a4x74f"><span>10319</span></td><td id="LC10319" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether to open the tooltip permanently or only on mouseover.</span>
</code></td></tr><tr><td id="L10320" class="css-a4x74f"><span>10320</span></td><td id="LC10320" class="css-1dcdqdg"><code>		permanent: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L10321" class="css-a4x74f"><span>10321</span></td><td id="LC10321" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10322" class="css-a4x74f"><span>10322</span></td><td id="LC10322" class="css-1dcdqdg"><code>		<span class="code-comment">// @option sticky: Boolean = false</span>
</code></td></tr><tr><td id="L10323" class="css-a4x74f"><span>10323</span></td><td id="LC10323" class="css-1dcdqdg"><code>		<span class="code-comment">// If true, the tooltip will follow the mouse instead of being fixed at the feature center.</span>
</code></td></tr><tr><td id="L10324" class="css-a4x74f"><span>10324</span></td><td id="LC10324" class="css-1dcdqdg"><code>		sticky: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L10325" class="css-a4x74f"><span>10325</span></td><td id="LC10325" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10326" class="css-a4x74f"><span>10326</span></td><td id="LC10326" class="css-1dcdqdg"><code>		<span class="code-comment">// @option opacity: Number = 0.9</span>
</code></td></tr><tr><td id="L10327" class="css-a4x74f"><span>10327</span></td><td id="LC10327" class="css-1dcdqdg"><code>		<span class="code-comment">// Tooltip container opacity.</span>
</code></td></tr><tr><td id="L10328" class="css-a4x74f"><span>10328</span></td><td id="LC10328" class="css-1dcdqdg"><code>		opacity: <span class="code-number">0.9</span>
</code></td></tr><tr><td id="L10329" class="css-a4x74f"><span>10329</span></td><td id="LC10329" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10330" class="css-a4x74f"><span>10330</span></td><td id="LC10330" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10331" class="css-a4x74f"><span>10331</span></td><td id="LC10331" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L10332" class="css-a4x74f"><span>10332</span></td><td id="LC10332" class="css-1dcdqdg"><code>		DivOverlay.prototype.onAdd.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L10333" class="css-a4x74f"><span>10333</span></td><td id="LC10333" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.setOpacity(<span class="code-keyword">this</span>.options.opacity);
</code></td></tr><tr><td id="L10334" class="css-a4x74f"><span>10334</span></td><td id="LC10334" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10335" class="css-a4x74f"><span>10335</span></td><td id="LC10335" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L10336" class="css-a4x74f"><span>10336</span></td><td id="LC10336" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Tooltip events</span>
</code></td></tr><tr><td id="L10337" class="css-a4x74f"><span>10337</span></td><td id="LC10337" class="css-1dcdqdg"><code>		<span class="code-comment">// @event tooltipopen: TooltipEvent</span>
</code></td></tr><tr><td id="L10338" class="css-a4x74f"><span>10338</span></td><td id="LC10338" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a tooltip is opened in the map.</span>
</code></td></tr><tr><td id="L10339" class="css-a4x74f"><span>10339</span></td><td id="LC10339" class="css-1dcdqdg"><code>		map.fire(<span class="code-string">'tooltipopen'</span>, {<span class="code-attr">tooltip</span>: <span class="code-keyword">this</span>});
</code></td></tr><tr><td id="L10340" class="css-a4x74f"><span>10340</span></td><td id="LC10340" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10341" class="css-a4x74f"><span>10341</span></td><td id="LC10341" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._source) {
</code></td></tr><tr><td id="L10342" class="css-a4x74f"><span>10342</span></td><td id="LC10342" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addEventParent(<span class="code-keyword">this</span>._source);
</code></td></tr><tr><td id="L10343" class="css-a4x74f"><span>10343</span></td><td id="LC10343" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10344" class="css-a4x74f"><span>10344</span></td><td id="LC10344" class="css-1dcdqdg"><code>			<span class="code-comment">// @namespace Layer</span>
</code></td></tr><tr><td id="L10345" class="css-a4x74f"><span>10345</span></td><td id="LC10345" class="css-1dcdqdg"><code>			<span class="code-comment">// @section Tooltip events</span>
</code></td></tr><tr><td id="L10346" class="css-a4x74f"><span>10346</span></td><td id="LC10346" class="css-1dcdqdg"><code>			<span class="code-comment">// @event tooltipopen: TooltipEvent</span>
</code></td></tr><tr><td id="L10347" class="css-a4x74f"><span>10347</span></td><td id="LC10347" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when a tooltip bound to this layer is opened.</span>
</code></td></tr><tr><td id="L10348" class="css-a4x74f"><span>10348</span></td><td id="LC10348" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._source.fire(<span class="code-string">'tooltipopen'</span>, {<span class="code-attr">tooltip</span>: <span class="code-keyword">this</span>}, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L10349" class="css-a4x74f"><span>10349</span></td><td id="LC10349" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10350" class="css-a4x74f"><span>10350</span></td><td id="LC10350" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10351" class="css-a4x74f"><span>10351</span></td><td id="LC10351" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10352" class="css-a4x74f"><span>10352</span></td><td id="LC10352" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L10353" class="css-a4x74f"><span>10353</span></td><td id="LC10353" class="css-1dcdqdg"><code>		DivOverlay.prototype.onRemove.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L10354" class="css-a4x74f"><span>10354</span></td><td id="LC10354" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10355" class="css-a4x74f"><span>10355</span></td><td id="LC10355" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L10356" class="css-a4x74f"><span>10356</span></td><td id="LC10356" class="css-1dcdqdg"><code>		<span class="code-comment">// @section Tooltip events</span>
</code></td></tr><tr><td id="L10357" class="css-a4x74f"><span>10357</span></td><td id="LC10357" class="css-1dcdqdg"><code>		<span class="code-comment">// @event tooltipclose: TooltipEvent</span>
</code></td></tr><tr><td id="L10358" class="css-a4x74f"><span>10358</span></td><td id="LC10358" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a tooltip in the map is closed.</span>
</code></td></tr><tr><td id="L10359" class="css-a4x74f"><span>10359</span></td><td id="LC10359" class="css-1dcdqdg"><code>		map.fire(<span class="code-string">'tooltipclose'</span>, {<span class="code-attr">tooltip</span>: <span class="code-keyword">this</span>});
</code></td></tr><tr><td id="L10360" class="css-a4x74f"><span>10360</span></td><td id="LC10360" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10361" class="css-a4x74f"><span>10361</span></td><td id="LC10361" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._source) {
</code></td></tr><tr><td id="L10362" class="css-a4x74f"><span>10362</span></td><td id="LC10362" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.removeEventParent(<span class="code-keyword">this</span>._source);
</code></td></tr><tr><td id="L10363" class="css-a4x74f"><span>10363</span></td><td id="LC10363" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10364" class="css-a4x74f"><span>10364</span></td><td id="LC10364" class="css-1dcdqdg"><code>			<span class="code-comment">// @namespace Layer</span>
</code></td></tr><tr><td id="L10365" class="css-a4x74f"><span>10365</span></td><td id="LC10365" class="css-1dcdqdg"><code>			<span class="code-comment">// @section Tooltip events</span>
</code></td></tr><tr><td id="L10366" class="css-a4x74f"><span>10366</span></td><td id="LC10366" class="css-1dcdqdg"><code>			<span class="code-comment">// @event tooltipclose: TooltipEvent</span>
</code></td></tr><tr><td id="L10367" class="css-a4x74f"><span>10367</span></td><td id="LC10367" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when a tooltip bound to this layer is closed.</span>
</code></td></tr><tr><td id="L10368" class="css-a4x74f"><span>10368</span></td><td id="LC10368" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._source.fire(<span class="code-string">'tooltipclose'</span>, {<span class="code-attr">tooltip</span>: <span class="code-keyword">this</span>}, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L10369" class="css-a4x74f"><span>10369</span></td><td id="LC10369" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10370" class="css-a4x74f"><span>10370</span></td><td id="LC10370" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10371" class="css-a4x74f"><span>10371</span></td><td id="LC10371" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10372" class="css-a4x74f"><span>10372</span></td><td id="LC10372" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10373" class="css-a4x74f"><span>10373</span></td><td id="LC10373" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = DivOverlay.prototype.getEvents.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10374" class="css-a4x74f"><span>10374</span></td><td id="LC10374" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10375" class="css-a4x74f"><span>10375</span></td><td id="LC10375" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.permanent) {
</code></td></tr><tr><td id="L10376" class="css-a4x74f"><span>10376</span></td><td id="LC10376" class="css-1dcdqdg"><code>			events.preclick = <span class="code-keyword">this</span>.close;
</code></td></tr><tr><td id="L10377" class="css-a4x74f"><span>10377</span></td><td id="LC10377" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10378" class="css-a4x74f"><span>10378</span></td><td id="LC10378" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10379" class="css-a4x74f"><span>10379</span></td><td id="LC10379" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L10380" class="css-a4x74f"><span>10380</span></td><td id="LC10380" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10381" class="css-a4x74f"><span>10381</span></td><td id="LC10381" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10382" class="css-a4x74f"><span>10382</span></td><td id="LC10382" class="css-1dcdqdg"><code>	_initLayout: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10383" class="css-a4x74f"><span>10383</span></td><td id="LC10383" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> prefix = <span class="code-string">'leaflet-tooltip'</span>,
</code></td></tr><tr><td id="L10384" class="css-a4x74f"><span>10384</span></td><td id="LC10384" class="css-1dcdqdg"><code>		    className = prefix + <span class="code-string">' '</span> + (<span class="code-keyword">this</span>.options.className || <span class="code-string">''</span>) + <span class="code-string">' leaflet-zoom-'</span> + (<span class="code-keyword">this</span>._zoomAnimated ? <span class="code-string">'animated'</span> : <span class="code-string">'hide'</span>);
</code></td></tr><tr><td id="L10385" class="css-a4x74f"><span>10385</span></td><td id="LC10385" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10386" class="css-a4x74f"><span>10386</span></td><td id="LC10386" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._contentNode = <span class="code-keyword">this</span>._container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, className);
</code></td></tr><tr><td id="L10387" class="css-a4x74f"><span>10387</span></td><td id="LC10387" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10388" class="css-a4x74f"><span>10388</span></td><td id="LC10388" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10389" class="css-a4x74f"><span>10389</span></td><td id="LC10389" class="css-1dcdqdg"><code>	_updateLayout: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{},
</code></td></tr><tr><td id="L10390" class="css-a4x74f"><span>10390</span></td><td id="LC10390" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10391" class="css-a4x74f"><span>10391</span></td><td id="LC10391" class="css-1dcdqdg"><code>	_adjustPan: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{},
</code></td></tr><tr><td id="L10392" class="css-a4x74f"><span>10392</span></td><td id="LC10392" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10393" class="css-a4x74f"><span>10393</span></td><td id="LC10393" class="css-1dcdqdg"><code>	_setPosition: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">pos</span>) </span>{
</code></td></tr><tr><td id="L10394" class="css-a4x74f"><span>10394</span></td><td id="LC10394" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> subX, subY,
</code></td></tr><tr><td id="L10395" class="css-a4x74f"><span>10395</span></td><td id="LC10395" class="css-1dcdqdg"><code>		    map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L10396" class="css-a4x74f"><span>10396</span></td><td id="LC10396" class="css-1dcdqdg"><code>		    container = <span class="code-keyword">this</span>._container,
</code></td></tr><tr><td id="L10397" class="css-a4x74f"><span>10397</span></td><td id="LC10397" class="css-1dcdqdg"><code>		    centerPoint = map.latLngToContainerPoint(map.getCenter()),
</code></td></tr><tr><td id="L10398" class="css-a4x74f"><span>10398</span></td><td id="LC10398" class="css-1dcdqdg"><code>		    tooltipPoint = map.layerPointToContainerPoint(pos),
</code></td></tr><tr><td id="L10399" class="css-a4x74f"><span>10399</span></td><td id="LC10399" class="css-1dcdqdg"><code>		    direction = <span class="code-keyword">this</span>.options.direction,
</code></td></tr><tr><td id="L10400" class="css-a4x74f"><span>10400</span></td><td id="LC10400" class="css-1dcdqdg"><code>		    tooltipWidth = container.offsetWidth,
</code></td></tr><tr><td id="L10401" class="css-a4x74f"><span>10401</span></td><td id="LC10401" class="css-1dcdqdg"><code>		    tooltipHeight = container.offsetHeight,
</code></td></tr><tr><td id="L10402" class="css-a4x74f"><span>10402</span></td><td id="LC10402" class="css-1dcdqdg"><code>		    offset = toPoint(<span class="code-keyword">this</span>.options.offset),
</code></td></tr><tr><td id="L10403" class="css-a4x74f"><span>10403</span></td><td id="LC10403" class="css-1dcdqdg"><code>		    anchor = <span class="code-keyword">this</span>._getAnchor();
</code></td></tr><tr><td id="L10404" class="css-a4x74f"><span>10404</span></td><td id="LC10404" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10405" class="css-a4x74f"><span>10405</span></td><td id="LC10405" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (direction === <span class="code-string">'top'</span>) {
</code></td></tr><tr><td id="L10406" class="css-a4x74f"><span>10406</span></td><td id="LC10406" class="css-1dcdqdg"><code>			subX = tooltipWidth / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10407" class="css-a4x74f"><span>10407</span></td><td id="LC10407" class="css-1dcdqdg"><code>			subY = tooltipHeight;
</code></td></tr><tr><td id="L10408" class="css-a4x74f"><span>10408</span></td><td id="LC10408" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (direction === <span class="code-string">'bottom'</span>) {
</code></td></tr><tr><td id="L10409" class="css-a4x74f"><span>10409</span></td><td id="LC10409" class="css-1dcdqdg"><code>			subX = tooltipWidth / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10410" class="css-a4x74f"><span>10410</span></td><td id="LC10410" class="css-1dcdqdg"><code>			subY = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L10411" class="css-a4x74f"><span>10411</span></td><td id="LC10411" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (direction === <span class="code-string">'center'</span>) {
</code></td></tr><tr><td id="L10412" class="css-a4x74f"><span>10412</span></td><td id="LC10412" class="css-1dcdqdg"><code>			subX = tooltipWidth / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10413" class="css-a4x74f"><span>10413</span></td><td id="LC10413" class="css-1dcdqdg"><code>			subY = tooltipHeight / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10414" class="css-a4x74f"><span>10414</span></td><td id="LC10414" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (direction === <span class="code-string">'right'</span>) {
</code></td></tr><tr><td id="L10415" class="css-a4x74f"><span>10415</span></td><td id="LC10415" class="css-1dcdqdg"><code>			subX = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L10416" class="css-a4x74f"><span>10416</span></td><td id="LC10416" class="css-1dcdqdg"><code>			subY = tooltipHeight / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10417" class="css-a4x74f"><span>10417</span></td><td id="LC10417" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (direction === <span class="code-string">'left'</span>) {
</code></td></tr><tr><td id="L10418" class="css-a4x74f"><span>10418</span></td><td id="LC10418" class="css-1dcdqdg"><code>			subX = tooltipWidth;
</code></td></tr><tr><td id="L10419" class="css-a4x74f"><span>10419</span></td><td id="LC10419" class="css-1dcdqdg"><code>			subY = tooltipHeight / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10420" class="css-a4x74f"><span>10420</span></td><td id="LC10420" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (tooltipPoint.x &lt; centerPoint.x) {
</code></td></tr><tr><td id="L10421" class="css-a4x74f"><span>10421</span></td><td id="LC10421" class="css-1dcdqdg"><code>			direction = <span class="code-string">'right'</span>;
</code></td></tr><tr><td id="L10422" class="css-a4x74f"><span>10422</span></td><td id="LC10422" class="css-1dcdqdg"><code>			subX = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L10423" class="css-a4x74f"><span>10423</span></td><td id="LC10423" class="css-1dcdqdg"><code>			subY = tooltipHeight / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10424" class="css-a4x74f"><span>10424</span></td><td id="LC10424" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L10425" class="css-a4x74f"><span>10425</span></td><td id="LC10425" class="css-1dcdqdg"><code>			direction = <span class="code-string">'left'</span>;
</code></td></tr><tr><td id="L10426" class="css-a4x74f"><span>10426</span></td><td id="LC10426" class="css-1dcdqdg"><code>			subX = tooltipWidth + (offset.x + anchor.x) * <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10427" class="css-a4x74f"><span>10427</span></td><td id="LC10427" class="css-1dcdqdg"><code>			subY = tooltipHeight / <span class="code-number">2</span>;
</code></td></tr><tr><td id="L10428" class="css-a4x74f"><span>10428</span></td><td id="LC10428" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10429" class="css-a4x74f"><span>10429</span></td><td id="LC10429" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10430" class="css-a4x74f"><span>10430</span></td><td id="LC10430" class="css-1dcdqdg"><code>		pos = pos.subtract(toPoint(subX, subY, <span class="code-literal">true</span>)).add(offset).add(anchor);
</code></td></tr><tr><td id="L10431" class="css-a4x74f"><span>10431</span></td><td id="LC10431" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10432" class="css-a4x74f"><span>10432</span></td><td id="LC10432" class="css-1dcdqdg"><code>		removeClass(container, <span class="code-string">'leaflet-tooltip-right'</span>);
</code></td></tr><tr><td id="L10433" class="css-a4x74f"><span>10433</span></td><td id="LC10433" class="css-1dcdqdg"><code>		removeClass(container, <span class="code-string">'leaflet-tooltip-left'</span>);
</code></td></tr><tr><td id="L10434" class="css-a4x74f"><span>10434</span></td><td id="LC10434" class="css-1dcdqdg"><code>		removeClass(container, <span class="code-string">'leaflet-tooltip-top'</span>);
</code></td></tr><tr><td id="L10435" class="css-a4x74f"><span>10435</span></td><td id="LC10435" class="css-1dcdqdg"><code>		removeClass(container, <span class="code-string">'leaflet-tooltip-bottom'</span>);
</code></td></tr><tr><td id="L10436" class="css-a4x74f"><span>10436</span></td><td id="LC10436" class="css-1dcdqdg"><code>		addClass(container, <span class="code-string">'leaflet-tooltip-'</span> + direction);
</code></td></tr><tr><td id="L10437" class="css-a4x74f"><span>10437</span></td><td id="LC10437" class="css-1dcdqdg"><code>		setPosition(container, pos);
</code></td></tr><tr><td id="L10438" class="css-a4x74f"><span>10438</span></td><td id="LC10438" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10439" class="css-a4x74f"><span>10439</span></td><td id="LC10439" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10440" class="css-a4x74f"><span>10440</span></td><td id="LC10440" class="css-1dcdqdg"><code>	_updatePosition: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10441" class="css-a4x74f"><span>10441</span></td><td id="LC10441" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._map.latLngToLayerPoint(<span class="code-keyword">this</span>._latlng);
</code></td></tr><tr><td id="L10442" class="css-a4x74f"><span>10442</span></td><td id="LC10442" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPosition(pos);
</code></td></tr><tr><td id="L10443" class="css-a4x74f"><span>10443</span></td><td id="LC10443" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10444" class="css-a4x74f"><span>10444</span></td><td id="LC10444" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10445" class="css-a4x74f"><span>10445</span></td><td id="LC10445" class="css-1dcdqdg"><code>	setOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">opacity</span>) </span>{
</code></td></tr><tr><td id="L10446" class="css-a4x74f"><span>10446</span></td><td id="LC10446" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.opacity = opacity;
</code></td></tr><tr><td id="L10447" class="css-a4x74f"><span>10447</span></td><td id="LC10447" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10448" class="css-a4x74f"><span>10448</span></td><td id="LC10448" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._container) {
</code></td></tr><tr><td id="L10449" class="css-a4x74f"><span>10449</span></td><td id="LC10449" class="css-1dcdqdg"><code>			setOpacity(<span class="code-keyword">this</span>._container, opacity);
</code></td></tr><tr><td id="L10450" class="css-a4x74f"><span>10450</span></td><td id="LC10450" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10451" class="css-a4x74f"><span>10451</span></td><td id="LC10451" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10452" class="css-a4x74f"><span>10452</span></td><td id="LC10452" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10453" class="css-a4x74f"><span>10453</span></td><td id="LC10453" class="css-1dcdqdg"><code>	_animateZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10454" class="css-a4x74f"><span>10454</span></td><td id="LC10454" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pos = <span class="code-keyword">this</span>._map._latLngToNewLayerPoint(<span class="code-keyword">this</span>._latlng, e.zoom, e.center);
</code></td></tr><tr><td id="L10455" class="css-a4x74f"><span>10455</span></td><td id="LC10455" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPosition(pos);
</code></td></tr><tr><td id="L10456" class="css-a4x74f"><span>10456</span></td><td id="LC10456" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10457" class="css-a4x74f"><span>10457</span></td><td id="LC10457" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10458" class="css-a4x74f"><span>10458</span></td><td id="LC10458" class="css-1dcdqdg"><code>	_getAnchor: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10459" class="css-a4x74f"><span>10459</span></td><td id="LC10459" class="css-1dcdqdg"><code>		<span class="code-comment">// Where should we anchor the tooltip on the source layer?</span>
</code></td></tr><tr><td id="L10460" class="css-a4x74f"><span>10460</span></td><td id="LC10460" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toPoint(<span class="code-keyword">this</span>._source &amp;&amp; <span class="code-keyword">this</span>._source._getTooltipAnchor &amp;&amp; !<span class="code-keyword">this</span>.options.sticky ? <span class="code-keyword">this</span>._source._getTooltipAnchor() : [<span class="code-number">0</span>, <span class="code-number">0</span>]);
</code></td></tr><tr><td id="L10461" class="css-a4x74f"><span>10461</span></td><td id="LC10461" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10462" class="css-a4x74f"><span>10462</span></td><td id="LC10462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10463" class="css-a4x74f"><span>10463</span></td><td id="LC10463" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10464" class="css-a4x74f"><span>10464</span></td><td id="LC10464" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10465" class="css-a4x74f"><span>10465</span></td><td id="LC10465" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Tooltip</span>
</code></td></tr><tr><td id="L10466" class="css-a4x74f"><span>10466</span></td><td id="LC10466" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.tooltip(options?: Tooltip options, source?: Layer)</span>
</code></td></tr><tr><td id="L10467" class="css-a4x74f"><span>10467</span></td><td id="LC10467" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a Tooltip object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the tooltip with a reference to the Layer to which it refers.</span>
</code></td></tr><tr><td id="L10468" class="css-a4x74f"><span>10468</span></td><td id="LC10468" class="css-1dcdqdg"><code><span class="code-keyword">var</span> tooltip = <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options, source</span>) </span>{
</code></td></tr><tr><td id="L10469" class="css-a4x74f"><span>10469</span></td><td id="LC10469" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Tooltip(options, source);
</code></td></tr><tr><td id="L10470" class="css-a4x74f"><span>10470</span></td><td id="LC10470" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L10471" class="css-a4x74f"><span>10471</span></td><td id="LC10471" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10472" class="css-a4x74f"><span>10472</span></td><td id="LC10472" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L10473" class="css-a4x74f"><span>10473</span></td><td id="LC10473" class="css-1dcdqdg"><code><span class="code-comment">// @section Methods for Layers and Controls</span>
</code></td></tr><tr><td id="L10474" class="css-a4x74f"><span>10474</span></td><td id="LC10474" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.include({
</code></td></tr><tr><td id="L10475" class="css-a4x74f"><span>10475</span></td><td id="LC10475" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10476" class="css-a4x74f"><span>10476</span></td><td id="LC10476" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openTooltip(tooltip: Tooltip): this</span>
</code></td></tr><tr><td id="L10477" class="css-a4x74f"><span>10477</span></td><td id="LC10477" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens the specified tooltip.</span>
</code></td></tr><tr><td id="L10478" class="css-a4x74f"><span>10478</span></td><td id="LC10478" class="css-1dcdqdg"><code>	<span class="code-comment">// @alternative</span>
</code></td></tr><tr><td id="L10479" class="css-a4x74f"><span>10479</span></td><td id="LC10479" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this</span>
</code></td></tr><tr><td id="L10480" class="css-a4x74f"><span>10480</span></td><td id="LC10480" class="css-1dcdqdg"><code>	<span class="code-comment">// Creates a tooltip with the specified content and options and open it.</span>
</code></td></tr><tr><td id="L10481" class="css-a4x74f"><span>10481</span></td><td id="LC10481" class="css-1dcdqdg"><code>	openTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">tooltip, latlng, options</span>) </span>{
</code></td></tr><tr><td id="L10482" class="css-a4x74f"><span>10482</span></td><td id="LC10482" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initOverlay(Tooltip, tooltip, latlng, options)
</code></td></tr><tr><td id="L10483" class="css-a4x74f"><span>10483</span></td><td id="LC10483" class="css-1dcdqdg"><code>		  .openOn(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10484" class="css-a4x74f"><span>10484</span></td><td id="LC10484" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10485" class="css-a4x74f"><span>10485</span></td><td id="LC10485" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10486" class="css-a4x74f"><span>10486</span></td><td id="LC10486" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10487" class="css-a4x74f"><span>10487</span></td><td id="LC10487" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10488" class="css-a4x74f"><span>10488</span></td><td id="LC10488" class="css-1dcdqdg"><code>	<span class="code-comment">// @method closeTooltip(tooltip: Tooltip): this</span>
</code></td></tr><tr><td id="L10489" class="css-a4x74f"><span>10489</span></td><td id="LC10489" class="css-1dcdqdg"><code>	<span class="code-comment">// Closes the tooltip given as parameter.</span>
</code></td></tr><tr><td id="L10490" class="css-a4x74f"><span>10490</span></td><td id="LC10490" class="css-1dcdqdg"><code>	closeTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">tooltip</span>) </span>{
</code></td></tr><tr><td id="L10491" class="css-a4x74f"><span>10491</span></td><td id="LC10491" class="css-1dcdqdg"><code>		tooltip.close();
</code></td></tr><tr><td id="L10492" class="css-a4x74f"><span>10492</span></td><td id="LC10492" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10493" class="css-a4x74f"><span>10493</span></td><td id="LC10493" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10494" class="css-a4x74f"><span>10494</span></td><td id="LC10494" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10495" class="css-a4x74f"><span>10495</span></td><td id="LC10495" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10496" class="css-a4x74f"><span>10496</span></td><td id="LC10496" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10497" class="css-a4x74f"><span>10497</span></td><td id="LC10497" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L10498" class="css-a4x74f"><span>10498</span></td><td id="LC10498" class="css-1dcdqdg"><code><span class="code-comment"> * @namespace Layer
</span></code></td></tr><tr><td id="L10499" class="css-a4x74f"><span>10499</span></td><td id="LC10499" class="css-1dcdqdg"><code><span class="code-comment"> * @section Tooltip methods example
</span></code></td></tr><tr><td id="L10500" class="css-a4x74f"><span>10500</span></td><td id="LC10500" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10501" class="css-a4x74f"><span>10501</span></td><td id="LC10501" class="css-1dcdqdg"><code><span class="code-comment"> * All layers share a set of methods convenient for binding tooltips to it.
</span></code></td></tr><tr><td id="L10502" class="css-a4x74f"><span>10502</span></td><td id="LC10502" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10503" class="css-a4x74f"><span>10503</span></td><td id="LC10503" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L10504" class="css-a4x74f"><span>10504</span></td><td id="LC10504" class="css-1dcdqdg"><code><span class="code-comment"> * var layer = L.Polygon(latlngs).bindTooltip('Hi There!').addTo(map);
</span></code></td></tr><tr><td id="L10505" class="css-a4x74f"><span>10505</span></td><td id="LC10505" class="css-1dcdqdg"><code><span class="code-comment"> * layer.openTooltip();
</span></code></td></tr><tr><td id="L10506" class="css-a4x74f"><span>10506</span></td><td id="LC10506" class="css-1dcdqdg"><code><span class="code-comment"> * layer.closeTooltip();
</span></code></td></tr><tr><td id="L10507" class="css-a4x74f"><span>10507</span></td><td id="LC10507" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L10508" class="css-a4x74f"><span>10508</span></td><td id="LC10508" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L10509" class="css-a4x74f"><span>10509</span></td><td id="LC10509" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10510" class="css-a4x74f"><span>10510</span></td><td id="LC10510" class="css-1dcdqdg"><code><span class="code-comment">// @section Tooltip methods</span>
</code></td></tr><tr><td id="L10511" class="css-a4x74f"><span>10511</span></td><td id="LC10511" class="css-1dcdqdg"><code>Layer.include({
</code></td></tr><tr><td id="L10512" class="css-a4x74f"><span>10512</span></td><td id="LC10512" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10513" class="css-a4x74f"><span>10513</span></td><td id="LC10513" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this</span>
</code></td></tr><tr><td id="L10514" class="css-a4x74f"><span>10514</span></td><td id="LC10514" class="css-1dcdqdg"><code>	<span class="code-comment">// Binds a tooltip to the layer with the passed `content` and sets up the</span>
</code></td></tr><tr><td id="L10515" class="css-a4x74f"><span>10515</span></td><td id="LC10515" class="css-1dcdqdg"><code>	<span class="code-comment">// necessary event listeners. If a `Function` is passed it will receive</span>
</code></td></tr><tr><td id="L10516" class="css-a4x74f"><span>10516</span></td><td id="LC10516" class="css-1dcdqdg"><code>	<span class="code-comment">// the layer as the first argument and should return a `String` or `HTMLElement`.</span>
</code></td></tr><tr><td id="L10517" class="css-a4x74f"><span>10517</span></td><td id="LC10517" class="css-1dcdqdg"><code>	bindTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">content, options</span>) </span>{
</code></td></tr><tr><td id="L10518" class="css-a4x74f"><span>10518</span></td><td id="LC10518" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10519" class="css-a4x74f"><span>10519</span></td><td id="LC10519" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip &amp;&amp; <span class="code-keyword">this</span>.isTooltipOpen()) {
</code></td></tr><tr><td id="L10520" class="css-a4x74f"><span>10520</span></td><td id="LC10520" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.unbindTooltip();
</code></td></tr><tr><td id="L10521" class="css-a4x74f"><span>10521</span></td><td id="LC10521" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10522" class="css-a4x74f"><span>10522</span></td><td id="LC10522" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10523" class="css-a4x74f"><span>10523</span></td><td id="LC10523" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tooltip = <span class="code-keyword">this</span>._initOverlay(Tooltip, <span class="code-keyword">this</span>._tooltip, content, options);
</code></td></tr><tr><td id="L10524" class="css-a4x74f"><span>10524</span></td><td id="LC10524" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initTooltipInteractions();
</code></td></tr><tr><td id="L10525" class="css-a4x74f"><span>10525</span></td><td id="LC10525" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10526" class="css-a4x74f"><span>10526</span></td><td id="LC10526" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip.options.permanent &amp;&amp; <span class="code-keyword">this</span>._map &amp;&amp; <span class="code-keyword">this</span>._map.hasLayer(<span class="code-keyword">this</span>)) {
</code></td></tr><tr><td id="L10527" class="css-a4x74f"><span>10527</span></td><td id="LC10527" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.openTooltip();
</code></td></tr><tr><td id="L10528" class="css-a4x74f"><span>10528</span></td><td id="LC10528" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10529" class="css-a4x74f"><span>10529</span></td><td id="LC10529" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10530" class="css-a4x74f"><span>10530</span></td><td id="LC10530" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10531" class="css-a4x74f"><span>10531</span></td><td id="LC10531" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10532" class="css-a4x74f"><span>10532</span></td><td id="LC10532" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10533" class="css-a4x74f"><span>10533</span></td><td id="LC10533" class="css-1dcdqdg"><code>	<span class="code-comment">// @method unbindTooltip(): this</span>
</code></td></tr><tr><td id="L10534" class="css-a4x74f"><span>10534</span></td><td id="LC10534" class="css-1dcdqdg"><code>	<span class="code-comment">// Removes the tooltip previously bound with `bindTooltip`.</span>
</code></td></tr><tr><td id="L10535" class="css-a4x74f"><span>10535</span></td><td id="LC10535" class="css-1dcdqdg"><code>	unbindTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10536" class="css-a4x74f"><span>10536</span></td><td id="LC10536" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip) {
</code></td></tr><tr><td id="L10537" class="css-a4x74f"><span>10537</span></td><td id="LC10537" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._initTooltipInteractions(<span class="code-literal">true</span>);
</code></td></tr><tr><td id="L10538" class="css-a4x74f"><span>10538</span></td><td id="LC10538" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.closeTooltip();
</code></td></tr><tr><td id="L10539" class="css-a4x74f"><span>10539</span></td><td id="LC10539" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._tooltip = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L10540" class="css-a4x74f"><span>10540</span></td><td id="LC10540" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10541" class="css-a4x74f"><span>10541</span></td><td id="LC10541" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10542" class="css-a4x74f"><span>10542</span></td><td id="LC10542" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10543" class="css-a4x74f"><span>10543</span></td><td id="LC10543" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10544" class="css-a4x74f"><span>10544</span></td><td id="LC10544" class="css-1dcdqdg"><code>	_initTooltipInteractions: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">remove</span>) </span>{
</code></td></tr><tr><td id="L10545" class="css-a4x74f"><span>10545</span></td><td id="LC10545" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!remove &amp;&amp; <span class="code-keyword">this</span>._tooltipHandlersAdded) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L10546" class="css-a4x74f"><span>10546</span></td><td id="LC10546" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> onOff = remove ? <span class="code-string">'off'</span> : <span class="code-string">'on'</span>,
</code></td></tr><tr><td id="L10547" class="css-a4x74f"><span>10547</span></td><td id="LC10547" class="css-1dcdqdg"><code>		    events = {
</code></td></tr><tr><td id="L10548" class="css-a4x74f"><span>10548</span></td><td id="LC10548" class="css-1dcdqdg"><code>			remove: <span class="code-keyword">this</span>.closeTooltip,
</code></td></tr><tr><td id="L10549" class="css-a4x74f"><span>10549</span></td><td id="LC10549" class="css-1dcdqdg"><code>			move: <span class="code-keyword">this</span>._moveTooltip
</code></td></tr><tr><td id="L10550" class="css-a4x74f"><span>10550</span></td><td id="LC10550" class="css-1dcdqdg"><code>		    };
</code></td></tr><tr><td id="L10551" class="css-a4x74f"><span>10551</span></td><td id="LC10551" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._tooltip.options.permanent) {
</code></td></tr><tr><td id="L10552" class="css-a4x74f"><span>10552</span></td><td id="LC10552" class="css-1dcdqdg"><code>			events.mouseover = <span class="code-keyword">this</span>._openTooltip;
</code></td></tr><tr><td id="L10553" class="css-a4x74f"><span>10553</span></td><td id="LC10553" class="css-1dcdqdg"><code>			events.mouseout = <span class="code-keyword">this</span>.closeTooltip;
</code></td></tr><tr><td id="L10554" class="css-a4x74f"><span>10554</span></td><td id="LC10554" class="css-1dcdqdg"><code>			events.click = <span class="code-keyword">this</span>._openTooltip;
</code></td></tr><tr><td id="L10555" class="css-a4x74f"><span>10555</span></td><td id="LC10555" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L10556" class="css-a4x74f"><span>10556</span></td><td id="LC10556" class="css-1dcdqdg"><code>			events.add = <span class="code-keyword">this</span>._openTooltip;
</code></td></tr><tr><td id="L10557" class="css-a4x74f"><span>10557</span></td><td id="LC10557" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10558" class="css-a4x74f"><span>10558</span></td><td id="LC10558" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip.options.sticky) {
</code></td></tr><tr><td id="L10559" class="css-a4x74f"><span>10559</span></td><td id="LC10559" class="css-1dcdqdg"><code>			events.mousemove = <span class="code-keyword">this</span>._moveTooltip;
</code></td></tr><tr><td id="L10560" class="css-a4x74f"><span>10560</span></td><td id="LC10560" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10561" class="css-a4x74f"><span>10561</span></td><td id="LC10561" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>[onOff](events);
</code></td></tr><tr><td id="L10562" class="css-a4x74f"><span>10562</span></td><td id="LC10562" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tooltipHandlersAdded = !remove;
</code></td></tr><tr><td id="L10563" class="css-a4x74f"><span>10563</span></td><td id="LC10563" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10564" class="css-a4x74f"><span>10564</span></td><td id="LC10564" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10565" class="css-a4x74f"><span>10565</span></td><td id="LC10565" class="css-1dcdqdg"><code>	<span class="code-comment">// @method openTooltip(latlng?: LatLng): this</span>
</code></td></tr><tr><td id="L10566" class="css-a4x74f"><span>10566</span></td><td id="LC10566" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens the bound tooltip at the specified `latlng` or at the default tooltip anchor if no `latlng` is passed.</span>
</code></td></tr><tr><td id="L10567" class="css-a4x74f"><span>10567</span></td><td id="LC10567" class="css-1dcdqdg"><code>	openTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latlng</span>) </span>{
</code></td></tr><tr><td id="L10568" class="css-a4x74f"><span>10568</span></td><td id="LC10568" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip &amp;&amp; <span class="code-keyword">this</span>._tooltip._prepareOpen(latlng)) {
</code></td></tr><tr><td id="L10569" class="css-a4x74f"><span>10569</span></td><td id="LC10569" class="css-1dcdqdg"><code>			<span class="code-comment">// open the tooltip on the map</span>
</code></td></tr><tr><td id="L10570" class="css-a4x74f"><span>10570</span></td><td id="LC10570" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._tooltip.openOn(<span class="code-keyword">this</span>._map);
</code></td></tr><tr><td id="L10571" class="css-a4x74f"><span>10571</span></td><td id="LC10571" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10572" class="css-a4x74f"><span>10572</span></td><td id="LC10572" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10573" class="css-a4x74f"><span>10573</span></td><td id="LC10573" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10574" class="css-a4x74f"><span>10574</span></td><td id="LC10574" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10575" class="css-a4x74f"><span>10575</span></td><td id="LC10575" class="css-1dcdqdg"><code>	<span class="code-comment">// @method closeTooltip(): this</span>
</code></td></tr><tr><td id="L10576" class="css-a4x74f"><span>10576</span></td><td id="LC10576" class="css-1dcdqdg"><code>	<span class="code-comment">// Closes the tooltip bound to this layer if it is open.</span>
</code></td></tr><tr><td id="L10577" class="css-a4x74f"><span>10577</span></td><td id="LC10577" class="css-1dcdqdg"><code>	closeTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10578" class="css-a4x74f"><span>10578</span></td><td id="LC10578" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip) {
</code></td></tr><tr><td id="L10579" class="css-a4x74f"><span>10579</span></td><td id="LC10579" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>._tooltip.close();
</code></td></tr><tr><td id="L10580" class="css-a4x74f"><span>10580</span></td><td id="LC10580" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10581" class="css-a4x74f"><span>10581</span></td><td id="LC10581" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10582" class="css-a4x74f"><span>10582</span></td><td id="LC10582" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10583" class="css-a4x74f"><span>10583</span></td><td id="LC10583" class="css-1dcdqdg"><code>	<span class="code-comment">// @method toggleTooltip(): this</span>
</code></td></tr><tr><td id="L10584" class="css-a4x74f"><span>10584</span></td><td id="LC10584" class="css-1dcdqdg"><code>	<span class="code-comment">// Opens or closes the tooltip bound to this layer depending on its current state.</span>
</code></td></tr><tr><td id="L10585" class="css-a4x74f"><span>10585</span></td><td id="LC10585" class="css-1dcdqdg"><code>	toggleTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10586" class="css-a4x74f"><span>10586</span></td><td id="LC10586" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip) {
</code></td></tr><tr><td id="L10587" class="css-a4x74f"><span>10587</span></td><td id="LC10587" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._tooltip.toggle(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10588" class="css-a4x74f"><span>10588</span></td><td id="LC10588" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10589" class="css-a4x74f"><span>10589</span></td><td id="LC10589" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10590" class="css-a4x74f"><span>10590</span></td><td id="LC10590" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10591" class="css-a4x74f"><span>10591</span></td><td id="LC10591" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10592" class="css-a4x74f"><span>10592</span></td><td id="LC10592" class="css-1dcdqdg"><code>	<span class="code-comment">// @method isTooltipOpen(): boolean</span>
</code></td></tr><tr><td id="L10593" class="css-a4x74f"><span>10593</span></td><td id="LC10593" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if the tooltip bound to this layer is currently open.</span>
</code></td></tr><tr><td id="L10594" class="css-a4x74f"><span>10594</span></td><td id="LC10594" class="css-1dcdqdg"><code>	isTooltipOpen: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10595" class="css-a4x74f"><span>10595</span></td><td id="LC10595" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._tooltip.isOpen();
</code></td></tr><tr><td id="L10596" class="css-a4x74f"><span>10596</span></td><td id="LC10596" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10597" class="css-a4x74f"><span>10597</span></td><td id="LC10597" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10598" class="css-a4x74f"><span>10598</span></td><td id="LC10598" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setTooltipContent(content: String|HTMLElement|Tooltip): this</span>
</code></td></tr><tr><td id="L10599" class="css-a4x74f"><span>10599</span></td><td id="LC10599" class="css-1dcdqdg"><code>	<span class="code-comment">// Sets the content of the tooltip bound to this layer.</span>
</code></td></tr><tr><td id="L10600" class="css-a4x74f"><span>10600</span></td><td id="LC10600" class="css-1dcdqdg"><code>	setTooltipContent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">content</span>) </span>{
</code></td></tr><tr><td id="L10601" class="css-a4x74f"><span>10601</span></td><td id="LC10601" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip) {
</code></td></tr><tr><td id="L10602" class="css-a4x74f"><span>10602</span></td><td id="LC10602" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._tooltip.setContent(content);
</code></td></tr><tr><td id="L10603" class="css-a4x74f"><span>10603</span></td><td id="LC10603" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10604" class="css-a4x74f"><span>10604</span></td><td id="LC10604" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10605" class="css-a4x74f"><span>10605</span></td><td id="LC10605" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10606" class="css-a4x74f"><span>10606</span></td><td id="LC10606" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10607" class="css-a4x74f"><span>10607</span></td><td id="LC10607" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getTooltip(): Tooltip</span>
</code></td></tr><tr><td id="L10608" class="css-a4x74f"><span>10608</span></td><td id="LC10608" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the tooltip bound to this layer.</span>
</code></td></tr><tr><td id="L10609" class="css-a4x74f"><span>10609</span></td><td id="LC10609" class="css-1dcdqdg"><code>	getTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10610" class="css-a4x74f"><span>10610</span></td><td id="LC10610" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._tooltip;
</code></td></tr><tr><td id="L10611" class="css-a4x74f"><span>10611</span></td><td id="LC10611" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10612" class="css-a4x74f"><span>10612</span></td><td id="LC10612" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10613" class="css-a4x74f"><span>10613</span></td><td id="LC10613" class="css-1dcdqdg"><code>	_openTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10614" class="css-a4x74f"><span>10614</span></td><td id="LC10614" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._tooltip || !<span class="code-keyword">this</span>._map || (<span class="code-keyword">this</span>._map.dragging &amp;&amp; <span class="code-keyword">this</span>._map.dragging.moving())) {
</code></td></tr><tr><td id="L10615" class="css-a4x74f"><span>10615</span></td><td id="LC10615" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L10616" class="css-a4x74f"><span>10616</span></td><td id="LC10616" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10617" class="css-a4x74f"><span>10617</span></td><td id="LC10617" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tooltip._source = e.layer || e.target;
</code></td></tr><tr><td id="L10618" class="css-a4x74f"><span>10618</span></td><td id="LC10618" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10619" class="css-a4x74f"><span>10619</span></td><td id="LC10619" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.openTooltip(<span class="code-keyword">this</span>._tooltip.options.sticky ? e.latlng : <span class="code-literal">undefined</span>);
</code></td></tr><tr><td id="L10620" class="css-a4x74f"><span>10620</span></td><td id="LC10620" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10621" class="css-a4x74f"><span>10621</span></td><td id="LC10621" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10622" class="css-a4x74f"><span>10622</span></td><td id="LC10622" class="css-1dcdqdg"><code>	_moveTooltip: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L10623" class="css-a4x74f"><span>10623</span></td><td id="LC10623" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> latlng = e.latlng, containerPoint, layerPoint;
</code></td></tr><tr><td id="L10624" class="css-a4x74f"><span>10624</span></td><td id="LC10624" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tooltip.options.sticky &amp;&amp; e.originalEvent) {
</code></td></tr><tr><td id="L10625" class="css-a4x74f"><span>10625</span></td><td id="LC10625" class="css-1dcdqdg"><code>			containerPoint = <span class="code-keyword">this</span>._map.mouseEventToContainerPoint(e.originalEvent);
</code></td></tr><tr><td id="L10626" class="css-a4x74f"><span>10626</span></td><td id="LC10626" class="css-1dcdqdg"><code>			layerPoint = <span class="code-keyword">this</span>._map.containerPointToLayerPoint(containerPoint);
</code></td></tr><tr><td id="L10627" class="css-a4x74f"><span>10627</span></td><td id="LC10627" class="css-1dcdqdg"><code>			latlng = <span class="code-keyword">this</span>._map.layerPointToLatLng(layerPoint);
</code></td></tr><tr><td id="L10628" class="css-a4x74f"><span>10628</span></td><td id="LC10628" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10629" class="css-a4x74f"><span>10629</span></td><td id="LC10629" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tooltip.setLatLng(latlng);
</code></td></tr><tr><td id="L10630" class="css-a4x74f"><span>10630</span></td><td id="LC10630" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10631" class="css-a4x74f"><span>10631</span></td><td id="LC10631" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10632" class="css-a4x74f"><span>10632</span></td><td id="LC10632" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10633" class="css-a4x74f"><span>10633</span></td><td id="LC10633" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L10634" class="css-a4x74f"><span>10634</span></td><td id="LC10634" class="css-1dcdqdg"><code><span class="code-comment"> * @class DivIcon
</span></code></td></tr><tr><td id="L10635" class="css-a4x74f"><span>10635</span></td><td id="LC10635" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.DivIcon
</span></code></td></tr><tr><td id="L10636" class="css-a4x74f"><span>10636</span></td><td id="LC10636" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Icon
</span></code></td></tr><tr><td id="L10637" class="css-a4x74f"><span>10637</span></td><td id="LC10637" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10638" class="css-a4x74f"><span>10638</span></td><td id="LC10638" class="css-1dcdqdg"><code><span class="code-comment"> * Represents a lightweight icon for markers that uses a simple `&lt;div&gt;`
</span></code></td></tr><tr><td id="L10639" class="css-a4x74f"><span>10639</span></td><td id="LC10639" class="css-1dcdqdg"><code><span class="code-comment"> * element instead of an image. Inherits from `Icon` but ignores the `iconUrl` and shadow options.
</span></code></td></tr><tr><td id="L10640" class="css-a4x74f"><span>10640</span></td><td id="LC10640" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10641" class="css-a4x74f"><span>10641</span></td><td id="LC10641" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L10642" class="css-a4x74f"><span>10642</span></td><td id="LC10642" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L10643" class="css-a4x74f"><span>10643</span></td><td id="LC10643" class="css-1dcdqdg"><code><span class="code-comment"> * var myIcon = L.divIcon({className: 'my-div-icon'});
</span></code></td></tr><tr><td id="L10644" class="css-a4x74f"><span>10644</span></td><td id="LC10644" class="css-1dcdqdg"><code><span class="code-comment"> * // you can set .my-div-icon styles in CSS
</span></code></td></tr><tr><td id="L10645" class="css-a4x74f"><span>10645</span></td><td id="LC10645" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10646" class="css-a4x74f"><span>10646</span></td><td id="LC10646" class="css-1dcdqdg"><code><span class="code-comment"> * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);
</span></code></td></tr><tr><td id="L10647" class="css-a4x74f"><span>10647</span></td><td id="LC10647" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L10648" class="css-a4x74f"><span>10648</span></td><td id="LC10648" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10649" class="css-a4x74f"><span>10649</span></td><td id="LC10649" class="css-1dcdqdg"><code><span class="code-comment"> * By default, it has a 'leaflet-div-icon' CSS class and is styled as a little white square with a shadow.
</span></code></td></tr><tr><td id="L10650" class="css-a4x74f"><span>10650</span></td><td id="LC10650" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L10651" class="css-a4x74f"><span>10651</span></td><td id="LC10651" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10652" class="css-a4x74f"><span>10652</span></td><td id="LC10652" class="css-1dcdqdg"><code><span class="code-keyword">var</span> DivIcon = Icon.extend({
</code></td></tr><tr><td id="L10653" class="css-a4x74f"><span>10653</span></td><td id="LC10653" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L10654" class="css-a4x74f"><span>10654</span></td><td id="LC10654" class="css-1dcdqdg"><code>		<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L10655" class="css-a4x74f"><span>10655</span></td><td id="LC10655" class="css-1dcdqdg"><code>		<span class="code-comment">// @aka DivIcon options</span>
</code></td></tr><tr><td id="L10656" class="css-a4x74f"><span>10656</span></td><td id="LC10656" class="css-1dcdqdg"><code>		iconSize: [<span class="code-number">12</span>, <span class="code-number">12</span>], <span class="code-comment">// also can be set through CSS</span>
</code></td></tr><tr><td id="L10657" class="css-a4x74f"><span>10657</span></td><td id="LC10657" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10658" class="css-a4x74f"><span>10658</span></td><td id="LC10658" class="css-1dcdqdg"><code>		<span class="code-comment">// iconAnchor: (Point),</span>
</code></td></tr><tr><td id="L10659" class="css-a4x74f"><span>10659</span></td><td id="LC10659" class="css-1dcdqdg"><code>		<span class="code-comment">// popupAnchor: (Point),</span>
</code></td></tr><tr><td id="L10660" class="css-a4x74f"><span>10660</span></td><td id="LC10660" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10661" class="css-a4x74f"><span>10661</span></td><td id="LC10661" class="css-1dcdqdg"><code>		<span class="code-comment">// @option html: String|HTMLElement = ''</span>
</code></td></tr><tr><td id="L10662" class="css-a4x74f"><span>10662</span></td><td id="LC10662" class="css-1dcdqdg"><code>		<span class="code-comment">// Custom HTML code to put inside the div element, empty by default. Alternatively,</span>
</code></td></tr><tr><td id="L10663" class="css-a4x74f"><span>10663</span></td><td id="LC10663" class="css-1dcdqdg"><code>		<span class="code-comment">// an instance of `HTMLElement`.</span>
</code></td></tr><tr><td id="L10664" class="css-a4x74f"><span>10664</span></td><td id="LC10664" class="css-1dcdqdg"><code>		html: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L10665" class="css-a4x74f"><span>10665</span></td><td id="LC10665" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10666" class="css-a4x74f"><span>10666</span></td><td id="LC10666" class="css-1dcdqdg"><code>		<span class="code-comment">// @option bgPos: Point = [0, 0]</span>
</code></td></tr><tr><td id="L10667" class="css-a4x74f"><span>10667</span></td><td id="LC10667" class="css-1dcdqdg"><code>		<span class="code-comment">// Optional relative position of the background, in pixels</span>
</code></td></tr><tr><td id="L10668" class="css-a4x74f"><span>10668</span></td><td id="LC10668" class="css-1dcdqdg"><code>		bgPos: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L10669" class="css-a4x74f"><span>10669</span></td><td id="LC10669" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10670" class="css-a4x74f"><span>10670</span></td><td id="LC10670" class="css-1dcdqdg"><code>		className: <span class="code-string">'leaflet-div-icon'</span>
</code></td></tr><tr><td id="L10671" class="css-a4x74f"><span>10671</span></td><td id="LC10671" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10672" class="css-a4x74f"><span>10672</span></td><td id="LC10672" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10673" class="css-a4x74f"><span>10673</span></td><td id="LC10673" class="css-1dcdqdg"><code>	createIcon: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">oldIcon</span>) </span>{
</code></td></tr><tr><td id="L10674" class="css-a4x74f"><span>10674</span></td><td id="LC10674" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> div = (oldIcon &amp;&amp; oldIcon.tagName === <span class="code-string">'DIV'</span>) ? oldIcon : <span class="code-built_in">document</span>.createElement(<span class="code-string">'div'</span>),
</code></td></tr><tr><td id="L10675" class="css-a4x74f"><span>10675</span></td><td id="LC10675" class="css-1dcdqdg"><code>		    options = <span class="code-keyword">this</span>.options;
</code></td></tr><tr><td id="L10676" class="css-a4x74f"><span>10676</span></td><td id="LC10676" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10677" class="css-a4x74f"><span>10677</span></td><td id="LC10677" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.html <span class="code-keyword">instanceof</span> Element) {
</code></td></tr><tr><td id="L10678" class="css-a4x74f"><span>10678</span></td><td id="LC10678" class="css-1dcdqdg"><code>			empty(div);
</code></td></tr><tr><td id="L10679" class="css-a4x74f"><span>10679</span></td><td id="LC10679" class="css-1dcdqdg"><code>			div.appendChild(options.html);
</code></td></tr><tr><td id="L10680" class="css-a4x74f"><span>10680</span></td><td id="LC10680" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L10681" class="css-a4x74f"><span>10681</span></td><td id="LC10681" class="css-1dcdqdg"><code>			div.innerHTML = options.html !== <span class="code-literal">false</span> ? options.html : <span class="code-string">''</span>;
</code></td></tr><tr><td id="L10682" class="css-a4x74f"><span>10682</span></td><td id="LC10682" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10683" class="css-a4x74f"><span>10683</span></td><td id="LC10683" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10684" class="css-a4x74f"><span>10684</span></td><td id="LC10684" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.bgPos) {
</code></td></tr><tr><td id="L10685" class="css-a4x74f"><span>10685</span></td><td id="LC10685" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> bgPos = toPoint(options.bgPos);
</code></td></tr><tr><td id="L10686" class="css-a4x74f"><span>10686</span></td><td id="LC10686" class="css-1dcdqdg"><code>			div.style.backgroundPosition = (-bgPos.x) + <span class="code-string">'px '</span> + (-bgPos.y) + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L10687" class="css-a4x74f"><span>10687</span></td><td id="LC10687" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10688" class="css-a4x74f"><span>10688</span></td><td id="LC10688" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setIconStyles(div, <span class="code-string">'icon'</span>);
</code></td></tr><tr><td id="L10689" class="css-a4x74f"><span>10689</span></td><td id="LC10689" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10690" class="css-a4x74f"><span>10690</span></td><td id="LC10690" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> div;
</code></td></tr><tr><td id="L10691" class="css-a4x74f"><span>10691</span></td><td id="LC10691" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10692" class="css-a4x74f"><span>10692</span></td><td id="LC10692" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10693" class="css-a4x74f"><span>10693</span></td><td id="LC10693" class="css-1dcdqdg"><code>	createShadow: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10694" class="css-a4x74f"><span>10694</span></td><td id="LC10694" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L10695" class="css-a4x74f"><span>10695</span></td><td id="LC10695" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L10696" class="css-a4x74f"><span>10696</span></td><td id="LC10696" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L10697" class="css-a4x74f"><span>10697</span></td><td id="LC10697" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10698" class="css-a4x74f"><span>10698</span></td><td id="LC10698" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.divIcon(options: DivIcon options)</span>
</code></td></tr><tr><td id="L10699" class="css-a4x74f"><span>10699</span></td><td id="LC10699" class="css-1dcdqdg"><code><span class="code-comment">// Creates a `DivIcon` instance with the given options.</span>
</code></td></tr><tr><td id="L10700" class="css-a4x74f"><span>10700</span></td><td id="LC10700" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">divIcon</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L10701" class="css-a4x74f"><span>10701</span></td><td id="LC10701" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> DivIcon(options);
</code></td></tr><tr><td id="L10702" class="css-a4x74f"><span>10702</span></td><td id="LC10702" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L10703" class="css-a4x74f"><span>10703</span></td><td id="LC10703" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10704" class="css-a4x74f"><span>10704</span></td><td id="LC10704" class="css-1dcdqdg"><code>Icon.Default = IconDefault;
</code></td></tr><tr><td id="L10705" class="css-a4x74f"><span>10705</span></td><td id="LC10705" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10706" class="css-a4x74f"><span>10706</span></td><td id="LC10706" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L10707" class="css-a4x74f"><span>10707</span></td><td id="LC10707" class="css-1dcdqdg"><code><span class="code-comment"> * @class GridLayer
</span></code></td></tr><tr><td id="L10708" class="css-a4x74f"><span>10708</span></td><td id="LC10708" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Layer
</span></code></td></tr><tr><td id="L10709" class="css-a4x74f"><span>10709</span></td><td id="LC10709" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.GridLayer
</span></code></td></tr><tr><td id="L10710" class="css-a4x74f"><span>10710</span></td><td id="LC10710" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10711" class="css-a4x74f"><span>10711</span></td><td id="LC10711" class="css-1dcdqdg"><code><span class="code-comment"> * Generic class for handling a tiled grid of HTML elements. This is the base class for all tile layers and replaces `TileLayer.Canvas`.
</span></code></td></tr><tr><td id="L10712" class="css-a4x74f"><span>10712</span></td><td id="LC10712" class="css-1dcdqdg"><code><span class="code-comment"> * GridLayer can be extended to create a tiled grid of HTML elements like `&lt;canvas&gt;`, `&lt;img&gt;` or `&lt;div&gt;`. GridLayer will handle creating and animating these DOM elements for you.
</span></code></td></tr><tr><td id="L10713" class="css-a4x74f"><span>10713</span></td><td id="LC10713" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10714" class="css-a4x74f"><span>10714</span></td><td id="LC10714" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10715" class="css-a4x74f"><span>10715</span></td><td id="LC10715" class="css-1dcdqdg"><code><span class="code-comment"> * @section Synchronous usage
</span></code></td></tr><tr><td id="L10716" class="css-a4x74f"><span>10716</span></td><td id="LC10716" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L10717" class="css-a4x74f"><span>10717</span></td><td id="LC10717" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10718" class="css-a4x74f"><span>10718</span></td><td id="LC10718" class="css-1dcdqdg"><code><span class="code-comment"> * To create a custom layer, extend GridLayer and implement the `createTile()` method, which will be passed a `Point` object with the `x`, `y`, and `z` (zoom level) coordinates to draw your tile.
</span></code></td></tr><tr><td id="L10719" class="css-a4x74f"><span>10719</span></td><td id="LC10719" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10720" class="css-a4x74f"><span>10720</span></td><td id="LC10720" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L10721" class="css-a4x74f"><span>10721</span></td><td id="LC10721" class="css-1dcdqdg"><code><span class="code-comment"> * var CanvasLayer = L.GridLayer.extend({
</span></code></td></tr><tr><td id="L10722" class="css-a4x74f"><span>10722</span></td><td id="LC10722" class="css-1dcdqdg"><code><span class="code-comment"> *     createTile: function(coords){
</span></code></td></tr><tr><td id="L10723" class="css-a4x74f"><span>10723</span></td><td id="LC10723" class="css-1dcdqdg"><code><span class="code-comment"> *         // create a &lt;canvas&gt; element for drawing
</span></code></td></tr><tr><td id="L10724" class="css-a4x74f"><span>10724</span></td><td id="LC10724" class="css-1dcdqdg"><code><span class="code-comment"> *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');
</span></code></td></tr><tr><td id="L10725" class="css-a4x74f"><span>10725</span></td><td id="LC10725" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10726" class="css-a4x74f"><span>10726</span></td><td id="LC10726" class="css-1dcdqdg"><code><span class="code-comment"> *         // setup tile width and height according to the options
</span></code></td></tr><tr><td id="L10727" class="css-a4x74f"><span>10727</span></td><td id="LC10727" class="css-1dcdqdg"><code><span class="code-comment"> *         var size = this.getTileSize();
</span></code></td></tr><tr><td id="L10728" class="css-a4x74f"><span>10728</span></td><td id="LC10728" class="css-1dcdqdg"><code><span class="code-comment"> *         tile.width = size.x;
</span></code></td></tr><tr><td id="L10729" class="css-a4x74f"><span>10729</span></td><td id="LC10729" class="css-1dcdqdg"><code><span class="code-comment"> *         tile.height = size.y;
</span></code></td></tr><tr><td id="L10730" class="css-a4x74f"><span>10730</span></td><td id="LC10730" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10731" class="css-a4x74f"><span>10731</span></td><td id="LC10731" class="css-1dcdqdg"><code><span class="code-comment"> *         // get a canvas context and draw something on it using coords.x, coords.y and coords.z
</span></code></td></tr><tr><td id="L10732" class="css-a4x74f"><span>10732</span></td><td id="LC10732" class="css-1dcdqdg"><code><span class="code-comment"> *         var ctx = tile.getContext('2d');
</span></code></td></tr><tr><td id="L10733" class="css-a4x74f"><span>10733</span></td><td id="LC10733" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10734" class="css-a4x74f"><span>10734</span></td><td id="LC10734" class="css-1dcdqdg"><code><span class="code-comment"> *         // return the tile so it can be rendered on screen
</span></code></td></tr><tr><td id="L10735" class="css-a4x74f"><span>10735</span></td><td id="LC10735" class="css-1dcdqdg"><code><span class="code-comment"> *         return tile;
</span></code></td></tr><tr><td id="L10736" class="css-a4x74f"><span>10736</span></td><td id="LC10736" class="css-1dcdqdg"><code><span class="code-comment"> *     }
</span></code></td></tr><tr><td id="L10737" class="css-a4x74f"><span>10737</span></td><td id="LC10737" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L10738" class="css-a4x74f"><span>10738</span></td><td id="LC10738" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L10739" class="css-a4x74f"><span>10739</span></td><td id="LC10739" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10740" class="css-a4x74f"><span>10740</span></td><td id="LC10740" class="css-1dcdqdg"><code><span class="code-comment"> * @section Asynchronous usage
</span></code></td></tr><tr><td id="L10741" class="css-a4x74f"><span>10741</span></td><td id="LC10741" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L10742" class="css-a4x74f"><span>10742</span></td><td id="LC10742" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10743" class="css-a4x74f"><span>10743</span></td><td id="LC10743" class="css-1dcdqdg"><code><span class="code-comment"> * Tile creation can also be asynchronous, this is useful when using a third-party drawing library. Once the tile is finished drawing it can be passed to the `done()` callback.
</span></code></td></tr><tr><td id="L10744" class="css-a4x74f"><span>10744</span></td><td id="LC10744" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10745" class="css-a4x74f"><span>10745</span></td><td id="LC10745" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L10746" class="css-a4x74f"><span>10746</span></td><td id="LC10746" class="css-1dcdqdg"><code><span class="code-comment"> * var CanvasLayer = L.GridLayer.extend({
</span></code></td></tr><tr><td id="L10747" class="css-a4x74f"><span>10747</span></td><td id="LC10747" class="css-1dcdqdg"><code><span class="code-comment"> *     createTile: function(coords, done){
</span></code></td></tr><tr><td id="L10748" class="css-a4x74f"><span>10748</span></td><td id="LC10748" class="css-1dcdqdg"><code><span class="code-comment"> *         var error;
</span></code></td></tr><tr><td id="L10749" class="css-a4x74f"><span>10749</span></td><td id="LC10749" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10750" class="css-a4x74f"><span>10750</span></td><td id="LC10750" class="css-1dcdqdg"><code><span class="code-comment"> *         // create a &lt;canvas&gt; element for drawing
</span></code></td></tr><tr><td id="L10751" class="css-a4x74f"><span>10751</span></td><td id="LC10751" class="css-1dcdqdg"><code><span class="code-comment"> *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');
</span></code></td></tr><tr><td id="L10752" class="css-a4x74f"><span>10752</span></td><td id="LC10752" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10753" class="css-a4x74f"><span>10753</span></td><td id="LC10753" class="css-1dcdqdg"><code><span class="code-comment"> *         // setup tile width and height according to the options
</span></code></td></tr><tr><td id="L10754" class="css-a4x74f"><span>10754</span></td><td id="LC10754" class="css-1dcdqdg"><code><span class="code-comment"> *         var size = this.getTileSize();
</span></code></td></tr><tr><td id="L10755" class="css-a4x74f"><span>10755</span></td><td id="LC10755" class="css-1dcdqdg"><code><span class="code-comment"> *         tile.width = size.x;
</span></code></td></tr><tr><td id="L10756" class="css-a4x74f"><span>10756</span></td><td id="LC10756" class="css-1dcdqdg"><code><span class="code-comment"> *         tile.height = size.y;
</span></code></td></tr><tr><td id="L10757" class="css-a4x74f"><span>10757</span></td><td id="LC10757" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10758" class="css-a4x74f"><span>10758</span></td><td id="LC10758" class="css-1dcdqdg"><code><span class="code-comment"> *         // draw something asynchronously and pass the tile to the done() callback
</span></code></td></tr><tr><td id="L10759" class="css-a4x74f"><span>10759</span></td><td id="LC10759" class="css-1dcdqdg"><code><span class="code-comment"> *         setTimeout(function() {
</span></code></td></tr><tr><td id="L10760" class="css-a4x74f"><span>10760</span></td><td id="LC10760" class="css-1dcdqdg"><code><span class="code-comment"> *             done(error, tile);
</span></code></td></tr><tr><td id="L10761" class="css-a4x74f"><span>10761</span></td><td id="LC10761" class="css-1dcdqdg"><code><span class="code-comment"> *         }, 1000);
</span></code></td></tr><tr><td id="L10762" class="css-a4x74f"><span>10762</span></td><td id="LC10762" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10763" class="css-a4x74f"><span>10763</span></td><td id="LC10763" class="css-1dcdqdg"><code><span class="code-comment"> *         return tile;
</span></code></td></tr><tr><td id="L10764" class="css-a4x74f"><span>10764</span></td><td id="LC10764" class="css-1dcdqdg"><code><span class="code-comment"> *     }
</span></code></td></tr><tr><td id="L10765" class="css-a4x74f"><span>10765</span></td><td id="LC10765" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L10766" class="css-a4x74f"><span>10766</span></td><td id="LC10766" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L10767" class="css-a4x74f"><span>10767</span></td><td id="LC10767" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L10768" class="css-a4x74f"><span>10768</span></td><td id="LC10768" class="css-1dcdqdg"><code><span class="code-comment"> * @section
</span></code></td></tr><tr><td id="L10769" class="css-a4x74f"><span>10769</span></td><td id="LC10769" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L10770" class="css-a4x74f"><span>10770</span></td><td id="LC10770" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10771" class="css-a4x74f"><span>10771</span></td><td id="LC10771" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10772" class="css-a4x74f"><span>10772</span></td><td id="LC10772" class="css-1dcdqdg"><code><span class="code-keyword">var</span> GridLayer = Layer.extend({
</code></td></tr><tr><td id="L10773" class="css-a4x74f"><span>10773</span></td><td id="LC10773" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10774" class="css-a4x74f"><span>10774</span></td><td id="LC10774" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L10775" class="css-a4x74f"><span>10775</span></td><td id="LC10775" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka GridLayer options</span>
</code></td></tr><tr><td id="L10776" class="css-a4x74f"><span>10776</span></td><td id="LC10776" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L10777" class="css-a4x74f"><span>10777</span></td><td id="LC10777" class="css-1dcdqdg"><code>		<span class="code-comment">// @option tileSize: Number|Point = 256</span>
</code></td></tr><tr><td id="L10778" class="css-a4x74f"><span>10778</span></td><td id="LC10778" class="css-1dcdqdg"><code>		<span class="code-comment">// Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.</span>
</code></td></tr><tr><td id="L10779" class="css-a4x74f"><span>10779</span></td><td id="LC10779" class="css-1dcdqdg"><code>		tileSize: <span class="code-number">256</span>,
</code></td></tr><tr><td id="L10780" class="css-a4x74f"><span>10780</span></td><td id="LC10780" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10781" class="css-a4x74f"><span>10781</span></td><td id="LC10781" class="css-1dcdqdg"><code>		<span class="code-comment">// @option opacity: Number = 1.0</span>
</code></td></tr><tr><td id="L10782" class="css-a4x74f"><span>10782</span></td><td id="LC10782" class="css-1dcdqdg"><code>		<span class="code-comment">// Opacity of the tiles. Can be used in the `createTile()` function.</span>
</code></td></tr><tr><td id="L10783" class="css-a4x74f"><span>10783</span></td><td id="LC10783" class="css-1dcdqdg"><code>		opacity: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L10784" class="css-a4x74f"><span>10784</span></td><td id="LC10784" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10785" class="css-a4x74f"><span>10785</span></td><td id="LC10785" class="css-1dcdqdg"><code>		<span class="code-comment">// @option updateWhenIdle: Boolean = (depends)</span>
</code></td></tr><tr><td id="L10786" class="css-a4x74f"><span>10786</span></td><td id="LC10786" class="css-1dcdqdg"><code>		<span class="code-comment">// Load new tiles only when panning ends.</span>
</code></td></tr><tr><td id="L10787" class="css-a4x74f"><span>10787</span></td><td id="LC10787" class="css-1dcdqdg"><code>		<span class="code-comment">// `true` by default on mobile browsers, in order to avoid too many requests and keep smooth navigation.</span>
</code></td></tr><tr><td id="L10788" class="css-a4x74f"><span>10788</span></td><td id="LC10788" class="css-1dcdqdg"><code>		<span class="code-comment">// `false` otherwise in order to display new tiles _during_ panning, since it is easy to pan outside the</span>
</code></td></tr><tr><td id="L10789" class="css-a4x74f"><span>10789</span></td><td id="LC10789" class="css-1dcdqdg"><code>		<span class="code-comment">// [`keepBuffer`](#gridlayer-keepbuffer) option in desktop browsers.</span>
</code></td></tr><tr><td id="L10790" class="css-a4x74f"><span>10790</span></td><td id="LC10790" class="css-1dcdqdg"><code>		updateWhenIdle: Browser.mobile,
</code></td></tr><tr><td id="L10791" class="css-a4x74f"><span>10791</span></td><td id="LC10791" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10792" class="css-a4x74f"><span>10792</span></td><td id="LC10792" class="css-1dcdqdg"><code>		<span class="code-comment">// @option updateWhenZooming: Boolean = true</span>
</code></td></tr><tr><td id="L10793" class="css-a4x74f"><span>10793</span></td><td id="LC10793" class="css-1dcdqdg"><code>		<span class="code-comment">// By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.</span>
</code></td></tr><tr><td id="L10794" class="css-a4x74f"><span>10794</span></td><td id="LC10794" class="css-1dcdqdg"><code>		updateWhenZooming: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L10795" class="css-a4x74f"><span>10795</span></td><td id="LC10795" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10796" class="css-a4x74f"><span>10796</span></td><td id="LC10796" class="css-1dcdqdg"><code>		<span class="code-comment">// @option updateInterval: Number = 200</span>
</code></td></tr><tr><td id="L10797" class="css-a4x74f"><span>10797</span></td><td id="LC10797" class="css-1dcdqdg"><code>		<span class="code-comment">// Tiles will not update more than once every `updateInterval` milliseconds when panning.</span>
</code></td></tr><tr><td id="L10798" class="css-a4x74f"><span>10798</span></td><td id="LC10798" class="css-1dcdqdg"><code>		updateInterval: <span class="code-number">200</span>,
</code></td></tr><tr><td id="L10799" class="css-a4x74f"><span>10799</span></td><td id="LC10799" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10800" class="css-a4x74f"><span>10800</span></td><td id="LC10800" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zIndex: Number = 1</span>
</code></td></tr><tr><td id="L10801" class="css-a4x74f"><span>10801</span></td><td id="LC10801" class="css-1dcdqdg"><code>		<span class="code-comment">// The explicit zIndex of the tile layer.</span>
</code></td></tr><tr><td id="L10802" class="css-a4x74f"><span>10802</span></td><td id="LC10802" class="css-1dcdqdg"><code>		zIndex: <span class="code-number">1</span>,
</code></td></tr><tr><td id="L10803" class="css-a4x74f"><span>10803</span></td><td id="LC10803" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10804" class="css-a4x74f"><span>10804</span></td><td id="LC10804" class="css-1dcdqdg"><code>		<span class="code-comment">// @option bounds: LatLngBounds = undefined</span>
</code></td></tr><tr><td id="L10805" class="css-a4x74f"><span>10805</span></td><td id="LC10805" class="css-1dcdqdg"><code>		<span class="code-comment">// If set, tiles will only be loaded inside the set `LatLngBounds`.</span>
</code></td></tr><tr><td id="L10806" class="css-a4x74f"><span>10806</span></td><td id="LC10806" class="css-1dcdqdg"><code>		bounds: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L10807" class="css-a4x74f"><span>10807</span></td><td id="LC10807" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10808" class="css-a4x74f"><span>10808</span></td><td id="LC10808" class="css-1dcdqdg"><code>		<span class="code-comment">// @option minZoom: Number = 0</span>
</code></td></tr><tr><td id="L10809" class="css-a4x74f"><span>10809</span></td><td id="LC10809" class="css-1dcdqdg"><code>		<span class="code-comment">// The minimum zoom level down to which this layer will be displayed (inclusive).</span>
</code></td></tr><tr><td id="L10810" class="css-a4x74f"><span>10810</span></td><td id="LC10810" class="css-1dcdqdg"><code>		minZoom: <span class="code-number">0</span>,
</code></td></tr><tr><td id="L10811" class="css-a4x74f"><span>10811</span></td><td id="LC10811" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10812" class="css-a4x74f"><span>10812</span></td><td id="LC10812" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxZoom: Number = undefined</span>
</code></td></tr><tr><td id="L10813" class="css-a4x74f"><span>10813</span></td><td id="LC10813" class="css-1dcdqdg"><code>		<span class="code-comment">// The maximum zoom level up to which this layer will be displayed (inclusive).</span>
</code></td></tr><tr><td id="L10814" class="css-a4x74f"><span>10814</span></td><td id="LC10814" class="css-1dcdqdg"><code>		maxZoom: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L10815" class="css-a4x74f"><span>10815</span></td><td id="LC10815" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10816" class="css-a4x74f"><span>10816</span></td><td id="LC10816" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxNativeZoom: Number = undefined</span>
</code></td></tr><tr><td id="L10817" class="css-a4x74f"><span>10817</span></td><td id="LC10817" class="css-1dcdqdg"><code>		<span class="code-comment">// Maximum zoom number the tile source has available. If it is specified,</span>
</code></td></tr><tr><td id="L10818" class="css-a4x74f"><span>10818</span></td><td id="LC10818" class="css-1dcdqdg"><code>		<span class="code-comment">// the tiles on all zoom levels higher than `maxNativeZoom` will be loaded</span>
</code></td></tr><tr><td id="L10819" class="css-a4x74f"><span>10819</span></td><td id="LC10819" class="css-1dcdqdg"><code>		<span class="code-comment">// from `maxNativeZoom` level and auto-scaled.</span>
</code></td></tr><tr><td id="L10820" class="css-a4x74f"><span>10820</span></td><td id="LC10820" class="css-1dcdqdg"><code>		maxNativeZoom: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L10821" class="css-a4x74f"><span>10821</span></td><td id="LC10821" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10822" class="css-a4x74f"><span>10822</span></td><td id="LC10822" class="css-1dcdqdg"><code>		<span class="code-comment">// @option minNativeZoom: Number = undefined</span>
</code></td></tr><tr><td id="L10823" class="css-a4x74f"><span>10823</span></td><td id="LC10823" class="css-1dcdqdg"><code>		<span class="code-comment">// Minimum zoom number the tile source has available. If it is specified,</span>
</code></td></tr><tr><td id="L10824" class="css-a4x74f"><span>10824</span></td><td id="LC10824" class="css-1dcdqdg"><code>		<span class="code-comment">// the tiles on all zoom levels lower than `minNativeZoom` will be loaded</span>
</code></td></tr><tr><td id="L10825" class="css-a4x74f"><span>10825</span></td><td id="LC10825" class="css-1dcdqdg"><code>		<span class="code-comment">// from `minNativeZoom` level and auto-scaled.</span>
</code></td></tr><tr><td id="L10826" class="css-a4x74f"><span>10826</span></td><td id="LC10826" class="css-1dcdqdg"><code>		minNativeZoom: <span class="code-literal">undefined</span>,
</code></td></tr><tr><td id="L10827" class="css-a4x74f"><span>10827</span></td><td id="LC10827" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10828" class="css-a4x74f"><span>10828</span></td><td id="LC10828" class="css-1dcdqdg"><code>		<span class="code-comment">// @option noWrap: Boolean = false</span>
</code></td></tr><tr><td id="L10829" class="css-a4x74f"><span>10829</span></td><td id="LC10829" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the layer is wrapped around the antimeridian. If `true`, the</span>
</code></td></tr><tr><td id="L10830" class="css-a4x74f"><span>10830</span></td><td id="LC10830" class="css-1dcdqdg"><code>		<span class="code-comment">// GridLayer will only be displayed once at low zoom levels. Has no</span>
</code></td></tr><tr><td id="L10831" class="css-a4x74f"><span>10831</span></td><td id="LC10831" class="css-1dcdqdg"><code>		<span class="code-comment">// effect when the [map CRS](#map-crs) doesn't wrap around. Can be used</span>
</code></td></tr><tr><td id="L10832" class="css-a4x74f"><span>10832</span></td><td id="LC10832" class="css-1dcdqdg"><code>		<span class="code-comment">// in combination with [`bounds`](#gridlayer-bounds) to prevent requesting</span>
</code></td></tr><tr><td id="L10833" class="css-a4x74f"><span>10833</span></td><td id="LC10833" class="css-1dcdqdg"><code>		<span class="code-comment">// tiles outside the CRS limits.</span>
</code></td></tr><tr><td id="L10834" class="css-a4x74f"><span>10834</span></td><td id="LC10834" class="css-1dcdqdg"><code>		noWrap: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L10835" class="css-a4x74f"><span>10835</span></td><td id="LC10835" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10836" class="css-a4x74f"><span>10836</span></td><td id="LC10836" class="css-1dcdqdg"><code>		<span class="code-comment">// @option pane: String = 'tilePane'</span>
</code></td></tr><tr><td id="L10837" class="css-a4x74f"><span>10837</span></td><td id="LC10837" class="css-1dcdqdg"><code>		<span class="code-comment">// `Map pane` where the grid layer will be added.</span>
</code></td></tr><tr><td id="L10838" class="css-a4x74f"><span>10838</span></td><td id="LC10838" class="css-1dcdqdg"><code>		pane: <span class="code-string">'tilePane'</span>,
</code></td></tr><tr><td id="L10839" class="css-a4x74f"><span>10839</span></td><td id="LC10839" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10840" class="css-a4x74f"><span>10840</span></td><td id="LC10840" class="css-1dcdqdg"><code>		<span class="code-comment">// @option className: String = ''</span>
</code></td></tr><tr><td id="L10841" class="css-a4x74f"><span>10841</span></td><td id="LC10841" class="css-1dcdqdg"><code>		<span class="code-comment">// A custom class name to assign to the tile layer. Empty by default.</span>
</code></td></tr><tr><td id="L10842" class="css-a4x74f"><span>10842</span></td><td id="LC10842" class="css-1dcdqdg"><code>		className: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L10843" class="css-a4x74f"><span>10843</span></td><td id="LC10843" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10844" class="css-a4x74f"><span>10844</span></td><td id="LC10844" class="css-1dcdqdg"><code>		<span class="code-comment">// @option keepBuffer: Number = 2</span>
</code></td></tr><tr><td id="L10845" class="css-a4x74f"><span>10845</span></td><td id="LC10845" class="css-1dcdqdg"><code>		<span class="code-comment">// When panning the map, keep this many rows and columns of tiles before unloading them.</span>
</code></td></tr><tr><td id="L10846" class="css-a4x74f"><span>10846</span></td><td id="LC10846" class="css-1dcdqdg"><code>		keepBuffer: <span class="code-number">2</span>
</code></td></tr><tr><td id="L10847" class="css-a4x74f"><span>10847</span></td><td id="LC10847" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10848" class="css-a4x74f"><span>10848</span></td><td id="LC10848" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10849" class="css-a4x74f"><span>10849</span></td><td id="LC10849" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L10850" class="css-a4x74f"><span>10850</span></td><td id="LC10850" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L10851" class="css-a4x74f"><span>10851</span></td><td id="LC10851" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10852" class="css-a4x74f"><span>10852</span></td><td id="LC10852" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10853" class="css-a4x74f"><span>10853</span></td><td id="LC10853" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10854" class="css-a4x74f"><span>10854</span></td><td id="LC10854" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initContainer();
</code></td></tr><tr><td id="L10855" class="css-a4x74f"><span>10855</span></td><td id="LC10855" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10856" class="css-a4x74f"><span>10856</span></td><td id="LC10856" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._levels = {};
</code></td></tr><tr><td id="L10857" class="css-a4x74f"><span>10857</span></td><td id="LC10857" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tiles = {};
</code></td></tr><tr><td id="L10858" class="css-a4x74f"><span>10858</span></td><td id="LC10858" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10859" class="css-a4x74f"><span>10859</span></td><td id="LC10859" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetView(); <span class="code-comment">// implicit _update() call</span>
</code></td></tr><tr><td id="L10860" class="css-a4x74f"><span>10860</span></td><td id="LC10860" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10861" class="css-a4x74f"><span>10861</span></td><td id="LC10861" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10862" class="css-a4x74f"><span>10862</span></td><td id="LC10862" class="css-1dcdqdg"><code>	beforeAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L10863" class="css-a4x74f"><span>10863</span></td><td id="LC10863" class="css-1dcdqdg"><code>		map._addZoomLimit(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10864" class="css-a4x74f"><span>10864</span></td><td id="LC10864" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10865" class="css-a4x74f"><span>10865</span></td><td id="LC10865" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10866" class="css-a4x74f"><span>10866</span></td><td id="LC10866" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L10867" class="css-a4x74f"><span>10867</span></td><td id="LC10867" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._removeAllTiles();
</code></td></tr><tr><td id="L10868" class="css-a4x74f"><span>10868</span></td><td id="LC10868" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L10869" class="css-a4x74f"><span>10869</span></td><td id="LC10869" class="css-1dcdqdg"><code>		map._removeZoomLimit(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10870" class="css-a4x74f"><span>10870</span></td><td id="LC10870" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L10871" class="css-a4x74f"><span>10871</span></td><td id="LC10871" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tileZoom = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L10872" class="css-a4x74f"><span>10872</span></td><td id="LC10872" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10873" class="css-a4x74f"><span>10873</span></td><td id="LC10873" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10874" class="css-a4x74f"><span>10874</span></td><td id="LC10874" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToFront: this</span>
</code></td></tr><tr><td id="L10875" class="css-a4x74f"><span>10875</span></td><td id="LC10875" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the tile layer to the top of all tile layers.</span>
</code></td></tr><tr><td id="L10876" class="css-a4x74f"><span>10876</span></td><td id="LC10876" class="css-1dcdqdg"><code>	bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10877" class="css-a4x74f"><span>10877</span></td><td id="LC10877" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L10878" class="css-a4x74f"><span>10878</span></td><td id="LC10878" class="css-1dcdqdg"><code>			toFront(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L10879" class="css-a4x74f"><span>10879</span></td><td id="LC10879" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._setAutoZIndex(<span class="code-built_in">Math</span>.max);
</code></td></tr><tr><td id="L10880" class="css-a4x74f"><span>10880</span></td><td id="LC10880" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10881" class="css-a4x74f"><span>10881</span></td><td id="LC10881" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10882" class="css-a4x74f"><span>10882</span></td><td id="LC10882" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10883" class="css-a4x74f"><span>10883</span></td><td id="LC10883" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10884" class="css-a4x74f"><span>10884</span></td><td id="LC10884" class="css-1dcdqdg"><code>	<span class="code-comment">// @method bringToBack: this</span>
</code></td></tr><tr><td id="L10885" class="css-a4x74f"><span>10885</span></td><td id="LC10885" class="css-1dcdqdg"><code>	<span class="code-comment">// Brings the tile layer to the bottom of all tile layers.</span>
</code></td></tr><tr><td id="L10886" class="css-a4x74f"><span>10886</span></td><td id="LC10886" class="css-1dcdqdg"><code>	bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10887" class="css-a4x74f"><span>10887</span></td><td id="LC10887" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L10888" class="css-a4x74f"><span>10888</span></td><td id="LC10888" class="css-1dcdqdg"><code>			toBack(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L10889" class="css-a4x74f"><span>10889</span></td><td id="LC10889" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._setAutoZIndex(<span class="code-built_in">Math</span>.min);
</code></td></tr><tr><td id="L10890" class="css-a4x74f"><span>10890</span></td><td id="LC10890" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10891" class="css-a4x74f"><span>10891</span></td><td id="LC10891" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10892" class="css-a4x74f"><span>10892</span></td><td id="LC10892" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10893" class="css-a4x74f"><span>10893</span></td><td id="LC10893" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10894" class="css-a4x74f"><span>10894</span></td><td id="LC10894" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getContainer: HTMLElement</span>
</code></td></tr><tr><td id="L10895" class="css-a4x74f"><span>10895</span></td><td id="LC10895" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the HTML element that contains the tiles for this layer.</span>
</code></td></tr><tr><td id="L10896" class="css-a4x74f"><span>10896</span></td><td id="LC10896" class="css-1dcdqdg"><code>	getContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10897" class="css-a4x74f"><span>10897</span></td><td id="LC10897" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L10898" class="css-a4x74f"><span>10898</span></td><td id="LC10898" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10899" class="css-a4x74f"><span>10899</span></td><td id="LC10899" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10900" class="css-a4x74f"><span>10900</span></td><td id="LC10900" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setOpacity(opacity: Number): this</span>
</code></td></tr><tr><td id="L10901" class="css-a4x74f"><span>10901</span></td><td id="LC10901" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the [opacity](#gridlayer-opacity) of the grid layer.</span>
</code></td></tr><tr><td id="L10902" class="css-a4x74f"><span>10902</span></td><td id="LC10902" class="css-1dcdqdg"><code>	setOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">opacity</span>) </span>{
</code></td></tr><tr><td id="L10903" class="css-a4x74f"><span>10903</span></td><td id="LC10903" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.opacity = opacity;
</code></td></tr><tr><td id="L10904" class="css-a4x74f"><span>10904</span></td><td id="LC10904" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateOpacity();
</code></td></tr><tr><td id="L10905" class="css-a4x74f"><span>10905</span></td><td id="LC10905" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10906" class="css-a4x74f"><span>10906</span></td><td id="LC10906" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10907" class="css-a4x74f"><span>10907</span></td><td id="LC10907" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10908" class="css-a4x74f"><span>10908</span></td><td id="LC10908" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setZIndex(zIndex: Number): this</span>
</code></td></tr><tr><td id="L10909" class="css-a4x74f"><span>10909</span></td><td id="LC10909" class="css-1dcdqdg"><code>	<span class="code-comment">// Changes the [zIndex](#gridlayer-zindex) of the grid layer.</span>
</code></td></tr><tr><td id="L10910" class="css-a4x74f"><span>10910</span></td><td id="LC10910" class="css-1dcdqdg"><code>	setZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zIndex</span>) </span>{
</code></td></tr><tr><td id="L10911" class="css-a4x74f"><span>10911</span></td><td id="LC10911" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.options.zIndex = zIndex;
</code></td></tr><tr><td id="L10912" class="css-a4x74f"><span>10912</span></td><td id="LC10912" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateZIndex();
</code></td></tr><tr><td id="L10913" class="css-a4x74f"><span>10913</span></td><td id="LC10913" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10914" class="css-a4x74f"><span>10914</span></td><td id="LC10914" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10915" class="css-a4x74f"><span>10915</span></td><td id="LC10915" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10916" class="css-a4x74f"><span>10916</span></td><td id="LC10916" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10917" class="css-a4x74f"><span>10917</span></td><td id="LC10917" class="css-1dcdqdg"><code>	<span class="code-comment">// @method isLoading: Boolean</span>
</code></td></tr><tr><td id="L10918" class="css-a4x74f"><span>10918</span></td><td id="LC10918" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns `true` if any tile in the grid layer has not finished loading.</span>
</code></td></tr><tr><td id="L10919" class="css-a4x74f"><span>10919</span></td><td id="LC10919" class="css-1dcdqdg"><code>	isLoading: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10920" class="css-a4x74f"><span>10920</span></td><td id="LC10920" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._loading;
</code></td></tr><tr><td id="L10921" class="css-a4x74f"><span>10921</span></td><td id="LC10921" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10922" class="css-a4x74f"><span>10922</span></td><td id="LC10922" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10923" class="css-a4x74f"><span>10923</span></td><td id="LC10923" class="css-1dcdqdg"><code>	<span class="code-comment">// @method redraw: this</span>
</code></td></tr><tr><td id="L10924" class="css-a4x74f"><span>10924</span></td><td id="LC10924" class="css-1dcdqdg"><code>	<span class="code-comment">// Causes the layer to clear all the tiles and request them again.</span>
</code></td></tr><tr><td id="L10925" class="css-a4x74f"><span>10925</span></td><td id="LC10925" class="css-1dcdqdg"><code>	redraw: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10926" class="css-a4x74f"><span>10926</span></td><td id="LC10926" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L10927" class="css-a4x74f"><span>10927</span></td><td id="LC10927" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._removeAllTiles();
</code></td></tr><tr><td id="L10928" class="css-a4x74f"><span>10928</span></td><td id="LC10928" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> tileZoom = <span class="code-keyword">this</span>._clampZoom(<span class="code-keyword">this</span>._map.getZoom());
</code></td></tr><tr><td id="L10929" class="css-a4x74f"><span>10929</span></td><td id="LC10929" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (tileZoom !== <span class="code-keyword">this</span>._tileZoom) {
</code></td></tr><tr><td id="L10930" class="css-a4x74f"><span>10930</span></td><td id="LC10930" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._tileZoom = tileZoom;
</code></td></tr><tr><td id="L10931" class="css-a4x74f"><span>10931</span></td><td id="LC10931" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._updateLevels();
</code></td></tr><tr><td id="L10932" class="css-a4x74f"><span>10932</span></td><td id="LC10932" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L10933" class="css-a4x74f"><span>10933</span></td><td id="LC10933" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L10934" class="css-a4x74f"><span>10934</span></td><td id="LC10934" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10935" class="css-a4x74f"><span>10935</span></td><td id="LC10935" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L10936" class="css-a4x74f"><span>10936</span></td><td id="LC10936" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10937" class="css-a4x74f"><span>10937</span></td><td id="LC10937" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10938" class="css-a4x74f"><span>10938</span></td><td id="LC10938" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10939" class="css-a4x74f"><span>10939</span></td><td id="LC10939" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = {
</code></td></tr><tr><td id="L10940" class="css-a4x74f"><span>10940</span></td><td id="LC10940" class="css-1dcdqdg"><code>			viewprereset: <span class="code-keyword">this</span>._invalidateAll,
</code></td></tr><tr><td id="L10941" class="css-a4x74f"><span>10941</span></td><td id="LC10941" class="css-1dcdqdg"><code>			viewreset: <span class="code-keyword">this</span>._resetView,
</code></td></tr><tr><td id="L10942" class="css-a4x74f"><span>10942</span></td><td id="LC10942" class="css-1dcdqdg"><code>			zoom: <span class="code-keyword">this</span>._resetView,
</code></td></tr><tr><td id="L10943" class="css-a4x74f"><span>10943</span></td><td id="LC10943" class="css-1dcdqdg"><code>			moveend: <span class="code-keyword">this</span>._onMoveEnd
</code></td></tr><tr><td id="L10944" class="css-a4x74f"><span>10944</span></td><td id="LC10944" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L10945" class="css-a4x74f"><span>10945</span></td><td id="LC10945" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10946" class="css-a4x74f"><span>10946</span></td><td id="LC10946" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.updateWhenIdle) {
</code></td></tr><tr><td id="L10947" class="css-a4x74f"><span>10947</span></td><td id="LC10947" class="css-1dcdqdg"><code>			<span class="code-comment">// update tiles on move, but not more often than once per given interval</span>
</code></td></tr><tr><td id="L10948" class="css-a4x74f"><span>10948</span></td><td id="LC10948" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._onMove) {
</code></td></tr><tr><td id="L10949" class="css-a4x74f"><span>10949</span></td><td id="LC10949" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._onMove = throttle(<span class="code-keyword">this</span>._onMoveEnd, <span class="code-keyword">this</span>.options.updateInterval, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L10950" class="css-a4x74f"><span>10950</span></td><td id="LC10950" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L10951" class="css-a4x74f"><span>10951</span></td><td id="LC10951" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10952" class="css-a4x74f"><span>10952</span></td><td id="LC10952" class="css-1dcdqdg"><code>			events.move = <span class="code-keyword">this</span>._onMove;
</code></td></tr><tr><td id="L10953" class="css-a4x74f"><span>10953</span></td><td id="LC10953" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10954" class="css-a4x74f"><span>10954</span></td><td id="LC10954" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10955" class="css-a4x74f"><span>10955</span></td><td id="LC10955" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L10956" class="css-a4x74f"><span>10956</span></td><td id="LC10956" class="css-1dcdqdg"><code>			events.zoomanim = <span class="code-keyword">this</span>._animateZoom;
</code></td></tr><tr><td id="L10957" class="css-a4x74f"><span>10957</span></td><td id="LC10957" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10958" class="css-a4x74f"><span>10958</span></td><td id="LC10958" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10959" class="css-a4x74f"><span>10959</span></td><td id="LC10959" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L10960" class="css-a4x74f"><span>10960</span></td><td id="LC10960" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10961" class="css-a4x74f"><span>10961</span></td><td id="LC10961" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10962" class="css-a4x74f"><span>10962</span></td><td id="LC10962" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Extension methods</span>
</code></td></tr><tr><td id="L10963" class="css-a4x74f"><span>10963</span></td><td id="LC10963" class="css-1dcdqdg"><code>	<span class="code-comment">// Layers extending `GridLayer` shall reimplement the following method.</span>
</code></td></tr><tr><td id="L10964" class="css-a4x74f"><span>10964</span></td><td id="LC10964" class="css-1dcdqdg"><code>	<span class="code-comment">// @method createTile(coords: Object, done?: Function): HTMLElement</span>
</code></td></tr><tr><td id="L10965" class="css-a4x74f"><span>10965</span></td><td id="LC10965" class="css-1dcdqdg"><code>	<span class="code-comment">// Called only internally, must be overridden by classes extending `GridLayer`.</span>
</code></td></tr><tr><td id="L10966" class="css-a4x74f"><span>10966</span></td><td id="LC10966" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback</span>
</code></td></tr><tr><td id="L10967" class="css-a4x74f"><span>10967</span></td><td id="LC10967" class="css-1dcdqdg"><code>	<span class="code-comment">// is specified, it must be called when the tile has finished loading and drawing.</span>
</code></td></tr><tr><td id="L10968" class="css-a4x74f"><span>10968</span></td><td id="LC10968" class="css-1dcdqdg"><code>	createTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10969" class="css-a4x74f"><span>10969</span></td><td id="LC10969" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">document</span>.createElement(<span class="code-string">'div'</span>);
</code></td></tr><tr><td id="L10970" class="css-a4x74f"><span>10970</span></td><td id="LC10970" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10971" class="css-a4x74f"><span>10971</span></td><td id="LC10971" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10972" class="css-a4x74f"><span>10972</span></td><td id="LC10972" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L10973" class="css-a4x74f"><span>10973</span></td><td id="LC10973" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getTileSize: Point</span>
</code></td></tr><tr><td id="L10974" class="css-a4x74f"><span>10974</span></td><td id="LC10974" class="css-1dcdqdg"><code>	<span class="code-comment">// Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.</span>
</code></td></tr><tr><td id="L10975" class="css-a4x74f"><span>10975</span></td><td id="LC10975" class="css-1dcdqdg"><code>	getTileSize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10976" class="css-a4x74f"><span>10976</span></td><td id="LC10976" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> s = <span class="code-keyword">this</span>.options.tileSize;
</code></td></tr><tr><td id="L10977" class="css-a4x74f"><span>10977</span></td><td id="LC10977" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> s <span class="code-keyword">instanceof</span> Point ? s : <span class="code-keyword">new</span> Point(s, s);
</code></td></tr><tr><td id="L10978" class="css-a4x74f"><span>10978</span></td><td id="LC10978" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10979" class="css-a4x74f"><span>10979</span></td><td id="LC10979" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10980" class="css-a4x74f"><span>10980</span></td><td id="LC10980" class="css-1dcdqdg"><code>	_updateZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L10981" class="css-a4x74f"><span>10981</span></td><td id="LC10981" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._container &amp;&amp; <span class="code-keyword">this</span>.options.zIndex !== <span class="code-literal">undefined</span> &amp;&amp; <span class="code-keyword">this</span>.options.zIndex !== <span class="code-literal">null</span>) {
</code></td></tr><tr><td id="L10982" class="css-a4x74f"><span>10982</span></td><td id="LC10982" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._container.style.zIndex = <span class="code-keyword">this</span>.options.zIndex;
</code></td></tr><tr><td id="L10983" class="css-a4x74f"><span>10983</span></td><td id="LC10983" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L10984" class="css-a4x74f"><span>10984</span></td><td id="LC10984" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L10985" class="css-a4x74f"><span>10985</span></td><td id="LC10985" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10986" class="css-a4x74f"><span>10986</span></td><td id="LC10986" class="css-1dcdqdg"><code>	_setAutoZIndex: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">compare</span>) </span>{
</code></td></tr><tr><td id="L10987" class="css-a4x74f"><span>10987</span></td><td id="LC10987" class="css-1dcdqdg"><code>		<span class="code-comment">// go through all other layers of the same pane, set zIndex to max + 1 (front) or min - 1 (back)</span>
</code></td></tr><tr><td id="L10988" class="css-a4x74f"><span>10988</span></td><td id="LC10988" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10989" class="css-a4x74f"><span>10989</span></td><td id="LC10989" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layers = <span class="code-keyword">this</span>.getPane().children,
</code></td></tr><tr><td id="L10990" class="css-a4x74f"><span>10990</span></td><td id="LC10990" class="css-1dcdqdg"><code>		    edgeZIndex = -compare(-<span class="code-literal">Infinity</span>, <span class="code-literal">Infinity</span>); <span class="code-comment">// -Infinity for max, Infinity for min</span>
</code></td></tr><tr><td id="L10991" class="css-a4x74f"><span>10991</span></td><td id="LC10991" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10992" class="css-a4x74f"><span>10992</span></td><td id="LC10992" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">0</span>, len = layers.length, zIndex; i &lt; len; i++) {
</code></td></tr><tr><td id="L10993" class="css-a4x74f"><span>10993</span></td><td id="LC10993" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10994" class="css-a4x74f"><span>10994</span></td><td id="LC10994" class="css-1dcdqdg"><code>			zIndex = layers[i].style.zIndex;
</code></td></tr><tr><td id="L10995" class="css-a4x74f"><span>10995</span></td><td id="LC10995" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L10996" class="css-a4x74f"><span>10996</span></td><td id="LC10996" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (layers[i] !== <span class="code-keyword">this</span>._container &amp;&amp; zIndex) {
</code></td></tr><tr><td id="L10997" class="css-a4x74f"><span>10997</span></td><td id="LC10997" class="css-1dcdqdg"><code>				edgeZIndex = compare(edgeZIndex, +zIndex);
</code></td></tr><tr><td id="L10998" class="css-a4x74f"><span>10998</span></td><td id="LC10998" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L10999" class="css-a4x74f"><span>10999</span></td><td id="LC10999" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11000" class="css-a4x74f"><span>11000</span></td><td id="LC11000" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11001" class="css-a4x74f"><span>11001</span></td><td id="LC11001" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">isFinite</span>(edgeZIndex)) {
</code></td></tr><tr><td id="L11002" class="css-a4x74f"><span>11002</span></td><td id="LC11002" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.options.zIndex = edgeZIndex + compare(<span class="code-number">-1</span>, <span class="code-number">1</span>);
</code></td></tr><tr><td id="L11003" class="css-a4x74f"><span>11003</span></td><td id="LC11003" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateZIndex();
</code></td></tr><tr><td id="L11004" class="css-a4x74f"><span>11004</span></td><td id="LC11004" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11005" class="css-a4x74f"><span>11005</span></td><td id="LC11005" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11006" class="css-a4x74f"><span>11006</span></td><td id="LC11006" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11007" class="css-a4x74f"><span>11007</span></td><td id="LC11007" class="css-1dcdqdg"><code>	_updateOpacity: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11008" class="css-a4x74f"><span>11008</span></td><td id="LC11008" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11009" class="css-a4x74f"><span>11009</span></td><td id="LC11009" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11010" class="css-a4x74f"><span>11010</span></td><td id="LC11010" class="css-1dcdqdg"><code>		<span class="code-comment">// IE doesn't inherit filter opacity properly, so we're forced to set it on tiles</span>
</code></td></tr><tr><td id="L11011" class="css-a4x74f"><span>11011</span></td><td id="LC11011" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.ielt9) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11012" class="css-a4x74f"><span>11012</span></td><td id="LC11012" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11013" class="css-a4x74f"><span>11013</span></td><td id="LC11013" class="css-1dcdqdg"><code>		setOpacity(<span class="code-keyword">this</span>._container, <span class="code-keyword">this</span>.options.opacity);
</code></td></tr><tr><td id="L11014" class="css-a4x74f"><span>11014</span></td><td id="LC11014" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11015" class="css-a4x74f"><span>11015</span></td><td id="LC11015" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> now = +<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(),
</code></td></tr><tr><td id="L11016" class="css-a4x74f"><span>11016</span></td><td id="LC11016" class="css-1dcdqdg"><code>		    nextFrame = <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L11017" class="css-a4x74f"><span>11017</span></td><td id="LC11017" class="css-1dcdqdg"><code>		    willPrune = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L11018" class="css-a4x74f"><span>11018</span></td><td id="LC11018" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11019" class="css-a4x74f"><span>11019</span></td><td id="LC11019" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11020" class="css-a4x74f"><span>11020</span></td><td id="LC11020" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11021" class="css-a4x74f"><span>11021</span></td><td id="LC11021" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!tile.current || !tile.loaded) { <span class="code-keyword">continue</span>; }
</code></td></tr><tr><td id="L11022" class="css-a4x74f"><span>11022</span></td><td id="LC11022" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11023" class="css-a4x74f"><span>11023</span></td><td id="LC11023" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> fade = <span class="code-built_in">Math</span>.min(<span class="code-number">1</span>, (now - tile.loaded) / <span class="code-number">200</span>);
</code></td></tr><tr><td id="L11024" class="css-a4x74f"><span>11024</span></td><td id="LC11024" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11025" class="css-a4x74f"><span>11025</span></td><td id="LC11025" class="css-1dcdqdg"><code>			setOpacity(tile.el, fade);
</code></td></tr><tr><td id="L11026" class="css-a4x74f"><span>11026</span></td><td id="LC11026" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (fade &lt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L11027" class="css-a4x74f"><span>11027</span></td><td id="LC11027" class="css-1dcdqdg"><code>				nextFrame = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11028" class="css-a4x74f"><span>11028</span></td><td id="LC11028" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11029" class="css-a4x74f"><span>11029</span></td><td id="LC11029" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (tile.active) {
</code></td></tr><tr><td id="L11030" class="css-a4x74f"><span>11030</span></td><td id="LC11030" class="css-1dcdqdg"><code>					willPrune = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11031" class="css-a4x74f"><span>11031</span></td><td id="LC11031" class="css-1dcdqdg"><code>				} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11032" class="css-a4x74f"><span>11032</span></td><td id="LC11032" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>._onOpaqueTile(tile);
</code></td></tr><tr><td id="L11033" class="css-a4x74f"><span>11033</span></td><td id="LC11033" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L11034" class="css-a4x74f"><span>11034</span></td><td id="LC11034" class="css-1dcdqdg"><code>				tile.active = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11035" class="css-a4x74f"><span>11035</span></td><td id="LC11035" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11036" class="css-a4x74f"><span>11036</span></td><td id="LC11036" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11037" class="css-a4x74f"><span>11037</span></td><td id="LC11037" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11038" class="css-a4x74f"><span>11038</span></td><td id="LC11038" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (willPrune &amp;&amp; !<span class="code-keyword">this</span>._noPrune) { <span class="code-keyword">this</span>._pruneTiles(); }
</code></td></tr><tr><td id="L11039" class="css-a4x74f"><span>11039</span></td><td id="LC11039" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11040" class="css-a4x74f"><span>11040</span></td><td id="LC11040" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (nextFrame) {
</code></td></tr><tr><td id="L11041" class="css-a4x74f"><span>11041</span></td><td id="LC11041" class="css-1dcdqdg"><code>			cancelAnimFrame(<span class="code-keyword">this</span>._fadeFrame);
</code></td></tr><tr><td id="L11042" class="css-a4x74f"><span>11042</span></td><td id="LC11042" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._fadeFrame = requestAnimFrame(<span class="code-keyword">this</span>._updateOpacity, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L11043" class="css-a4x74f"><span>11043</span></td><td id="LC11043" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11044" class="css-a4x74f"><span>11044</span></td><td id="LC11044" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11045" class="css-a4x74f"><span>11045</span></td><td id="LC11045" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11046" class="css-a4x74f"><span>11046</span></td><td id="LC11046" class="css-1dcdqdg"><code>	_onOpaqueTile: falseFn,
</code></td></tr><tr><td id="L11047" class="css-a4x74f"><span>11047</span></td><td id="LC11047" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11048" class="css-a4x74f"><span>11048</span></td><td id="LC11048" class="css-1dcdqdg"><code>	_initContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11049" class="css-a4x74f"><span>11049</span></td><td id="LC11049" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._container) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11050" class="css-a4x74f"><span>11050</span></td><td id="LC11050" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11051" class="css-a4x74f"><span>11051</span></td><td id="LC11051" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, <span class="code-string">'leaflet-layer '</span> + (<span class="code-keyword">this</span>.options.className || <span class="code-string">''</span>));
</code></td></tr><tr><td id="L11052" class="css-a4x74f"><span>11052</span></td><td id="LC11052" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateZIndex();
</code></td></tr><tr><td id="L11053" class="css-a4x74f"><span>11053</span></td><td id="LC11053" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11054" class="css-a4x74f"><span>11054</span></td><td id="LC11054" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.opacity &lt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L11055" class="css-a4x74f"><span>11055</span></td><td id="LC11055" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateOpacity();
</code></td></tr><tr><td id="L11056" class="css-a4x74f"><span>11056</span></td><td id="LC11056" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11057" class="css-a4x74f"><span>11057</span></td><td id="LC11057" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11058" class="css-a4x74f"><span>11058</span></td><td id="LC11058" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.getPane().appendChild(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L11059" class="css-a4x74f"><span>11059</span></td><td id="LC11059" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11060" class="css-a4x74f"><span>11060</span></td><td id="LC11060" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11061" class="css-a4x74f"><span>11061</span></td><td id="LC11061" class="css-1dcdqdg"><code>	_updateLevels: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11062" class="css-a4x74f"><span>11062</span></td><td id="LC11062" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11063" class="css-a4x74f"><span>11063</span></td><td id="LC11063" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoom = <span class="code-keyword">this</span>._tileZoom,
</code></td></tr><tr><td id="L11064" class="css-a4x74f"><span>11064</span></td><td id="LC11064" class="css-1dcdqdg"><code>		    maxZoom = <span class="code-keyword">this</span>.options.maxZoom;
</code></td></tr><tr><td id="L11065" class="css-a4x74f"><span>11065</span></td><td id="LC11065" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11066" class="css-a4x74f"><span>11066</span></td><td id="LC11066" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoom === <span class="code-literal">undefined</span>) { <span class="code-keyword">return</span> <span class="code-literal">undefined</span>; }
</code></td></tr><tr><td id="L11067" class="css-a4x74f"><span>11067</span></td><td id="LC11067" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11068" class="css-a4x74f"><span>11068</span></td><td id="LC11068" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> z <span class="code-keyword">in</span> <span class="code-keyword">this</span>._levels) {
</code></td></tr><tr><td id="L11069" class="css-a4x74f"><span>11069</span></td><td id="LC11069" class="css-1dcdqdg"><code>			z = <span class="code-built_in">Number</span>(z);
</code></td></tr><tr><td id="L11070" class="css-a4x74f"><span>11070</span></td><td id="LC11070" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._levels[z].el.children.length || z === zoom) {
</code></td></tr><tr><td id="L11071" class="css-a4x74f"><span>11071</span></td><td id="LC11071" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._levels[z].el.style.zIndex = maxZoom - <span class="code-built_in">Math</span>.abs(zoom - z);
</code></td></tr><tr><td id="L11072" class="css-a4x74f"><span>11072</span></td><td id="LC11072" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._onUpdateLevel(z);
</code></td></tr><tr><td id="L11073" class="css-a4x74f"><span>11073</span></td><td id="LC11073" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11074" class="css-a4x74f"><span>11074</span></td><td id="LC11074" class="css-1dcdqdg"><code>				remove(<span class="code-keyword">this</span>._levels[z].el);
</code></td></tr><tr><td id="L11075" class="css-a4x74f"><span>11075</span></td><td id="LC11075" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._removeTilesAtZoom(z);
</code></td></tr><tr><td id="L11076" class="css-a4x74f"><span>11076</span></td><td id="LC11076" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._onRemoveLevel(z);
</code></td></tr><tr><td id="L11077" class="css-a4x74f"><span>11077</span></td><td id="LC11077" class="css-1dcdqdg"><code>				<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._levels[z];
</code></td></tr><tr><td id="L11078" class="css-a4x74f"><span>11078</span></td><td id="LC11078" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11079" class="css-a4x74f"><span>11079</span></td><td id="LC11079" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11080" class="css-a4x74f"><span>11080</span></td><td id="LC11080" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11081" class="css-a4x74f"><span>11081</span></td><td id="LC11081" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> level = <span class="code-keyword">this</span>._levels[zoom],
</code></td></tr><tr><td id="L11082" class="css-a4x74f"><span>11082</span></td><td id="LC11082" class="css-1dcdqdg"><code>		    map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L11083" class="css-a4x74f"><span>11083</span></td><td id="LC11083" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11084" class="css-a4x74f"><span>11084</span></td><td id="LC11084" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!level) {
</code></td></tr><tr><td id="L11085" class="css-a4x74f"><span>11085</span></td><td id="LC11085" class="css-1dcdqdg"><code>			level = <span class="code-keyword">this</span>._levels[zoom] = {};
</code></td></tr><tr><td id="L11086" class="css-a4x74f"><span>11086</span></td><td id="LC11086" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11087" class="css-a4x74f"><span>11087</span></td><td id="LC11087" class="css-1dcdqdg"><code>			level.el = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, <span class="code-string">'leaflet-tile-container leaflet-zoom-animated'</span>, <span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L11088" class="css-a4x74f"><span>11088</span></td><td id="LC11088" class="css-1dcdqdg"><code>			level.el.style.zIndex = maxZoom;
</code></td></tr><tr><td id="L11089" class="css-a4x74f"><span>11089</span></td><td id="LC11089" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11090" class="css-a4x74f"><span>11090</span></td><td id="LC11090" class="css-1dcdqdg"><code>			level.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();
</code></td></tr><tr><td id="L11091" class="css-a4x74f"><span>11091</span></td><td id="LC11091" class="css-1dcdqdg"><code>			level.zoom = zoom;
</code></td></tr><tr><td id="L11092" class="css-a4x74f"><span>11092</span></td><td id="LC11092" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11093" class="css-a4x74f"><span>11093</span></td><td id="LC11093" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._setZoomTransform(level, map.getCenter(), map.getZoom());
</code></td></tr><tr><td id="L11094" class="css-a4x74f"><span>11094</span></td><td id="LC11094" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11095" class="css-a4x74f"><span>11095</span></td><td id="LC11095" class="css-1dcdqdg"><code>			<span class="code-comment">// force the browser to consider the newly added element for transition</span>
</code></td></tr><tr><td id="L11096" class="css-a4x74f"><span>11096</span></td><td id="LC11096" class="css-1dcdqdg"><code>			falseFn(level.el.offsetWidth);
</code></td></tr><tr><td id="L11097" class="css-a4x74f"><span>11097</span></td><td id="LC11097" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11098" class="css-a4x74f"><span>11098</span></td><td id="LC11098" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._onCreateLevel(level);
</code></td></tr><tr><td id="L11099" class="css-a4x74f"><span>11099</span></td><td id="LC11099" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11100" class="css-a4x74f"><span>11100</span></td><td id="LC11100" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11101" class="css-a4x74f"><span>11101</span></td><td id="LC11101" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._level = level;
</code></td></tr><tr><td id="L11102" class="css-a4x74f"><span>11102</span></td><td id="LC11102" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11103" class="css-a4x74f"><span>11103</span></td><td id="LC11103" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> level;
</code></td></tr><tr><td id="L11104" class="css-a4x74f"><span>11104</span></td><td id="LC11104" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11105" class="css-a4x74f"><span>11105</span></td><td id="LC11105" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11106" class="css-a4x74f"><span>11106</span></td><td id="LC11106" class="css-1dcdqdg"><code>	_onUpdateLevel: falseFn,
</code></td></tr><tr><td id="L11107" class="css-a4x74f"><span>11107</span></td><td id="LC11107" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11108" class="css-a4x74f"><span>11108</span></td><td id="LC11108" class="css-1dcdqdg"><code>	_onRemoveLevel: falseFn,
</code></td></tr><tr><td id="L11109" class="css-a4x74f"><span>11109</span></td><td id="LC11109" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11110" class="css-a4x74f"><span>11110</span></td><td id="LC11110" class="css-1dcdqdg"><code>	_onCreateLevel: falseFn,
</code></td></tr><tr><td id="L11111" class="css-a4x74f"><span>11111</span></td><td id="LC11111" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11112" class="css-a4x74f"><span>11112</span></td><td id="LC11112" class="css-1dcdqdg"><code>	_pruneTiles: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11113" class="css-a4x74f"><span>11113</span></td><td id="LC11113" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) {
</code></td></tr><tr><td id="L11114" class="css-a4x74f"><span>11114</span></td><td id="LC11114" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L11115" class="css-a4x74f"><span>11115</span></td><td id="LC11115" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11116" class="css-a4x74f"><span>11116</span></td><td id="LC11116" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11117" class="css-a4x74f"><span>11117</span></td><td id="LC11117" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> key, tile;
</code></td></tr><tr><td id="L11118" class="css-a4x74f"><span>11118</span></td><td id="LC11118" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11119" class="css-a4x74f"><span>11119</span></td><td id="LC11119" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoom = <span class="code-keyword">this</span>._map.getZoom();
</code></td></tr><tr><td id="L11120" class="css-a4x74f"><span>11120</span></td><td id="LC11120" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoom &gt; <span class="code-keyword">this</span>.options.maxZoom ||
</code></td></tr><tr><td id="L11121" class="css-a4x74f"><span>11121</span></td><td id="LC11121" class="css-1dcdqdg"><code>			zoom &lt; <span class="code-keyword">this</span>.options.minZoom) {
</code></td></tr><tr><td id="L11122" class="css-a4x74f"><span>11122</span></td><td id="LC11122" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._removeAllTiles();
</code></td></tr><tr><td id="L11123" class="css-a4x74f"><span>11123</span></td><td id="LC11123" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L11124" class="css-a4x74f"><span>11124</span></td><td id="LC11124" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11125" class="css-a4x74f"><span>11125</span></td><td id="LC11125" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11126" class="css-a4x74f"><span>11126</span></td><td id="LC11126" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11127" class="css-a4x74f"><span>11127</span></td><td id="LC11127" class="css-1dcdqdg"><code>			tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11128" class="css-a4x74f"><span>11128</span></td><td id="LC11128" class="css-1dcdqdg"><code>			tile.retain = tile.current;
</code></td></tr><tr><td id="L11129" class="css-a4x74f"><span>11129</span></td><td id="LC11129" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11130" class="css-a4x74f"><span>11130</span></td><td id="LC11130" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11131" class="css-a4x74f"><span>11131</span></td><td id="LC11131" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11132" class="css-a4x74f"><span>11132</span></td><td id="LC11132" class="css-1dcdqdg"><code>			tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11133" class="css-a4x74f"><span>11133</span></td><td id="LC11133" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (tile.current &amp;&amp; !tile.active) {
</code></td></tr><tr><td id="L11134" class="css-a4x74f"><span>11134</span></td><td id="LC11134" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> coords = tile.coords;
</code></td></tr><tr><td id="L11135" class="css-a4x74f"><span>11135</span></td><td id="LC11135" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._retainParent(coords.x, coords.y, coords.z, coords.z - <span class="code-number">5</span>)) {
</code></td></tr><tr><td id="L11136" class="css-a4x74f"><span>11136</span></td><td id="LC11136" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>._retainChildren(coords.x, coords.y, coords.z, coords.z + <span class="code-number">2</span>);
</code></td></tr><tr><td id="L11137" class="css-a4x74f"><span>11137</span></td><td id="LC11137" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L11138" class="css-a4x74f"><span>11138</span></td><td id="LC11138" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11139" class="css-a4x74f"><span>11139</span></td><td id="LC11139" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11140" class="css-a4x74f"><span>11140</span></td><td id="LC11140" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11141" class="css-a4x74f"><span>11141</span></td><td id="LC11141" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11142" class="css-a4x74f"><span>11142</span></td><td id="LC11142" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._tiles[key].retain) {
</code></td></tr><tr><td id="L11143" class="css-a4x74f"><span>11143</span></td><td id="LC11143" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._removeTile(key);
</code></td></tr><tr><td id="L11144" class="css-a4x74f"><span>11144</span></td><td id="LC11144" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11145" class="css-a4x74f"><span>11145</span></td><td id="LC11145" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11146" class="css-a4x74f"><span>11146</span></td><td id="LC11146" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11147" class="css-a4x74f"><span>11147</span></td><td id="LC11147" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11148" class="css-a4x74f"><span>11148</span></td><td id="LC11148" class="css-1dcdqdg"><code>	_removeTilesAtZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L11149" class="css-a4x74f"><span>11149</span></td><td id="LC11149" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11150" class="css-a4x74f"><span>11150</span></td><td id="LC11150" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tiles[key].coords.z !== zoom) {
</code></td></tr><tr><td id="L11151" class="css-a4x74f"><span>11151</span></td><td id="LC11151" class="css-1dcdqdg"><code>				<span class="code-keyword">continue</span>;
</code></td></tr><tr><td id="L11152" class="css-a4x74f"><span>11152</span></td><td id="LC11152" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11153" class="css-a4x74f"><span>11153</span></td><td id="LC11153" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._removeTile(key);
</code></td></tr><tr><td id="L11154" class="css-a4x74f"><span>11154</span></td><td id="LC11154" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11155" class="css-a4x74f"><span>11155</span></td><td id="LC11155" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11156" class="css-a4x74f"><span>11156</span></td><td id="LC11156" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11157" class="css-a4x74f"><span>11157</span></td><td id="LC11157" class="css-1dcdqdg"><code>	_removeAllTiles: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11158" class="css-a4x74f"><span>11158</span></td><td id="LC11158" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11159" class="css-a4x74f"><span>11159</span></td><td id="LC11159" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._removeTile(key);
</code></td></tr><tr><td id="L11160" class="css-a4x74f"><span>11160</span></td><td id="LC11160" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11161" class="css-a4x74f"><span>11161</span></td><td id="LC11161" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11162" class="css-a4x74f"><span>11162</span></td><td id="LC11162" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11163" class="css-a4x74f"><span>11163</span></td><td id="LC11163" class="css-1dcdqdg"><code>	_invalidateAll: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11164" class="css-a4x74f"><span>11164</span></td><td id="LC11164" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> z <span class="code-keyword">in</span> <span class="code-keyword">this</span>._levels) {
</code></td></tr><tr><td id="L11165" class="css-a4x74f"><span>11165</span></td><td id="LC11165" class="css-1dcdqdg"><code>			remove(<span class="code-keyword">this</span>._levels[z].el);
</code></td></tr><tr><td id="L11166" class="css-a4x74f"><span>11166</span></td><td id="LC11166" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._onRemoveLevel(<span class="code-built_in">Number</span>(z));
</code></td></tr><tr><td id="L11167" class="css-a4x74f"><span>11167</span></td><td id="LC11167" class="css-1dcdqdg"><code>			<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._levels[z];
</code></td></tr><tr><td id="L11168" class="css-a4x74f"><span>11168</span></td><td id="LC11168" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11169" class="css-a4x74f"><span>11169</span></td><td id="LC11169" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._removeAllTiles();
</code></td></tr><tr><td id="L11170" class="css-a4x74f"><span>11170</span></td><td id="LC11170" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11171" class="css-a4x74f"><span>11171</span></td><td id="LC11171" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tileZoom = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L11172" class="css-a4x74f"><span>11172</span></td><td id="LC11172" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11173" class="css-a4x74f"><span>11173</span></td><td id="LC11173" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11174" class="css-a4x74f"><span>11174</span></td><td id="LC11174" class="css-1dcdqdg"><code>	_retainParent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">x, y, z, minZoom</span>) </span>{
</code></td></tr><tr><td id="L11175" class="css-a4x74f"><span>11175</span></td><td id="LC11175" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> x2 = <span class="code-built_in">Math</span>.floor(x / <span class="code-number">2</span>),
</code></td></tr><tr><td id="L11176" class="css-a4x74f"><span>11176</span></td><td id="LC11176" class="css-1dcdqdg"><code>		    y2 = <span class="code-built_in">Math</span>.floor(y / <span class="code-number">2</span>),
</code></td></tr><tr><td id="L11177" class="css-a4x74f"><span>11177</span></td><td id="LC11177" class="css-1dcdqdg"><code>		    z2 = z - <span class="code-number">1</span>,
</code></td></tr><tr><td id="L11178" class="css-a4x74f"><span>11178</span></td><td id="LC11178" class="css-1dcdqdg"><code>		    coords2 = <span class="code-keyword">new</span> Point(+x2, +y2);
</code></td></tr><tr><td id="L11179" class="css-a4x74f"><span>11179</span></td><td id="LC11179" class="css-1dcdqdg"><code>		coords2.z = +z2;
</code></td></tr><tr><td id="L11180" class="css-a4x74f"><span>11180</span></td><td id="LC11180" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11181" class="css-a4x74f"><span>11181</span></td><td id="LC11181" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> key = <span class="code-keyword">this</span>._tileCoordsToKey(coords2),
</code></td></tr><tr><td id="L11182" class="css-a4x74f"><span>11182</span></td><td id="LC11182" class="css-1dcdqdg"><code>		    tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11183" class="css-a4x74f"><span>11183</span></td><td id="LC11183" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11184" class="css-a4x74f"><span>11184</span></td><td id="LC11184" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (tile &amp;&amp; tile.active) {
</code></td></tr><tr><td id="L11185" class="css-a4x74f"><span>11185</span></td><td id="LC11185" class="css-1dcdqdg"><code>			tile.retain = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11186" class="css-a4x74f"><span>11186</span></td><td id="LC11186" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11187" class="css-a4x74f"><span>11187</span></td><td id="LC11187" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11188" class="css-a4x74f"><span>11188</span></td><td id="LC11188" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (tile &amp;&amp; tile.loaded) {
</code></td></tr><tr><td id="L11189" class="css-a4x74f"><span>11189</span></td><td id="LC11189" class="css-1dcdqdg"><code>			tile.retain = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11190" class="css-a4x74f"><span>11190</span></td><td id="LC11190" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11191" class="css-a4x74f"><span>11191</span></td><td id="LC11191" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11192" class="css-a4x74f"><span>11192</span></td><td id="LC11192" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (z2 &gt; minZoom) {
</code></td></tr><tr><td id="L11193" class="css-a4x74f"><span>11193</span></td><td id="LC11193" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-keyword">this</span>._retainParent(x2, y2, z2, minZoom);
</code></td></tr><tr><td id="L11194" class="css-a4x74f"><span>11194</span></td><td id="LC11194" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11195" class="css-a4x74f"><span>11195</span></td><td id="LC11195" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11196" class="css-a4x74f"><span>11196</span></td><td id="LC11196" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L11197" class="css-a4x74f"><span>11197</span></td><td id="LC11197" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11198" class="css-a4x74f"><span>11198</span></td><td id="LC11198" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11199" class="css-a4x74f"><span>11199</span></td><td id="LC11199" class="css-1dcdqdg"><code>	_retainChildren: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">x, y, z, maxZoom</span>) </span>{
</code></td></tr><tr><td id="L11200" class="css-a4x74f"><span>11200</span></td><td id="LC11200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11201" class="css-a4x74f"><span>11201</span></td><td id="LC11201" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = <span class="code-number">2</span> * x; i &lt; <span class="code-number">2</span> * x + <span class="code-number">2</span>; i++) {
</code></td></tr><tr><td id="L11202" class="css-a4x74f"><span>11202</span></td><td id="LC11202" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> j = <span class="code-number">2</span> * y; j &lt; <span class="code-number">2</span> * y + <span class="code-number">2</span>; j++) {
</code></td></tr><tr><td id="L11203" class="css-a4x74f"><span>11203</span></td><td id="LC11203" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11204" class="css-a4x74f"><span>11204</span></td><td id="LC11204" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> coords = <span class="code-keyword">new</span> Point(i, j);
</code></td></tr><tr><td id="L11205" class="css-a4x74f"><span>11205</span></td><td id="LC11205" class="css-1dcdqdg"><code>				coords.z = z + <span class="code-number">1</span>;
</code></td></tr><tr><td id="L11206" class="css-a4x74f"><span>11206</span></td><td id="LC11206" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11207" class="css-a4x74f"><span>11207</span></td><td id="LC11207" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> key = <span class="code-keyword">this</span>._tileCoordsToKey(coords),
</code></td></tr><tr><td id="L11208" class="css-a4x74f"><span>11208</span></td><td id="LC11208" class="css-1dcdqdg"><code>				    tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11209" class="css-a4x74f"><span>11209</span></td><td id="LC11209" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11210" class="css-a4x74f"><span>11210</span></td><td id="LC11210" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (tile &amp;&amp; tile.active) {
</code></td></tr><tr><td id="L11211" class="css-a4x74f"><span>11211</span></td><td id="LC11211" class="css-1dcdqdg"><code>					tile.retain = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11212" class="css-a4x74f"><span>11212</span></td><td id="LC11212" class="css-1dcdqdg"><code>					<span class="code-keyword">continue</span>;
</code></td></tr><tr><td id="L11213" class="css-a4x74f"><span>11213</span></td><td id="LC11213" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11214" class="css-a4x74f"><span>11214</span></td><td id="LC11214" class="css-1dcdqdg"><code>				} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (tile &amp;&amp; tile.loaded) {
</code></td></tr><tr><td id="L11215" class="css-a4x74f"><span>11215</span></td><td id="LC11215" class="css-1dcdqdg"><code>					tile.retain = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11216" class="css-a4x74f"><span>11216</span></td><td id="LC11216" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L11217" class="css-a4x74f"><span>11217</span></td><td id="LC11217" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11218" class="css-a4x74f"><span>11218</span></td><td id="LC11218" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (z + <span class="code-number">1</span> &lt; maxZoom) {
</code></td></tr><tr><td id="L11219" class="css-a4x74f"><span>11219</span></td><td id="LC11219" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>._retainChildren(i, j, z + <span class="code-number">1</span>, maxZoom);
</code></td></tr><tr><td id="L11220" class="css-a4x74f"><span>11220</span></td><td id="LC11220" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L11221" class="css-a4x74f"><span>11221</span></td><td id="LC11221" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11222" class="css-a4x74f"><span>11222</span></td><td id="LC11222" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11223" class="css-a4x74f"><span>11223</span></td><td id="LC11223" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11224" class="css-a4x74f"><span>11224</span></td><td id="LC11224" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11225" class="css-a4x74f"><span>11225</span></td><td id="LC11225" class="css-1dcdqdg"><code>	_resetView: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L11226" class="css-a4x74f"><span>11226</span></td><td id="LC11226" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> animating = e &amp;&amp; (e.pinch || e.flyTo);
</code></td></tr><tr><td id="L11227" class="css-a4x74f"><span>11227</span></td><td id="LC11227" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setView(<span class="code-keyword">this</span>._map.getCenter(), <span class="code-keyword">this</span>._map.getZoom(), animating, animating);
</code></td></tr><tr><td id="L11228" class="css-a4x74f"><span>11228</span></td><td id="LC11228" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11229" class="css-a4x74f"><span>11229</span></td><td id="LC11229" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11230" class="css-a4x74f"><span>11230</span></td><td id="LC11230" class="css-1dcdqdg"><code>	_animateZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L11231" class="css-a4x74f"><span>11231</span></td><td id="LC11231" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setView(e.center, e.zoom, <span class="code-literal">true</span>, e.noUpdate);
</code></td></tr><tr><td id="L11232" class="css-a4x74f"><span>11232</span></td><td id="LC11232" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11233" class="css-a4x74f"><span>11233</span></td><td id="LC11233" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11234" class="css-a4x74f"><span>11234</span></td><td id="LC11234" class="css-1dcdqdg"><code>	_clampZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoom</span>) </span>{
</code></td></tr><tr><td id="L11235" class="css-a4x74f"><span>11235</span></td><td id="LC11235" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> options = <span class="code-keyword">this</span>.options;
</code></td></tr><tr><td id="L11236" class="css-a4x74f"><span>11236</span></td><td id="LC11236" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11237" class="css-a4x74f"><span>11237</span></td><td id="LC11237" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-literal">undefined</span> !== options.minNativeZoom &amp;&amp; zoom &lt; options.minNativeZoom) {
</code></td></tr><tr><td id="L11238" class="css-a4x74f"><span>11238</span></td><td id="LC11238" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> options.minNativeZoom;
</code></td></tr><tr><td id="L11239" class="css-a4x74f"><span>11239</span></td><td id="LC11239" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11240" class="css-a4x74f"><span>11240</span></td><td id="LC11240" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11241" class="css-a4x74f"><span>11241</span></td><td id="LC11241" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-literal">undefined</span> !== options.maxNativeZoom &amp;&amp; options.maxNativeZoom &lt; zoom) {
</code></td></tr><tr><td id="L11242" class="css-a4x74f"><span>11242</span></td><td id="LC11242" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> options.maxNativeZoom;
</code></td></tr><tr><td id="L11243" class="css-a4x74f"><span>11243</span></td><td id="LC11243" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11244" class="css-a4x74f"><span>11244</span></td><td id="LC11244" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11245" class="css-a4x74f"><span>11245</span></td><td id="LC11245" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> zoom;
</code></td></tr><tr><td id="L11246" class="css-a4x74f"><span>11246</span></td><td id="LC11246" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11247" class="css-a4x74f"><span>11247</span></td><td id="LC11247" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11248" class="css-a4x74f"><span>11248</span></td><td id="LC11248" class="css-1dcdqdg"><code>	_setView: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom, noPrune, noUpdate</span>) </span>{
</code></td></tr><tr><td id="L11249" class="css-a4x74f"><span>11249</span></td><td id="LC11249" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileZoom = <span class="code-built_in">Math</span>.round(zoom);
</code></td></tr><tr><td id="L11250" class="css-a4x74f"><span>11250</span></td><td id="LC11250" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> ((<span class="code-keyword">this</span>.options.maxZoom !== <span class="code-literal">undefined</span> &amp;&amp; tileZoom &gt; <span class="code-keyword">this</span>.options.maxZoom) ||
</code></td></tr><tr><td id="L11251" class="css-a4x74f"><span>11251</span></td><td id="LC11251" class="css-1dcdqdg"><code>		    (<span class="code-keyword">this</span>.options.minZoom !== <span class="code-literal">undefined</span> &amp;&amp; tileZoom &lt; <span class="code-keyword">this</span>.options.minZoom)) {
</code></td></tr><tr><td id="L11252" class="css-a4x74f"><span>11252</span></td><td id="LC11252" class="css-1dcdqdg"><code>			tileZoom = <span class="code-literal">undefined</span>;
</code></td></tr><tr><td id="L11253" class="css-a4x74f"><span>11253</span></td><td id="LC11253" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11254" class="css-a4x74f"><span>11254</span></td><td id="LC11254" class="css-1dcdqdg"><code>			tileZoom = <span class="code-keyword">this</span>._clampZoom(tileZoom);
</code></td></tr><tr><td id="L11255" class="css-a4x74f"><span>11255</span></td><td id="LC11255" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11256" class="css-a4x74f"><span>11256</span></td><td id="LC11256" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11257" class="css-a4x74f"><span>11257</span></td><td id="LC11257" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileZoomChanged = <span class="code-keyword">this</span>.options.updateWhenZooming &amp;&amp; (tileZoom !== <span class="code-keyword">this</span>._tileZoom);
</code></td></tr><tr><td id="L11258" class="css-a4x74f"><span>11258</span></td><td id="LC11258" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11259" class="css-a4x74f"><span>11259</span></td><td id="LC11259" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!noUpdate || tileZoomChanged) {
</code></td></tr><tr><td id="L11260" class="css-a4x74f"><span>11260</span></td><td id="LC11260" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11261" class="css-a4x74f"><span>11261</span></td><td id="LC11261" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._tileZoom = tileZoom;
</code></td></tr><tr><td id="L11262" class="css-a4x74f"><span>11262</span></td><td id="LC11262" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11263" class="css-a4x74f"><span>11263</span></td><td id="LC11263" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._abortLoading) {
</code></td></tr><tr><td id="L11264" class="css-a4x74f"><span>11264</span></td><td id="LC11264" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._abortLoading();
</code></td></tr><tr><td id="L11265" class="css-a4x74f"><span>11265</span></td><td id="LC11265" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11266" class="css-a4x74f"><span>11266</span></td><td id="LC11266" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11267" class="css-a4x74f"><span>11267</span></td><td id="LC11267" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updateLevels();
</code></td></tr><tr><td id="L11268" class="css-a4x74f"><span>11268</span></td><td id="LC11268" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._resetGrid();
</code></td></tr><tr><td id="L11269" class="css-a4x74f"><span>11269</span></td><td id="LC11269" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11270" class="css-a4x74f"><span>11270</span></td><td id="LC11270" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (tileZoom !== <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L11271" class="css-a4x74f"><span>11271</span></td><td id="LC11271" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._update(center);
</code></td></tr><tr><td id="L11272" class="css-a4x74f"><span>11272</span></td><td id="LC11272" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11273" class="css-a4x74f"><span>11273</span></td><td id="LC11273" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11274" class="css-a4x74f"><span>11274</span></td><td id="LC11274" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!noPrune) {
</code></td></tr><tr><td id="L11275" class="css-a4x74f"><span>11275</span></td><td id="LC11275" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._pruneTiles();
</code></td></tr><tr><td id="L11276" class="css-a4x74f"><span>11276</span></td><td id="LC11276" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11277" class="css-a4x74f"><span>11277</span></td><td id="LC11277" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11278" class="css-a4x74f"><span>11278</span></td><td id="LC11278" class="css-1dcdqdg"><code>			<span class="code-comment">// Flag to prevent _updateOpacity from pruning tiles during</span>
</code></td></tr><tr><td id="L11279" class="css-a4x74f"><span>11279</span></td><td id="LC11279" class="css-1dcdqdg"><code>			<span class="code-comment">// a zoom anim or a pinch gesture</span>
</code></td></tr><tr><td id="L11280" class="css-a4x74f"><span>11280</span></td><td id="LC11280" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._noPrune = !!noPrune;
</code></td></tr><tr><td id="L11281" class="css-a4x74f"><span>11281</span></td><td id="LC11281" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11282" class="css-a4x74f"><span>11282</span></td><td id="LC11282" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11283" class="css-a4x74f"><span>11283</span></td><td id="LC11283" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setZoomTransforms(center, zoom);
</code></td></tr><tr><td id="L11284" class="css-a4x74f"><span>11284</span></td><td id="LC11284" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11285" class="css-a4x74f"><span>11285</span></td><td id="LC11285" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11286" class="css-a4x74f"><span>11286</span></td><td id="LC11286" class="css-1dcdqdg"><code>	_setZoomTransforms: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom</span>) </span>{
</code></td></tr><tr><td id="L11287" class="css-a4x74f"><span>11287</span></td><td id="LC11287" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._levels) {
</code></td></tr><tr><td id="L11288" class="css-a4x74f"><span>11288</span></td><td id="LC11288" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._setZoomTransform(<span class="code-keyword">this</span>._levels[i], center, zoom);
</code></td></tr><tr><td id="L11289" class="css-a4x74f"><span>11289</span></td><td id="LC11289" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11290" class="css-a4x74f"><span>11290</span></td><td id="LC11290" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11291" class="css-a4x74f"><span>11291</span></td><td id="LC11291" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11292" class="css-a4x74f"><span>11292</span></td><td id="LC11292" class="css-1dcdqdg"><code>	_setZoomTransform: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">level, center, zoom</span>) </span>{
</code></td></tr><tr><td id="L11293" class="css-a4x74f"><span>11293</span></td><td id="LC11293" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-keyword">this</span>._map.getZoomScale(zoom, level.zoom),
</code></td></tr><tr><td id="L11294" class="css-a4x74f"><span>11294</span></td><td id="LC11294" class="css-1dcdqdg"><code>		    translate = level.origin.multiplyBy(scale)
</code></td></tr><tr><td id="L11295" class="css-a4x74f"><span>11295</span></td><td id="LC11295" class="css-1dcdqdg"><code>		        .subtract(<span class="code-keyword">this</span>._map._getNewPixelOrigin(center, zoom)).round();
</code></td></tr><tr><td id="L11296" class="css-a4x74f"><span>11296</span></td><td id="LC11296" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11297" class="css-a4x74f"><span>11297</span></td><td id="LC11297" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.any3d) {
</code></td></tr><tr><td id="L11298" class="css-a4x74f"><span>11298</span></td><td id="LC11298" class="css-1dcdqdg"><code>			setTransform(level.el, translate, scale);
</code></td></tr><tr><td id="L11299" class="css-a4x74f"><span>11299</span></td><td id="LC11299" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11300" class="css-a4x74f"><span>11300</span></td><td id="LC11300" class="css-1dcdqdg"><code>			setPosition(level.el, translate);
</code></td></tr><tr><td id="L11301" class="css-a4x74f"><span>11301</span></td><td id="LC11301" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11302" class="css-a4x74f"><span>11302</span></td><td id="LC11302" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11303" class="css-a4x74f"><span>11303</span></td><td id="LC11303" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11304" class="css-a4x74f"><span>11304</span></td><td id="LC11304" class="css-1dcdqdg"><code>	_resetGrid: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11305" class="css-a4x74f"><span>11305</span></td><td id="LC11305" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L11306" class="css-a4x74f"><span>11306</span></td><td id="LC11306" class="css-1dcdqdg"><code>		    crs = map.options.crs,
</code></td></tr><tr><td id="L11307" class="css-a4x74f"><span>11307</span></td><td id="LC11307" class="css-1dcdqdg"><code>		    tileSize = <span class="code-keyword">this</span>._tileSize = <span class="code-keyword">this</span>.getTileSize(),
</code></td></tr><tr><td id="L11308" class="css-a4x74f"><span>11308</span></td><td id="LC11308" class="css-1dcdqdg"><code>		    tileZoom = <span class="code-keyword">this</span>._tileZoom;
</code></td></tr><tr><td id="L11309" class="css-a4x74f"><span>11309</span></td><td id="LC11309" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11310" class="css-a4x74f"><span>11310</span></td><td id="LC11310" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">this</span>._map.getPixelWorldBounds(<span class="code-keyword">this</span>._tileZoom);
</code></td></tr><tr><td id="L11311" class="css-a4x74f"><span>11311</span></td><td id="LC11311" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (bounds) {
</code></td></tr><tr><td id="L11312" class="css-a4x74f"><span>11312</span></td><td id="LC11312" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._globalTileRange = <span class="code-keyword">this</span>._pxBoundsToTileRange(bounds);
</code></td></tr><tr><td id="L11313" class="css-a4x74f"><span>11313</span></td><td id="LC11313" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11314" class="css-a4x74f"><span>11314</span></td><td id="LC11314" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11315" class="css-a4x74f"><span>11315</span></td><td id="LC11315" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._wrapX = crs.wrapLng &amp;&amp; !<span class="code-keyword">this</span>.options.noWrap &amp;&amp; [
</code></td></tr><tr><td id="L11316" class="css-a4x74f"><span>11316</span></td><td id="LC11316" class="css-1dcdqdg"><code>			<span class="code-built_in">Math</span>.floor(map.project([<span class="code-number">0</span>, crs.wrapLng[<span class="code-number">0</span>]], tileZoom).x / tileSize.x),
</code></td></tr><tr><td id="L11317" class="css-a4x74f"><span>11317</span></td><td id="LC11317" class="css-1dcdqdg"><code>			<span class="code-built_in">Math</span>.ceil(map.project([<span class="code-number">0</span>, crs.wrapLng[<span class="code-number">1</span>]], tileZoom).x / tileSize.y)
</code></td></tr><tr><td id="L11318" class="css-a4x74f"><span>11318</span></td><td id="LC11318" class="css-1dcdqdg"><code>		];
</code></td></tr><tr><td id="L11319" class="css-a4x74f"><span>11319</span></td><td id="LC11319" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._wrapY = crs.wrapLat &amp;&amp; !<span class="code-keyword">this</span>.options.noWrap &amp;&amp; [
</code></td></tr><tr><td id="L11320" class="css-a4x74f"><span>11320</span></td><td id="LC11320" class="css-1dcdqdg"><code>			<span class="code-built_in">Math</span>.floor(map.project([crs.wrapLat[<span class="code-number">0</span>], <span class="code-number">0</span>], tileZoom).y / tileSize.x),
</code></td></tr><tr><td id="L11321" class="css-a4x74f"><span>11321</span></td><td id="LC11321" class="css-1dcdqdg"><code>			<span class="code-built_in">Math</span>.ceil(map.project([crs.wrapLat[<span class="code-number">1</span>], <span class="code-number">0</span>], tileZoom).y / tileSize.y)
</code></td></tr><tr><td id="L11322" class="css-a4x74f"><span>11322</span></td><td id="LC11322" class="css-1dcdqdg"><code>		];
</code></td></tr><tr><td id="L11323" class="css-a4x74f"><span>11323</span></td><td id="LC11323" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11324" class="css-a4x74f"><span>11324</span></td><td id="LC11324" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11325" class="css-a4x74f"><span>11325</span></td><td id="LC11325" class="css-1dcdqdg"><code>	_onMoveEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11326" class="css-a4x74f"><span>11326</span></td><td id="LC11326" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map || <span class="code-keyword">this</span>._map._animatingZoom) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11327" class="css-a4x74f"><span>11327</span></td><td id="LC11327" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11328" class="css-a4x74f"><span>11328</span></td><td id="LC11328" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L11329" class="css-a4x74f"><span>11329</span></td><td id="LC11329" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11330" class="css-a4x74f"><span>11330</span></td><td id="LC11330" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11331" class="css-a4x74f"><span>11331</span></td><td id="LC11331" class="css-1dcdqdg"><code>	_getTiledPixelBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center</span>) </span>{
</code></td></tr><tr><td id="L11332" class="css-a4x74f"><span>11332</span></td><td id="LC11332" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L11333" class="css-a4x74f"><span>11333</span></td><td id="LC11333" class="css-1dcdqdg"><code>		    mapZoom = map._animatingZoom ? <span class="code-built_in">Math</span>.max(map._animateToZoom, map.getZoom()) : map.getZoom(),
</code></td></tr><tr><td id="L11334" class="css-a4x74f"><span>11334</span></td><td id="LC11334" class="css-1dcdqdg"><code>		    scale = map.getZoomScale(mapZoom, <span class="code-keyword">this</span>._tileZoom),
</code></td></tr><tr><td id="L11335" class="css-a4x74f"><span>11335</span></td><td id="LC11335" class="css-1dcdqdg"><code>		    pixelCenter = map.project(center, <span class="code-keyword">this</span>._tileZoom).floor(),
</code></td></tr><tr><td id="L11336" class="css-a4x74f"><span>11336</span></td><td id="LC11336" class="css-1dcdqdg"><code>		    halfSize = map.getSize().divideBy(scale * <span class="code-number">2</span>);
</code></td></tr><tr><td id="L11337" class="css-a4x74f"><span>11337</span></td><td id="LC11337" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11338" class="css-a4x74f"><span>11338</span></td><td id="LC11338" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));
</code></td></tr><tr><td id="L11339" class="css-a4x74f"><span>11339</span></td><td id="LC11339" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11340" class="css-a4x74f"><span>11340</span></td><td id="LC11340" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11341" class="css-a4x74f"><span>11341</span></td><td id="LC11341" class="css-1dcdqdg"><code>	<span class="code-comment">// Private method to load tiles in the grid's active zoom level according to map bounds</span>
</code></td></tr><tr><td id="L11342" class="css-a4x74f"><span>11342</span></td><td id="LC11342" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center</span>) </span>{
</code></td></tr><tr><td id="L11343" class="css-a4x74f"><span>11343</span></td><td id="LC11343" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L11344" class="css-a4x74f"><span>11344</span></td><td id="LC11344" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11345" class="css-a4x74f"><span>11345</span></td><td id="LC11345" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoom = <span class="code-keyword">this</span>._clampZoom(map.getZoom());
</code></td></tr><tr><td id="L11346" class="css-a4x74f"><span>11346</span></td><td id="LC11346" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11347" class="css-a4x74f"><span>11347</span></td><td id="LC11347" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (center === <span class="code-literal">undefined</span>) { center = map.getCenter(); }
</code></td></tr><tr><td id="L11348" class="css-a4x74f"><span>11348</span></td><td id="LC11348" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tileZoom === <span class="code-literal">undefined</span>) { <span class="code-keyword">return</span>; }	<span class="code-comment">// if out of minzoom/maxzoom</span>
</code></td></tr><tr><td id="L11349" class="css-a4x74f"><span>11349</span></td><td id="LC11349" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11350" class="css-a4x74f"><span>11350</span></td><td id="LC11350" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pixelBounds = <span class="code-keyword">this</span>._getTiledPixelBounds(center),
</code></td></tr><tr><td id="L11351" class="css-a4x74f"><span>11351</span></td><td id="LC11351" class="css-1dcdqdg"><code>		    tileRange = <span class="code-keyword">this</span>._pxBoundsToTileRange(pixelBounds),
</code></td></tr><tr><td id="L11352" class="css-a4x74f"><span>11352</span></td><td id="LC11352" class="css-1dcdqdg"><code>		    tileCenter = tileRange.getCenter(),
</code></td></tr><tr><td id="L11353" class="css-a4x74f"><span>11353</span></td><td id="LC11353" class="css-1dcdqdg"><code>		    queue = [],
</code></td></tr><tr><td id="L11354" class="css-a4x74f"><span>11354</span></td><td id="LC11354" class="css-1dcdqdg"><code>		    margin = <span class="code-keyword">this</span>.options.keepBuffer,
</code></td></tr><tr><td id="L11355" class="css-a4x74f"><span>11355</span></td><td id="LC11355" class="css-1dcdqdg"><code>		    noPruneRange = <span class="code-keyword">new</span> Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),
</code></td></tr><tr><td id="L11356" class="css-a4x74f"><span>11356</span></td><td id="LC11356" class="css-1dcdqdg"><code>		                              tileRange.getTopRight().add([margin, -margin]));
</code></td></tr><tr><td id="L11357" class="css-a4x74f"><span>11357</span></td><td id="LC11357" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11358" class="css-a4x74f"><span>11358</span></td><td id="LC11358" class="css-1dcdqdg"><code>		<span class="code-comment">// Sanity check: panic if the tile range contains Infinity somewhere.</span>
</code></td></tr><tr><td id="L11359" class="css-a4x74f"><span>11359</span></td><td id="LC11359" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!(<span class="code-built_in">isFinite</span>(tileRange.min.x) &amp;&amp;
</code></td></tr><tr><td id="L11360" class="css-a4x74f"><span>11360</span></td><td id="LC11360" class="css-1dcdqdg"><code>		      <span class="code-built_in">isFinite</span>(tileRange.min.y) &amp;&amp;
</code></td></tr><tr><td id="L11361" class="css-a4x74f"><span>11361</span></td><td id="LC11361" class="css-1dcdqdg"><code>		      <span class="code-built_in">isFinite</span>(tileRange.max.x) &amp;&amp;
</code></td></tr><tr><td id="L11362" class="css-a4x74f"><span>11362</span></td><td id="LC11362" class="css-1dcdqdg"><code>		      <span class="code-built_in">isFinite</span>(tileRange.max.y))) { <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Attempted to load an infinite number of tiles'</span>); }
</code></td></tr><tr><td id="L11363" class="css-a4x74f"><span>11363</span></td><td id="LC11363" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11364" class="css-a4x74f"><span>11364</span></td><td id="LC11364" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11365" class="css-a4x74f"><span>11365</span></td><td id="LC11365" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> c = <span class="code-keyword">this</span>._tiles[key].coords;
</code></td></tr><tr><td id="L11366" class="css-a4x74f"><span>11366</span></td><td id="LC11366" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (c.z !== <span class="code-keyword">this</span>._tileZoom || !noPruneRange.contains(<span class="code-keyword">new</span> Point(c.x, c.y))) {
</code></td></tr><tr><td id="L11367" class="css-a4x74f"><span>11367</span></td><td id="LC11367" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._tiles[key].current = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L11368" class="css-a4x74f"><span>11368</span></td><td id="LC11368" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11369" class="css-a4x74f"><span>11369</span></td><td id="LC11369" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11370" class="css-a4x74f"><span>11370</span></td><td id="LC11370" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11371" class="css-a4x74f"><span>11371</span></td><td id="LC11371" class="css-1dcdqdg"><code>		<span class="code-comment">// _update just loads more tiles. If the tile zoom level differs too much</span>
</code></td></tr><tr><td id="L11372" class="css-a4x74f"><span>11372</span></td><td id="LC11372" class="css-1dcdqdg"><code>		<span class="code-comment">// from the map's, let _setView reset levels and prune old tiles.</span>
</code></td></tr><tr><td id="L11373" class="css-a4x74f"><span>11373</span></td><td id="LC11373" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-built_in">Math</span>.abs(zoom - <span class="code-keyword">this</span>._tileZoom) &gt; <span class="code-number">1</span>) { <span class="code-keyword">this</span>._setView(center, zoom); <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11374" class="css-a4x74f"><span>11374</span></td><td id="LC11374" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11375" class="css-a4x74f"><span>11375</span></td><td id="LC11375" class="css-1dcdqdg"><code>		<span class="code-comment">// create a queue of coordinates to load tiles from</span>
</code></td></tr><tr><td id="L11376" class="css-a4x74f"><span>11376</span></td><td id="LC11376" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> j = tileRange.min.y; j &lt;= tileRange.max.y; j++) {
</code></td></tr><tr><td id="L11377" class="css-a4x74f"><span>11377</span></td><td id="LC11377" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i = tileRange.min.x; i &lt;= tileRange.max.x; i++) {
</code></td></tr><tr><td id="L11378" class="css-a4x74f"><span>11378</span></td><td id="LC11378" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> coords = <span class="code-keyword">new</span> Point(i, j);
</code></td></tr><tr><td id="L11379" class="css-a4x74f"><span>11379</span></td><td id="LC11379" class="css-1dcdqdg"><code>				coords.z = <span class="code-keyword">this</span>._tileZoom;
</code></td></tr><tr><td id="L11380" class="css-a4x74f"><span>11380</span></td><td id="LC11380" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11381" class="css-a4x74f"><span>11381</span></td><td id="LC11381" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._isValidTile(coords)) { <span class="code-keyword">continue</span>; }
</code></td></tr><tr><td id="L11382" class="css-a4x74f"><span>11382</span></td><td id="LC11382" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11383" class="css-a4x74f"><span>11383</span></td><td id="LC11383" class="css-1dcdqdg"><code>				<span class="code-keyword">var</span> tile = <span class="code-keyword">this</span>._tiles[<span class="code-keyword">this</span>._tileCoordsToKey(coords)];
</code></td></tr><tr><td id="L11384" class="css-a4x74f"><span>11384</span></td><td id="LC11384" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (tile) {
</code></td></tr><tr><td id="L11385" class="css-a4x74f"><span>11385</span></td><td id="LC11385" class="css-1dcdqdg"><code>					tile.current = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11386" class="css-a4x74f"><span>11386</span></td><td id="LC11386" class="css-1dcdqdg"><code>				} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11387" class="css-a4x74f"><span>11387</span></td><td id="LC11387" class="css-1dcdqdg"><code>					queue.push(coords);
</code></td></tr><tr><td id="L11388" class="css-a4x74f"><span>11388</span></td><td id="LC11388" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L11389" class="css-a4x74f"><span>11389</span></td><td id="LC11389" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11390" class="css-a4x74f"><span>11390</span></td><td id="LC11390" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11391" class="css-a4x74f"><span>11391</span></td><td id="LC11391" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11392" class="css-a4x74f"><span>11392</span></td><td id="LC11392" class="css-1dcdqdg"><code>		<span class="code-comment">// sort tile queue to load tiles in order of their distance to center</span>
</code></td></tr><tr><td id="L11393" class="css-a4x74f"><span>11393</span></td><td id="LC11393" class="css-1dcdqdg"><code>		queue.sort(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">a, b</span>) </span>{
</code></td></tr><tr><td id="L11394" class="css-a4x74f"><span>11394</span></td><td id="LC11394" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> a.distanceTo(tileCenter) - b.distanceTo(tileCenter);
</code></td></tr><tr><td id="L11395" class="css-a4x74f"><span>11395</span></td><td id="LC11395" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L11396" class="css-a4x74f"><span>11396</span></td><td id="LC11396" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11397" class="css-a4x74f"><span>11397</span></td><td id="LC11397" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (queue.length !== <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L11398" class="css-a4x74f"><span>11398</span></td><td id="LC11398" class="css-1dcdqdg"><code>			<span class="code-comment">// if it's the first batch of tiles to load</span>
</code></td></tr><tr><td id="L11399" class="css-a4x74f"><span>11399</span></td><td id="LC11399" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._loading) {
</code></td></tr><tr><td id="L11400" class="css-a4x74f"><span>11400</span></td><td id="LC11400" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._loading = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11401" class="css-a4x74f"><span>11401</span></td><td id="LC11401" class="css-1dcdqdg"><code>				<span class="code-comment">// @event loading: Event</span>
</code></td></tr><tr><td id="L11402" class="css-a4x74f"><span>11402</span></td><td id="LC11402" class="css-1dcdqdg"><code>				<span class="code-comment">// Fired when the grid layer starts loading tiles.</span>
</code></td></tr><tr><td id="L11403" class="css-a4x74f"><span>11403</span></td><td id="LC11403" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>.fire(<span class="code-string">'loading'</span>);
</code></td></tr><tr><td id="L11404" class="css-a4x74f"><span>11404</span></td><td id="LC11404" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11405" class="css-a4x74f"><span>11405</span></td><td id="LC11405" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11406" class="css-a4x74f"><span>11406</span></td><td id="LC11406" class="css-1dcdqdg"><code>			<span class="code-comment">// create DOM fragment to append tiles in one batch</span>
</code></td></tr><tr><td id="L11407" class="css-a4x74f"><span>11407</span></td><td id="LC11407" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> fragment = <span class="code-built_in">document</span>.createDocumentFragment();
</code></td></tr><tr><td id="L11408" class="css-a4x74f"><span>11408</span></td><td id="LC11408" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11409" class="css-a4x74f"><span>11409</span></td><td id="LC11409" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; queue.length; i++) {
</code></td></tr><tr><td id="L11410" class="css-a4x74f"><span>11410</span></td><td id="LC11410" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._addTile(queue[i], fragment);
</code></td></tr><tr><td id="L11411" class="css-a4x74f"><span>11411</span></td><td id="LC11411" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11412" class="css-a4x74f"><span>11412</span></td><td id="LC11412" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11413" class="css-a4x74f"><span>11413</span></td><td id="LC11413" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._level.el.appendChild(fragment);
</code></td></tr><tr><td id="L11414" class="css-a4x74f"><span>11414</span></td><td id="LC11414" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11415" class="css-a4x74f"><span>11415</span></td><td id="LC11415" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11416" class="css-a4x74f"><span>11416</span></td><td id="LC11416" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11417" class="css-a4x74f"><span>11417</span></td><td id="LC11417" class="css-1dcdqdg"><code>	_isValidTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11418" class="css-a4x74f"><span>11418</span></td><td id="LC11418" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> crs = <span class="code-keyword">this</span>._map.options.crs;
</code></td></tr><tr><td id="L11419" class="css-a4x74f"><span>11419</span></td><td id="LC11419" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11420" class="css-a4x74f"><span>11420</span></td><td id="LC11420" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!crs.infinite) {
</code></td></tr><tr><td id="L11421" class="css-a4x74f"><span>11421</span></td><td id="LC11421" class="css-1dcdqdg"><code>			<span class="code-comment">// don't load tile if it's out of bounds and not wrapped</span>
</code></td></tr><tr><td id="L11422" class="css-a4x74f"><span>11422</span></td><td id="LC11422" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> bounds = <span class="code-keyword">this</span>._globalTileRange;
</code></td></tr><tr><td id="L11423" class="css-a4x74f"><span>11423</span></td><td id="LC11423" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> ((!crs.wrapLng &amp;&amp; (coords.x &lt; bounds.min.x || coords.x &gt; bounds.max.x)) ||
</code></td></tr><tr><td id="L11424" class="css-a4x74f"><span>11424</span></td><td id="LC11424" class="css-1dcdqdg"><code>			    (!crs.wrapLat &amp;&amp; (coords.y &lt; bounds.min.y || coords.y &gt; bounds.max.y))) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L11425" class="css-a4x74f"><span>11425</span></td><td id="LC11425" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11426" class="css-a4x74f"><span>11426</span></td><td id="LC11426" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11427" class="css-a4x74f"><span>11427</span></td><td id="LC11427" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.bounds) { <span class="code-keyword">return</span> <span class="code-literal">true</span>; }
</code></td></tr><tr><td id="L11428" class="css-a4x74f"><span>11428</span></td><td id="LC11428" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11429" class="css-a4x74f"><span>11429</span></td><td id="LC11429" class="css-1dcdqdg"><code>		<span class="code-comment">// don't load tile if it doesn't intersect the bounds in options</span>
</code></td></tr><tr><td id="L11430" class="css-a4x74f"><span>11430</span></td><td id="LC11430" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileBounds = <span class="code-keyword">this</span>._tileCoordsToBounds(coords);
</code></td></tr><tr><td id="L11431" class="css-a4x74f"><span>11431</span></td><td id="LC11431" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> toLatLngBounds(<span class="code-keyword">this</span>.options.bounds).overlaps(tileBounds);
</code></td></tr><tr><td id="L11432" class="css-a4x74f"><span>11432</span></td><td id="LC11432" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11433" class="css-a4x74f"><span>11433</span></td><td id="LC11433" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11434" class="css-a4x74f"><span>11434</span></td><td id="LC11434" class="css-1dcdqdg"><code>	_keyToBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L11435" class="css-a4x74f"><span>11435</span></td><td id="LC11435" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._tileCoordsToBounds(<span class="code-keyword">this</span>._keyToTileCoords(key));
</code></td></tr><tr><td id="L11436" class="css-a4x74f"><span>11436</span></td><td id="LC11436" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11437" class="css-a4x74f"><span>11437</span></td><td id="LC11437" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11438" class="css-a4x74f"><span>11438</span></td><td id="LC11438" class="css-1dcdqdg"><code>	_tileCoordsToNwSe: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11439" class="css-a4x74f"><span>11439</span></td><td id="LC11439" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L11440" class="css-a4x74f"><span>11440</span></td><td id="LC11440" class="css-1dcdqdg"><code>		    tileSize = <span class="code-keyword">this</span>.getTileSize(),
</code></td></tr><tr><td id="L11441" class="css-a4x74f"><span>11441</span></td><td id="LC11441" class="css-1dcdqdg"><code>		    nwPoint = coords.scaleBy(tileSize),
</code></td></tr><tr><td id="L11442" class="css-a4x74f"><span>11442</span></td><td id="LC11442" class="css-1dcdqdg"><code>		    sePoint = nwPoint.add(tileSize),
</code></td></tr><tr><td id="L11443" class="css-a4x74f"><span>11443</span></td><td id="LC11443" class="css-1dcdqdg"><code>		    nw = map.unproject(nwPoint, coords.z),
</code></td></tr><tr><td id="L11444" class="css-a4x74f"><span>11444</span></td><td id="LC11444" class="css-1dcdqdg"><code>		    se = map.unproject(sePoint, coords.z);
</code></td></tr><tr><td id="L11445" class="css-a4x74f"><span>11445</span></td><td id="LC11445" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> [nw, se];
</code></td></tr><tr><td id="L11446" class="css-a4x74f"><span>11446</span></td><td id="LC11446" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11447" class="css-a4x74f"><span>11447</span></td><td id="LC11447" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11448" class="css-a4x74f"><span>11448</span></td><td id="LC11448" class="css-1dcdqdg"><code>	<span class="code-comment">// converts tile coordinates to its geographical bounds</span>
</code></td></tr><tr><td id="L11449" class="css-a4x74f"><span>11449</span></td><td id="LC11449" class="css-1dcdqdg"><code>	_tileCoordsToBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11450" class="css-a4x74f"><span>11450</span></td><td id="LC11450" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bp = <span class="code-keyword">this</span>._tileCoordsToNwSe(coords),
</code></td></tr><tr><td id="L11451" class="css-a4x74f"><span>11451</span></td><td id="LC11451" class="css-1dcdqdg"><code>		    bounds = <span class="code-keyword">new</span> LatLngBounds(bp[<span class="code-number">0</span>], bp[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L11452" class="css-a4x74f"><span>11452</span></td><td id="LC11452" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11453" class="css-a4x74f"><span>11453</span></td><td id="LC11453" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.options.noWrap) {
</code></td></tr><tr><td id="L11454" class="css-a4x74f"><span>11454</span></td><td id="LC11454" class="css-1dcdqdg"><code>			bounds = <span class="code-keyword">this</span>._map.wrapLatLngBounds(bounds);
</code></td></tr><tr><td id="L11455" class="css-a4x74f"><span>11455</span></td><td id="LC11455" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11456" class="css-a4x74f"><span>11456</span></td><td id="LC11456" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> bounds;
</code></td></tr><tr><td id="L11457" class="css-a4x74f"><span>11457</span></td><td id="LC11457" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11458" class="css-a4x74f"><span>11458</span></td><td id="LC11458" class="css-1dcdqdg"><code>	<span class="code-comment">// converts tile coordinates to key for the tile cache</span>
</code></td></tr><tr><td id="L11459" class="css-a4x74f"><span>11459</span></td><td id="LC11459" class="css-1dcdqdg"><code>	_tileCoordsToKey: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11460" class="css-a4x74f"><span>11460</span></td><td id="LC11460" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> coords.x + <span class="code-string">':'</span> + coords.y + <span class="code-string">':'</span> + coords.z;
</code></td></tr><tr><td id="L11461" class="css-a4x74f"><span>11461</span></td><td id="LC11461" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11462" class="css-a4x74f"><span>11462</span></td><td id="LC11462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11463" class="css-a4x74f"><span>11463</span></td><td id="LC11463" class="css-1dcdqdg"><code>	<span class="code-comment">// converts tile cache key to coordinates</span>
</code></td></tr><tr><td id="L11464" class="css-a4x74f"><span>11464</span></td><td id="LC11464" class="css-1dcdqdg"><code>	_keyToTileCoords: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L11465" class="css-a4x74f"><span>11465</span></td><td id="LC11465" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> k = key.split(<span class="code-string">':'</span>),
</code></td></tr><tr><td id="L11466" class="css-a4x74f"><span>11466</span></td><td id="LC11466" class="css-1dcdqdg"><code>		    coords = <span class="code-keyword">new</span> Point(+k[<span class="code-number">0</span>], +k[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L11467" class="css-a4x74f"><span>11467</span></td><td id="LC11467" class="css-1dcdqdg"><code>		coords.z = +k[<span class="code-number">2</span>];
</code></td></tr><tr><td id="L11468" class="css-a4x74f"><span>11468</span></td><td id="LC11468" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> coords;
</code></td></tr><tr><td id="L11469" class="css-a4x74f"><span>11469</span></td><td id="LC11469" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11470" class="css-a4x74f"><span>11470</span></td><td id="LC11470" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11471" class="css-a4x74f"><span>11471</span></td><td id="LC11471" class="css-1dcdqdg"><code>	_removeTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L11472" class="css-a4x74f"><span>11472</span></td><td id="LC11472" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11473" class="css-a4x74f"><span>11473</span></td><td id="LC11473" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!tile) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11474" class="css-a4x74f"><span>11474</span></td><td id="LC11474" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11475" class="css-a4x74f"><span>11475</span></td><td id="LC11475" class="css-1dcdqdg"><code>		remove(tile.el);
</code></td></tr><tr><td id="L11476" class="css-a4x74f"><span>11476</span></td><td id="LC11476" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11477" class="css-a4x74f"><span>11477</span></td><td id="LC11477" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11478" class="css-a4x74f"><span>11478</span></td><td id="LC11478" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11479" class="css-a4x74f"><span>11479</span></td><td id="LC11479" class="css-1dcdqdg"><code>		<span class="code-comment">// @event tileunload: TileEvent</span>
</code></td></tr><tr><td id="L11480" class="css-a4x74f"><span>11480</span></td><td id="LC11480" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a tile is removed (e.g. when a tile goes off the screen).</span>
</code></td></tr><tr><td id="L11481" class="css-a4x74f"><span>11481</span></td><td id="LC11481" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'tileunload'</span>, {
</code></td></tr><tr><td id="L11482" class="css-a4x74f"><span>11482</span></td><td id="LC11482" class="css-1dcdqdg"><code>			tile: tile.el,
</code></td></tr><tr><td id="L11483" class="css-a4x74f"><span>11483</span></td><td id="LC11483" class="css-1dcdqdg"><code>			coords: <span class="code-keyword">this</span>._keyToTileCoords(key)
</code></td></tr><tr><td id="L11484" class="css-a4x74f"><span>11484</span></td><td id="LC11484" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L11485" class="css-a4x74f"><span>11485</span></td><td id="LC11485" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11486" class="css-a4x74f"><span>11486</span></td><td id="LC11486" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11487" class="css-a4x74f"><span>11487</span></td><td id="LC11487" class="css-1dcdqdg"><code>	_initTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">tile</span>) </span>{
</code></td></tr><tr><td id="L11488" class="css-a4x74f"><span>11488</span></td><td id="LC11488" class="css-1dcdqdg"><code>		addClass(tile, <span class="code-string">'leaflet-tile'</span>);
</code></td></tr><tr><td id="L11489" class="css-a4x74f"><span>11489</span></td><td id="LC11489" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11490" class="css-a4x74f"><span>11490</span></td><td id="LC11490" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileSize = <span class="code-keyword">this</span>.getTileSize();
</code></td></tr><tr><td id="L11491" class="css-a4x74f"><span>11491</span></td><td id="LC11491" class="css-1dcdqdg"><code>		tile.style.width = tileSize.x + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L11492" class="css-a4x74f"><span>11492</span></td><td id="LC11492" class="css-1dcdqdg"><code>		tile.style.height = tileSize.y + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L11493" class="css-a4x74f"><span>11493</span></td><td id="LC11493" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11494" class="css-a4x74f"><span>11494</span></td><td id="LC11494" class="css-1dcdqdg"><code>		tile.onselectstart = falseFn;
</code></td></tr><tr><td id="L11495" class="css-a4x74f"><span>11495</span></td><td id="LC11495" class="css-1dcdqdg"><code>		tile.onmousemove = falseFn;
</code></td></tr><tr><td id="L11496" class="css-a4x74f"><span>11496</span></td><td id="LC11496" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11497" class="css-a4x74f"><span>11497</span></td><td id="LC11497" class="css-1dcdqdg"><code>		<span class="code-comment">// update opacity on tiles in IE7-8 because of filter inheritance problems</span>
</code></td></tr><tr><td id="L11498" class="css-a4x74f"><span>11498</span></td><td id="LC11498" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.ielt9 &amp;&amp; <span class="code-keyword">this</span>.options.opacity &lt; <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L11499" class="css-a4x74f"><span>11499</span></td><td id="LC11499" class="css-1dcdqdg"><code>			setOpacity(tile, <span class="code-keyword">this</span>.options.opacity);
</code></td></tr><tr><td id="L11500" class="css-a4x74f"><span>11500</span></td><td id="LC11500" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11501" class="css-a4x74f"><span>11501</span></td><td id="LC11501" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11502" class="css-a4x74f"><span>11502</span></td><td id="LC11502" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11503" class="css-a4x74f"><span>11503</span></td><td id="LC11503" class="css-1dcdqdg"><code>	_addTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords, container</span>) </span>{
</code></td></tr><tr><td id="L11504" class="css-a4x74f"><span>11504</span></td><td id="LC11504" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tilePos = <span class="code-keyword">this</span>._getTilePos(coords),
</code></td></tr><tr><td id="L11505" class="css-a4x74f"><span>11505</span></td><td id="LC11505" class="css-1dcdqdg"><code>		    key = <span class="code-keyword">this</span>._tileCoordsToKey(coords);
</code></td></tr><tr><td id="L11506" class="css-a4x74f"><span>11506</span></td><td id="LC11506" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11507" class="css-a4x74f"><span>11507</span></td><td id="LC11507" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tile = <span class="code-keyword">this</span>.createTile(<span class="code-keyword">this</span>._wrapCoords(coords), bind(<span class="code-keyword">this</span>._tileReady, <span class="code-keyword">this</span>, coords));
</code></td></tr><tr><td id="L11508" class="css-a4x74f"><span>11508</span></td><td id="LC11508" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11509" class="css-a4x74f"><span>11509</span></td><td id="LC11509" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initTile(tile);
</code></td></tr><tr><td id="L11510" class="css-a4x74f"><span>11510</span></td><td id="LC11510" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11511" class="css-a4x74f"><span>11511</span></td><td id="LC11511" class="css-1dcdqdg"><code>		<span class="code-comment">// if createTile is defined with a second argument ("done" callback),</span>
</code></td></tr><tr><td id="L11512" class="css-a4x74f"><span>11512</span></td><td id="LC11512" class="css-1dcdqdg"><code>		<span class="code-comment">// we know that tile is async and will be ready later; otherwise</span>
</code></td></tr><tr><td id="L11513" class="css-a4x74f"><span>11513</span></td><td id="LC11513" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.createTile.length &lt; <span class="code-number">2</span>) {
</code></td></tr><tr><td id="L11514" class="css-a4x74f"><span>11514</span></td><td id="LC11514" class="css-1dcdqdg"><code>			<span class="code-comment">// mark tile as ready, but delay one frame for opacity animation to happen</span>
</code></td></tr><tr><td id="L11515" class="css-a4x74f"><span>11515</span></td><td id="LC11515" class="css-1dcdqdg"><code>			requestAnimFrame(bind(<span class="code-keyword">this</span>._tileReady, <span class="code-keyword">this</span>, coords, <span class="code-literal">null</span>, tile));
</code></td></tr><tr><td id="L11516" class="css-a4x74f"><span>11516</span></td><td id="LC11516" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11517" class="css-a4x74f"><span>11517</span></td><td id="LC11517" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11518" class="css-a4x74f"><span>11518</span></td><td id="LC11518" class="css-1dcdqdg"><code>		setPosition(tile, tilePos);
</code></td></tr><tr><td id="L11519" class="css-a4x74f"><span>11519</span></td><td id="LC11519" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11520" class="css-a4x74f"><span>11520</span></td><td id="LC11520" class="css-1dcdqdg"><code>		<span class="code-comment">// save tile in cache</span>
</code></td></tr><tr><td id="L11521" class="css-a4x74f"><span>11521</span></td><td id="LC11521" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._tiles[key] = {
</code></td></tr><tr><td id="L11522" class="css-a4x74f"><span>11522</span></td><td id="LC11522" class="css-1dcdqdg"><code>			el: tile,
</code></td></tr><tr><td id="L11523" class="css-a4x74f"><span>11523</span></td><td id="LC11523" class="css-1dcdqdg"><code>			coords: coords,
</code></td></tr><tr><td id="L11524" class="css-a4x74f"><span>11524</span></td><td id="LC11524" class="css-1dcdqdg"><code>			current: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L11525" class="css-a4x74f"><span>11525</span></td><td id="LC11525" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L11526" class="css-a4x74f"><span>11526</span></td><td id="LC11526" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11527" class="css-a4x74f"><span>11527</span></td><td id="LC11527" class="css-1dcdqdg"><code>		container.appendChild(tile);
</code></td></tr><tr><td id="L11528" class="css-a4x74f"><span>11528</span></td><td id="LC11528" class="css-1dcdqdg"><code>		<span class="code-comment">// @event tileloadstart: TileEvent</span>
</code></td></tr><tr><td id="L11529" class="css-a4x74f"><span>11529</span></td><td id="LC11529" class="css-1dcdqdg"><code>		<span class="code-comment">// Fired when a tile is requested and starts loading.</span>
</code></td></tr><tr><td id="L11530" class="css-a4x74f"><span>11530</span></td><td id="LC11530" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'tileloadstart'</span>, {
</code></td></tr><tr><td id="L11531" class="css-a4x74f"><span>11531</span></td><td id="LC11531" class="css-1dcdqdg"><code>			tile: tile,
</code></td></tr><tr><td id="L11532" class="css-a4x74f"><span>11532</span></td><td id="LC11532" class="css-1dcdqdg"><code>			coords: coords
</code></td></tr><tr><td id="L11533" class="css-a4x74f"><span>11533</span></td><td id="LC11533" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L11534" class="css-a4x74f"><span>11534</span></td><td id="LC11534" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11535" class="css-a4x74f"><span>11535</span></td><td id="LC11535" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11536" class="css-a4x74f"><span>11536</span></td><td id="LC11536" class="css-1dcdqdg"><code>	_tileReady: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords, err, tile</span>) </span>{
</code></td></tr><tr><td id="L11537" class="css-a4x74f"><span>11537</span></td><td id="LC11537" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (err) {
</code></td></tr><tr><td id="L11538" class="css-a4x74f"><span>11538</span></td><td id="LC11538" class="css-1dcdqdg"><code>			<span class="code-comment">// @event tileerror: TileErrorEvent</span>
</code></td></tr><tr><td id="L11539" class="css-a4x74f"><span>11539</span></td><td id="LC11539" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when there is an error loading a tile.</span>
</code></td></tr><tr><td id="L11540" class="css-a4x74f"><span>11540</span></td><td id="LC11540" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'tileerror'</span>, {
</code></td></tr><tr><td id="L11541" class="css-a4x74f"><span>11541</span></td><td id="LC11541" class="css-1dcdqdg"><code>				error: err,
</code></td></tr><tr><td id="L11542" class="css-a4x74f"><span>11542</span></td><td id="LC11542" class="css-1dcdqdg"><code>				tile: tile,
</code></td></tr><tr><td id="L11543" class="css-a4x74f"><span>11543</span></td><td id="LC11543" class="css-1dcdqdg"><code>				coords: coords
</code></td></tr><tr><td id="L11544" class="css-a4x74f"><span>11544</span></td><td id="LC11544" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L11545" class="css-a4x74f"><span>11545</span></td><td id="LC11545" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11546" class="css-a4x74f"><span>11546</span></td><td id="LC11546" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11547" class="css-a4x74f"><span>11547</span></td><td id="LC11547" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> key = <span class="code-keyword">this</span>._tileCoordsToKey(coords);
</code></td></tr><tr><td id="L11548" class="css-a4x74f"><span>11548</span></td><td id="LC11548" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11549" class="css-a4x74f"><span>11549</span></td><td id="LC11549" class="css-1dcdqdg"><code>		tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11550" class="css-a4x74f"><span>11550</span></td><td id="LC11550" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!tile) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11551" class="css-a4x74f"><span>11551</span></td><td id="LC11551" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11552" class="css-a4x74f"><span>11552</span></td><td id="LC11552" class="css-1dcdqdg"><code>		tile.loaded = +<span class="code-keyword">new</span> <span class="code-built_in">Date</span>();
</code></td></tr><tr><td id="L11553" class="css-a4x74f"><span>11553</span></td><td id="LC11553" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map._fadeAnimated) {
</code></td></tr><tr><td id="L11554" class="css-a4x74f"><span>11554</span></td><td id="LC11554" class="css-1dcdqdg"><code>			setOpacity(tile.el, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L11555" class="css-a4x74f"><span>11555</span></td><td id="LC11555" class="css-1dcdqdg"><code>			cancelAnimFrame(<span class="code-keyword">this</span>._fadeFrame);
</code></td></tr><tr><td id="L11556" class="css-a4x74f"><span>11556</span></td><td id="LC11556" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._fadeFrame = requestAnimFrame(<span class="code-keyword">this</span>._updateOpacity, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L11557" class="css-a4x74f"><span>11557</span></td><td id="LC11557" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11558" class="css-a4x74f"><span>11558</span></td><td id="LC11558" class="css-1dcdqdg"><code>			tile.active = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11559" class="css-a4x74f"><span>11559</span></td><td id="LC11559" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._pruneTiles();
</code></td></tr><tr><td id="L11560" class="css-a4x74f"><span>11560</span></td><td id="LC11560" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11561" class="css-a4x74f"><span>11561</span></td><td id="LC11561" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11562" class="css-a4x74f"><span>11562</span></td><td id="LC11562" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!err) {
</code></td></tr><tr><td id="L11563" class="css-a4x74f"><span>11563</span></td><td id="LC11563" class="css-1dcdqdg"><code>			addClass(tile.el, <span class="code-string">'leaflet-tile-loaded'</span>);
</code></td></tr><tr><td id="L11564" class="css-a4x74f"><span>11564</span></td><td id="LC11564" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11565" class="css-a4x74f"><span>11565</span></td><td id="LC11565" class="css-1dcdqdg"><code>			<span class="code-comment">// @event tileload: TileEvent</span>
</code></td></tr><tr><td id="L11566" class="css-a4x74f"><span>11566</span></td><td id="LC11566" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when a tile loads.</span>
</code></td></tr><tr><td id="L11567" class="css-a4x74f"><span>11567</span></td><td id="LC11567" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'tileload'</span>, {
</code></td></tr><tr><td id="L11568" class="css-a4x74f"><span>11568</span></td><td id="LC11568" class="css-1dcdqdg"><code>				tile: tile.el,
</code></td></tr><tr><td id="L11569" class="css-a4x74f"><span>11569</span></td><td id="LC11569" class="css-1dcdqdg"><code>				coords: coords
</code></td></tr><tr><td id="L11570" class="css-a4x74f"><span>11570</span></td><td id="LC11570" class="css-1dcdqdg"><code>			});
</code></td></tr><tr><td id="L11571" class="css-a4x74f"><span>11571</span></td><td id="LC11571" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11572" class="css-a4x74f"><span>11572</span></td><td id="LC11572" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11573" class="css-a4x74f"><span>11573</span></td><td id="LC11573" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._noTilesToLoad()) {
</code></td></tr><tr><td id="L11574" class="css-a4x74f"><span>11574</span></td><td id="LC11574" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._loading = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L11575" class="css-a4x74f"><span>11575</span></td><td id="LC11575" class="css-1dcdqdg"><code>			<span class="code-comment">// @event load: Event</span>
</code></td></tr><tr><td id="L11576" class="css-a4x74f"><span>11576</span></td><td id="LC11576" class="css-1dcdqdg"><code>			<span class="code-comment">// Fired when the grid layer loaded all visible tiles.</span>
</code></td></tr><tr><td id="L11577" class="css-a4x74f"><span>11577</span></td><td id="LC11577" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.fire(<span class="code-string">'load'</span>);
</code></td></tr><tr><td id="L11578" class="css-a4x74f"><span>11578</span></td><td id="LC11578" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11579" class="css-a4x74f"><span>11579</span></td><td id="LC11579" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (Browser.ielt9 || !<span class="code-keyword">this</span>._map._fadeAnimated) {
</code></td></tr><tr><td id="L11580" class="css-a4x74f"><span>11580</span></td><td id="LC11580" class="css-1dcdqdg"><code>				requestAnimFrame(<span class="code-keyword">this</span>._pruneTiles, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L11581" class="css-a4x74f"><span>11581</span></td><td id="LC11581" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11582" class="css-a4x74f"><span>11582</span></td><td id="LC11582" class="css-1dcdqdg"><code>				<span class="code-comment">// Wait a bit more than 0.2 secs (the duration of the tile fade-in)</span>
</code></td></tr><tr><td id="L11583" class="css-a4x74f"><span>11583</span></td><td id="LC11583" class="css-1dcdqdg"><code>				<span class="code-comment">// to trigger a pruning.</span>
</code></td></tr><tr><td id="L11584" class="css-a4x74f"><span>11584</span></td><td id="LC11584" class="css-1dcdqdg"><code>				setTimeout(bind(<span class="code-keyword">this</span>._pruneTiles, <span class="code-keyword">this</span>), <span class="code-number">250</span>);
</code></td></tr><tr><td id="L11585" class="css-a4x74f"><span>11585</span></td><td id="LC11585" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11586" class="css-a4x74f"><span>11586</span></td><td id="LC11586" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11587" class="css-a4x74f"><span>11587</span></td><td id="LC11587" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11588" class="css-a4x74f"><span>11588</span></td><td id="LC11588" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11589" class="css-a4x74f"><span>11589</span></td><td id="LC11589" class="css-1dcdqdg"><code>	_getTilePos: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11590" class="css-a4x74f"><span>11590</span></td><td id="LC11590" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> coords.scaleBy(<span class="code-keyword">this</span>.getTileSize()).subtract(<span class="code-keyword">this</span>._level.origin);
</code></td></tr><tr><td id="L11591" class="css-a4x74f"><span>11591</span></td><td id="LC11591" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11592" class="css-a4x74f"><span>11592</span></td><td id="LC11592" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11593" class="css-a4x74f"><span>11593</span></td><td id="LC11593" class="css-1dcdqdg"><code>	_wrapCoords: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11594" class="css-a4x74f"><span>11594</span></td><td id="LC11594" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> newCoords = <span class="code-keyword">new</span> Point(
</code></td></tr><tr><td id="L11595" class="css-a4x74f"><span>11595</span></td><td id="LC11595" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._wrapX ? wrapNum(coords.x, <span class="code-keyword">this</span>._wrapX) : coords.x,
</code></td></tr><tr><td id="L11596" class="css-a4x74f"><span>11596</span></td><td id="LC11596" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._wrapY ? wrapNum(coords.y, <span class="code-keyword">this</span>._wrapY) : coords.y);
</code></td></tr><tr><td id="L11597" class="css-a4x74f"><span>11597</span></td><td id="LC11597" class="css-1dcdqdg"><code>		newCoords.z = coords.z;
</code></td></tr><tr><td id="L11598" class="css-a4x74f"><span>11598</span></td><td id="LC11598" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> newCoords;
</code></td></tr><tr><td id="L11599" class="css-a4x74f"><span>11599</span></td><td id="LC11599" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11600" class="css-a4x74f"><span>11600</span></td><td id="LC11600" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11601" class="css-a4x74f"><span>11601</span></td><td id="LC11601" class="css-1dcdqdg"><code>	_pxBoundsToTileRange: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">bounds</span>) </span>{
</code></td></tr><tr><td id="L11602" class="css-a4x74f"><span>11602</span></td><td id="LC11602" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileSize = <span class="code-keyword">this</span>.getTileSize();
</code></td></tr><tr><td id="L11603" class="css-a4x74f"><span>11603</span></td><td id="LC11603" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">new</span> Bounds(
</code></td></tr><tr><td id="L11604" class="css-a4x74f"><span>11604</span></td><td id="LC11604" class="css-1dcdqdg"><code>			bounds.min.unscaleBy(tileSize).floor(),
</code></td></tr><tr><td id="L11605" class="css-a4x74f"><span>11605</span></td><td id="LC11605" class="css-1dcdqdg"><code>			bounds.max.unscaleBy(tileSize).ceil().subtract([<span class="code-number">1</span>, <span class="code-number">1</span>]));
</code></td></tr><tr><td id="L11606" class="css-a4x74f"><span>11606</span></td><td id="LC11606" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11607" class="css-a4x74f"><span>11607</span></td><td id="LC11607" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11608" class="css-a4x74f"><span>11608</span></td><td id="LC11608" class="css-1dcdqdg"><code>	_noTilesToLoad: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11609" class="css-a4x74f"><span>11609</span></td><td id="LC11609" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11610" class="css-a4x74f"><span>11610</span></td><td id="LC11610" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._tiles[key].loaded) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L11611" class="css-a4x74f"><span>11611</span></td><td id="LC11611" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11612" class="css-a4x74f"><span>11612</span></td><td id="LC11612" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11613" class="css-a4x74f"><span>11613</span></td><td id="LC11613" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L11614" class="css-a4x74f"><span>11614</span></td><td id="LC11614" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L11615" class="css-a4x74f"><span>11615</span></td><td id="LC11615" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11616" class="css-a4x74f"><span>11616</span></td><td id="LC11616" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.gridLayer(options?: GridLayer options)</span>
</code></td></tr><tr><td id="L11617" class="css-a4x74f"><span>11617</span></td><td id="LC11617" class="css-1dcdqdg"><code><span class="code-comment">// Creates a new instance of GridLayer with the supplied options.</span>
</code></td></tr><tr><td id="L11618" class="css-a4x74f"><span>11618</span></td><td id="LC11618" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gridLayer</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L11619" class="css-a4x74f"><span>11619</span></td><td id="LC11619" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> GridLayer(options);
</code></td></tr><tr><td id="L11620" class="css-a4x74f"><span>11620</span></td><td id="LC11620" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L11621" class="css-a4x74f"><span>11621</span></td><td id="LC11621" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11622" class="css-a4x74f"><span>11622</span></td><td id="LC11622" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L11623" class="css-a4x74f"><span>11623</span></td><td id="LC11623" class="css-1dcdqdg"><code><span class="code-comment"> * @class TileLayer
</span></code></td></tr><tr><td id="L11624" class="css-a4x74f"><span>11624</span></td><td id="LC11624" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits GridLayer
</span></code></td></tr><tr><td id="L11625" class="css-a4x74f"><span>11625</span></td><td id="LC11625" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.TileLayer
</span></code></td></tr><tr><td id="L11626" class="css-a4x74f"><span>11626</span></td><td id="LC11626" class="css-1dcdqdg"><code><span class="code-comment"> * Used to load and display tile layers on the map. Note that most tile servers require attribution, which you can set under `Layer`. Extends `GridLayer`.
</span></code></td></tr><tr><td id="L11627" class="css-a4x74f"><span>11627</span></td><td id="LC11627" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11628" class="css-a4x74f"><span>11628</span></td><td id="LC11628" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L11629" class="css-a4x74f"><span>11629</span></td><td id="LC11629" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11630" class="css-a4x74f"><span>11630</span></td><td id="LC11630" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L11631" class="css-a4x74f"><span>11631</span></td><td id="LC11631" class="css-1dcdqdg"><code><span class="code-comment"> * L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar', attribution: '&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors'}).addTo(map);
</span></code></td></tr><tr><td id="L11632" class="css-a4x74f"><span>11632</span></td><td id="LC11632" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L11633" class="css-a4x74f"><span>11633</span></td><td id="LC11633" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11634" class="css-a4x74f"><span>11634</span></td><td id="LC11634" class="css-1dcdqdg"><code><span class="code-comment"> * @section URL template
</span></code></td></tr><tr><td id="L11635" class="css-a4x74f"><span>11635</span></td><td id="LC11635" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L11636" class="css-a4x74f"><span>11636</span></td><td id="LC11636" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11637" class="css-a4x74f"><span>11637</span></td><td id="LC11637" class="css-1dcdqdg"><code><span class="code-comment"> * A string of the following form:
</span></code></td></tr><tr><td id="L11638" class="css-a4x74f"><span>11638</span></td><td id="LC11638" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11639" class="css-a4x74f"><span>11639</span></td><td id="LC11639" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L11640" class="css-a4x74f"><span>11640</span></td><td id="LC11640" class="css-1dcdqdg"><code><span class="code-comment"> * 'https://{s}.somedomain.com/blabla/{z}/{x}/{y}{r}.png'
</span></code></td></tr><tr><td id="L11641" class="css-a4x74f"><span>11641</span></td><td id="LC11641" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L11642" class="css-a4x74f"><span>11642</span></td><td id="LC11642" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11643" class="css-a4x74f"><span>11643</span></td><td id="LC11643" class="css-1dcdqdg"><code><span class="code-comment"> * `{s}` means one of the available subdomains (used sequentially to help with browser parallel requests per domain limitation; subdomain values are specified in options; `a`, `b` or `c` by default, can be omitted), `{z}`  zoom level, `{x}` and `{y}`  tile coordinates. `{r}` can be used to add "&amp;commat;2x" to the URL to load retina tiles.
</span></code></td></tr><tr><td id="L11644" class="css-a4x74f"><span>11644</span></td><td id="LC11644" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11645" class="css-a4x74f"><span>11645</span></td><td id="LC11645" class="css-1dcdqdg"><code><span class="code-comment"> * You can use custom keys in the template, which will be [evaluated](#util-template) from TileLayer options, like this:
</span></code></td></tr><tr><td id="L11646" class="css-a4x74f"><span>11646</span></td><td id="LC11646" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11647" class="css-a4x74f"><span>11647</span></td><td id="LC11647" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L11648" class="css-a4x74f"><span>11648</span></td><td id="LC11648" class="css-1dcdqdg"><code><span class="code-comment"> * L.tileLayer('https://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png', {foo: 'bar'});
</span></code></td></tr><tr><td id="L11649" class="css-a4x74f"><span>11649</span></td><td id="LC11649" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L11650" class="css-a4x74f"><span>11650</span></td><td id="LC11650" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L11651" class="css-a4x74f"><span>11651</span></td><td id="LC11651" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11652" class="css-a4x74f"><span>11652</span></td><td id="LC11652" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11653" class="css-a4x74f"><span>11653</span></td><td id="LC11653" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TileLayer = GridLayer.extend({
</code></td></tr><tr><td id="L11654" class="css-a4x74f"><span>11654</span></td><td id="LC11654" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11655" class="css-a4x74f"><span>11655</span></td><td id="LC11655" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L11656" class="css-a4x74f"><span>11656</span></td><td id="LC11656" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka TileLayer options</span>
</code></td></tr><tr><td id="L11657" class="css-a4x74f"><span>11657</span></td><td id="LC11657" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L11658" class="css-a4x74f"><span>11658</span></td><td id="LC11658" class="css-1dcdqdg"><code>		<span class="code-comment">// @option minZoom: Number = 0</span>
</code></td></tr><tr><td id="L11659" class="css-a4x74f"><span>11659</span></td><td id="LC11659" class="css-1dcdqdg"><code>		<span class="code-comment">// The minimum zoom level down to which this layer will be displayed (inclusive).</span>
</code></td></tr><tr><td id="L11660" class="css-a4x74f"><span>11660</span></td><td id="LC11660" class="css-1dcdqdg"><code>		minZoom: <span class="code-number">0</span>,
</code></td></tr><tr><td id="L11661" class="css-a4x74f"><span>11661</span></td><td id="LC11661" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11662" class="css-a4x74f"><span>11662</span></td><td id="LC11662" class="css-1dcdqdg"><code>		<span class="code-comment">// @option maxZoom: Number = 18</span>
</code></td></tr><tr><td id="L11663" class="css-a4x74f"><span>11663</span></td><td id="LC11663" class="css-1dcdqdg"><code>		<span class="code-comment">// The maximum zoom level up to which this layer will be displayed (inclusive).</span>
</code></td></tr><tr><td id="L11664" class="css-a4x74f"><span>11664</span></td><td id="LC11664" class="css-1dcdqdg"><code>		maxZoom: <span class="code-number">18</span>,
</code></td></tr><tr><td id="L11665" class="css-a4x74f"><span>11665</span></td><td id="LC11665" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11666" class="css-a4x74f"><span>11666</span></td><td id="LC11666" class="css-1dcdqdg"><code>		<span class="code-comment">// @option subdomains: String|String[] = 'abc'</span>
</code></td></tr><tr><td id="L11667" class="css-a4x74f"><span>11667</span></td><td id="LC11667" class="css-1dcdqdg"><code>		<span class="code-comment">// Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.</span>
</code></td></tr><tr><td id="L11668" class="css-a4x74f"><span>11668</span></td><td id="LC11668" class="css-1dcdqdg"><code>		subdomains: <span class="code-string">'abc'</span>,
</code></td></tr><tr><td id="L11669" class="css-a4x74f"><span>11669</span></td><td id="LC11669" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11670" class="css-a4x74f"><span>11670</span></td><td id="LC11670" class="css-1dcdqdg"><code>		<span class="code-comment">// @option errorTileUrl: String = ''</span>
</code></td></tr><tr><td id="L11671" class="css-a4x74f"><span>11671</span></td><td id="LC11671" class="css-1dcdqdg"><code>		<span class="code-comment">// URL to the tile image to show in place of the tile that failed to load.</span>
</code></td></tr><tr><td id="L11672" class="css-a4x74f"><span>11672</span></td><td id="LC11672" class="css-1dcdqdg"><code>		errorTileUrl: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L11673" class="css-a4x74f"><span>11673</span></td><td id="LC11673" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11674" class="css-a4x74f"><span>11674</span></td><td id="LC11674" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomOffset: Number = 0</span>
</code></td></tr><tr><td id="L11675" class="css-a4x74f"><span>11675</span></td><td id="LC11675" class="css-1dcdqdg"><code>		<span class="code-comment">// The zoom number used in tile URLs will be offset with this value.</span>
</code></td></tr><tr><td id="L11676" class="css-a4x74f"><span>11676</span></td><td id="LC11676" class="css-1dcdqdg"><code>		zoomOffset: <span class="code-number">0</span>,
</code></td></tr><tr><td id="L11677" class="css-a4x74f"><span>11677</span></td><td id="LC11677" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11678" class="css-a4x74f"><span>11678</span></td><td id="LC11678" class="css-1dcdqdg"><code>		<span class="code-comment">// @option tms: Boolean = false</span>
</code></td></tr><tr><td id="L11679" class="css-a4x74f"><span>11679</span></td><td id="LC11679" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).</span>
</code></td></tr><tr><td id="L11680" class="css-a4x74f"><span>11680</span></td><td id="LC11680" class="css-1dcdqdg"><code>		tms: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L11681" class="css-a4x74f"><span>11681</span></td><td id="LC11681" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11682" class="css-a4x74f"><span>11682</span></td><td id="LC11682" class="css-1dcdqdg"><code>		<span class="code-comment">// @option zoomReverse: Boolean = false</span>
</code></td></tr><tr><td id="L11683" class="css-a4x74f"><span>11683</span></td><td id="LC11683" class="css-1dcdqdg"><code>		<span class="code-comment">// If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)</span>
</code></td></tr><tr><td id="L11684" class="css-a4x74f"><span>11684</span></td><td id="LC11684" class="css-1dcdqdg"><code>		zoomReverse: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L11685" class="css-a4x74f"><span>11685</span></td><td id="LC11685" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11686" class="css-a4x74f"><span>11686</span></td><td id="LC11686" class="css-1dcdqdg"><code>		<span class="code-comment">// @option detectRetina: Boolean = false</span>
</code></td></tr><tr><td id="L11687" class="css-a4x74f"><span>11687</span></td><td id="LC11687" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.</span>
</code></td></tr><tr><td id="L11688" class="css-a4x74f"><span>11688</span></td><td id="LC11688" class="css-1dcdqdg"><code>		detectRetina: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L11689" class="css-a4x74f"><span>11689</span></td><td id="LC11689" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11690" class="css-a4x74f"><span>11690</span></td><td id="LC11690" class="css-1dcdqdg"><code>		<span class="code-comment">// @option crossOrigin: Boolean|String = false</span>
</code></td></tr><tr><td id="L11691" class="css-a4x74f"><span>11691</span></td><td id="LC11691" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the crossOrigin attribute will be added to the tiles.</span>
</code></td></tr><tr><td id="L11692" class="css-a4x74f"><span>11692</span></td><td id="LC11692" class="css-1dcdqdg"><code>		<span class="code-comment">// If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.</span>
</code></td></tr><tr><td id="L11693" class="css-a4x74f"><span>11693</span></td><td id="LC11693" class="css-1dcdqdg"><code>		<span class="code-comment">// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.</span>
</code></td></tr><tr><td id="L11694" class="css-a4x74f"><span>11694</span></td><td id="LC11694" class="css-1dcdqdg"><code>		crossOrigin: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L11695" class="css-a4x74f"><span>11695</span></td><td id="LC11695" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11696" class="css-a4x74f"><span>11696</span></td><td id="LC11696" class="css-1dcdqdg"><code>		<span class="code-comment">// @option referrerPolicy: Boolean|String = false</span>
</code></td></tr><tr><td id="L11697" class="css-a4x74f"><span>11697</span></td><td id="LC11697" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether the referrerPolicy attribute will be added to the tiles.</span>
</code></td></tr><tr><td id="L11698" class="css-a4x74f"><span>11698</span></td><td id="LC11698" class="css-1dcdqdg"><code>		<span class="code-comment">// If a String is provided, all tiles will have their referrerPolicy attribute set to the String provided.</span>
</code></td></tr><tr><td id="L11699" class="css-a4x74f"><span>11699</span></td><td id="LC11699" class="css-1dcdqdg"><code>		<span class="code-comment">// This may be needed if your map's rendering context has a strict default but your tile provider expects a valid referrer</span>
</code></td></tr><tr><td id="L11700" class="css-a4x74f"><span>11700</span></td><td id="LC11700" class="css-1dcdqdg"><code>		<span class="code-comment">// (e.g. to validate an API token).</span>
</code></td></tr><tr><td id="L11701" class="css-a4x74f"><span>11701</span></td><td id="LC11701" class="css-1dcdqdg"><code>		<span class="code-comment">// Refer to [HTMLImageElement.referrerPolicy](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/referrerPolicy) for valid String values.</span>
</code></td></tr><tr><td id="L11702" class="css-a4x74f"><span>11702</span></td><td id="LC11702" class="css-1dcdqdg"><code>		referrerPolicy: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L11703" class="css-a4x74f"><span>11703</span></td><td id="LC11703" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11704" class="css-a4x74f"><span>11704</span></td><td id="LC11704" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11705" class="css-a4x74f"><span>11705</span></td><td id="LC11705" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">url, options</span>) </span>{
</code></td></tr><tr><td id="L11706" class="css-a4x74f"><span>11706</span></td><td id="LC11706" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11707" class="css-a4x74f"><span>11707</span></td><td id="LC11707" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._url = url;
</code></td></tr><tr><td id="L11708" class="css-a4x74f"><span>11708</span></td><td id="LC11708" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11709" class="css-a4x74f"><span>11709</span></td><td id="LC11709" class="css-1dcdqdg"><code>		options = setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L11710" class="css-a4x74f"><span>11710</span></td><td id="LC11710" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11711" class="css-a4x74f"><span>11711</span></td><td id="LC11711" class="css-1dcdqdg"><code>		<span class="code-comment">// detecting retina displays, adjusting tileSize and zoom levels</span>
</code></td></tr><tr><td id="L11712" class="css-a4x74f"><span>11712</span></td><td id="LC11712" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.detectRetina &amp;&amp; Browser.retina &amp;&amp; options.maxZoom &gt; <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L11713" class="css-a4x74f"><span>11713</span></td><td id="LC11713" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11714" class="css-a4x74f"><span>11714</span></td><td id="LC11714" class="css-1dcdqdg"><code>			options.tileSize = <span class="code-built_in">Math</span>.floor(options.tileSize / <span class="code-number">2</span>);
</code></td></tr><tr><td id="L11715" class="css-a4x74f"><span>11715</span></td><td id="LC11715" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11716" class="css-a4x74f"><span>11716</span></td><td id="LC11716" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!options.zoomReverse) {
</code></td></tr><tr><td id="L11717" class="css-a4x74f"><span>11717</span></td><td id="LC11717" class="css-1dcdqdg"><code>				options.zoomOffset++;
</code></td></tr><tr><td id="L11718" class="css-a4x74f"><span>11718</span></td><td id="LC11718" class="css-1dcdqdg"><code>				options.maxZoom--;
</code></td></tr><tr><td id="L11719" class="css-a4x74f"><span>11719</span></td><td id="LC11719" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11720" class="css-a4x74f"><span>11720</span></td><td id="LC11720" class="css-1dcdqdg"><code>				options.zoomOffset--;
</code></td></tr><tr><td id="L11721" class="css-a4x74f"><span>11721</span></td><td id="LC11721" class="css-1dcdqdg"><code>				options.minZoom++;
</code></td></tr><tr><td id="L11722" class="css-a4x74f"><span>11722</span></td><td id="LC11722" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11723" class="css-a4x74f"><span>11723</span></td><td id="LC11723" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11724" class="css-a4x74f"><span>11724</span></td><td id="LC11724" class="css-1dcdqdg"><code>			options.minZoom = <span class="code-built_in">Math</span>.max(<span class="code-number">0</span>, options.minZoom);
</code></td></tr><tr><td id="L11725" class="css-a4x74f"><span>11725</span></td><td id="LC11725" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11726" class="css-a4x74f"><span>11726</span></td><td id="LC11726" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11727" class="css-a4x74f"><span>11727</span></td><td id="LC11727" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> options.subdomains === <span class="code-string">'string'</span>) {
</code></td></tr><tr><td id="L11728" class="css-a4x74f"><span>11728</span></td><td id="LC11728" class="css-1dcdqdg"><code>			options.subdomains = options.subdomains.split(<span class="code-string">''</span>);
</code></td></tr><tr><td id="L11729" class="css-a4x74f"><span>11729</span></td><td id="LC11729" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11730" class="css-a4x74f"><span>11730</span></td><td id="LC11730" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11731" class="css-a4x74f"><span>11731</span></td><td id="LC11731" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.on(<span class="code-string">'tileunload'</span>, <span class="code-keyword">this</span>._onTileRemove);
</code></td></tr><tr><td id="L11732" class="css-a4x74f"><span>11732</span></td><td id="LC11732" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11733" class="css-a4x74f"><span>11733</span></td><td id="LC11733" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11734" class="css-a4x74f"><span>11734</span></td><td id="LC11734" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setUrl(url: String, noRedraw?: Boolean): this</span>
</code></td></tr><tr><td id="L11735" class="css-a4x74f"><span>11735</span></td><td id="LC11735" class="css-1dcdqdg"><code>	<span class="code-comment">// Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).</span>
</code></td></tr><tr><td id="L11736" class="css-a4x74f"><span>11736</span></td><td id="LC11736" class="css-1dcdqdg"><code>	<span class="code-comment">// If the URL does not change, the layer will not be redrawn unless</span>
</code></td></tr><tr><td id="L11737" class="css-a4x74f"><span>11737</span></td><td id="LC11737" class="css-1dcdqdg"><code>	<span class="code-comment">// the noRedraw parameter is set to false.</span>
</code></td></tr><tr><td id="L11738" class="css-a4x74f"><span>11738</span></td><td id="LC11738" class="css-1dcdqdg"><code>	setUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">url, noRedraw</span>) </span>{
</code></td></tr><tr><td id="L11739" class="css-a4x74f"><span>11739</span></td><td id="LC11739" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._url === url &amp;&amp; noRedraw === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L11740" class="css-a4x74f"><span>11740</span></td><td id="LC11740" class="css-1dcdqdg"><code>			noRedraw = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L11741" class="css-a4x74f"><span>11741</span></td><td id="LC11741" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11742" class="css-a4x74f"><span>11742</span></td><td id="LC11742" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11743" class="css-a4x74f"><span>11743</span></td><td id="LC11743" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._url = url;
</code></td></tr><tr><td id="L11744" class="css-a4x74f"><span>11744</span></td><td id="LC11744" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11745" class="css-a4x74f"><span>11745</span></td><td id="LC11745" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!noRedraw) {
</code></td></tr><tr><td id="L11746" class="css-a4x74f"><span>11746</span></td><td id="LC11746" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L11747" class="css-a4x74f"><span>11747</span></td><td id="LC11747" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11748" class="css-a4x74f"><span>11748</span></td><td id="LC11748" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L11749" class="css-a4x74f"><span>11749</span></td><td id="LC11749" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11750" class="css-a4x74f"><span>11750</span></td><td id="LC11750" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11751" class="css-a4x74f"><span>11751</span></td><td id="LC11751" class="css-1dcdqdg"><code>	<span class="code-comment">// @method createTile(coords: Object, done?: Function): HTMLElement</span>
</code></td></tr><tr><td id="L11752" class="css-a4x74f"><span>11752</span></td><td id="LC11752" class="css-1dcdqdg"><code>	<span class="code-comment">// Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)</span>
</code></td></tr><tr><td id="L11753" class="css-a4x74f"><span>11753</span></td><td id="LC11753" class="css-1dcdqdg"><code>	<span class="code-comment">// to return an `&lt;img&gt;` HTML element with the appropriate image URL given `coords`. The `done`</span>
</code></td></tr><tr><td id="L11754" class="css-a4x74f"><span>11754</span></td><td id="LC11754" class="css-1dcdqdg"><code>	<span class="code-comment">// callback is called when the tile has been loaded.</span>
</code></td></tr><tr><td id="L11755" class="css-a4x74f"><span>11755</span></td><td id="LC11755" class="css-1dcdqdg"><code>	createTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords, done</span>) </span>{
</code></td></tr><tr><td id="L11756" class="css-a4x74f"><span>11756</span></td><td id="LC11756" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tile = <span class="code-built_in">document</span>.createElement(<span class="code-string">'img'</span>);
</code></td></tr><tr><td id="L11757" class="css-a4x74f"><span>11757</span></td><td id="LC11757" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11758" class="css-a4x74f"><span>11758</span></td><td id="LC11758" class="css-1dcdqdg"><code>		on(tile, <span class="code-string">'load'</span>, bind(<span class="code-keyword">this</span>._tileOnLoad, <span class="code-keyword">this</span>, done, tile));
</code></td></tr><tr><td id="L11759" class="css-a4x74f"><span>11759</span></td><td id="LC11759" class="css-1dcdqdg"><code>		on(tile, <span class="code-string">'error'</span>, bind(<span class="code-keyword">this</span>._tileOnError, <span class="code-keyword">this</span>, done, tile));
</code></td></tr><tr><td id="L11760" class="css-a4x74f"><span>11760</span></td><td id="LC11760" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11761" class="css-a4x74f"><span>11761</span></td><td id="LC11761" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.crossOrigin || <span class="code-keyword">this</span>.options.crossOrigin === <span class="code-string">''</span>) {
</code></td></tr><tr><td id="L11762" class="css-a4x74f"><span>11762</span></td><td id="LC11762" class="css-1dcdqdg"><code>			tile.crossOrigin = <span class="code-keyword">this</span>.options.crossOrigin === <span class="code-literal">true</span> ? <span class="code-string">''</span> : <span class="code-keyword">this</span>.options.crossOrigin;
</code></td></tr><tr><td id="L11763" class="css-a4x74f"><span>11763</span></td><td id="LC11763" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11764" class="css-a4x74f"><span>11764</span></td><td id="LC11764" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11765" class="css-a4x74f"><span>11765</span></td><td id="LC11765" class="css-1dcdqdg"><code>		<span class="code-comment">// for this new option we follow the documented behavior</span>
</code></td></tr><tr><td id="L11766" class="css-a4x74f"><span>11766</span></td><td id="LC11766" class="css-1dcdqdg"><code>		<span class="code-comment">// more closely by only setting the property when string</span>
</code></td></tr><tr><td id="L11767" class="css-a4x74f"><span>11767</span></td><td id="LC11767" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options.referrerPolicy === <span class="code-string">'string'</span>) {
</code></td></tr><tr><td id="L11768" class="css-a4x74f"><span>11768</span></td><td id="LC11768" class="css-1dcdqdg"><code>			tile.referrerPolicy = <span class="code-keyword">this</span>.options.referrerPolicy;
</code></td></tr><tr><td id="L11769" class="css-a4x74f"><span>11769</span></td><td id="LC11769" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11770" class="css-a4x74f"><span>11770</span></td><td id="LC11770" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11771" class="css-a4x74f"><span>11771</span></td><td id="LC11771" class="css-1dcdqdg"><code>		<span class="code-comment">/*
</span></code></td></tr><tr><td id="L11772" class="css-a4x74f"><span>11772</span></td><td id="LC11772" class="css-1dcdqdg"><code><span class="code-comment">		 Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons
</span></code></td></tr><tr><td id="L11773" class="css-a4x74f"><span>11773</span></td><td id="LC11773" class="css-1dcdqdg"><code><span class="code-comment">		 https://www.w3.org/TR/WCAG20-TECHS/H67
</span></code></td></tr><tr><td id="L11774" class="css-a4x74f"><span>11774</span></td><td id="LC11774" class="css-1dcdqdg"><code><span class="code-comment">		*/</span>
</code></td></tr><tr><td id="L11775" class="css-a4x74f"><span>11775</span></td><td id="LC11775" class="css-1dcdqdg"><code>		tile.alt = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L11776" class="css-a4x74f"><span>11776</span></td><td id="LC11776" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11777" class="css-a4x74f"><span>11777</span></td><td id="LC11777" class="css-1dcdqdg"><code>		<span class="code-comment">/*
</span></code></td></tr><tr><td id="L11778" class="css-a4x74f"><span>11778</span></td><td id="LC11778" class="css-1dcdqdg"><code><span class="code-comment">		 Set role="presentation" to force screen readers to ignore this
</span></code></td></tr><tr><td id="L11779" class="css-a4x74f"><span>11779</span></td><td id="LC11779" class="css-1dcdqdg"><code><span class="code-comment">		 https://www.w3.org/TR/wai-aria/roles#textalternativecomputation
</span></code></td></tr><tr><td id="L11780" class="css-a4x74f"><span>11780</span></td><td id="LC11780" class="css-1dcdqdg"><code><span class="code-comment">		*/</span>
</code></td></tr><tr><td id="L11781" class="css-a4x74f"><span>11781</span></td><td id="LC11781" class="css-1dcdqdg"><code>		tile.setAttribute(<span class="code-string">'role'</span>, <span class="code-string">'presentation'</span>);
</code></td></tr><tr><td id="L11782" class="css-a4x74f"><span>11782</span></td><td id="LC11782" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11783" class="css-a4x74f"><span>11783</span></td><td id="LC11783" class="css-1dcdqdg"><code>		tile.src = <span class="code-keyword">this</span>.getTileUrl(coords);
</code></td></tr><tr><td id="L11784" class="css-a4x74f"><span>11784</span></td><td id="LC11784" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11785" class="css-a4x74f"><span>11785</span></td><td id="LC11785" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> tile;
</code></td></tr><tr><td id="L11786" class="css-a4x74f"><span>11786</span></td><td id="LC11786" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11787" class="css-a4x74f"><span>11787</span></td><td id="LC11787" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11788" class="css-a4x74f"><span>11788</span></td><td id="LC11788" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Extension methods</span>
</code></td></tr><tr><td id="L11789" class="css-a4x74f"><span>11789</span></td><td id="LC11789" class="css-1dcdqdg"><code>	<span class="code-comment">// @uninheritable</span>
</code></td></tr><tr><td id="L11790" class="css-a4x74f"><span>11790</span></td><td id="LC11790" class="css-1dcdqdg"><code>	<span class="code-comment">// Layers extending `TileLayer` might reimplement the following method.</span>
</code></td></tr><tr><td id="L11791" class="css-a4x74f"><span>11791</span></td><td id="LC11791" class="css-1dcdqdg"><code>	<span class="code-comment">// @method getTileUrl(coords: Object): String</span>
</code></td></tr><tr><td id="L11792" class="css-a4x74f"><span>11792</span></td><td id="LC11792" class="css-1dcdqdg"><code>	<span class="code-comment">// Called only internally, returns the URL for a tile given its coordinates.</span>
</code></td></tr><tr><td id="L11793" class="css-a4x74f"><span>11793</span></td><td id="LC11793" class="css-1dcdqdg"><code>	<span class="code-comment">// Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.</span>
</code></td></tr><tr><td id="L11794" class="css-a4x74f"><span>11794</span></td><td id="LC11794" class="css-1dcdqdg"><code>	getTileUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L11795" class="css-a4x74f"><span>11795</span></td><td id="LC11795" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> data = {
</code></td></tr><tr><td id="L11796" class="css-a4x74f"><span>11796</span></td><td id="LC11796" class="css-1dcdqdg"><code>			r: Browser.retina ? <span class="code-string">'@2x'</span> : <span class="code-string">''</span>,
</code></td></tr><tr><td id="L11797" class="css-a4x74f"><span>11797</span></td><td id="LC11797" class="css-1dcdqdg"><code>			s: <span class="code-keyword">this</span>._getSubdomain(coords),
</code></td></tr><tr><td id="L11798" class="css-a4x74f"><span>11798</span></td><td id="LC11798" class="css-1dcdqdg"><code>			x: coords.x,
</code></td></tr><tr><td id="L11799" class="css-a4x74f"><span>11799</span></td><td id="LC11799" class="css-1dcdqdg"><code>			y: coords.y,
</code></td></tr><tr><td id="L11800" class="css-a4x74f"><span>11800</span></td><td id="LC11800" class="css-1dcdqdg"><code>			z: <span class="code-keyword">this</span>._getZoomForUrl()
</code></td></tr><tr><td id="L11801" class="css-a4x74f"><span>11801</span></td><td id="LC11801" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L11802" class="css-a4x74f"><span>11802</span></td><td id="LC11802" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map &amp;&amp; !<span class="code-keyword">this</span>._map.options.crs.infinite) {
</code></td></tr><tr><td id="L11803" class="css-a4x74f"><span>11803</span></td><td id="LC11803" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> invertedY = <span class="code-keyword">this</span>._globalTileRange.max.y - coords.y;
</code></td></tr><tr><td id="L11804" class="css-a4x74f"><span>11804</span></td><td id="LC11804" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>.options.tms) {
</code></td></tr><tr><td id="L11805" class="css-a4x74f"><span>11805</span></td><td id="LC11805" class="css-1dcdqdg"><code>				data[<span class="code-string">'y'</span>] = invertedY;
</code></td></tr><tr><td id="L11806" class="css-a4x74f"><span>11806</span></td><td id="LC11806" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11807" class="css-a4x74f"><span>11807</span></td><td id="LC11807" class="css-1dcdqdg"><code>			data[<span class="code-string">'-y'</span>] = invertedY;
</code></td></tr><tr><td id="L11808" class="css-a4x74f"><span>11808</span></td><td id="LC11808" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11809" class="css-a4x74f"><span>11809</span></td><td id="LC11809" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11810" class="css-a4x74f"><span>11810</span></td><td id="LC11810" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> template(<span class="code-keyword">this</span>._url, extend(data, <span class="code-keyword">this</span>.options));
</code></td></tr><tr><td id="L11811" class="css-a4x74f"><span>11811</span></td><td id="LC11811" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11812" class="css-a4x74f"><span>11812</span></td><td id="LC11812" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11813" class="css-a4x74f"><span>11813</span></td><td id="LC11813" class="css-1dcdqdg"><code>	_tileOnLoad: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">done, tile</span>) </span>{
</code></td></tr><tr><td id="L11814" class="css-a4x74f"><span>11814</span></td><td id="LC11814" class="css-1dcdqdg"><code>		<span class="code-comment">// For https://github.com/Leaflet/Leaflet/issues/3332</span>
</code></td></tr><tr><td id="L11815" class="css-a4x74f"><span>11815</span></td><td id="LC11815" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.ielt9) {
</code></td></tr><tr><td id="L11816" class="css-a4x74f"><span>11816</span></td><td id="LC11816" class="css-1dcdqdg"><code>			setTimeout(bind(done, <span class="code-keyword">this</span>, <span class="code-literal">null</span>, tile), <span class="code-number">0</span>);
</code></td></tr><tr><td id="L11817" class="css-a4x74f"><span>11817</span></td><td id="LC11817" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L11818" class="css-a4x74f"><span>11818</span></td><td id="LC11818" class="css-1dcdqdg"><code>			done(<span class="code-literal">null</span>, tile);
</code></td></tr><tr><td id="L11819" class="css-a4x74f"><span>11819</span></td><td id="LC11819" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11820" class="css-a4x74f"><span>11820</span></td><td id="LC11820" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11821" class="css-a4x74f"><span>11821</span></td><td id="LC11821" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11822" class="css-a4x74f"><span>11822</span></td><td id="LC11822" class="css-1dcdqdg"><code>	_tileOnError: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">done, tile, e</span>) </span>{
</code></td></tr><tr><td id="L11823" class="css-a4x74f"><span>11823</span></td><td id="LC11823" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> errorUrl = <span class="code-keyword">this</span>.options.errorTileUrl;
</code></td></tr><tr><td id="L11824" class="css-a4x74f"><span>11824</span></td><td id="LC11824" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (errorUrl &amp;&amp; tile.getAttribute(<span class="code-string">'src'</span>) !== errorUrl) {
</code></td></tr><tr><td id="L11825" class="css-a4x74f"><span>11825</span></td><td id="LC11825" class="css-1dcdqdg"><code>			tile.src = errorUrl;
</code></td></tr><tr><td id="L11826" class="css-a4x74f"><span>11826</span></td><td id="LC11826" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11827" class="css-a4x74f"><span>11827</span></td><td id="LC11827" class="css-1dcdqdg"><code>		done(e, tile);
</code></td></tr><tr><td id="L11828" class="css-a4x74f"><span>11828</span></td><td id="LC11828" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11829" class="css-a4x74f"><span>11829</span></td><td id="LC11829" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11830" class="css-a4x74f"><span>11830</span></td><td id="LC11830" class="css-1dcdqdg"><code>	_onTileRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L11831" class="css-a4x74f"><span>11831</span></td><td id="LC11831" class="css-1dcdqdg"><code>		e.tile.onload = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L11832" class="css-a4x74f"><span>11832</span></td><td id="LC11832" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11833" class="css-a4x74f"><span>11833</span></td><td id="LC11833" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11834" class="css-a4x74f"><span>11834</span></td><td id="LC11834" class="css-1dcdqdg"><code>	_getZoomForUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11835" class="css-a4x74f"><span>11835</span></td><td id="LC11835" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> zoom = <span class="code-keyword">this</span>._tileZoom,
</code></td></tr><tr><td id="L11836" class="css-a4x74f"><span>11836</span></td><td id="LC11836" class="css-1dcdqdg"><code>		maxZoom = <span class="code-keyword">this</span>.options.maxZoom,
</code></td></tr><tr><td id="L11837" class="css-a4x74f"><span>11837</span></td><td id="LC11837" class="css-1dcdqdg"><code>		zoomReverse = <span class="code-keyword">this</span>.options.zoomReverse,
</code></td></tr><tr><td id="L11838" class="css-a4x74f"><span>11838</span></td><td id="LC11838" class="css-1dcdqdg"><code>		zoomOffset = <span class="code-keyword">this</span>.options.zoomOffset;
</code></td></tr><tr><td id="L11839" class="css-a4x74f"><span>11839</span></td><td id="LC11839" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11840" class="css-a4x74f"><span>11840</span></td><td id="LC11840" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (zoomReverse) {
</code></td></tr><tr><td id="L11841" class="css-a4x74f"><span>11841</span></td><td id="LC11841" class="css-1dcdqdg"><code>			zoom = maxZoom - zoom;
</code></td></tr><tr><td id="L11842" class="css-a4x74f"><span>11842</span></td><td id="LC11842" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11843" class="css-a4x74f"><span>11843</span></td><td id="LC11843" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11844" class="css-a4x74f"><span>11844</span></td><td id="LC11844" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> zoom + zoomOffset;
</code></td></tr><tr><td id="L11845" class="css-a4x74f"><span>11845</span></td><td id="LC11845" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11846" class="css-a4x74f"><span>11846</span></td><td id="LC11846" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11847" class="css-a4x74f"><span>11847</span></td><td id="LC11847" class="css-1dcdqdg"><code>	_getSubdomain: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">tilePoint</span>) </span>{
</code></td></tr><tr><td id="L11848" class="css-a4x74f"><span>11848</span></td><td id="LC11848" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> index = <span class="code-built_in">Math</span>.abs(tilePoint.x + tilePoint.y) % <span class="code-keyword">this</span>.options.subdomains.length;
</code></td></tr><tr><td id="L11849" class="css-a4x74f"><span>11849</span></td><td id="LC11849" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options.subdomains[index];
</code></td></tr><tr><td id="L11850" class="css-a4x74f"><span>11850</span></td><td id="LC11850" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11851" class="css-a4x74f"><span>11851</span></td><td id="LC11851" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11852" class="css-a4x74f"><span>11852</span></td><td id="LC11852" class="css-1dcdqdg"><code>	<span class="code-comment">// stops loading all tiles in the background layer</span>
</code></td></tr><tr><td id="L11853" class="css-a4x74f"><span>11853</span></td><td id="LC11853" class="css-1dcdqdg"><code>	_abortLoading: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L11854" class="css-a4x74f"><span>11854</span></td><td id="LC11854" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i, tile;
</code></td></tr><tr><td id="L11855" class="css-a4x74f"><span>11855</span></td><td id="LC11855" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i <span class="code-keyword">in</span> <span class="code-keyword">this</span>._tiles) {
</code></td></tr><tr><td id="L11856" class="css-a4x74f"><span>11856</span></td><td id="LC11856" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._tiles[i].coords.z !== <span class="code-keyword">this</span>._tileZoom) {
</code></td></tr><tr><td id="L11857" class="css-a4x74f"><span>11857</span></td><td id="LC11857" class="css-1dcdqdg"><code>				tile = <span class="code-keyword">this</span>._tiles[i].el;
</code></td></tr><tr><td id="L11858" class="css-a4x74f"><span>11858</span></td><td id="LC11858" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11859" class="css-a4x74f"><span>11859</span></td><td id="LC11859" class="css-1dcdqdg"><code>				tile.onload = falseFn;
</code></td></tr><tr><td id="L11860" class="css-a4x74f"><span>11860</span></td><td id="LC11860" class="css-1dcdqdg"><code>				tile.onerror = falseFn;
</code></td></tr><tr><td id="L11861" class="css-a4x74f"><span>11861</span></td><td id="LC11861" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11862" class="css-a4x74f"><span>11862</span></td><td id="LC11862" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (!tile.complete) {
</code></td></tr><tr><td id="L11863" class="css-a4x74f"><span>11863</span></td><td id="LC11863" class="css-1dcdqdg"><code>					tile.src = emptyImageUrl;
</code></td></tr><tr><td id="L11864" class="css-a4x74f"><span>11864</span></td><td id="LC11864" class="css-1dcdqdg"><code>					<span class="code-keyword">var</span> coords = <span class="code-keyword">this</span>._tiles[i].coords;
</code></td></tr><tr><td id="L11865" class="css-a4x74f"><span>11865</span></td><td id="LC11865" class="css-1dcdqdg"><code>					remove(tile);
</code></td></tr><tr><td id="L11866" class="css-a4x74f"><span>11866</span></td><td id="LC11866" class="css-1dcdqdg"><code>					<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._tiles[i];
</code></td></tr><tr><td id="L11867" class="css-a4x74f"><span>11867</span></td><td id="LC11867" class="css-1dcdqdg"><code>					<span class="code-comment">// @event tileabort: TileEvent</span>
</code></td></tr><tr><td id="L11868" class="css-a4x74f"><span>11868</span></td><td id="LC11868" class="css-1dcdqdg"><code>					<span class="code-comment">// Fired when a tile was loading but is now not wanted.</span>
</code></td></tr><tr><td id="L11869" class="css-a4x74f"><span>11869</span></td><td id="LC11869" class="css-1dcdqdg"><code>					<span class="code-keyword">this</span>.fire(<span class="code-string">'tileabort'</span>, {
</code></td></tr><tr><td id="L11870" class="css-a4x74f"><span>11870</span></td><td id="LC11870" class="css-1dcdqdg"><code>						tile: tile,
</code></td></tr><tr><td id="L11871" class="css-a4x74f"><span>11871</span></td><td id="LC11871" class="css-1dcdqdg"><code>						coords: coords
</code></td></tr><tr><td id="L11872" class="css-a4x74f"><span>11872</span></td><td id="LC11872" class="css-1dcdqdg"><code>					});
</code></td></tr><tr><td id="L11873" class="css-a4x74f"><span>11873</span></td><td id="LC11873" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L11874" class="css-a4x74f"><span>11874</span></td><td id="LC11874" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11875" class="css-a4x74f"><span>11875</span></td><td id="LC11875" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11876" class="css-a4x74f"><span>11876</span></td><td id="LC11876" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11877" class="css-a4x74f"><span>11877</span></td><td id="LC11877" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11878" class="css-a4x74f"><span>11878</span></td><td id="LC11878" class="css-1dcdqdg"><code>	_removeTile: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">key</span>) </span>{
</code></td></tr><tr><td id="L11879" class="css-a4x74f"><span>11879</span></td><td id="LC11879" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tile = <span class="code-keyword">this</span>._tiles[key];
</code></td></tr><tr><td id="L11880" class="css-a4x74f"><span>11880</span></td><td id="LC11880" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!tile) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L11881" class="css-a4x74f"><span>11881</span></td><td id="LC11881" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11882" class="css-a4x74f"><span>11882</span></td><td id="LC11882" class="css-1dcdqdg"><code>		<span class="code-comment">// Cancels any pending http requests associated with the tile</span>
</code></td></tr><tr><td id="L11883" class="css-a4x74f"><span>11883</span></td><td id="LC11883" class="css-1dcdqdg"><code>		tile.el.setAttribute(<span class="code-string">'src'</span>, emptyImageUrl);
</code></td></tr><tr><td id="L11884" class="css-a4x74f"><span>11884</span></td><td id="LC11884" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11885" class="css-a4x74f"><span>11885</span></td><td id="LC11885" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> GridLayer.prototype._removeTile.call(<span class="code-keyword">this</span>, key);
</code></td></tr><tr><td id="L11886" class="css-a4x74f"><span>11886</span></td><td id="LC11886" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11887" class="css-a4x74f"><span>11887</span></td><td id="LC11887" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11888" class="css-a4x74f"><span>11888</span></td><td id="LC11888" class="css-1dcdqdg"><code>	_tileReady: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords, err, tile</span>) </span>{
</code></td></tr><tr><td id="L11889" class="css-a4x74f"><span>11889</span></td><td id="LC11889" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map || (tile &amp;&amp; tile.getAttribute(<span class="code-string">'src'</span>) === emptyImageUrl)) {
</code></td></tr><tr><td id="L11890" class="css-a4x74f"><span>11890</span></td><td id="LC11890" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L11891" class="css-a4x74f"><span>11891</span></td><td id="LC11891" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11892" class="css-a4x74f"><span>11892</span></td><td id="LC11892" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11893" class="css-a4x74f"><span>11893</span></td><td id="LC11893" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> GridLayer.prototype._tileReady.call(<span class="code-keyword">this</span>, coords, err, tile);
</code></td></tr><tr><td id="L11894" class="css-a4x74f"><span>11894</span></td><td id="LC11894" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L11895" class="css-a4x74f"><span>11895</span></td><td id="LC11895" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L11896" class="css-a4x74f"><span>11896</span></td><td id="LC11896" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11897" class="css-a4x74f"><span>11897</span></td><td id="LC11897" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11898" class="css-a4x74f"><span>11898</span></td><td id="LC11898" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.tilelayer(urlTemplate: String, options?: TileLayer options)</span>
</code></td></tr><tr><td id="L11899" class="css-a4x74f"><span>11899</span></td><td id="LC11899" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a tile layer object given a `URL template` and optionally an options object.</span>
</code></td></tr><tr><td id="L11900" class="css-a4x74f"><span>11900</span></td><td id="LC11900" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11901" class="css-a4x74f"><span>11901</span></td><td id="LC11901" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tileLayer</span>(<span class="code-params">url, options</span>) </span>{
</code></td></tr><tr><td id="L11902" class="css-a4x74f"><span>11902</span></td><td id="LC11902" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> TileLayer(url, options);
</code></td></tr><tr><td id="L11903" class="css-a4x74f"><span>11903</span></td><td id="LC11903" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L11904" class="css-a4x74f"><span>11904</span></td><td id="LC11904" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11905" class="css-a4x74f"><span>11905</span></td><td id="LC11905" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L11906" class="css-a4x74f"><span>11906</span></td><td id="LC11906" class="css-1dcdqdg"><code><span class="code-comment"> * @class TileLayer.WMS
</span></code></td></tr><tr><td id="L11907" class="css-a4x74f"><span>11907</span></td><td id="LC11907" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits TileLayer
</span></code></td></tr><tr><td id="L11908" class="css-a4x74f"><span>11908</span></td><td id="LC11908" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.TileLayer.WMS
</span></code></td></tr><tr><td id="L11909" class="css-a4x74f"><span>11909</span></td><td id="LC11909" class="css-1dcdqdg"><code><span class="code-comment"> * Used to display [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services as tile layers on the map. Extends `TileLayer`.
</span></code></td></tr><tr><td id="L11910" class="css-a4x74f"><span>11910</span></td><td id="LC11910" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11911" class="css-a4x74f"><span>11911</span></td><td id="LC11911" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L11912" class="css-a4x74f"><span>11912</span></td><td id="LC11912" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11913" class="css-a4x74f"><span>11913</span></td><td id="LC11913" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L11914" class="css-a4x74f"><span>11914</span></td><td id="LC11914" class="css-1dcdqdg"><code><span class="code-comment"> * var nexrad = L.tileLayer.wms("http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi", {
</span></code></td></tr><tr><td id="L11915" class="css-a4x74f"><span>11915</span></td><td id="LC11915" class="css-1dcdqdg"><code><span class="code-comment"> * 	layers: 'nexrad-n0r-900913',
</span></code></td></tr><tr><td id="L11916" class="css-a4x74f"><span>11916</span></td><td id="LC11916" class="css-1dcdqdg"><code><span class="code-comment"> * 	format: 'image/png',
</span></code></td></tr><tr><td id="L11917" class="css-a4x74f"><span>11917</span></td><td id="LC11917" class="css-1dcdqdg"><code><span class="code-comment"> * 	transparent: true,
</span></code></td></tr><tr><td id="L11918" class="css-a4x74f"><span>11918</span></td><td id="LC11918" class="css-1dcdqdg"><code><span class="code-comment"> * 	attribution: "Weather data  2012 IEM Nexrad"
</span></code></td></tr><tr><td id="L11919" class="css-a4x74f"><span>11919</span></td><td id="LC11919" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L11920" class="css-a4x74f"><span>11920</span></td><td id="LC11920" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L11921" class="css-a4x74f"><span>11921</span></td><td id="LC11921" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L11922" class="css-a4x74f"><span>11922</span></td><td id="LC11922" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11923" class="css-a4x74f"><span>11923</span></td><td id="LC11923" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TileLayerWMS = TileLayer.extend({
</code></td></tr><tr><td id="L11924" class="css-a4x74f"><span>11924</span></td><td id="LC11924" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11925" class="css-a4x74f"><span>11925</span></td><td id="LC11925" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L11926" class="css-a4x74f"><span>11926</span></td><td id="LC11926" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka TileLayer.WMS options</span>
</code></td></tr><tr><td id="L11927" class="css-a4x74f"><span>11927</span></td><td id="LC11927" class="css-1dcdqdg"><code>	<span class="code-comment">// If any custom options not documented here are used, they will be sent to the</span>
</code></td></tr><tr><td id="L11928" class="css-a4x74f"><span>11928</span></td><td id="LC11928" class="css-1dcdqdg"><code>	<span class="code-comment">// WMS server as extra parameters in each request URL. This can be useful for</span>
</code></td></tr><tr><td id="L11929" class="css-a4x74f"><span>11929</span></td><td id="LC11929" class="css-1dcdqdg"><code>	<span class="code-comment">// [non-standard vendor WMS parameters](https://docs.geoserver.org/stable/en/user/services/wms/vendor.html).</span>
</code></td></tr><tr><td id="L11930" class="css-a4x74f"><span>11930</span></td><td id="LC11930" class="css-1dcdqdg"><code>	defaultWmsParams: {
</code></td></tr><tr><td id="L11931" class="css-a4x74f"><span>11931</span></td><td id="LC11931" class="css-1dcdqdg"><code>		service: <span class="code-string">'WMS'</span>,
</code></td></tr><tr><td id="L11932" class="css-a4x74f"><span>11932</span></td><td id="LC11932" class="css-1dcdqdg"><code>		request: <span class="code-string">'GetMap'</span>,
</code></td></tr><tr><td id="L11933" class="css-a4x74f"><span>11933</span></td><td id="LC11933" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11934" class="css-a4x74f"><span>11934</span></td><td id="LC11934" class="css-1dcdqdg"><code>		<span class="code-comment">// @option layers: String = ''</span>
</code></td></tr><tr><td id="L11935" class="css-a4x74f"><span>11935</span></td><td id="LC11935" class="css-1dcdqdg"><code>		<span class="code-comment">// **(required)** Comma-separated list of WMS layers to show.</span>
</code></td></tr><tr><td id="L11936" class="css-a4x74f"><span>11936</span></td><td id="LC11936" class="css-1dcdqdg"><code>		layers: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L11937" class="css-a4x74f"><span>11937</span></td><td id="LC11937" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11938" class="css-a4x74f"><span>11938</span></td><td id="LC11938" class="css-1dcdqdg"><code>		<span class="code-comment">// @option styles: String = ''</span>
</code></td></tr><tr><td id="L11939" class="css-a4x74f"><span>11939</span></td><td id="LC11939" class="css-1dcdqdg"><code>		<span class="code-comment">// Comma-separated list of WMS styles.</span>
</code></td></tr><tr><td id="L11940" class="css-a4x74f"><span>11940</span></td><td id="LC11940" class="css-1dcdqdg"><code>		styles: <span class="code-string">''</span>,
</code></td></tr><tr><td id="L11941" class="css-a4x74f"><span>11941</span></td><td id="LC11941" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11942" class="css-a4x74f"><span>11942</span></td><td id="LC11942" class="css-1dcdqdg"><code>		<span class="code-comment">// @option format: String = 'image/jpeg'</span>
</code></td></tr><tr><td id="L11943" class="css-a4x74f"><span>11943</span></td><td id="LC11943" class="css-1dcdqdg"><code>		<span class="code-comment">// WMS image format (use `'image/png'` for layers with transparency).</span>
</code></td></tr><tr><td id="L11944" class="css-a4x74f"><span>11944</span></td><td id="LC11944" class="css-1dcdqdg"><code>		format: <span class="code-string">'image/jpeg'</span>,
</code></td></tr><tr><td id="L11945" class="css-a4x74f"><span>11945</span></td><td id="LC11945" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11946" class="css-a4x74f"><span>11946</span></td><td id="LC11946" class="css-1dcdqdg"><code>		<span class="code-comment">// @option transparent: Boolean = false</span>
</code></td></tr><tr><td id="L11947" class="css-a4x74f"><span>11947</span></td><td id="LC11947" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, the WMS service will return images with transparency.</span>
</code></td></tr><tr><td id="L11948" class="css-a4x74f"><span>11948</span></td><td id="LC11948" class="css-1dcdqdg"><code>		transparent: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L11949" class="css-a4x74f"><span>11949</span></td><td id="LC11949" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11950" class="css-a4x74f"><span>11950</span></td><td id="LC11950" class="css-1dcdqdg"><code>		<span class="code-comment">// @option version: String = '1.1.1'</span>
</code></td></tr><tr><td id="L11951" class="css-a4x74f"><span>11951</span></td><td id="LC11951" class="css-1dcdqdg"><code>		<span class="code-comment">// Version of the WMS service to use</span>
</code></td></tr><tr><td id="L11952" class="css-a4x74f"><span>11952</span></td><td id="LC11952" class="css-1dcdqdg"><code>		version: <span class="code-string">'1.1.1'</span>
</code></td></tr><tr><td id="L11953" class="css-a4x74f"><span>11953</span></td><td id="LC11953" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11954" class="css-a4x74f"><span>11954</span></td><td id="LC11954" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11955" class="css-a4x74f"><span>11955</span></td><td id="LC11955" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L11956" class="css-a4x74f"><span>11956</span></td><td id="LC11956" class="css-1dcdqdg"><code>		<span class="code-comment">// @option crs: CRS = null</span>
</code></td></tr><tr><td id="L11957" class="css-a4x74f"><span>11957</span></td><td id="LC11957" class="css-1dcdqdg"><code>		<span class="code-comment">// Coordinate Reference System to use for the WMS requests, defaults to</span>
</code></td></tr><tr><td id="L11958" class="css-a4x74f"><span>11958</span></td><td id="LC11958" class="css-1dcdqdg"><code>		<span class="code-comment">// map CRS. Don't change this if you're not sure what it means.</span>
</code></td></tr><tr><td id="L11959" class="css-a4x74f"><span>11959</span></td><td id="LC11959" class="css-1dcdqdg"><code>		crs: <span class="code-literal">null</span>,
</code></td></tr><tr><td id="L11960" class="css-a4x74f"><span>11960</span></td><td id="LC11960" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11961" class="css-a4x74f"><span>11961</span></td><td id="LC11961" class="css-1dcdqdg"><code>		<span class="code-comment">// @option uppercase: Boolean = false</span>
</code></td></tr><tr><td id="L11962" class="css-a4x74f"><span>11962</span></td><td id="LC11962" class="css-1dcdqdg"><code>		<span class="code-comment">// If `true`, WMS request parameter keys will be uppercase.</span>
</code></td></tr><tr><td id="L11963" class="css-a4x74f"><span>11963</span></td><td id="LC11963" class="css-1dcdqdg"><code>		uppercase: <span class="code-literal">false</span>
</code></td></tr><tr><td id="L11964" class="css-a4x74f"><span>11964</span></td><td id="LC11964" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11965" class="css-a4x74f"><span>11965</span></td><td id="LC11965" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11966" class="css-a4x74f"><span>11966</span></td><td id="LC11966" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">url, options</span>) </span>{
</code></td></tr><tr><td id="L11967" class="css-a4x74f"><span>11967</span></td><td id="LC11967" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11968" class="css-a4x74f"><span>11968</span></td><td id="LC11968" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._url = url;
</code></td></tr><tr><td id="L11969" class="css-a4x74f"><span>11969</span></td><td id="LC11969" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11970" class="css-a4x74f"><span>11970</span></td><td id="LC11970" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> wmsParams = extend({}, <span class="code-keyword">this</span>.defaultWmsParams);
</code></td></tr><tr><td id="L11971" class="css-a4x74f"><span>11971</span></td><td id="LC11971" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11972" class="css-a4x74f"><span>11972</span></td><td id="LC11972" class="css-1dcdqdg"><code>		<span class="code-comment">// all keys that are not TileLayer options go to WMS params</span>
</code></td></tr><tr><td id="L11973" class="css-a4x74f"><span>11973</span></td><td id="LC11973" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i <span class="code-keyword">in</span> options) {
</code></td></tr><tr><td id="L11974" class="css-a4x74f"><span>11974</span></td><td id="LC11974" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!(i <span class="code-keyword">in</span> <span class="code-keyword">this</span>.options)) {
</code></td></tr><tr><td id="L11975" class="css-a4x74f"><span>11975</span></td><td id="LC11975" class="css-1dcdqdg"><code>				wmsParams[i] = options[i];
</code></td></tr><tr><td id="L11976" class="css-a4x74f"><span>11976</span></td><td id="LC11976" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L11977" class="css-a4x74f"><span>11977</span></td><td id="LC11977" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L11978" class="css-a4x74f"><span>11978</span></td><td id="LC11978" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11979" class="css-a4x74f"><span>11979</span></td><td id="LC11979" class="css-1dcdqdg"><code>		options = setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L11980" class="css-a4x74f"><span>11980</span></td><td id="LC11980" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11981" class="css-a4x74f"><span>11981</span></td><td id="LC11981" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> realRetina = options.detectRetina &amp;&amp; Browser.retina ? <span class="code-number">2</span> : <span class="code-number">1</span>;
</code></td></tr><tr><td id="L11982" class="css-a4x74f"><span>11982</span></td><td id="LC11982" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileSize = <span class="code-keyword">this</span>.getTileSize();
</code></td></tr><tr><td id="L11983" class="css-a4x74f"><span>11983</span></td><td id="LC11983" class="css-1dcdqdg"><code>		wmsParams.width = tileSize.x * realRetina;
</code></td></tr><tr><td id="L11984" class="css-a4x74f"><span>11984</span></td><td id="LC11984" class="css-1dcdqdg"><code>		wmsParams.height = tileSize.y * realRetina;
</code></td></tr><tr><td id="L11985" class="css-a4x74f"><span>11985</span></td><td id="LC11985" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11986" class="css-a4x74f"><span>11986</span></td><td id="LC11986" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.wmsParams = wmsParams;
</code></td></tr><tr><td id="L11987" class="css-a4x74f"><span>11987</span></td><td id="LC11987" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11988" class="css-a4x74f"><span>11988</span></td><td id="LC11988" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11989" class="css-a4x74f"><span>11989</span></td><td id="LC11989" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L11990" class="css-a4x74f"><span>11990</span></td><td id="LC11990" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11991" class="css-a4x74f"><span>11991</span></td><td id="LC11991" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._crs = <span class="code-keyword">this</span>.options.crs || map.options.crs;
</code></td></tr><tr><td id="L11992" class="css-a4x74f"><span>11992</span></td><td id="LC11992" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._wmsVersion = <span class="code-built_in">parseFloat</span>(<span class="code-keyword">this</span>.wmsParams.version);
</code></td></tr><tr><td id="L11993" class="css-a4x74f"><span>11993</span></td><td id="LC11993" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11994" class="css-a4x74f"><span>11994</span></td><td id="LC11994" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> projectionKey = <span class="code-keyword">this</span>._wmsVersion &gt;= <span class="code-number">1.3</span> ? <span class="code-string">'crs'</span> : <span class="code-string">'srs'</span>;
</code></td></tr><tr><td id="L11995" class="css-a4x74f"><span>11995</span></td><td id="LC11995" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.wmsParams[projectionKey] = <span class="code-keyword">this</span>._crs.code;
</code></td></tr><tr><td id="L11996" class="css-a4x74f"><span>11996</span></td><td id="LC11996" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L11997" class="css-a4x74f"><span>11997</span></td><td id="LC11997" class="css-1dcdqdg"><code>		TileLayer.prototype.onAdd.call(<span class="code-keyword">this</span>, map);
</code></td></tr><tr><td id="L11998" class="css-a4x74f"><span>11998</span></td><td id="LC11998" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L11999" class="css-a4x74f"><span>11999</span></td><td id="LC11999" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12000" class="css-a4x74f"><span>12000</span></td><td id="LC12000" class="css-1dcdqdg"><code>	getTileUrl: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">coords</span>) </span>{
</code></td></tr><tr><td id="L12001" class="css-a4x74f"><span>12001</span></td><td id="LC12001" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12002" class="css-a4x74f"><span>12002</span></td><td id="LC12002" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> tileBounds = <span class="code-keyword">this</span>._tileCoordsToNwSe(coords),
</code></td></tr><tr><td id="L12003" class="css-a4x74f"><span>12003</span></td><td id="LC12003" class="css-1dcdqdg"><code>		    crs = <span class="code-keyword">this</span>._crs,
</code></td></tr><tr><td id="L12004" class="css-a4x74f"><span>12004</span></td><td id="LC12004" class="css-1dcdqdg"><code>		    bounds = toBounds(crs.project(tileBounds[<span class="code-number">0</span>]), crs.project(tileBounds[<span class="code-number">1</span>])),
</code></td></tr><tr><td id="L12005" class="css-a4x74f"><span>12005</span></td><td id="LC12005" class="css-1dcdqdg"><code>		    min = bounds.min,
</code></td></tr><tr><td id="L12006" class="css-a4x74f"><span>12006</span></td><td id="LC12006" class="css-1dcdqdg"><code>		    max = bounds.max,
</code></td></tr><tr><td id="L12007" class="css-a4x74f"><span>12007</span></td><td id="LC12007" class="css-1dcdqdg"><code>		    bbox = (<span class="code-keyword">this</span>._wmsVersion &gt;= <span class="code-number">1.3</span> &amp;&amp; <span class="code-keyword">this</span>._crs === EPSG4326 ?
</code></td></tr><tr><td id="L12008" class="css-a4x74f"><span>12008</span></td><td id="LC12008" class="css-1dcdqdg"><code>		    [min.y, min.x, max.y, max.x] :
</code></td></tr><tr><td id="L12009" class="css-a4x74f"><span>12009</span></td><td id="LC12009" class="css-1dcdqdg"><code>		    [min.x, min.y, max.x, max.y]).join(<span class="code-string">','</span>),
</code></td></tr><tr><td id="L12010" class="css-a4x74f"><span>12010</span></td><td id="LC12010" class="css-1dcdqdg"><code>		    url = TileLayer.prototype.getTileUrl.call(<span class="code-keyword">this</span>, coords);
</code></td></tr><tr><td id="L12011" class="css-a4x74f"><span>12011</span></td><td id="LC12011" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> url +
</code></td></tr><tr><td id="L12012" class="css-a4x74f"><span>12012</span></td><td id="LC12012" class="css-1dcdqdg"><code>			getParamString(<span class="code-keyword">this</span>.wmsParams, url, <span class="code-keyword">this</span>.options.uppercase) +
</code></td></tr><tr><td id="L12013" class="css-a4x74f"><span>12013</span></td><td id="LC12013" class="css-1dcdqdg"><code>			(<span class="code-keyword">this</span>.options.uppercase ? <span class="code-string">'&amp;BBOX='</span> : <span class="code-string">'&amp;bbox='</span>) + bbox;
</code></td></tr><tr><td id="L12014" class="css-a4x74f"><span>12014</span></td><td id="LC12014" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12015" class="css-a4x74f"><span>12015</span></td><td id="LC12015" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12016" class="css-a4x74f"><span>12016</span></td><td id="LC12016" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setParams(params: Object, noRedraw?: Boolean): this</span>
</code></td></tr><tr><td id="L12017" class="css-a4x74f"><span>12017</span></td><td id="LC12017" class="css-1dcdqdg"><code>	<span class="code-comment">// Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).</span>
</code></td></tr><tr><td id="L12018" class="css-a4x74f"><span>12018</span></td><td id="LC12018" class="css-1dcdqdg"><code>	setParams: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">params, noRedraw</span>) </span>{
</code></td></tr><tr><td id="L12019" class="css-a4x74f"><span>12019</span></td><td id="LC12019" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12020" class="css-a4x74f"><span>12020</span></td><td id="LC12020" class="css-1dcdqdg"><code>		extend(<span class="code-keyword">this</span>.wmsParams, params);
</code></td></tr><tr><td id="L12021" class="css-a4x74f"><span>12021</span></td><td id="LC12021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12022" class="css-a4x74f"><span>12022</span></td><td id="LC12022" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!noRedraw) {
</code></td></tr><tr><td id="L12023" class="css-a4x74f"><span>12023</span></td><td id="LC12023" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.redraw();
</code></td></tr><tr><td id="L12024" class="css-a4x74f"><span>12024</span></td><td id="LC12024" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12025" class="css-a4x74f"><span>12025</span></td><td id="LC12025" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12026" class="css-a4x74f"><span>12026</span></td><td id="LC12026" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>;
</code></td></tr><tr><td id="L12027" class="css-a4x74f"><span>12027</span></td><td id="LC12027" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L12028" class="css-a4x74f"><span>12028</span></td><td id="LC12028" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L12029" class="css-a4x74f"><span>12029</span></td><td id="LC12029" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12030" class="css-a4x74f"><span>12030</span></td><td id="LC12030" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12031" class="css-a4x74f"><span>12031</span></td><td id="LC12031" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.tileLayer.wms(baseUrl: String, options: TileLayer.WMS options)</span>
</code></td></tr><tr><td id="L12032" class="css-a4x74f"><span>12032</span></td><td id="LC12032" class="css-1dcdqdg"><code><span class="code-comment">// Instantiates a WMS tile layer object given a base URL of the WMS service and a WMS parameters/options object.</span>
</code></td></tr><tr><td id="L12033" class="css-a4x74f"><span>12033</span></td><td id="LC12033" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tileLayerWMS</span>(<span class="code-params">url, options</span>) </span>{
</code></td></tr><tr><td id="L12034" class="css-a4x74f"><span>12034</span></td><td id="LC12034" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> TileLayerWMS(url, options);
</code></td></tr><tr><td id="L12035" class="css-a4x74f"><span>12035</span></td><td id="LC12035" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L12036" class="css-a4x74f"><span>12036</span></td><td id="LC12036" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12037" class="css-a4x74f"><span>12037</span></td><td id="LC12037" class="css-1dcdqdg"><code>TileLayer.WMS = TileLayerWMS;
</code></td></tr><tr><td id="L12038" class="css-a4x74f"><span>12038</span></td><td id="LC12038" class="css-1dcdqdg"><code>tileLayer.wms = tileLayerWMS;
</code></td></tr><tr><td id="L12039" class="css-a4x74f"><span>12039</span></td><td id="LC12039" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12040" class="css-a4x74f"><span>12040</span></td><td id="LC12040" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L12041" class="css-a4x74f"><span>12041</span></td><td id="LC12041" class="css-1dcdqdg"><code><span class="code-comment"> * @class Renderer
</span></code></td></tr><tr><td id="L12042" class="css-a4x74f"><span>12042</span></td><td id="LC12042" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Layer
</span></code></td></tr><tr><td id="L12043" class="css-a4x74f"><span>12043</span></td><td id="LC12043" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Renderer
</span></code></td></tr><tr><td id="L12044" class="css-a4x74f"><span>12044</span></td><td id="LC12044" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12045" class="css-a4x74f"><span>12045</span></td><td id="LC12045" class="css-1dcdqdg"><code><span class="code-comment"> * Base class for vector renderer implementations (`SVG`, `Canvas`). Handles the
</span></code></td></tr><tr><td id="L12046" class="css-a4x74f"><span>12046</span></td><td id="LC12046" class="css-1dcdqdg"><code><span class="code-comment"> * DOM container of the renderer, its bounds, and its zoom animation.
</span></code></td></tr><tr><td id="L12047" class="css-a4x74f"><span>12047</span></td><td id="LC12047" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12048" class="css-a4x74f"><span>12048</span></td><td id="LC12048" class="css-1dcdqdg"><code><span class="code-comment"> * A `Renderer` works as an implicit layer group for all `Path`s - the renderer
</span></code></td></tr><tr><td id="L12049" class="css-a4x74f"><span>12049</span></td><td id="LC12049" class="css-1dcdqdg"><code><span class="code-comment"> * itself can be added or removed to the map. All paths use a renderer, which can
</span></code></td></tr><tr><td id="L12050" class="css-a4x74f"><span>12050</span></td><td id="LC12050" class="css-1dcdqdg"><code><span class="code-comment"> * be implicit (the map will decide the type of renderer and use it automatically)
</span></code></td></tr><tr><td id="L12051" class="css-a4x74f"><span>12051</span></td><td id="LC12051" class="css-1dcdqdg"><code><span class="code-comment"> * or explicit (using the [`renderer`](#path-renderer) option of the path).
</span></code></td></tr><tr><td id="L12052" class="css-a4x74f"><span>12052</span></td><td id="LC12052" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12053" class="css-a4x74f"><span>12053</span></td><td id="LC12053" class="css-1dcdqdg"><code><span class="code-comment"> * Do not use this class directly, use `SVG` and `Canvas` instead.
</span></code></td></tr><tr><td id="L12054" class="css-a4x74f"><span>12054</span></td><td id="LC12054" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12055" class="css-a4x74f"><span>12055</span></td><td id="LC12055" class="css-1dcdqdg"><code><span class="code-comment"> * @event update: Event
</span></code></td></tr><tr><td id="L12056" class="css-a4x74f"><span>12056</span></td><td id="LC12056" class="css-1dcdqdg"><code><span class="code-comment"> * Fired when the renderer updates its bounds, center and zoom, for example when
</span></code></td></tr><tr><td id="L12057" class="css-a4x74f"><span>12057</span></td><td id="LC12057" class="css-1dcdqdg"><code><span class="code-comment"> * its map has moved
</span></code></td></tr><tr><td id="L12058" class="css-a4x74f"><span>12058</span></td><td id="LC12058" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L12059" class="css-a4x74f"><span>12059</span></td><td id="LC12059" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12060" class="css-a4x74f"><span>12060</span></td><td id="LC12060" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Renderer = Layer.extend({
</code></td></tr><tr><td id="L12061" class="css-a4x74f"><span>12061</span></td><td id="LC12061" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12062" class="css-a4x74f"><span>12062</span></td><td id="LC12062" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L12063" class="css-a4x74f"><span>12063</span></td><td id="LC12063" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Renderer options</span>
</code></td></tr><tr><td id="L12064" class="css-a4x74f"><span>12064</span></td><td id="LC12064" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L12065" class="css-a4x74f"><span>12065</span></td><td id="LC12065" class="css-1dcdqdg"><code>		<span class="code-comment">// @option padding: Number = 0.1</span>
</code></td></tr><tr><td id="L12066" class="css-a4x74f"><span>12066</span></td><td id="LC12066" class="css-1dcdqdg"><code>		<span class="code-comment">// How much to extend the clip area around the map view (relative to its size)</span>
</code></td></tr><tr><td id="L12067" class="css-a4x74f"><span>12067</span></td><td id="LC12067" class="css-1dcdqdg"><code>		<span class="code-comment">// e.g. 0.1 would be 10% of map view in each direction</span>
</code></td></tr><tr><td id="L12068" class="css-a4x74f"><span>12068</span></td><td id="LC12068" class="css-1dcdqdg"><code>		padding: <span class="code-number">0.1</span>
</code></td></tr><tr><td id="L12069" class="css-a4x74f"><span>12069</span></td><td id="LC12069" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12070" class="css-a4x74f"><span>12070</span></td><td id="LC12070" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12071" class="css-a4x74f"><span>12071</span></td><td id="LC12071" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L12072" class="css-a4x74f"><span>12072</span></td><td id="LC12072" class="css-1dcdqdg"><code>		setOptions(<span class="code-keyword">this</span>, options);
</code></td></tr><tr><td id="L12073" class="css-a4x74f"><span>12073</span></td><td id="LC12073" class="css-1dcdqdg"><code>		stamp(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12074" class="css-a4x74f"><span>12074</span></td><td id="LC12074" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers = <span class="code-keyword">this</span>._layers || {};
</code></td></tr><tr><td id="L12075" class="css-a4x74f"><span>12075</span></td><td id="LC12075" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12076" class="css-a4x74f"><span>12076</span></td><td id="LC12076" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12077" class="css-a4x74f"><span>12077</span></td><td id="LC12077" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12078" class="css-a4x74f"><span>12078</span></td><td id="LC12078" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._container) {
</code></td></tr><tr><td id="L12079" class="css-a4x74f"><span>12079</span></td><td id="LC12079" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._initContainer(); <span class="code-comment">// defined by renderer implementations</span>
</code></td></tr><tr><td id="L12080" class="css-a4x74f"><span>12080</span></td><td id="LC12080" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12081" class="css-a4x74f"><span>12081</span></td><td id="LC12081" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L12082" class="css-a4x74f"><span>12082</span></td><td id="LC12082" class="css-1dcdqdg"><code>				addClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-zoom-animated'</span>);
</code></td></tr><tr><td id="L12083" class="css-a4x74f"><span>12083</span></td><td id="LC12083" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12084" class="css-a4x74f"><span>12084</span></td><td id="LC12084" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12085" class="css-a4x74f"><span>12085</span></td><td id="LC12085" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12086" class="css-a4x74f"><span>12086</span></td><td id="LC12086" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.getPane().appendChild(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L12087" class="css-a4x74f"><span>12087</span></td><td id="LC12087" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L12088" class="css-a4x74f"><span>12088</span></td><td id="LC12088" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.on(<span class="code-string">'update'</span>, <span class="code-keyword">this</span>._updatePaths, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12089" class="css-a4x74f"><span>12089</span></td><td id="LC12089" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12090" class="css-a4x74f"><span>12090</span></td><td id="LC12090" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12091" class="css-a4x74f"><span>12091</span></td><td id="LC12091" class="css-1dcdqdg"><code>	onRemove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12092" class="css-a4x74f"><span>12092</span></td><td id="LC12092" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.off(<span class="code-string">'update'</span>, <span class="code-keyword">this</span>._updatePaths, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12093" class="css-a4x74f"><span>12093</span></td><td id="LC12093" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._destroyContainer();
</code></td></tr><tr><td id="L12094" class="css-a4x74f"><span>12094</span></td><td id="LC12094" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12095" class="css-a4x74f"><span>12095</span></td><td id="LC12095" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12096" class="css-a4x74f"><span>12096</span></td><td id="LC12096" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12097" class="css-a4x74f"><span>12097</span></td><td id="LC12097" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = {
</code></td></tr><tr><td id="L12098" class="css-a4x74f"><span>12098</span></td><td id="LC12098" class="css-1dcdqdg"><code>			viewreset: <span class="code-keyword">this</span>._reset,
</code></td></tr><tr><td id="L12099" class="css-a4x74f"><span>12099</span></td><td id="LC12099" class="css-1dcdqdg"><code>			zoom: <span class="code-keyword">this</span>._onZoom,
</code></td></tr><tr><td id="L12100" class="css-a4x74f"><span>12100</span></td><td id="LC12100" class="css-1dcdqdg"><code>			moveend: <span class="code-keyword">this</span>._update,
</code></td></tr><tr><td id="L12101" class="css-a4x74f"><span>12101</span></td><td id="LC12101" class="css-1dcdqdg"><code>			zoomend: <span class="code-keyword">this</span>._onZoomEnd
</code></td></tr><tr><td id="L12102" class="css-a4x74f"><span>12102</span></td><td id="LC12102" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L12103" class="css-a4x74f"><span>12103</span></td><td id="LC12103" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._zoomAnimated) {
</code></td></tr><tr><td id="L12104" class="css-a4x74f"><span>12104</span></td><td id="LC12104" class="css-1dcdqdg"><code>			events.zoomanim = <span class="code-keyword">this</span>._onAnimZoom;
</code></td></tr><tr><td id="L12105" class="css-a4x74f"><span>12105</span></td><td id="LC12105" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12106" class="css-a4x74f"><span>12106</span></td><td id="LC12106" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L12107" class="css-a4x74f"><span>12107</span></td><td id="LC12107" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12108" class="css-a4x74f"><span>12108</span></td><td id="LC12108" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12109" class="css-a4x74f"><span>12109</span></td><td id="LC12109" class="css-1dcdqdg"><code>	_onAnimZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">ev</span>) </span>{
</code></td></tr><tr><td id="L12110" class="css-a4x74f"><span>12110</span></td><td id="LC12110" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateTransform(ev.center, ev.zoom);
</code></td></tr><tr><td id="L12111" class="css-a4x74f"><span>12111</span></td><td id="LC12111" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12112" class="css-a4x74f"><span>12112</span></td><td id="LC12112" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12113" class="css-a4x74f"><span>12113</span></td><td id="LC12113" class="css-1dcdqdg"><code>	_onZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12114" class="css-a4x74f"><span>12114</span></td><td id="LC12114" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateTransform(<span class="code-keyword">this</span>._map.getCenter(), <span class="code-keyword">this</span>._map.getZoom());
</code></td></tr><tr><td id="L12115" class="css-a4x74f"><span>12115</span></td><td id="LC12115" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12116" class="css-a4x74f"><span>12116</span></td><td id="LC12116" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12117" class="css-a4x74f"><span>12117</span></td><td id="LC12117" class="css-1dcdqdg"><code>	_updateTransform: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">center, zoom</span>) </span>{
</code></td></tr><tr><td id="L12118" class="css-a4x74f"><span>12118</span></td><td id="LC12118" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> scale = <span class="code-keyword">this</span>._map.getZoomScale(zoom, <span class="code-keyword">this</span>._zoom),
</code></td></tr><tr><td id="L12119" class="css-a4x74f"><span>12119</span></td><td id="LC12119" class="css-1dcdqdg"><code>		    position = getPosition(<span class="code-keyword">this</span>._container),
</code></td></tr><tr><td id="L12120" class="css-a4x74f"><span>12120</span></td><td id="LC12120" class="css-1dcdqdg"><code>		    viewHalf = <span class="code-keyword">this</span>._map.getSize().multiplyBy(<span class="code-number">0.5</span> + <span class="code-keyword">this</span>.options.padding),
</code></td></tr><tr><td id="L12121" class="css-a4x74f"><span>12121</span></td><td id="LC12121" class="css-1dcdqdg"><code>		    currentCenterPoint = <span class="code-keyword">this</span>._map.project(<span class="code-keyword">this</span>._center, zoom),
</code></td></tr><tr><td id="L12122" class="css-a4x74f"><span>12122</span></td><td id="LC12122" class="css-1dcdqdg"><code>		    destCenterPoint = <span class="code-keyword">this</span>._map.project(center, zoom),
</code></td></tr><tr><td id="L12123" class="css-a4x74f"><span>12123</span></td><td id="LC12123" class="css-1dcdqdg"><code>		    centerOffset = destCenterPoint.subtract(currentCenterPoint),
</code></td></tr><tr><td id="L12124" class="css-a4x74f"><span>12124</span></td><td id="LC12124" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12125" class="css-a4x74f"><span>12125</span></td><td id="LC12125" class="css-1dcdqdg"><code>		    topLeftOffset = viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);
</code></td></tr><tr><td id="L12126" class="css-a4x74f"><span>12126</span></td><td id="LC12126" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12127" class="css-a4x74f"><span>12127</span></td><td id="LC12127" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.any3d) {
</code></td></tr><tr><td id="L12128" class="css-a4x74f"><span>12128</span></td><td id="LC12128" class="css-1dcdqdg"><code>			setTransform(<span class="code-keyword">this</span>._container, topLeftOffset, scale);
</code></td></tr><tr><td id="L12129" class="css-a4x74f"><span>12129</span></td><td id="LC12129" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12130" class="css-a4x74f"><span>12130</span></td><td id="LC12130" class="css-1dcdqdg"><code>			setPosition(<span class="code-keyword">this</span>._container, topLeftOffset);
</code></td></tr><tr><td id="L12131" class="css-a4x74f"><span>12131</span></td><td id="LC12131" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12132" class="css-a4x74f"><span>12132</span></td><td id="LC12132" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12133" class="css-a4x74f"><span>12133</span></td><td id="LC12133" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12134" class="css-a4x74f"><span>12134</span></td><td id="LC12134" class="css-1dcdqdg"><code>	_reset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12135" class="css-a4x74f"><span>12135</span></td><td id="LC12135" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L12136" class="css-a4x74f"><span>12136</span></td><td id="LC12136" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateTransform(<span class="code-keyword">this</span>._center, <span class="code-keyword">this</span>._zoom);
</code></td></tr><tr><td id="L12137" class="css-a4x74f"><span>12137</span></td><td id="LC12137" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12138" class="css-a4x74f"><span>12138</span></td><td id="LC12138" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L12139" class="css-a4x74f"><span>12139</span></td><td id="LC12139" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers[id]._reset();
</code></td></tr><tr><td id="L12140" class="css-a4x74f"><span>12140</span></td><td id="LC12140" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12141" class="css-a4x74f"><span>12141</span></td><td id="LC12141" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12142" class="css-a4x74f"><span>12142</span></td><td id="LC12142" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12143" class="css-a4x74f"><span>12143</span></td><td id="LC12143" class="css-1dcdqdg"><code>	_onZoomEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12144" class="css-a4x74f"><span>12144</span></td><td id="LC12144" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L12145" class="css-a4x74f"><span>12145</span></td><td id="LC12145" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers[id]._project();
</code></td></tr><tr><td id="L12146" class="css-a4x74f"><span>12146</span></td><td id="LC12146" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12147" class="css-a4x74f"><span>12147</span></td><td id="LC12147" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12148" class="css-a4x74f"><span>12148</span></td><td id="LC12148" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12149" class="css-a4x74f"><span>12149</span></td><td id="LC12149" class="css-1dcdqdg"><code>	_updatePaths: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12150" class="css-a4x74f"><span>12150</span></td><td id="LC12150" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L12151" class="css-a4x74f"><span>12151</span></td><td id="LC12151" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._layers[id]._update();
</code></td></tr><tr><td id="L12152" class="css-a4x74f"><span>12152</span></td><td id="LC12152" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12153" class="css-a4x74f"><span>12153</span></td><td id="LC12153" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12154" class="css-a4x74f"><span>12154</span></td><td id="LC12154" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12155" class="css-a4x74f"><span>12155</span></td><td id="LC12155" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12156" class="css-a4x74f"><span>12156</span></td><td id="LC12156" class="css-1dcdqdg"><code>		<span class="code-comment">// Update pixel bounds of renderer container (for positioning/sizing/clipping later)</span>
</code></td></tr><tr><td id="L12157" class="css-a4x74f"><span>12157</span></td><td id="LC12157" class="css-1dcdqdg"><code>		<span class="code-comment">// Subclasses are responsible of firing the 'update' event.</span>
</code></td></tr><tr><td id="L12158" class="css-a4x74f"><span>12158</span></td><td id="LC12158" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> p = <span class="code-keyword">this</span>.options.padding,
</code></td></tr><tr><td id="L12159" class="css-a4x74f"><span>12159</span></td><td id="LC12159" class="css-1dcdqdg"><code>		    size = <span class="code-keyword">this</span>._map.getSize(),
</code></td></tr><tr><td id="L12160" class="css-a4x74f"><span>12160</span></td><td id="LC12160" class="css-1dcdqdg"><code>		    min = <span class="code-keyword">this</span>._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();
</code></td></tr><tr><td id="L12161" class="css-a4x74f"><span>12161</span></td><td id="LC12161" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12162" class="css-a4x74f"><span>12162</span></td><td id="LC12162" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._bounds = <span class="code-keyword">new</span> Bounds(min, min.add(size.multiplyBy(<span class="code-number">1</span> + p * <span class="code-number">2</span>)).round());
</code></td></tr><tr><td id="L12163" class="css-a4x74f"><span>12163</span></td><td id="LC12163" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12164" class="css-a4x74f"><span>12164</span></td><td id="LC12164" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._center = <span class="code-keyword">this</span>._map.getCenter();
</code></td></tr><tr><td id="L12165" class="css-a4x74f"><span>12165</span></td><td id="LC12165" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoom = <span class="code-keyword">this</span>._map.getZoom();
</code></td></tr><tr><td id="L12166" class="css-a4x74f"><span>12166</span></td><td id="LC12166" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L12167" class="css-a4x74f"><span>12167</span></td><td id="LC12167" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L12168" class="css-a4x74f"><span>12168</span></td><td id="LC12168" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12169" class="css-a4x74f"><span>12169</span></td><td id="LC12169" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L12170" class="css-a4x74f"><span>12170</span></td><td id="LC12170" class="css-1dcdqdg"><code><span class="code-comment"> * @class Canvas
</span></code></td></tr><tr><td id="L12171" class="css-a4x74f"><span>12171</span></td><td id="LC12171" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Renderer
</span></code></td></tr><tr><td id="L12172" class="css-a4x74f"><span>12172</span></td><td id="LC12172" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Canvas
</span></code></td></tr><tr><td id="L12173" class="css-a4x74f"><span>12173</span></td><td id="LC12173" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12174" class="css-a4x74f"><span>12174</span></td><td id="LC12174" class="css-1dcdqdg"><code><span class="code-comment"> * Allows vector layers to be displayed with [`&lt;canvas&gt;`](https://developer.mozilla.org/docs/Web/API/Canvas_API).
</span></code></td></tr><tr><td id="L12175" class="css-a4x74f"><span>12175</span></td><td id="LC12175" class="css-1dcdqdg"><code><span class="code-comment"> * Inherits `Renderer`.
</span></code></td></tr><tr><td id="L12176" class="css-a4x74f"><span>12176</span></td><td id="LC12176" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12177" class="css-a4x74f"><span>12177</span></td><td id="LC12177" class="css-1dcdqdg"><code><span class="code-comment"> * Due to [technical limitations](https://caniuse.com/canvas), Canvas is not
</span></code></td></tr><tr><td id="L12178" class="css-a4x74f"><span>12178</span></td><td id="LC12178" class="css-1dcdqdg"><code><span class="code-comment"> * available in all web browsers, notably IE8, and overlapping geometries might
</span></code></td></tr><tr><td id="L12179" class="css-a4x74f"><span>12179</span></td><td id="LC12179" class="css-1dcdqdg"><code><span class="code-comment"> * not display properly in some edge cases.
</span></code></td></tr><tr><td id="L12180" class="css-a4x74f"><span>12180</span></td><td id="LC12180" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12181" class="css-a4x74f"><span>12181</span></td><td id="LC12181" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L12182" class="css-a4x74f"><span>12182</span></td><td id="LC12182" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12183" class="css-a4x74f"><span>12183</span></td><td id="LC12183" class="css-1dcdqdg"><code><span class="code-comment"> * Use Canvas by default for all paths in the map:
</span></code></td></tr><tr><td id="L12184" class="css-a4x74f"><span>12184</span></td><td id="LC12184" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12185" class="css-a4x74f"><span>12185</span></td><td id="LC12185" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L12186" class="css-a4x74f"><span>12186</span></td><td id="LC12186" class="css-1dcdqdg"><code><span class="code-comment"> * var map = L.map('map', {
</span></code></td></tr><tr><td id="L12187" class="css-a4x74f"><span>12187</span></td><td id="LC12187" class="css-1dcdqdg"><code><span class="code-comment"> * 	renderer: L.canvas()
</span></code></td></tr><tr><td id="L12188" class="css-a4x74f"><span>12188</span></td><td id="LC12188" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L12189" class="css-a4x74f"><span>12189</span></td><td id="LC12189" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L12190" class="css-a4x74f"><span>12190</span></td><td id="LC12190" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12191" class="css-a4x74f"><span>12191</span></td><td id="LC12191" class="css-1dcdqdg"><code><span class="code-comment"> * Use a Canvas renderer with extra padding for specific vector geometries:
</span></code></td></tr><tr><td id="L12192" class="css-a4x74f"><span>12192</span></td><td id="LC12192" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12193" class="css-a4x74f"><span>12193</span></td><td id="LC12193" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L12194" class="css-a4x74f"><span>12194</span></td><td id="LC12194" class="css-1dcdqdg"><code><span class="code-comment"> * var map = L.map('map');
</span></code></td></tr><tr><td id="L12195" class="css-a4x74f"><span>12195</span></td><td id="LC12195" class="css-1dcdqdg"><code><span class="code-comment"> * var myRenderer = L.canvas({ padding: 0.5 });
</span></code></td></tr><tr><td id="L12196" class="css-a4x74f"><span>12196</span></td><td id="LC12196" class="css-1dcdqdg"><code><span class="code-comment"> * var line = L.polyline( coordinates, { renderer: myRenderer } );
</span></code></td></tr><tr><td id="L12197" class="css-a4x74f"><span>12197</span></td><td id="LC12197" class="css-1dcdqdg"><code><span class="code-comment"> * var circle = L.circle( center, { renderer: myRenderer } );
</span></code></td></tr><tr><td id="L12198" class="css-a4x74f"><span>12198</span></td><td id="LC12198" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L12199" class="css-a4x74f"><span>12199</span></td><td id="LC12199" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L12200" class="css-a4x74f"><span>12200</span></td><td id="LC12200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12201" class="css-a4x74f"><span>12201</span></td><td id="LC12201" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Canvas = Renderer.extend({
</code></td></tr><tr><td id="L12202" class="css-a4x74f"><span>12202</span></td><td id="LC12202" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12203" class="css-a4x74f"><span>12203</span></td><td id="LC12203" class="css-1dcdqdg"><code>	<span class="code-comment">// @section</span>
</code></td></tr><tr><td id="L12204" class="css-a4x74f"><span>12204</span></td><td id="LC12204" class="css-1dcdqdg"><code>	<span class="code-comment">// @aka Canvas options</span>
</code></td></tr><tr><td id="L12205" class="css-a4x74f"><span>12205</span></td><td id="LC12205" class="css-1dcdqdg"><code>	options: {
</code></td></tr><tr><td id="L12206" class="css-a4x74f"><span>12206</span></td><td id="LC12206" class="css-1dcdqdg"><code>		<span class="code-comment">// @option tolerance: Number = 0</span>
</code></td></tr><tr><td id="L12207" class="css-a4x74f"><span>12207</span></td><td id="LC12207" class="css-1dcdqdg"><code>		<span class="code-comment">// How much to extend the click tolerance around a path/object on the map.</span>
</code></td></tr><tr><td id="L12208" class="css-a4x74f"><span>12208</span></td><td id="LC12208" class="css-1dcdqdg"><code>		tolerance: <span class="code-number">0</span>
</code></td></tr><tr><td id="L12209" class="css-a4x74f"><span>12209</span></td><td id="LC12209" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12210" class="css-a4x74f"><span>12210</span></td><td id="LC12210" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12211" class="css-a4x74f"><span>12211</span></td><td id="LC12211" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12212" class="css-a4x74f"><span>12212</span></td><td id="LC12212" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = Renderer.prototype.getEvents.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12213" class="css-a4x74f"><span>12213</span></td><td id="LC12213" class="css-1dcdqdg"><code>		events.viewprereset = <span class="code-keyword">this</span>._onViewPreReset;
</code></td></tr><tr><td id="L12214" class="css-a4x74f"><span>12214</span></td><td id="LC12214" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L12215" class="css-a4x74f"><span>12215</span></td><td id="LC12215" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12216" class="css-a4x74f"><span>12216</span></td><td id="LC12216" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12217" class="css-a4x74f"><span>12217</span></td><td id="LC12217" class="css-1dcdqdg"><code>	_onViewPreReset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12218" class="css-a4x74f"><span>12218</span></td><td id="LC12218" class="css-1dcdqdg"><code>		<span class="code-comment">// Set a flag so that a viewprereset+moveend+viewreset only updates&amp;redraws once</span>
</code></td></tr><tr><td id="L12219" class="css-a4x74f"><span>12219</span></td><td id="LC12219" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._postponeUpdatePaths = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L12220" class="css-a4x74f"><span>12220</span></td><td id="LC12220" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12221" class="css-a4x74f"><span>12221</span></td><td id="LC12221" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12222" class="css-a4x74f"><span>12222</span></td><td id="LC12222" class="css-1dcdqdg"><code>	onAdd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12223" class="css-a4x74f"><span>12223</span></td><td id="LC12223" class="css-1dcdqdg"><code>		Renderer.prototype.onAdd.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12224" class="css-a4x74f"><span>12224</span></td><td id="LC12224" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12225" class="css-a4x74f"><span>12225</span></td><td id="LC12225" class="css-1dcdqdg"><code>		<span class="code-comment">// Redraw vectors since canvas is cleared upon removal,</span>
</code></td></tr><tr><td id="L12226" class="css-a4x74f"><span>12226</span></td><td id="LC12226" class="css-1dcdqdg"><code>		<span class="code-comment">// in case of removing the renderer itself from the map.</span>
</code></td></tr><tr><td id="L12227" class="css-a4x74f"><span>12227</span></td><td id="LC12227" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draw();
</code></td></tr><tr><td id="L12228" class="css-a4x74f"><span>12228</span></td><td id="LC12228" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12229" class="css-a4x74f"><span>12229</span></td><td id="LC12229" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12230" class="css-a4x74f"><span>12230</span></td><td id="LC12230" class="css-1dcdqdg"><code>	_initContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12231" class="css-a4x74f"><span>12231</span></td><td id="LC12231" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = <span class="code-keyword">this</span>._container = <span class="code-built_in">document</span>.createElement(<span class="code-string">'canvas'</span>);
</code></td></tr><tr><td id="L12232" class="css-a4x74f"><span>12232</span></td><td id="LC12232" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12233" class="css-a4x74f"><span>12233</span></td><td id="LC12233" class="css-1dcdqdg"><code>		on(container, <span class="code-string">'mousemove'</span>, <span class="code-keyword">this</span>._onMouseMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12234" class="css-a4x74f"><span>12234</span></td><td id="LC12234" class="css-1dcdqdg"><code>		on(container, <span class="code-string">'click dblclick mousedown mouseup contextmenu'</span>, <span class="code-keyword">this</span>._onClick, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12235" class="css-a4x74f"><span>12235</span></td><td id="LC12235" class="css-1dcdqdg"><code>		on(container, <span class="code-string">'mouseout'</span>, <span class="code-keyword">this</span>._handleMouseOut, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12236" class="css-a4x74f"><span>12236</span></td><td id="LC12236" class="css-1dcdqdg"><code>		container[<span class="code-string">'_leaflet_disable_events'</span>] = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L12237" class="css-a4x74f"><span>12237</span></td><td id="LC12237" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12238" class="css-a4x74f"><span>12238</span></td><td id="LC12238" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._ctx = container.getContext(<span class="code-string">'2d'</span>);
</code></td></tr><tr><td id="L12239" class="css-a4x74f"><span>12239</span></td><td id="LC12239" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12240" class="css-a4x74f"><span>12240</span></td><td id="LC12240" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12241" class="css-a4x74f"><span>12241</span></td><td id="LC12241" class="css-1dcdqdg"><code>	_destroyContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12242" class="css-a4x74f"><span>12242</span></td><td id="LC12242" class="css-1dcdqdg"><code>		cancelAnimFrame(<span class="code-keyword">this</span>._redrawRequest);
</code></td></tr><tr><td id="L12243" class="css-a4x74f"><span>12243</span></td><td id="LC12243" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._ctx;
</code></td></tr><tr><td id="L12244" class="css-a4x74f"><span>12244</span></td><td id="LC12244" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L12245" class="css-a4x74f"><span>12245</span></td><td id="LC12245" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L12246" class="css-a4x74f"><span>12246</span></td><td id="LC12246" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L12247" class="css-a4x74f"><span>12247</span></td><td id="LC12247" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12248" class="css-a4x74f"><span>12248</span></td><td id="LC12248" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12249" class="css-a4x74f"><span>12249</span></td><td id="LC12249" class="css-1dcdqdg"><code>	_updatePaths: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12250" class="css-a4x74f"><span>12250</span></td><td id="LC12250" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._postponeUpdatePaths) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12251" class="css-a4x74f"><span>12251</span></td><td id="LC12251" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12252" class="css-a4x74f"><span>12252</span></td><td id="LC12252" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layer;
</code></td></tr><tr><td id="L12253" class="css-a4x74f"><span>12253</span></td><td id="LC12253" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._redrawBounds = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12254" class="css-a4x74f"><span>12254</span></td><td id="LC12254" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> id <span class="code-keyword">in</span> <span class="code-keyword">this</span>._layers) {
</code></td></tr><tr><td id="L12255" class="css-a4x74f"><span>12255</span></td><td id="LC12255" class="css-1dcdqdg"><code>			layer = <span class="code-keyword">this</span>._layers[id];
</code></td></tr><tr><td id="L12256" class="css-a4x74f"><span>12256</span></td><td id="LC12256" class="css-1dcdqdg"><code>			layer._update();
</code></td></tr><tr><td id="L12257" class="css-a4x74f"><span>12257</span></td><td id="LC12257" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12258" class="css-a4x74f"><span>12258</span></td><td id="LC12258" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._redraw();
</code></td></tr><tr><td id="L12259" class="css-a4x74f"><span>12259</span></td><td id="LC12259" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12260" class="css-a4x74f"><span>12260</span></td><td id="LC12260" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12261" class="css-a4x74f"><span>12261</span></td><td id="LC12261" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12262" class="css-a4x74f"><span>12262</span></td><td id="LC12262" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map._animatingZoom &amp;&amp; <span class="code-keyword">this</span>._bounds) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12263" class="css-a4x74f"><span>12263</span></td><td id="LC12263" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12264" class="css-a4x74f"><span>12264</span></td><td id="LC12264" class="css-1dcdqdg"><code>		Renderer.prototype._update.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12265" class="css-a4x74f"><span>12265</span></td><td id="LC12265" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12266" class="css-a4x74f"><span>12266</span></td><td id="LC12266" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> b = <span class="code-keyword">this</span>._bounds,
</code></td></tr><tr><td id="L12267" class="css-a4x74f"><span>12267</span></td><td id="LC12267" class="css-1dcdqdg"><code>		    container = <span class="code-keyword">this</span>._container,
</code></td></tr><tr><td id="L12268" class="css-a4x74f"><span>12268</span></td><td id="LC12268" class="css-1dcdqdg"><code>		    size = b.getSize(),
</code></td></tr><tr><td id="L12269" class="css-a4x74f"><span>12269</span></td><td id="LC12269" class="css-1dcdqdg"><code>		    m = Browser.retina ? <span class="code-number">2</span> : <span class="code-number">1</span>;
</code></td></tr><tr><td id="L12270" class="css-a4x74f"><span>12270</span></td><td id="LC12270" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12271" class="css-a4x74f"><span>12271</span></td><td id="LC12271" class="css-1dcdqdg"><code>		setPosition(container, b.min);
</code></td></tr><tr><td id="L12272" class="css-a4x74f"><span>12272</span></td><td id="LC12272" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12273" class="css-a4x74f"><span>12273</span></td><td id="LC12273" class="css-1dcdqdg"><code>		<span class="code-comment">// set canvas size (also clearing it); use double size on retina</span>
</code></td></tr><tr><td id="L12274" class="css-a4x74f"><span>12274</span></td><td id="LC12274" class="css-1dcdqdg"><code>		container.width = m * size.x;
</code></td></tr><tr><td id="L12275" class="css-a4x74f"><span>12275</span></td><td id="LC12275" class="css-1dcdqdg"><code>		container.height = m * size.y;
</code></td></tr><tr><td id="L12276" class="css-a4x74f"><span>12276</span></td><td id="LC12276" class="css-1dcdqdg"><code>		container.style.width = size.x + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L12277" class="css-a4x74f"><span>12277</span></td><td id="LC12277" class="css-1dcdqdg"><code>		container.style.height = size.y + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L12278" class="css-a4x74f"><span>12278</span></td><td id="LC12278" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12279" class="css-a4x74f"><span>12279</span></td><td id="LC12279" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (Browser.retina) {
</code></td></tr><tr><td id="L12280" class="css-a4x74f"><span>12280</span></td><td id="LC12280" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.scale(<span class="code-number">2</span>, <span class="code-number">2</span>);
</code></td></tr><tr><td id="L12281" class="css-a4x74f"><span>12281</span></td><td id="LC12281" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12282" class="css-a4x74f"><span>12282</span></td><td id="LC12282" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12283" class="css-a4x74f"><span>12283</span></td><td id="LC12283" class="css-1dcdqdg"><code>		<span class="code-comment">// translate so we use the same path coordinates after canvas element moves</span>
</code></td></tr><tr><td id="L12284" class="css-a4x74f"><span>12284</span></td><td id="LC12284" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._ctx.translate(-b.min.x, -b.min.y);
</code></td></tr><tr><td id="L12285" class="css-a4x74f"><span>12285</span></td><td id="LC12285" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12286" class="css-a4x74f"><span>12286</span></td><td id="LC12286" class="css-1dcdqdg"><code>		<span class="code-comment">// Tell paths to redraw themselves</span>
</code></td></tr><tr><td id="L12287" class="css-a4x74f"><span>12287</span></td><td id="LC12287" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'update'</span>);
</code></td></tr><tr><td id="L12288" class="css-a4x74f"><span>12288</span></td><td id="LC12288" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12289" class="css-a4x74f"><span>12289</span></td><td id="LC12289" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12290" class="css-a4x74f"><span>12290</span></td><td id="LC12290" class="css-1dcdqdg"><code>	_reset: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12291" class="css-a4x74f"><span>12291</span></td><td id="LC12291" class="css-1dcdqdg"><code>		Renderer.prototype._reset.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12292" class="css-a4x74f"><span>12292</span></td><td id="LC12292" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12293" class="css-a4x74f"><span>12293</span></td><td id="LC12293" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._postponeUpdatePaths) {
</code></td></tr><tr><td id="L12294" class="css-a4x74f"><span>12294</span></td><td id="LC12294" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._postponeUpdatePaths = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L12295" class="css-a4x74f"><span>12295</span></td><td id="LC12295" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._updatePaths();
</code></td></tr><tr><td id="L12296" class="css-a4x74f"><span>12296</span></td><td id="LC12296" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12297" class="css-a4x74f"><span>12297</span></td><td id="LC12297" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12298" class="css-a4x74f"><span>12298</span></td><td id="LC12298" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12299" class="css-a4x74f"><span>12299</span></td><td id="LC12299" class="css-1dcdqdg"><code>	_initPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12300" class="css-a4x74f"><span>12300</span></td><td id="LC12300" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateDashArray(layer);
</code></td></tr><tr><td id="L12301" class="css-a4x74f"><span>12301</span></td><td id="LC12301" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers[stamp(layer)] = layer;
</code></td></tr><tr><td id="L12302" class="css-a4x74f"><span>12302</span></td><td id="LC12302" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12303" class="css-a4x74f"><span>12303</span></td><td id="LC12303" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> order = layer._order = {
</code></td></tr><tr><td id="L12304" class="css-a4x74f"><span>12304</span></td><td id="LC12304" class="css-1dcdqdg"><code>			layer: layer,
</code></td></tr><tr><td id="L12305" class="css-a4x74f"><span>12305</span></td><td id="LC12305" class="css-1dcdqdg"><code>			prev: <span class="code-keyword">this</span>._drawLast,
</code></td></tr><tr><td id="L12306" class="css-a4x74f"><span>12306</span></td><td id="LC12306" class="css-1dcdqdg"><code>			next: <span class="code-literal">null</span>
</code></td></tr><tr><td id="L12307" class="css-a4x74f"><span>12307</span></td><td id="LC12307" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L12308" class="css-a4x74f"><span>12308</span></td><td id="LC12308" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._drawLast) { <span class="code-keyword">this</span>._drawLast.next = order; }
</code></td></tr><tr><td id="L12309" class="css-a4x74f"><span>12309</span></td><td id="LC12309" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawLast = order;
</code></td></tr><tr><td id="L12310" class="css-a4x74f"><span>12310</span></td><td id="LC12310" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawFirst = <span class="code-keyword">this</span>._drawFirst || <span class="code-keyword">this</span>._drawLast;
</code></td></tr><tr><td id="L12311" class="css-a4x74f"><span>12311</span></td><td id="LC12311" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12312" class="css-a4x74f"><span>12312</span></td><td id="LC12312" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12313" class="css-a4x74f"><span>12313</span></td><td id="LC12313" class="css-1dcdqdg"><code>	_addPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12314" class="css-a4x74f"><span>12314</span></td><td id="LC12314" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._requestRedraw(layer);
</code></td></tr><tr><td id="L12315" class="css-a4x74f"><span>12315</span></td><td id="LC12315" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12316" class="css-a4x74f"><span>12316</span></td><td id="LC12316" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12317" class="css-a4x74f"><span>12317</span></td><td id="LC12317" class="css-1dcdqdg"><code>	_removePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12318" class="css-a4x74f"><span>12318</span></td><td id="LC12318" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> order = layer._order;
</code></td></tr><tr><td id="L12319" class="css-a4x74f"><span>12319</span></td><td id="LC12319" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> next = order.next;
</code></td></tr><tr><td id="L12320" class="css-a4x74f"><span>12320</span></td><td id="LC12320" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> prev = order.prev;
</code></td></tr><tr><td id="L12321" class="css-a4x74f"><span>12321</span></td><td id="LC12321" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12322" class="css-a4x74f"><span>12322</span></td><td id="LC12322" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (next) {
</code></td></tr><tr><td id="L12323" class="css-a4x74f"><span>12323</span></td><td id="LC12323" class="css-1dcdqdg"><code>			next.prev = prev;
</code></td></tr><tr><td id="L12324" class="css-a4x74f"><span>12324</span></td><td id="LC12324" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12325" class="css-a4x74f"><span>12325</span></td><td id="LC12325" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._drawLast = prev;
</code></td></tr><tr><td id="L12326" class="css-a4x74f"><span>12326</span></td><td id="LC12326" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12327" class="css-a4x74f"><span>12327</span></td><td id="LC12327" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (prev) {
</code></td></tr><tr><td id="L12328" class="css-a4x74f"><span>12328</span></td><td id="LC12328" class="css-1dcdqdg"><code>			prev.next = next;
</code></td></tr><tr><td id="L12329" class="css-a4x74f"><span>12329</span></td><td id="LC12329" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12330" class="css-a4x74f"><span>12330</span></td><td id="LC12330" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._drawFirst = next;
</code></td></tr><tr><td id="L12331" class="css-a4x74f"><span>12331</span></td><td id="LC12331" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12332" class="css-a4x74f"><span>12332</span></td><td id="LC12332" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12333" class="css-a4x74f"><span>12333</span></td><td id="LC12333" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> layer._order;
</code></td></tr><tr><td id="L12334" class="css-a4x74f"><span>12334</span></td><td id="LC12334" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12335" class="css-a4x74f"><span>12335</span></td><td id="LC12335" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._layers[stamp(layer)];
</code></td></tr><tr><td id="L12336" class="css-a4x74f"><span>12336</span></td><td id="LC12336" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12337" class="css-a4x74f"><span>12337</span></td><td id="LC12337" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._requestRedraw(layer);
</code></td></tr><tr><td id="L12338" class="css-a4x74f"><span>12338</span></td><td id="LC12338" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12339" class="css-a4x74f"><span>12339</span></td><td id="LC12339" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12340" class="css-a4x74f"><span>12340</span></td><td id="LC12340" class="css-1dcdqdg"><code>	_updatePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12341" class="css-a4x74f"><span>12341</span></td><td id="LC12341" class="css-1dcdqdg"><code>		<span class="code-comment">// Redraw the union of the layer's old pixel</span>
</code></td></tr><tr><td id="L12342" class="css-a4x74f"><span>12342</span></td><td id="LC12342" class="css-1dcdqdg"><code>		<span class="code-comment">// bounds and the new pixel bounds.</span>
</code></td></tr><tr><td id="L12343" class="css-a4x74f"><span>12343</span></td><td id="LC12343" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._extendRedrawBounds(layer);
</code></td></tr><tr><td id="L12344" class="css-a4x74f"><span>12344</span></td><td id="LC12344" class="css-1dcdqdg"><code>		layer._project();
</code></td></tr><tr><td id="L12345" class="css-a4x74f"><span>12345</span></td><td id="LC12345" class="css-1dcdqdg"><code>		layer._update();
</code></td></tr><tr><td id="L12346" class="css-a4x74f"><span>12346</span></td><td id="LC12346" class="css-1dcdqdg"><code>		<span class="code-comment">// The redraw will extend the redraw bounds</span>
</code></td></tr><tr><td id="L12347" class="css-a4x74f"><span>12347</span></td><td id="LC12347" class="css-1dcdqdg"><code>		<span class="code-comment">// with the new pixel bounds.</span>
</code></td></tr><tr><td id="L12348" class="css-a4x74f"><span>12348</span></td><td id="LC12348" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._requestRedraw(layer);
</code></td></tr><tr><td id="L12349" class="css-a4x74f"><span>12349</span></td><td id="LC12349" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12350" class="css-a4x74f"><span>12350</span></td><td id="LC12350" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12351" class="css-a4x74f"><span>12351</span></td><td id="LC12351" class="css-1dcdqdg"><code>	_updateStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12352" class="css-a4x74f"><span>12352</span></td><td id="LC12352" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateDashArray(layer);
</code></td></tr><tr><td id="L12353" class="css-a4x74f"><span>12353</span></td><td id="LC12353" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._requestRedraw(layer);
</code></td></tr><tr><td id="L12354" class="css-a4x74f"><span>12354</span></td><td id="LC12354" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12355" class="css-a4x74f"><span>12355</span></td><td id="LC12355" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12356" class="css-a4x74f"><span>12356</span></td><td id="LC12356" class="css-1dcdqdg"><code>	_updateDashArray: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12357" class="css-a4x74f"><span>12357</span></td><td id="LC12357" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> layer.options.dashArray === <span class="code-string">'string'</span>) {
</code></td></tr><tr><td id="L12358" class="css-a4x74f"><span>12358</span></td><td id="LC12358" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> parts = layer.options.dashArray.split(<span class="code-regexp">/[, ]+/</span>),
</code></td></tr><tr><td id="L12359" class="css-a4x74f"><span>12359</span></td><td id="LC12359" class="css-1dcdqdg"><code>			    dashArray = [],
</code></td></tr><tr><td id="L12360" class="css-a4x74f"><span>12360</span></td><td id="LC12360" class="css-1dcdqdg"><code>			    dashValue,
</code></td></tr><tr><td id="L12361" class="css-a4x74f"><span>12361</span></td><td id="LC12361" class="css-1dcdqdg"><code>			    i;
</code></td></tr><tr><td id="L12362" class="css-a4x74f"><span>12362</span></td><td id="LC12362" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; parts.length; i++) {
</code></td></tr><tr><td id="L12363" class="css-a4x74f"><span>12363</span></td><td id="LC12363" class="css-1dcdqdg"><code>				dashValue = <span class="code-built_in">Number</span>(parts[i]);
</code></td></tr><tr><td id="L12364" class="css-a4x74f"><span>12364</span></td><td id="LC12364" class="css-1dcdqdg"><code>				<span class="code-comment">// Ignore dash array containing invalid lengths</span>
</code></td></tr><tr><td id="L12365" class="css-a4x74f"><span>12365</span></td><td id="LC12365" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (<span class="code-built_in">isNaN</span>(dashValue)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12366" class="css-a4x74f"><span>12366</span></td><td id="LC12366" class="css-1dcdqdg"><code>				dashArray.push(dashValue);
</code></td></tr><tr><td id="L12367" class="css-a4x74f"><span>12367</span></td><td id="LC12367" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12368" class="css-a4x74f"><span>12368</span></td><td id="LC12368" class="css-1dcdqdg"><code>			layer.options._dashArray = dashArray;
</code></td></tr><tr><td id="L12369" class="css-a4x74f"><span>12369</span></td><td id="LC12369" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12370" class="css-a4x74f"><span>12370</span></td><td id="LC12370" class="css-1dcdqdg"><code>			layer.options._dashArray = layer.options.dashArray;
</code></td></tr><tr><td id="L12371" class="css-a4x74f"><span>12371</span></td><td id="LC12371" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12372" class="css-a4x74f"><span>12372</span></td><td id="LC12372" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12373" class="css-a4x74f"><span>12373</span></td><td id="LC12373" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12374" class="css-a4x74f"><span>12374</span></td><td id="LC12374" class="css-1dcdqdg"><code>	_requestRedraw: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12375" class="css-a4x74f"><span>12375</span></td><td id="LC12375" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12376" class="css-a4x74f"><span>12376</span></td><td id="LC12376" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12377" class="css-a4x74f"><span>12377</span></td><td id="LC12377" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._extendRedrawBounds(layer);
</code></td></tr><tr><td id="L12378" class="css-a4x74f"><span>12378</span></td><td id="LC12378" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._redrawRequest = <span class="code-keyword">this</span>._redrawRequest || requestAnimFrame(<span class="code-keyword">this</span>._redraw, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12379" class="css-a4x74f"><span>12379</span></td><td id="LC12379" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12380" class="css-a4x74f"><span>12380</span></td><td id="LC12380" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12381" class="css-a4x74f"><span>12381</span></td><td id="LC12381" class="css-1dcdqdg"><code>	_extendRedrawBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12382" class="css-a4x74f"><span>12382</span></td><td id="LC12382" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer._pxBounds) {
</code></td></tr><tr><td id="L12383" class="css-a4x74f"><span>12383</span></td><td id="LC12383" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> padding = (layer.options.weight || <span class="code-number">0</span>) + <span class="code-number">1</span>;
</code></td></tr><tr><td id="L12384" class="css-a4x74f"><span>12384</span></td><td id="LC12384" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._redrawBounds = <span class="code-keyword">this</span>._redrawBounds || <span class="code-keyword">new</span> Bounds();
</code></td></tr><tr><td id="L12385" class="css-a4x74f"><span>12385</span></td><td id="LC12385" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));
</code></td></tr><tr><td id="L12386" class="css-a4x74f"><span>12386</span></td><td id="LC12386" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));
</code></td></tr><tr><td id="L12387" class="css-a4x74f"><span>12387</span></td><td id="LC12387" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12388" class="css-a4x74f"><span>12388</span></td><td id="LC12388" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12389" class="css-a4x74f"><span>12389</span></td><td id="LC12389" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12390" class="css-a4x74f"><span>12390</span></td><td id="LC12390" class="css-1dcdqdg"><code>	_redraw: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12391" class="css-a4x74f"><span>12391</span></td><td id="LC12391" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._redrawRequest = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12392" class="css-a4x74f"><span>12392</span></td><td id="LC12392" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12393" class="css-a4x74f"><span>12393</span></td><td id="LC12393" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._redrawBounds) {
</code></td></tr><tr><td id="L12394" class="css-a4x74f"><span>12394</span></td><td id="LC12394" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._redrawBounds.min._floor();
</code></td></tr><tr><td id="L12395" class="css-a4x74f"><span>12395</span></td><td id="LC12395" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._redrawBounds.max._ceil();
</code></td></tr><tr><td id="L12396" class="css-a4x74f"><span>12396</span></td><td id="LC12396" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12397" class="css-a4x74f"><span>12397</span></td><td id="LC12397" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12398" class="css-a4x74f"><span>12398</span></td><td id="LC12398" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._clear(); <span class="code-comment">// clear layers in redraw bounds</span>
</code></td></tr><tr><td id="L12399" class="css-a4x74f"><span>12399</span></td><td id="LC12399" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draw(); <span class="code-comment">// draw layers</span>
</code></td></tr><tr><td id="L12400" class="css-a4x74f"><span>12400</span></td><td id="LC12400" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12401" class="css-a4x74f"><span>12401</span></td><td id="LC12401" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._redrawBounds = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12402" class="css-a4x74f"><span>12402</span></td><td id="LC12402" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12403" class="css-a4x74f"><span>12403</span></td><td id="LC12403" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12404" class="css-a4x74f"><span>12404</span></td><td id="LC12404" class="css-1dcdqdg"><code>	_clear: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12405" class="css-a4x74f"><span>12405</span></td><td id="LC12405" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">this</span>._redrawBounds;
</code></td></tr><tr><td id="L12406" class="css-a4x74f"><span>12406</span></td><td id="LC12406" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (bounds) {
</code></td></tr><tr><td id="L12407" class="css-a4x74f"><span>12407</span></td><td id="LC12407" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> size = bounds.getSize();
</code></td></tr><tr><td id="L12408" class="css-a4x74f"><span>12408</span></td><td id="LC12408" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y);
</code></td></tr><tr><td id="L12409" class="css-a4x74f"><span>12409</span></td><td id="LC12409" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12410" class="css-a4x74f"><span>12410</span></td><td id="LC12410" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.save();
</code></td></tr><tr><td id="L12411" class="css-a4x74f"><span>12411</span></td><td id="LC12411" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.setTransform(<span class="code-number">1</span>, <span class="code-number">0</span>, <span class="code-number">0</span>, <span class="code-number">1</span>, <span class="code-number">0</span>, <span class="code-number">0</span>);
</code></td></tr><tr><td id="L12412" class="css-a4x74f"><span>12412</span></td><td id="LC12412" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.clearRect(<span class="code-number">0</span>, <span class="code-number">0</span>, <span class="code-keyword">this</span>._container.width, <span class="code-keyword">this</span>._container.height);
</code></td></tr><tr><td id="L12413" class="css-a4x74f"><span>12413</span></td><td id="LC12413" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.restore();
</code></td></tr><tr><td id="L12414" class="css-a4x74f"><span>12414</span></td><td id="LC12414" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12415" class="css-a4x74f"><span>12415</span></td><td id="LC12415" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12416" class="css-a4x74f"><span>12416</span></td><td id="LC12416" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12417" class="css-a4x74f"><span>12417</span></td><td id="LC12417" class="css-1dcdqdg"><code>	_draw: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12418" class="css-a4x74f"><span>12418</span></td><td id="LC12418" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layer, bounds = <span class="code-keyword">this</span>._redrawBounds;
</code></td></tr><tr><td id="L12419" class="css-a4x74f"><span>12419</span></td><td id="LC12419" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._ctx.save();
</code></td></tr><tr><td id="L12420" class="css-a4x74f"><span>12420</span></td><td id="LC12420" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (bounds) {
</code></td></tr><tr><td id="L12421" class="css-a4x74f"><span>12421</span></td><td id="LC12421" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> size = bounds.getSize();
</code></td></tr><tr><td id="L12422" class="css-a4x74f"><span>12422</span></td><td id="LC12422" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.beginPath();
</code></td></tr><tr><td id="L12423" class="css-a4x74f"><span>12423</span></td><td id="LC12423" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.rect(bounds.min.x, bounds.min.y, size.x, size.y);
</code></td></tr><tr><td id="L12424" class="css-a4x74f"><span>12424</span></td><td id="LC12424" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._ctx.clip();
</code></td></tr><tr><td id="L12425" class="css-a4x74f"><span>12425</span></td><td id="LC12425" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12426" class="css-a4x74f"><span>12426</span></td><td id="LC12426" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12427" class="css-a4x74f"><span>12427</span></td><td id="LC12427" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawing = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L12428" class="css-a4x74f"><span>12428</span></td><td id="LC12428" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12429" class="css-a4x74f"><span>12429</span></td><td id="LC12429" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> order = <span class="code-keyword">this</span>._drawFirst; order; order = order.next) {
</code></td></tr><tr><td id="L12430" class="css-a4x74f"><span>12430</span></td><td id="LC12430" class="css-1dcdqdg"><code>			layer = order.layer;
</code></td></tr><tr><td id="L12431" class="css-a4x74f"><span>12431</span></td><td id="LC12431" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!bounds || (layer._pxBounds &amp;&amp; layer._pxBounds.intersects(bounds))) {
</code></td></tr><tr><td id="L12432" class="css-a4x74f"><span>12432</span></td><td id="LC12432" class="css-1dcdqdg"><code>				layer._updatePath();
</code></td></tr><tr><td id="L12433" class="css-a4x74f"><span>12433</span></td><td id="LC12433" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12434" class="css-a4x74f"><span>12434</span></td><td id="LC12434" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12435" class="css-a4x74f"><span>12435</span></td><td id="LC12435" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12436" class="css-a4x74f"><span>12436</span></td><td id="LC12436" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawing = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L12437" class="css-a4x74f"><span>12437</span></td><td id="LC12437" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12438" class="css-a4x74f"><span>12438</span></td><td id="LC12438" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._ctx.restore();  <span class="code-comment">// Restore state before clipping.</span>
</code></td></tr><tr><td id="L12439" class="css-a4x74f"><span>12439</span></td><td id="LC12439" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12440" class="css-a4x74f"><span>12440</span></td><td id="LC12440" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12441" class="css-a4x74f"><span>12441</span></td><td id="LC12441" class="css-1dcdqdg"><code>	_updatePoly: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, closed</span>) </span>{
</code></td></tr><tr><td id="L12442" class="css-a4x74f"><span>12442</span></td><td id="LC12442" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._drawing) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12443" class="css-a4x74f"><span>12443</span></td><td id="LC12443" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12444" class="css-a4x74f"><span>12444</span></td><td id="LC12444" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> i, j, len2, p,
</code></td></tr><tr><td id="L12445" class="css-a4x74f"><span>12445</span></td><td id="LC12445" class="css-1dcdqdg"><code>		    parts = layer._parts,
</code></td></tr><tr><td id="L12446" class="css-a4x74f"><span>12446</span></td><td id="LC12446" class="css-1dcdqdg"><code>		    len = parts.length,
</code></td></tr><tr><td id="L12447" class="css-a4x74f"><span>12447</span></td><td id="LC12447" class="css-1dcdqdg"><code>		    ctx = <span class="code-keyword">this</span>._ctx;
</code></td></tr><tr><td id="L12448" class="css-a4x74f"><span>12448</span></td><td id="LC12448" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12449" class="css-a4x74f"><span>12449</span></td><td id="LC12449" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!len) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12450" class="css-a4x74f"><span>12450</span></td><td id="LC12450" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12451" class="css-a4x74f"><span>12451</span></td><td id="LC12451" class="css-1dcdqdg"><code>		ctx.beginPath();
</code></td></tr><tr><td id="L12452" class="css-a4x74f"><span>12452</span></td><td id="LC12452" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12453" class="css-a4x74f"><span>12453</span></td><td id="LC12453" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>; i &lt; len; i++) {
</code></td></tr><tr><td id="L12454" class="css-a4x74f"><span>12454</span></td><td id="LC12454" class="css-1dcdqdg"><code>			<span class="code-keyword">for</span> (j = <span class="code-number">0</span>, len2 = parts[i].length; j &lt; len2; j++) {
</code></td></tr><tr><td id="L12455" class="css-a4x74f"><span>12455</span></td><td id="LC12455" class="css-1dcdqdg"><code>				p = parts[i][j];
</code></td></tr><tr><td id="L12456" class="css-a4x74f"><span>12456</span></td><td id="LC12456" class="css-1dcdqdg"><code>				ctx[j ? <span class="code-string">'lineTo'</span> : <span class="code-string">'moveTo'</span>](p.x, p.y);
</code></td></tr><tr><td id="L12457" class="css-a4x74f"><span>12457</span></td><td id="LC12457" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12458" class="css-a4x74f"><span>12458</span></td><td id="LC12458" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (closed) {
</code></td></tr><tr><td id="L12459" class="css-a4x74f"><span>12459</span></td><td id="LC12459" class="css-1dcdqdg"><code>				ctx.closePath();
</code></td></tr><tr><td id="L12460" class="css-a4x74f"><span>12460</span></td><td id="LC12460" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12461" class="css-a4x74f"><span>12461</span></td><td id="LC12461" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12462" class="css-a4x74f"><span>12462</span></td><td id="LC12462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12463" class="css-a4x74f"><span>12463</span></td><td id="LC12463" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._fillStroke(ctx, layer);
</code></td></tr><tr><td id="L12464" class="css-a4x74f"><span>12464</span></td><td id="LC12464" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12465" class="css-a4x74f"><span>12465</span></td><td id="LC12465" class="css-1dcdqdg"><code>		<span class="code-comment">// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature</span>
</code></td></tr><tr><td id="L12466" class="css-a4x74f"><span>12466</span></td><td id="LC12466" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12467" class="css-a4x74f"><span>12467</span></td><td id="LC12467" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12468" class="css-a4x74f"><span>12468</span></td><td id="LC12468" class="css-1dcdqdg"><code>	_updateCircle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12469" class="css-a4x74f"><span>12469</span></td><td id="LC12469" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12470" class="css-a4x74f"><span>12470</span></td><td id="LC12470" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._drawing || layer._empty()) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12471" class="css-a4x74f"><span>12471</span></td><td id="LC12471" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12472" class="css-a4x74f"><span>12472</span></td><td id="LC12472" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> p = layer._point,
</code></td></tr><tr><td id="L12473" class="css-a4x74f"><span>12473</span></td><td id="LC12473" class="css-1dcdqdg"><code>		    ctx = <span class="code-keyword">this</span>._ctx,
</code></td></tr><tr><td id="L12474" class="css-a4x74f"><span>12474</span></td><td id="LC12474" class="css-1dcdqdg"><code>		    r = <span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.round(layer._radius), <span class="code-number">1</span>),
</code></td></tr><tr><td id="L12475" class="css-a4x74f"><span>12475</span></td><td id="LC12475" class="css-1dcdqdg"><code>		    s = (<span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.round(layer._radiusY), <span class="code-number">1</span>) || r) / r;
</code></td></tr><tr><td id="L12476" class="css-a4x74f"><span>12476</span></td><td id="LC12476" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12477" class="css-a4x74f"><span>12477</span></td><td id="LC12477" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (s !== <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L12478" class="css-a4x74f"><span>12478</span></td><td id="LC12478" class="css-1dcdqdg"><code>			ctx.save();
</code></td></tr><tr><td id="L12479" class="css-a4x74f"><span>12479</span></td><td id="LC12479" class="css-1dcdqdg"><code>			ctx.scale(<span class="code-number">1</span>, s);
</code></td></tr><tr><td id="L12480" class="css-a4x74f"><span>12480</span></td><td id="LC12480" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12481" class="css-a4x74f"><span>12481</span></td><td id="LC12481" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12482" class="css-a4x74f"><span>12482</span></td><td id="LC12482" class="css-1dcdqdg"><code>		ctx.beginPath();
</code></td></tr><tr><td id="L12483" class="css-a4x74f"><span>12483</span></td><td id="LC12483" class="css-1dcdqdg"><code>		ctx.arc(p.x, p.y / s, r, <span class="code-number">0</span>, <span class="code-built_in">Math</span>.PI * <span class="code-number">2</span>, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L12484" class="css-a4x74f"><span>12484</span></td><td id="LC12484" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12485" class="css-a4x74f"><span>12485</span></td><td id="LC12485" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (s !== <span class="code-number">1</span>) {
</code></td></tr><tr><td id="L12486" class="css-a4x74f"><span>12486</span></td><td id="LC12486" class="css-1dcdqdg"><code>			ctx.restore();
</code></td></tr><tr><td id="L12487" class="css-a4x74f"><span>12487</span></td><td id="LC12487" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12488" class="css-a4x74f"><span>12488</span></td><td id="LC12488" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12489" class="css-a4x74f"><span>12489</span></td><td id="LC12489" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._fillStroke(ctx, layer);
</code></td></tr><tr><td id="L12490" class="css-a4x74f"><span>12490</span></td><td id="LC12490" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12491" class="css-a4x74f"><span>12491</span></td><td id="LC12491" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12492" class="css-a4x74f"><span>12492</span></td><td id="LC12492" class="css-1dcdqdg"><code>	_fillStroke: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">ctx, layer</span>) </span>{
</code></td></tr><tr><td id="L12493" class="css-a4x74f"><span>12493</span></td><td id="LC12493" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> options = layer.options;
</code></td></tr><tr><td id="L12494" class="css-a4x74f"><span>12494</span></td><td id="LC12494" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12495" class="css-a4x74f"><span>12495</span></td><td id="LC12495" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.fill) {
</code></td></tr><tr><td id="L12496" class="css-a4x74f"><span>12496</span></td><td id="LC12496" class="css-1dcdqdg"><code>			ctx.globalAlpha = options.fillOpacity;
</code></td></tr><tr><td id="L12497" class="css-a4x74f"><span>12497</span></td><td id="LC12497" class="css-1dcdqdg"><code>			ctx.fillStyle = options.fillColor || options.color;
</code></td></tr><tr><td id="L12498" class="css-a4x74f"><span>12498</span></td><td id="LC12498" class="css-1dcdqdg"><code>			ctx.fill(options.fillRule || <span class="code-string">'evenodd'</span>);
</code></td></tr><tr><td id="L12499" class="css-a4x74f"><span>12499</span></td><td id="LC12499" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12500" class="css-a4x74f"><span>12500</span></td><td id="LC12500" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12501" class="css-a4x74f"><span>12501</span></td><td id="LC12501" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.stroke &amp;&amp; options.weight !== <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L12502" class="css-a4x74f"><span>12502</span></td><td id="LC12502" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (ctx.setLineDash) {
</code></td></tr><tr><td id="L12503" class="css-a4x74f"><span>12503</span></td><td id="LC12503" class="css-1dcdqdg"><code>				ctx.setLineDash(layer.options &amp;&amp; layer.options._dashArray || []);
</code></td></tr><tr><td id="L12504" class="css-a4x74f"><span>12504</span></td><td id="LC12504" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12505" class="css-a4x74f"><span>12505</span></td><td id="LC12505" class="css-1dcdqdg"><code>			ctx.globalAlpha = options.opacity;
</code></td></tr><tr><td id="L12506" class="css-a4x74f"><span>12506</span></td><td id="LC12506" class="css-1dcdqdg"><code>			ctx.lineWidth = options.weight;
</code></td></tr><tr><td id="L12507" class="css-a4x74f"><span>12507</span></td><td id="LC12507" class="css-1dcdqdg"><code>			ctx.strokeStyle = options.color;
</code></td></tr><tr><td id="L12508" class="css-a4x74f"><span>12508</span></td><td id="LC12508" class="css-1dcdqdg"><code>			ctx.lineCap = options.lineCap;
</code></td></tr><tr><td id="L12509" class="css-a4x74f"><span>12509</span></td><td id="LC12509" class="css-1dcdqdg"><code>			ctx.lineJoin = options.lineJoin;
</code></td></tr><tr><td id="L12510" class="css-a4x74f"><span>12510</span></td><td id="LC12510" class="css-1dcdqdg"><code>			ctx.stroke();
</code></td></tr><tr><td id="L12511" class="css-a4x74f"><span>12511</span></td><td id="LC12511" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12512" class="css-a4x74f"><span>12512</span></td><td id="LC12512" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12513" class="css-a4x74f"><span>12513</span></td><td id="LC12513" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12514" class="css-a4x74f"><span>12514</span></td><td id="LC12514" class="css-1dcdqdg"><code>	<span class="code-comment">// Canvas obviously doesn't have mouse events for individual drawn objects,</span>
</code></td></tr><tr><td id="L12515" class="css-a4x74f"><span>12515</span></td><td id="LC12515" class="css-1dcdqdg"><code>	<span class="code-comment">// so we emulate that by calculating what's under the mouse on mousemove/click manually</span>
</code></td></tr><tr><td id="L12516" class="css-a4x74f"><span>12516</span></td><td id="LC12516" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12517" class="css-a4x74f"><span>12517</span></td><td id="LC12517" class="css-1dcdqdg"><code>	_onClick: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L12518" class="css-a4x74f"><span>12518</span></td><td id="LC12518" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> point = <span class="code-keyword">this</span>._map.mouseEventToLayerPoint(e), layer, clickedLayer;
</code></td></tr><tr><td id="L12519" class="css-a4x74f"><span>12519</span></td><td id="LC12519" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12520" class="css-a4x74f"><span>12520</span></td><td id="LC12520" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> order = <span class="code-keyword">this</span>._drawFirst; order; order = order.next) {
</code></td></tr><tr><td id="L12521" class="css-a4x74f"><span>12521</span></td><td id="LC12521" class="css-1dcdqdg"><code>			layer = order.layer;
</code></td></tr><tr><td id="L12522" class="css-a4x74f"><span>12522</span></td><td id="LC12522" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (layer.options.interactive &amp;&amp; layer._containsPoint(point)) {
</code></td></tr><tr><td id="L12523" class="css-a4x74f"><span>12523</span></td><td id="LC12523" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (!(e.type === <span class="code-string">'click'</span> || e.type === <span class="code-string">'preclick'</span>) || !<span class="code-keyword">this</span>._map._draggableMoved(layer)) {
</code></td></tr><tr><td id="L12524" class="css-a4x74f"><span>12524</span></td><td id="LC12524" class="css-1dcdqdg"><code>					clickedLayer = layer;
</code></td></tr><tr><td id="L12525" class="css-a4x74f"><span>12525</span></td><td id="LC12525" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L12526" class="css-a4x74f"><span>12526</span></td><td id="LC12526" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12527" class="css-a4x74f"><span>12527</span></td><td id="LC12527" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12528" class="css-a4x74f"><span>12528</span></td><td id="LC12528" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._fireEvent(clickedLayer ? [clickedLayer] : <span class="code-literal">false</span>, e);
</code></td></tr><tr><td id="L12529" class="css-a4x74f"><span>12529</span></td><td id="LC12529" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12530" class="css-a4x74f"><span>12530</span></td><td id="LC12530" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12531" class="css-a4x74f"><span>12531</span></td><td id="LC12531" class="css-1dcdqdg"><code>	_onMouseMove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L12532" class="css-a4x74f"><span>12532</span></td><td id="LC12532" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._map || <span class="code-keyword">this</span>._map.dragging.moving() || <span class="code-keyword">this</span>._map._animatingZoom) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12533" class="css-a4x74f"><span>12533</span></td><td id="LC12533" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12534" class="css-a4x74f"><span>12534</span></td><td id="LC12534" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> point = <span class="code-keyword">this</span>._map.mouseEventToLayerPoint(e);
</code></td></tr><tr><td id="L12535" class="css-a4x74f"><span>12535</span></td><td id="LC12535" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._handleMouseHover(e, point);
</code></td></tr><tr><td id="L12536" class="css-a4x74f"><span>12536</span></td><td id="LC12536" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12537" class="css-a4x74f"><span>12537</span></td><td id="LC12537" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12538" class="css-a4x74f"><span>12538</span></td><td id="LC12538" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12539" class="css-a4x74f"><span>12539</span></td><td id="LC12539" class="css-1dcdqdg"><code>	_handleMouseOut: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L12540" class="css-a4x74f"><span>12540</span></td><td id="LC12540" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layer = <span class="code-keyword">this</span>._hoveredLayer;
</code></td></tr><tr><td id="L12541" class="css-a4x74f"><span>12541</span></td><td id="LC12541" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer) {
</code></td></tr><tr><td id="L12542" class="css-a4x74f"><span>12542</span></td><td id="LC12542" class="css-1dcdqdg"><code>			<span class="code-comment">// if we're leaving the layer, fire mouseout</span>
</code></td></tr><tr><td id="L12543" class="css-a4x74f"><span>12543</span></td><td id="LC12543" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-interactive'</span>);
</code></td></tr><tr><td id="L12544" class="css-a4x74f"><span>12544</span></td><td id="LC12544" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._fireEvent([layer], e, <span class="code-string">'mouseout'</span>);
</code></td></tr><tr><td id="L12545" class="css-a4x74f"><span>12545</span></td><td id="LC12545" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._hoveredLayer = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12546" class="css-a4x74f"><span>12546</span></td><td id="LC12546" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._mouseHoverThrottled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L12547" class="css-a4x74f"><span>12547</span></td><td id="LC12547" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12548" class="css-a4x74f"><span>12548</span></td><td id="LC12548" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12549" class="css-a4x74f"><span>12549</span></td><td id="LC12549" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12550" class="css-a4x74f"><span>12550</span></td><td id="LC12550" class="css-1dcdqdg"><code>	_handleMouseHover: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e, point</span>) </span>{
</code></td></tr><tr><td id="L12551" class="css-a4x74f"><span>12551</span></td><td id="LC12551" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._mouseHoverThrottled) {
</code></td></tr><tr><td id="L12552" class="css-a4x74f"><span>12552</span></td><td id="LC12552" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L12553" class="css-a4x74f"><span>12553</span></td><td id="LC12553" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12554" class="css-a4x74f"><span>12554</span></td><td id="LC12554" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12555" class="css-a4x74f"><span>12555</span></td><td id="LC12555" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> layer, candidateHoveredLayer;
</code></td></tr><tr><td id="L12556" class="css-a4x74f"><span>12556</span></td><td id="LC12556" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12557" class="css-a4x74f"><span>12557</span></td><td id="LC12557" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (<span class="code-keyword">var</span> order = <span class="code-keyword">this</span>._drawFirst; order; order = order.next) {
</code></td></tr><tr><td id="L12558" class="css-a4x74f"><span>12558</span></td><td id="LC12558" class="css-1dcdqdg"><code>			layer = order.layer;
</code></td></tr><tr><td id="L12559" class="css-a4x74f"><span>12559</span></td><td id="LC12559" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (layer.options.interactive &amp;&amp; layer._containsPoint(point)) {
</code></td></tr><tr><td id="L12560" class="css-a4x74f"><span>12560</span></td><td id="LC12560" class="css-1dcdqdg"><code>				candidateHoveredLayer = layer;
</code></td></tr><tr><td id="L12561" class="css-a4x74f"><span>12561</span></td><td id="LC12561" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12562" class="css-a4x74f"><span>12562</span></td><td id="LC12562" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12563" class="css-a4x74f"><span>12563</span></td><td id="LC12563" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12564" class="css-a4x74f"><span>12564</span></td><td id="LC12564" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (candidateHoveredLayer !== <span class="code-keyword">this</span>._hoveredLayer) {
</code></td></tr><tr><td id="L12565" class="css-a4x74f"><span>12565</span></td><td id="LC12565" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._handleMouseOut(e);
</code></td></tr><tr><td id="L12566" class="css-a4x74f"><span>12566</span></td><td id="LC12566" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12567" class="css-a4x74f"><span>12567</span></td><td id="LC12567" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (candidateHoveredLayer) {
</code></td></tr><tr><td id="L12568" class="css-a4x74f"><span>12568</span></td><td id="LC12568" class="css-1dcdqdg"><code>				addClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-interactive'</span>); <span class="code-comment">// change cursor</span>
</code></td></tr><tr><td id="L12569" class="css-a4x74f"><span>12569</span></td><td id="LC12569" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._fireEvent([candidateHoveredLayer], e, <span class="code-string">'mouseover'</span>);
</code></td></tr><tr><td id="L12570" class="css-a4x74f"><span>12570</span></td><td id="LC12570" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._hoveredLayer = candidateHoveredLayer;
</code></td></tr><tr><td id="L12571" class="css-a4x74f"><span>12571</span></td><td id="LC12571" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12572" class="css-a4x74f"><span>12572</span></td><td id="LC12572" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12573" class="css-a4x74f"><span>12573</span></td><td id="LC12573" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12574" class="css-a4x74f"><span>12574</span></td><td id="LC12574" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._fireEvent(<span class="code-keyword">this</span>._hoveredLayer ? [<span class="code-keyword">this</span>._hoveredLayer] : <span class="code-literal">false</span>, e);
</code></td></tr><tr><td id="L12575" class="css-a4x74f"><span>12575</span></td><td id="LC12575" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12576" class="css-a4x74f"><span>12576</span></td><td id="LC12576" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._mouseHoverThrottled = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L12577" class="css-a4x74f"><span>12577</span></td><td id="LC12577" class="css-1dcdqdg"><code>		setTimeout(bind(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12578" class="css-a4x74f"><span>12578</span></td><td id="LC12578" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._mouseHoverThrottled = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L12579" class="css-a4x74f"><span>12579</span></td><td id="LC12579" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>), <span class="code-number">32</span>);
</code></td></tr><tr><td id="L12580" class="css-a4x74f"><span>12580</span></td><td id="LC12580" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12581" class="css-a4x74f"><span>12581</span></td><td id="LC12581" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12582" class="css-a4x74f"><span>12582</span></td><td id="LC12582" class="css-1dcdqdg"><code>	_fireEvent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layers, e, type</span>) </span>{
</code></td></tr><tr><td id="L12583" class="css-a4x74f"><span>12583</span></td><td id="LC12583" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map._fireDOMEvent(e, type || e.type, layers);
</code></td></tr><tr><td id="L12584" class="css-a4x74f"><span>12584</span></td><td id="LC12584" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12585" class="css-a4x74f"><span>12585</span></td><td id="LC12585" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12586" class="css-a4x74f"><span>12586</span></td><td id="LC12586" class="css-1dcdqdg"><code>	_bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12587" class="css-a4x74f"><span>12587</span></td><td id="LC12587" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> order = layer._order;
</code></td></tr><tr><td id="L12588" class="css-a4x74f"><span>12588</span></td><td id="LC12588" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12589" class="css-a4x74f"><span>12589</span></td><td id="LC12589" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!order) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12590" class="css-a4x74f"><span>12590</span></td><td id="LC12590" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12591" class="css-a4x74f"><span>12591</span></td><td id="LC12591" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> next = order.next;
</code></td></tr><tr><td id="L12592" class="css-a4x74f"><span>12592</span></td><td id="LC12592" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> prev = order.prev;
</code></td></tr><tr><td id="L12593" class="css-a4x74f"><span>12593</span></td><td id="LC12593" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12594" class="css-a4x74f"><span>12594</span></td><td id="LC12594" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (next) {
</code></td></tr><tr><td id="L12595" class="css-a4x74f"><span>12595</span></td><td id="LC12595" class="css-1dcdqdg"><code>			next.prev = prev;
</code></td></tr><tr><td id="L12596" class="css-a4x74f"><span>12596</span></td><td id="LC12596" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12597" class="css-a4x74f"><span>12597</span></td><td id="LC12597" class="css-1dcdqdg"><code>			<span class="code-comment">// Already last</span>
</code></td></tr><tr><td id="L12598" class="css-a4x74f"><span>12598</span></td><td id="LC12598" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L12599" class="css-a4x74f"><span>12599</span></td><td id="LC12599" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12600" class="css-a4x74f"><span>12600</span></td><td id="LC12600" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (prev) {
</code></td></tr><tr><td id="L12601" class="css-a4x74f"><span>12601</span></td><td id="LC12601" class="css-1dcdqdg"><code>			prev.next = next;
</code></td></tr><tr><td id="L12602" class="css-a4x74f"><span>12602</span></td><td id="LC12602" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (next) {
</code></td></tr><tr><td id="L12603" class="css-a4x74f"><span>12603</span></td><td id="LC12603" class="css-1dcdqdg"><code>			<span class="code-comment">// Update first entry unless this is the</span>
</code></td></tr><tr><td id="L12604" class="css-a4x74f"><span>12604</span></td><td id="LC12604" class="css-1dcdqdg"><code>			<span class="code-comment">// single entry</span>
</code></td></tr><tr><td id="L12605" class="css-a4x74f"><span>12605</span></td><td id="LC12605" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._drawFirst = next;
</code></td></tr><tr><td id="L12606" class="css-a4x74f"><span>12606</span></td><td id="LC12606" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12607" class="css-a4x74f"><span>12607</span></td><td id="LC12607" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12608" class="css-a4x74f"><span>12608</span></td><td id="LC12608" class="css-1dcdqdg"><code>		order.prev = <span class="code-keyword">this</span>._drawLast;
</code></td></tr><tr><td id="L12609" class="css-a4x74f"><span>12609</span></td><td id="LC12609" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawLast.next = order;
</code></td></tr><tr><td id="L12610" class="css-a4x74f"><span>12610</span></td><td id="LC12610" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12611" class="css-a4x74f"><span>12611</span></td><td id="LC12611" class="css-1dcdqdg"><code>		order.next = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12612" class="css-a4x74f"><span>12612</span></td><td id="LC12612" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawLast = order;
</code></td></tr><tr><td id="L12613" class="css-a4x74f"><span>12613</span></td><td id="LC12613" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12614" class="css-a4x74f"><span>12614</span></td><td id="LC12614" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._requestRedraw(layer);
</code></td></tr><tr><td id="L12615" class="css-a4x74f"><span>12615</span></td><td id="LC12615" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12616" class="css-a4x74f"><span>12616</span></td><td id="LC12616" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12617" class="css-a4x74f"><span>12617</span></td><td id="LC12617" class="css-1dcdqdg"><code>	_bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12618" class="css-a4x74f"><span>12618</span></td><td id="LC12618" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> order = layer._order;
</code></td></tr><tr><td id="L12619" class="css-a4x74f"><span>12619</span></td><td id="LC12619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12620" class="css-a4x74f"><span>12620</span></td><td id="LC12620" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!order) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12621" class="css-a4x74f"><span>12621</span></td><td id="LC12621" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12622" class="css-a4x74f"><span>12622</span></td><td id="LC12622" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> next = order.next;
</code></td></tr><tr><td id="L12623" class="css-a4x74f"><span>12623</span></td><td id="LC12623" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> prev = order.prev;
</code></td></tr><tr><td id="L12624" class="css-a4x74f"><span>12624</span></td><td id="LC12624" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12625" class="css-a4x74f"><span>12625</span></td><td id="LC12625" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (prev) {
</code></td></tr><tr><td id="L12626" class="css-a4x74f"><span>12626</span></td><td id="LC12626" class="css-1dcdqdg"><code>			prev.next = next;
</code></td></tr><tr><td id="L12627" class="css-a4x74f"><span>12627</span></td><td id="LC12627" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12628" class="css-a4x74f"><span>12628</span></td><td id="LC12628" class="css-1dcdqdg"><code>			<span class="code-comment">// Already first</span>
</code></td></tr><tr><td id="L12629" class="css-a4x74f"><span>12629</span></td><td id="LC12629" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L12630" class="css-a4x74f"><span>12630</span></td><td id="LC12630" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12631" class="css-a4x74f"><span>12631</span></td><td id="LC12631" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (next) {
</code></td></tr><tr><td id="L12632" class="css-a4x74f"><span>12632</span></td><td id="LC12632" class="css-1dcdqdg"><code>			next.prev = prev;
</code></td></tr><tr><td id="L12633" class="css-a4x74f"><span>12633</span></td><td id="LC12633" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (prev) {
</code></td></tr><tr><td id="L12634" class="css-a4x74f"><span>12634</span></td><td id="LC12634" class="css-1dcdqdg"><code>			<span class="code-comment">// Update last entry unless this is the</span>
</code></td></tr><tr><td id="L12635" class="css-a4x74f"><span>12635</span></td><td id="LC12635" class="css-1dcdqdg"><code>			<span class="code-comment">// single entry</span>
</code></td></tr><tr><td id="L12636" class="css-a4x74f"><span>12636</span></td><td id="LC12636" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._drawLast = prev;
</code></td></tr><tr><td id="L12637" class="css-a4x74f"><span>12637</span></td><td id="LC12637" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12638" class="css-a4x74f"><span>12638</span></td><td id="LC12638" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12639" class="css-a4x74f"><span>12639</span></td><td id="LC12639" class="css-1dcdqdg"><code>		order.prev = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12640" class="css-a4x74f"><span>12640</span></td><td id="LC12640" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12641" class="css-a4x74f"><span>12641</span></td><td id="LC12641" class="css-1dcdqdg"><code>		order.next = <span class="code-keyword">this</span>._drawFirst;
</code></td></tr><tr><td id="L12642" class="css-a4x74f"><span>12642</span></td><td id="LC12642" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawFirst.prev = order;
</code></td></tr><tr><td id="L12643" class="css-a4x74f"><span>12643</span></td><td id="LC12643" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._drawFirst = order;
</code></td></tr><tr><td id="L12644" class="css-a4x74f"><span>12644</span></td><td id="LC12644" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12645" class="css-a4x74f"><span>12645</span></td><td id="LC12645" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._requestRedraw(layer);
</code></td></tr><tr><td id="L12646" class="css-a4x74f"><span>12646</span></td><td id="LC12646" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L12647" class="css-a4x74f"><span>12647</span></td><td id="LC12647" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L12648" class="css-a4x74f"><span>12648</span></td><td id="LC12648" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12649" class="css-a4x74f"><span>12649</span></td><td id="LC12649" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.canvas(options?: Renderer options)</span>
</code></td></tr><tr><td id="L12650" class="css-a4x74f"><span>12650</span></td><td id="LC12650" class="css-1dcdqdg"><code><span class="code-comment">// Creates a Canvas renderer with the given options.</span>
</code></td></tr><tr><td id="L12651" class="css-a4x74f"><span>12651</span></td><td id="LC12651" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">canvas</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L12652" class="css-a4x74f"><span>12652</span></td><td id="LC12652" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> Browser.canvas ? <span class="code-keyword">new</span> Canvas(options) : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12653" class="css-a4x74f"><span>12653</span></td><td id="LC12653" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L12654" class="css-a4x74f"><span>12654</span></td><td id="LC12654" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12655" class="css-a4x74f"><span>12655</span></td><td id="LC12655" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L12656" class="css-a4x74f"><span>12656</span></td><td id="LC12656" class="css-1dcdqdg"><code><span class="code-comment"> * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!
</span></code></td></tr><tr><td id="L12657" class="css-a4x74f"><span>12657</span></td><td id="LC12657" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L12658" class="css-a4x74f"><span>12658</span></td><td id="LC12658" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12659" class="css-a4x74f"><span>12659</span></td><td id="LC12659" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12660" class="css-a4x74f"><span>12660</span></td><td id="LC12660" class="css-1dcdqdg"><code><span class="code-keyword">var</span> vmlCreate = (<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12661" class="css-a4x74f"><span>12661</span></td><td id="LC12661" class="css-1dcdqdg"><code>	<span class="code-keyword">try</span> {
</code></td></tr><tr><td id="L12662" class="css-a4x74f"><span>12662</span></td><td id="LC12662" class="css-1dcdqdg"><code>		<span class="code-built_in">document</span>.namespaces.add(<span class="code-string">'lvml'</span>, <span class="code-string">'urn:schemas-microsoft-com:vml'</span>);
</code></td></tr><tr><td id="L12663" class="css-a4x74f"><span>12663</span></td><td id="LC12663" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L12664" class="css-a4x74f"><span>12664</span></td><td id="LC12664" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-built_in">document</span>.createElement(<span class="code-string">'&lt;lvml:'</span> + name + <span class="code-string">' class="lvml"&gt;'</span>);
</code></td></tr><tr><td id="L12665" class="css-a4x74f"><span>12665</span></td><td id="LC12665" class="css-1dcdqdg"><code>		};
</code></td></tr><tr><td id="L12666" class="css-a4x74f"><span>12666</span></td><td id="LC12666" class="css-1dcdqdg"><code>	} <span class="code-keyword">catch</span> (e) {
</code></td></tr><tr><td id="L12667" class="css-a4x74f"><span>12667</span></td><td id="LC12667" class="css-1dcdqdg"><code>		<span class="code-comment">// Do not return fn from catch block so `e` can be garbage collected</span>
</code></td></tr><tr><td id="L12668" class="css-a4x74f"><span>12668</span></td><td id="LC12668" class="css-1dcdqdg"><code>		<span class="code-comment">// See https://github.com/Leaflet/Leaflet/pull/7279</span>
</code></td></tr><tr><td id="L12669" class="css-a4x74f"><span>12669</span></td><td id="LC12669" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L12670" class="css-a4x74f"><span>12670</span></td><td id="LC12670" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L12671" class="css-a4x74f"><span>12671</span></td><td id="LC12671" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-built_in">document</span>.createElement(<span class="code-string">'&lt;'</span> + name + <span class="code-string">' xmlns="urn:schemas-microsoft.com:vml" class="lvml"&gt;'</span>);
</code></td></tr><tr><td id="L12672" class="css-a4x74f"><span>12672</span></td><td id="LC12672" class="css-1dcdqdg"><code>	};
</code></td></tr><tr><td id="L12673" class="css-a4x74f"><span>12673</span></td><td id="LC12673" class="css-1dcdqdg"><code>})();
</code></td></tr><tr><td id="L12674" class="css-a4x74f"><span>12674</span></td><td id="LC12674" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12675" class="css-a4x74f"><span>12675</span></td><td id="LC12675" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12676" class="css-a4x74f"><span>12676</span></td><td id="LC12676" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L12677" class="css-a4x74f"><span>12677</span></td><td id="LC12677" class="css-1dcdqdg"><code><span class="code-comment"> * @class SVG
</span></code></td></tr><tr><td id="L12678" class="css-a4x74f"><span>12678</span></td><td id="LC12678" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12679" class="css-a4x74f"><span>12679</span></td><td id="LC12679" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12680" class="css-a4x74f"><span>12680</span></td><td id="LC12680" class="css-1dcdqdg"><code><span class="code-comment"> * VML was deprecated in 2012, which means VML functionality exists only for backwards compatibility
</span></code></td></tr><tr><td id="L12681" class="css-a4x74f"><span>12681</span></td><td id="LC12681" class="css-1dcdqdg"><code><span class="code-comment"> * with old versions of Internet Explorer.
</span></code></td></tr><tr><td id="L12682" class="css-a4x74f"><span>12682</span></td><td id="LC12682" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L12683" class="css-a4x74f"><span>12683</span></td><td id="LC12683" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12684" class="css-a4x74f"><span>12684</span></td><td id="LC12684" class="css-1dcdqdg"><code><span class="code-comment">// mixin to redefine some SVG methods to handle VML syntax which is similar but with some differences</span>
</code></td></tr><tr><td id="L12685" class="css-a4x74f"><span>12685</span></td><td id="LC12685" class="css-1dcdqdg"><code><span class="code-keyword">var</span> vmlMixin = {
</code></td></tr><tr><td id="L12686" class="css-a4x74f"><span>12686</span></td><td id="LC12686" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12687" class="css-a4x74f"><span>12687</span></td><td id="LC12687" class="css-1dcdqdg"><code>	_initContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12688" class="css-a4x74f"><span>12688</span></td><td id="LC12688" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, <span class="code-string">'leaflet-vml-container'</span>);
</code></td></tr><tr><td id="L12689" class="css-a4x74f"><span>12689</span></td><td id="LC12689" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12690" class="css-a4x74f"><span>12690</span></td><td id="LC12690" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12691" class="css-a4x74f"><span>12691</span></td><td id="LC12691" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12692" class="css-a4x74f"><span>12692</span></td><td id="LC12692" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map._animatingZoom) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12693" class="css-a4x74f"><span>12693</span></td><td id="LC12693" class="css-1dcdqdg"><code>		Renderer.prototype._update.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12694" class="css-a4x74f"><span>12694</span></td><td id="LC12694" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'update'</span>);
</code></td></tr><tr><td id="L12695" class="css-a4x74f"><span>12695</span></td><td id="LC12695" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12696" class="css-a4x74f"><span>12696</span></td><td id="LC12696" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12697" class="css-a4x74f"><span>12697</span></td><td id="LC12697" class="css-1dcdqdg"><code>	_initPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12698" class="css-a4x74f"><span>12698</span></td><td id="LC12698" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = layer._container = vmlCreate(<span class="code-string">'shape'</span>);
</code></td></tr><tr><td id="L12699" class="css-a4x74f"><span>12699</span></td><td id="LC12699" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12700" class="css-a4x74f"><span>12700</span></td><td id="LC12700" class="css-1dcdqdg"><code>		addClass(container, <span class="code-string">'leaflet-vml-shape '</span> + (<span class="code-keyword">this</span>.options.className || <span class="code-string">''</span>));
</code></td></tr><tr><td id="L12701" class="css-a4x74f"><span>12701</span></td><td id="LC12701" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12702" class="css-a4x74f"><span>12702</span></td><td id="LC12702" class="css-1dcdqdg"><code>		container.coordsize = <span class="code-string">'1 1'</span>;
</code></td></tr><tr><td id="L12703" class="css-a4x74f"><span>12703</span></td><td id="LC12703" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12704" class="css-a4x74f"><span>12704</span></td><td id="LC12704" class="css-1dcdqdg"><code>		layer._path = vmlCreate(<span class="code-string">'path'</span>);
</code></td></tr><tr><td id="L12705" class="css-a4x74f"><span>12705</span></td><td id="LC12705" class="css-1dcdqdg"><code>		container.appendChild(layer._path);
</code></td></tr><tr><td id="L12706" class="css-a4x74f"><span>12706</span></td><td id="LC12706" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12707" class="css-a4x74f"><span>12707</span></td><td id="LC12707" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateStyle(layer);
</code></td></tr><tr><td id="L12708" class="css-a4x74f"><span>12708</span></td><td id="LC12708" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers[stamp(layer)] = layer;
</code></td></tr><tr><td id="L12709" class="css-a4x74f"><span>12709</span></td><td id="LC12709" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12710" class="css-a4x74f"><span>12710</span></td><td id="LC12710" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12711" class="css-a4x74f"><span>12711</span></td><td id="LC12711" class="css-1dcdqdg"><code>	_addPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12712" class="css-a4x74f"><span>12712</span></td><td id="LC12712" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = layer._container;
</code></td></tr><tr><td id="L12713" class="css-a4x74f"><span>12713</span></td><td id="LC12713" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.appendChild(container);
</code></td></tr><tr><td id="L12714" class="css-a4x74f"><span>12714</span></td><td id="LC12714" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12715" class="css-a4x74f"><span>12715</span></td><td id="LC12715" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer.options.interactive) {
</code></td></tr><tr><td id="L12716" class="css-a4x74f"><span>12716</span></td><td id="LC12716" class="css-1dcdqdg"><code>			layer.addInteractiveTarget(container);
</code></td></tr><tr><td id="L12717" class="css-a4x74f"><span>12717</span></td><td id="LC12717" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12718" class="css-a4x74f"><span>12718</span></td><td id="LC12718" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12719" class="css-a4x74f"><span>12719</span></td><td id="LC12719" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12720" class="css-a4x74f"><span>12720</span></td><td id="LC12720" class="css-1dcdqdg"><code>	_removePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12721" class="css-a4x74f"><span>12721</span></td><td id="LC12721" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = layer._container;
</code></td></tr><tr><td id="L12722" class="css-a4x74f"><span>12722</span></td><td id="LC12722" class="css-1dcdqdg"><code>		remove(container);
</code></td></tr><tr><td id="L12723" class="css-a4x74f"><span>12723</span></td><td id="LC12723" class="css-1dcdqdg"><code>		layer.removeInteractiveTarget(container);
</code></td></tr><tr><td id="L12724" class="css-a4x74f"><span>12724</span></td><td id="LC12724" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._layers[stamp(layer)];
</code></td></tr><tr><td id="L12725" class="css-a4x74f"><span>12725</span></td><td id="LC12725" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12726" class="css-a4x74f"><span>12726</span></td><td id="LC12726" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12727" class="css-a4x74f"><span>12727</span></td><td id="LC12727" class="css-1dcdqdg"><code>	_updateStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12728" class="css-a4x74f"><span>12728</span></td><td id="LC12728" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> stroke = layer._stroke,
</code></td></tr><tr><td id="L12729" class="css-a4x74f"><span>12729</span></td><td id="LC12729" class="css-1dcdqdg"><code>		    fill = layer._fill,
</code></td></tr><tr><td id="L12730" class="css-a4x74f"><span>12730</span></td><td id="LC12730" class="css-1dcdqdg"><code>		    options = layer.options,
</code></td></tr><tr><td id="L12731" class="css-a4x74f"><span>12731</span></td><td id="LC12731" class="css-1dcdqdg"><code>		    container = layer._container;
</code></td></tr><tr><td id="L12732" class="css-a4x74f"><span>12732</span></td><td id="LC12732" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12733" class="css-a4x74f"><span>12733</span></td><td id="LC12733" class="css-1dcdqdg"><code>		container.stroked = !!options.stroke;
</code></td></tr><tr><td id="L12734" class="css-a4x74f"><span>12734</span></td><td id="LC12734" class="css-1dcdqdg"><code>		container.filled = !!options.fill;
</code></td></tr><tr><td id="L12735" class="css-a4x74f"><span>12735</span></td><td id="LC12735" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12736" class="css-a4x74f"><span>12736</span></td><td id="LC12736" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.stroke) {
</code></td></tr><tr><td id="L12737" class="css-a4x74f"><span>12737</span></td><td id="LC12737" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!stroke) {
</code></td></tr><tr><td id="L12738" class="css-a4x74f"><span>12738</span></td><td id="LC12738" class="css-1dcdqdg"><code>				stroke = layer._stroke = vmlCreate(<span class="code-string">'stroke'</span>);
</code></td></tr><tr><td id="L12739" class="css-a4x74f"><span>12739</span></td><td id="LC12739" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12740" class="css-a4x74f"><span>12740</span></td><td id="LC12740" class="css-1dcdqdg"><code>			container.appendChild(stroke);
</code></td></tr><tr><td id="L12741" class="css-a4x74f"><span>12741</span></td><td id="LC12741" class="css-1dcdqdg"><code>			stroke.weight = options.weight + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L12742" class="css-a4x74f"><span>12742</span></td><td id="LC12742" class="css-1dcdqdg"><code>			stroke.color = options.color;
</code></td></tr><tr><td id="L12743" class="css-a4x74f"><span>12743</span></td><td id="LC12743" class="css-1dcdqdg"><code>			stroke.opacity = options.opacity;
</code></td></tr><tr><td id="L12744" class="css-a4x74f"><span>12744</span></td><td id="LC12744" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12745" class="css-a4x74f"><span>12745</span></td><td id="LC12745" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.dashArray) {
</code></td></tr><tr><td id="L12746" class="css-a4x74f"><span>12746</span></td><td id="LC12746" class="css-1dcdqdg"><code>				stroke.dashStyle = isArray(options.dashArray) ?
</code></td></tr><tr><td id="L12747" class="css-a4x74f"><span>12747</span></td><td id="LC12747" class="css-1dcdqdg"><code>				    options.dashArray.join(<span class="code-string">' '</span>) :
</code></td></tr><tr><td id="L12748" class="css-a4x74f"><span>12748</span></td><td id="LC12748" class="css-1dcdqdg"><code>				    options.dashArray.replace(<span class="code-regexp">/( *, *)/g</span>, <span class="code-string">' '</span>);
</code></td></tr><tr><td id="L12749" class="css-a4x74f"><span>12749</span></td><td id="LC12749" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12750" class="css-a4x74f"><span>12750</span></td><td id="LC12750" class="css-1dcdqdg"><code>				stroke.dashStyle = <span class="code-string">''</span>;
</code></td></tr><tr><td id="L12751" class="css-a4x74f"><span>12751</span></td><td id="LC12751" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12752" class="css-a4x74f"><span>12752</span></td><td id="LC12752" class="css-1dcdqdg"><code>			stroke.endcap = options.lineCap.replace(<span class="code-string">'butt'</span>, <span class="code-string">'flat'</span>);
</code></td></tr><tr><td id="L12753" class="css-a4x74f"><span>12753</span></td><td id="LC12753" class="css-1dcdqdg"><code>			stroke.joinstyle = options.lineJoin;
</code></td></tr><tr><td id="L12754" class="css-a4x74f"><span>12754</span></td><td id="LC12754" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12755" class="css-a4x74f"><span>12755</span></td><td id="LC12755" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (stroke) {
</code></td></tr><tr><td id="L12756" class="css-a4x74f"><span>12756</span></td><td id="LC12756" class="css-1dcdqdg"><code>			container.removeChild(stroke);
</code></td></tr><tr><td id="L12757" class="css-a4x74f"><span>12757</span></td><td id="LC12757" class="css-1dcdqdg"><code>			layer._stroke = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12758" class="css-a4x74f"><span>12758</span></td><td id="LC12758" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12759" class="css-a4x74f"><span>12759</span></td><td id="LC12759" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12760" class="css-a4x74f"><span>12760</span></td><td id="LC12760" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.fill) {
</code></td></tr><tr><td id="L12761" class="css-a4x74f"><span>12761</span></td><td id="LC12761" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!fill) {
</code></td></tr><tr><td id="L12762" class="css-a4x74f"><span>12762</span></td><td id="LC12762" class="css-1dcdqdg"><code>				fill = layer._fill = vmlCreate(<span class="code-string">'fill'</span>);
</code></td></tr><tr><td id="L12763" class="css-a4x74f"><span>12763</span></td><td id="LC12763" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12764" class="css-a4x74f"><span>12764</span></td><td id="LC12764" class="css-1dcdqdg"><code>			container.appendChild(fill);
</code></td></tr><tr><td id="L12765" class="css-a4x74f"><span>12765</span></td><td id="LC12765" class="css-1dcdqdg"><code>			fill.color = options.fillColor || options.color;
</code></td></tr><tr><td id="L12766" class="css-a4x74f"><span>12766</span></td><td id="LC12766" class="css-1dcdqdg"><code>			fill.opacity = options.fillOpacity;
</code></td></tr><tr><td id="L12767" class="css-a4x74f"><span>12767</span></td><td id="LC12767" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12768" class="css-a4x74f"><span>12768</span></td><td id="LC12768" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (fill) {
</code></td></tr><tr><td id="L12769" class="css-a4x74f"><span>12769</span></td><td id="LC12769" class="css-1dcdqdg"><code>			container.removeChild(fill);
</code></td></tr><tr><td id="L12770" class="css-a4x74f"><span>12770</span></td><td id="LC12770" class="css-1dcdqdg"><code>			layer._fill = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L12771" class="css-a4x74f"><span>12771</span></td><td id="LC12771" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12772" class="css-a4x74f"><span>12772</span></td><td id="LC12772" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12773" class="css-a4x74f"><span>12773</span></td><td id="LC12773" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12774" class="css-a4x74f"><span>12774</span></td><td id="LC12774" class="css-1dcdqdg"><code>	_updateCircle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12775" class="css-a4x74f"><span>12775</span></td><td id="LC12775" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> p = layer._point.round(),
</code></td></tr><tr><td id="L12776" class="css-a4x74f"><span>12776</span></td><td id="LC12776" class="css-1dcdqdg"><code>		    r = <span class="code-built_in">Math</span>.round(layer._radius),
</code></td></tr><tr><td id="L12777" class="css-a4x74f"><span>12777</span></td><td id="LC12777" class="css-1dcdqdg"><code>		    r2 = <span class="code-built_in">Math</span>.round(layer._radiusY || r);
</code></td></tr><tr><td id="L12778" class="css-a4x74f"><span>12778</span></td><td id="LC12778" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12779" class="css-a4x74f"><span>12779</span></td><td id="LC12779" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPath(layer, layer._empty() ? <span class="code-string">'M0 0'</span> :
</code></td></tr><tr><td id="L12780" class="css-a4x74f"><span>12780</span></td><td id="LC12780" class="css-1dcdqdg"><code>			<span class="code-string">'AL '</span> + p.x + <span class="code-string">','</span> + p.y + <span class="code-string">' '</span> + r + <span class="code-string">','</span> + r2 + <span class="code-string">' 0,'</span> + (<span class="code-number">65535</span> * <span class="code-number">360</span>));
</code></td></tr><tr><td id="L12781" class="css-a4x74f"><span>12781</span></td><td id="LC12781" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12782" class="css-a4x74f"><span>12782</span></td><td id="LC12782" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12783" class="css-a4x74f"><span>12783</span></td><td id="LC12783" class="css-1dcdqdg"><code>	_setPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, path</span>) </span>{
</code></td></tr><tr><td id="L12784" class="css-a4x74f"><span>12784</span></td><td id="LC12784" class="css-1dcdqdg"><code>		layer._path.v = path;
</code></td></tr><tr><td id="L12785" class="css-a4x74f"><span>12785</span></td><td id="LC12785" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12786" class="css-a4x74f"><span>12786</span></td><td id="LC12786" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12787" class="css-a4x74f"><span>12787</span></td><td id="LC12787" class="css-1dcdqdg"><code>	_bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12788" class="css-a4x74f"><span>12788</span></td><td id="LC12788" class="css-1dcdqdg"><code>		toFront(layer._container);
</code></td></tr><tr><td id="L12789" class="css-a4x74f"><span>12789</span></td><td id="LC12789" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12790" class="css-a4x74f"><span>12790</span></td><td id="LC12790" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12791" class="css-a4x74f"><span>12791</span></td><td id="LC12791" class="css-1dcdqdg"><code>	_bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12792" class="css-a4x74f"><span>12792</span></td><td id="LC12792" class="css-1dcdqdg"><code>		toBack(layer._container);
</code></td></tr><tr><td id="L12793" class="css-a4x74f"><span>12793</span></td><td id="LC12793" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L12794" class="css-a4x74f"><span>12794</span></td><td id="LC12794" class="css-1dcdqdg"><code>};
</code></td></tr><tr><td id="L12795" class="css-a4x74f"><span>12795</span></td><td id="LC12795" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12796" class="css-a4x74f"><span>12796</span></td><td id="LC12796" class="css-1dcdqdg"><code><span class="code-keyword">var</span> create = Browser.vml ? vmlCreate : svgCreate;
</code></td></tr><tr><td id="L12797" class="css-a4x74f"><span>12797</span></td><td id="LC12797" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12798" class="css-a4x74f"><span>12798</span></td><td id="LC12798" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L12799" class="css-a4x74f"><span>12799</span></td><td id="LC12799" class="css-1dcdqdg"><code><span class="code-comment"> * @class SVG
</span></code></td></tr><tr><td id="L12800" class="css-a4x74f"><span>12800</span></td><td id="LC12800" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Renderer
</span></code></td></tr><tr><td id="L12801" class="css-a4x74f"><span>12801</span></td><td id="LC12801" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.SVG
</span></code></td></tr><tr><td id="L12802" class="css-a4x74f"><span>12802</span></td><td id="LC12802" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12803" class="css-a4x74f"><span>12803</span></td><td id="LC12803" class="css-1dcdqdg"><code><span class="code-comment"> * Allows vector layers to be displayed with [SVG](https://developer.mozilla.org/docs/Web/SVG).
</span></code></td></tr><tr><td id="L12804" class="css-a4x74f"><span>12804</span></td><td id="LC12804" class="css-1dcdqdg"><code><span class="code-comment"> * Inherits `Renderer`.
</span></code></td></tr><tr><td id="L12805" class="css-a4x74f"><span>12805</span></td><td id="LC12805" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12806" class="css-a4x74f"><span>12806</span></td><td id="LC12806" class="css-1dcdqdg"><code><span class="code-comment"> * Due to [technical limitations](https://caniuse.com/svg), SVG is not
</span></code></td></tr><tr><td id="L12807" class="css-a4x74f"><span>12807</span></td><td id="LC12807" class="css-1dcdqdg"><code><span class="code-comment"> * available in all web browsers, notably Android 2.x and 3.x.
</span></code></td></tr><tr><td id="L12808" class="css-a4x74f"><span>12808</span></td><td id="LC12808" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12809" class="css-a4x74f"><span>12809</span></td><td id="LC12809" class="css-1dcdqdg"><code><span class="code-comment"> * Although SVG is not available on IE7 and IE8, these browsers support
</span></code></td></tr><tr><td id="L12810" class="css-a4x74f"><span>12810</span></td><td id="LC12810" class="css-1dcdqdg"><code><span class="code-comment"> * [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language)
</span></code></td></tr><tr><td id="L12811" class="css-a4x74f"><span>12811</span></td><td id="LC12811" class="css-1dcdqdg"><code><span class="code-comment"> * (a now deprecated technology), and the SVG renderer will fall back to VML in
</span></code></td></tr><tr><td id="L12812" class="css-a4x74f"><span>12812</span></td><td id="LC12812" class="css-1dcdqdg"><code><span class="code-comment"> * this case.
</span></code></td></tr><tr><td id="L12813" class="css-a4x74f"><span>12813</span></td><td id="LC12813" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12814" class="css-a4x74f"><span>12814</span></td><td id="LC12814" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L12815" class="css-a4x74f"><span>12815</span></td><td id="LC12815" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12816" class="css-a4x74f"><span>12816</span></td><td id="LC12816" class="css-1dcdqdg"><code><span class="code-comment"> * Use SVG by default for all paths in the map:
</span></code></td></tr><tr><td id="L12817" class="css-a4x74f"><span>12817</span></td><td id="LC12817" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12818" class="css-a4x74f"><span>12818</span></td><td id="LC12818" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L12819" class="css-a4x74f"><span>12819</span></td><td id="LC12819" class="css-1dcdqdg"><code><span class="code-comment"> * var map = L.map('map', {
</span></code></td></tr><tr><td id="L12820" class="css-a4x74f"><span>12820</span></td><td id="LC12820" class="css-1dcdqdg"><code><span class="code-comment"> * 	renderer: L.svg()
</span></code></td></tr><tr><td id="L12821" class="css-a4x74f"><span>12821</span></td><td id="LC12821" class="css-1dcdqdg"><code><span class="code-comment"> * });
</span></code></td></tr><tr><td id="L12822" class="css-a4x74f"><span>12822</span></td><td id="LC12822" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L12823" class="css-a4x74f"><span>12823</span></td><td id="LC12823" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12824" class="css-a4x74f"><span>12824</span></td><td id="LC12824" class="css-1dcdqdg"><code><span class="code-comment"> * Use a SVG renderer with extra padding for specific vector geometries:
</span></code></td></tr><tr><td id="L12825" class="css-a4x74f"><span>12825</span></td><td id="LC12825" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L12826" class="css-a4x74f"><span>12826</span></td><td id="LC12826" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L12827" class="css-a4x74f"><span>12827</span></td><td id="LC12827" class="css-1dcdqdg"><code><span class="code-comment"> * var map = L.map('map');
</span></code></td></tr><tr><td id="L12828" class="css-a4x74f"><span>12828</span></td><td id="LC12828" class="css-1dcdqdg"><code><span class="code-comment"> * var myRenderer = L.svg({ padding: 0.5 });
</span></code></td></tr><tr><td id="L12829" class="css-a4x74f"><span>12829</span></td><td id="LC12829" class="css-1dcdqdg"><code><span class="code-comment"> * var line = L.polyline( coordinates, { renderer: myRenderer } );
</span></code></td></tr><tr><td id="L12830" class="css-a4x74f"><span>12830</span></td><td id="LC12830" class="css-1dcdqdg"><code><span class="code-comment"> * var circle = L.circle( center, { renderer: myRenderer } );
</span></code></td></tr><tr><td id="L12831" class="css-a4x74f"><span>12831</span></td><td id="LC12831" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L12832" class="css-a4x74f"><span>12832</span></td><td id="LC12832" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L12833" class="css-a4x74f"><span>12833</span></td><td id="LC12833" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12834" class="css-a4x74f"><span>12834</span></td><td id="LC12834" class="css-1dcdqdg"><code><span class="code-keyword">var</span> SVG = Renderer.extend({
</code></td></tr><tr><td id="L12835" class="css-a4x74f"><span>12835</span></td><td id="LC12835" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12836" class="css-a4x74f"><span>12836</span></td><td id="LC12836" class="css-1dcdqdg"><code>	getEvents: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12837" class="css-a4x74f"><span>12837</span></td><td id="LC12837" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> events = Renderer.prototype.getEvents.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12838" class="css-a4x74f"><span>12838</span></td><td id="LC12838" class="css-1dcdqdg"><code>		events.zoomstart = <span class="code-keyword">this</span>._onZoomStart;
</code></td></tr><tr><td id="L12839" class="css-a4x74f"><span>12839</span></td><td id="LC12839" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> events;
</code></td></tr><tr><td id="L12840" class="css-a4x74f"><span>12840</span></td><td id="LC12840" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12841" class="css-a4x74f"><span>12841</span></td><td id="LC12841" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12842" class="css-a4x74f"><span>12842</span></td><td id="LC12842" class="css-1dcdqdg"><code>	_initContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12843" class="css-a4x74f"><span>12843</span></td><td id="LC12843" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container = create(<span class="code-string">'svg'</span>);
</code></td></tr><tr><td id="L12844" class="css-a4x74f"><span>12844</span></td><td id="LC12844" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12845" class="css-a4x74f"><span>12845</span></td><td id="LC12845" class="css-1dcdqdg"><code>		<span class="code-comment">// makes it possible to click through svg root; we'll reset it back in individual paths</span>
</code></td></tr><tr><td id="L12846" class="css-a4x74f"><span>12846</span></td><td id="LC12846" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.setAttribute(<span class="code-string">'pointer-events'</span>, <span class="code-string">'none'</span>);
</code></td></tr><tr><td id="L12847" class="css-a4x74f"><span>12847</span></td><td id="LC12847" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12848" class="css-a4x74f"><span>12848</span></td><td id="LC12848" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._rootGroup = create(<span class="code-string">'g'</span>);
</code></td></tr><tr><td id="L12849" class="css-a4x74f"><span>12849</span></td><td id="LC12849" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container.appendChild(<span class="code-keyword">this</span>._rootGroup);
</code></td></tr><tr><td id="L12850" class="css-a4x74f"><span>12850</span></td><td id="LC12850" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12851" class="css-a4x74f"><span>12851</span></td><td id="LC12851" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12852" class="css-a4x74f"><span>12852</span></td><td id="LC12852" class="css-1dcdqdg"><code>	_destroyContainer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12853" class="css-a4x74f"><span>12853</span></td><td id="LC12853" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L12854" class="css-a4x74f"><span>12854</span></td><td id="LC12854" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L12855" class="css-a4x74f"><span>12855</span></td><td id="LC12855" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L12856" class="css-a4x74f"><span>12856</span></td><td id="LC12856" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._rootGroup;
</code></td></tr><tr><td id="L12857" class="css-a4x74f"><span>12857</span></td><td id="LC12857" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._svgSize;
</code></td></tr><tr><td id="L12858" class="css-a4x74f"><span>12858</span></td><td id="LC12858" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12859" class="css-a4x74f"><span>12859</span></td><td id="LC12859" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12860" class="css-a4x74f"><span>12860</span></td><td id="LC12860" class="css-1dcdqdg"><code>	_onZoomStart: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12861" class="css-a4x74f"><span>12861</span></td><td id="LC12861" class="css-1dcdqdg"><code>		<span class="code-comment">// Drag-then-pinch interactions might mess up the center and zoom.</span>
</code></td></tr><tr><td id="L12862" class="css-a4x74f"><span>12862</span></td><td id="LC12862" class="css-1dcdqdg"><code>		<span class="code-comment">// In this case, the easiest way to prevent this is re-do the renderer</span>
</code></td></tr><tr><td id="L12863" class="css-a4x74f"><span>12863</span></td><td id="LC12863" class="css-1dcdqdg"><code>		<span class="code-comment">//   bounds and padding when the zooming starts.</span>
</code></td></tr><tr><td id="L12864" class="css-a4x74f"><span>12864</span></td><td id="LC12864" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._update();
</code></td></tr><tr><td id="L12865" class="css-a4x74f"><span>12865</span></td><td id="LC12865" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12866" class="css-a4x74f"><span>12866</span></td><td id="LC12866" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12867" class="css-a4x74f"><span>12867</span></td><td id="LC12867" class="css-1dcdqdg"><code>	_update: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L12868" class="css-a4x74f"><span>12868</span></td><td id="LC12868" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map._animatingZoom &amp;&amp; <span class="code-keyword">this</span>._bounds) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12869" class="css-a4x74f"><span>12869</span></td><td id="LC12869" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12870" class="css-a4x74f"><span>12870</span></td><td id="LC12870" class="css-1dcdqdg"><code>		Renderer.prototype._update.call(<span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L12871" class="css-a4x74f"><span>12871</span></td><td id="LC12871" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12872" class="css-a4x74f"><span>12872</span></td><td id="LC12872" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> b = <span class="code-keyword">this</span>._bounds,
</code></td></tr><tr><td id="L12873" class="css-a4x74f"><span>12873</span></td><td id="LC12873" class="css-1dcdqdg"><code>		    size = b.getSize(),
</code></td></tr><tr><td id="L12874" class="css-a4x74f"><span>12874</span></td><td id="LC12874" class="css-1dcdqdg"><code>		    container = <span class="code-keyword">this</span>._container;
</code></td></tr><tr><td id="L12875" class="css-a4x74f"><span>12875</span></td><td id="LC12875" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12876" class="css-a4x74f"><span>12876</span></td><td id="LC12876" class="css-1dcdqdg"><code>		<span class="code-comment">// set size of svg-container if changed</span>
</code></td></tr><tr><td id="L12877" class="css-a4x74f"><span>12877</span></td><td id="LC12877" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._svgSize || !<span class="code-keyword">this</span>._svgSize.equals(size)) {
</code></td></tr><tr><td id="L12878" class="css-a4x74f"><span>12878</span></td><td id="LC12878" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._svgSize = size;
</code></td></tr><tr><td id="L12879" class="css-a4x74f"><span>12879</span></td><td id="LC12879" class="css-1dcdqdg"><code>			container.setAttribute(<span class="code-string">'width'</span>, size.x);
</code></td></tr><tr><td id="L12880" class="css-a4x74f"><span>12880</span></td><td id="LC12880" class="css-1dcdqdg"><code>			container.setAttribute(<span class="code-string">'height'</span>, size.y);
</code></td></tr><tr><td id="L12881" class="css-a4x74f"><span>12881</span></td><td id="LC12881" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12882" class="css-a4x74f"><span>12882</span></td><td id="LC12882" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12883" class="css-a4x74f"><span>12883</span></td><td id="LC12883" class="css-1dcdqdg"><code>		<span class="code-comment">// movement: update container viewBox so that we don't have to change coordinates of individual layers</span>
</code></td></tr><tr><td id="L12884" class="css-a4x74f"><span>12884</span></td><td id="LC12884" class="css-1dcdqdg"><code>		setPosition(container, b.min);
</code></td></tr><tr><td id="L12885" class="css-a4x74f"><span>12885</span></td><td id="LC12885" class="css-1dcdqdg"><code>		container.setAttribute(<span class="code-string">'viewBox'</span>, [b.min.x, b.min.y, size.x, size.y].join(<span class="code-string">' '</span>));
</code></td></tr><tr><td id="L12886" class="css-a4x74f"><span>12886</span></td><td id="LC12886" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12887" class="css-a4x74f"><span>12887</span></td><td id="LC12887" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>.fire(<span class="code-string">'update'</span>);
</code></td></tr><tr><td id="L12888" class="css-a4x74f"><span>12888</span></td><td id="LC12888" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12889" class="css-a4x74f"><span>12889</span></td><td id="LC12889" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12890" class="css-a4x74f"><span>12890</span></td><td id="LC12890" class="css-1dcdqdg"><code>	<span class="code-comment">// methods below are called by vector layers implementations</span>
</code></td></tr><tr><td id="L12891" class="css-a4x74f"><span>12891</span></td><td id="LC12891" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12892" class="css-a4x74f"><span>12892</span></td><td id="LC12892" class="css-1dcdqdg"><code>	_initPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12893" class="css-a4x74f"><span>12893</span></td><td id="LC12893" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> path = layer._path = create(<span class="code-string">'path'</span>);
</code></td></tr><tr><td id="L12894" class="css-a4x74f"><span>12894</span></td><td id="LC12894" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12895" class="css-a4x74f"><span>12895</span></td><td id="LC12895" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Path</span>
</code></td></tr><tr><td id="L12896" class="css-a4x74f"><span>12896</span></td><td id="LC12896" class="css-1dcdqdg"><code>		<span class="code-comment">// @option className: String = null</span>
</code></td></tr><tr><td id="L12897" class="css-a4x74f"><span>12897</span></td><td id="LC12897" class="css-1dcdqdg"><code>		<span class="code-comment">// Custom class name set on an element. Only for SVG renderer.</span>
</code></td></tr><tr><td id="L12898" class="css-a4x74f"><span>12898</span></td><td id="LC12898" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer.options.className) {
</code></td></tr><tr><td id="L12899" class="css-a4x74f"><span>12899</span></td><td id="LC12899" class="css-1dcdqdg"><code>			addClass(path, layer.options.className);
</code></td></tr><tr><td id="L12900" class="css-a4x74f"><span>12900</span></td><td id="LC12900" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12901" class="css-a4x74f"><span>12901</span></td><td id="LC12901" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12902" class="css-a4x74f"><span>12902</span></td><td id="LC12902" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (layer.options.interactive) {
</code></td></tr><tr><td id="L12903" class="css-a4x74f"><span>12903</span></td><td id="LC12903" class="css-1dcdqdg"><code>			addClass(path, <span class="code-string">'leaflet-interactive'</span>);
</code></td></tr><tr><td id="L12904" class="css-a4x74f"><span>12904</span></td><td id="LC12904" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12905" class="css-a4x74f"><span>12905</span></td><td id="LC12905" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12906" class="css-a4x74f"><span>12906</span></td><td id="LC12906" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._updateStyle(layer);
</code></td></tr><tr><td id="L12907" class="css-a4x74f"><span>12907</span></td><td id="LC12907" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._layers[stamp(layer)] = layer;
</code></td></tr><tr><td id="L12908" class="css-a4x74f"><span>12908</span></td><td id="LC12908" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12909" class="css-a4x74f"><span>12909</span></td><td id="LC12909" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12910" class="css-a4x74f"><span>12910</span></td><td id="LC12910" class="css-1dcdqdg"><code>	_addPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12911" class="css-a4x74f"><span>12911</span></td><td id="LC12911" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._rootGroup) { <span class="code-keyword">this</span>._initContainer(); }
</code></td></tr><tr><td id="L12912" class="css-a4x74f"><span>12912</span></td><td id="LC12912" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._rootGroup.appendChild(layer._path);
</code></td></tr><tr><td id="L12913" class="css-a4x74f"><span>12913</span></td><td id="LC12913" class="css-1dcdqdg"><code>		layer.addInteractiveTarget(layer._path);
</code></td></tr><tr><td id="L12914" class="css-a4x74f"><span>12914</span></td><td id="LC12914" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12915" class="css-a4x74f"><span>12915</span></td><td id="LC12915" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12916" class="css-a4x74f"><span>12916</span></td><td id="LC12916" class="css-1dcdqdg"><code>	_removePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12917" class="css-a4x74f"><span>12917</span></td><td id="LC12917" class="css-1dcdqdg"><code>		remove(layer._path);
</code></td></tr><tr><td id="L12918" class="css-a4x74f"><span>12918</span></td><td id="LC12918" class="css-1dcdqdg"><code>		layer.removeInteractiveTarget(layer._path);
</code></td></tr><tr><td id="L12919" class="css-a4x74f"><span>12919</span></td><td id="LC12919" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._layers[stamp(layer)];
</code></td></tr><tr><td id="L12920" class="css-a4x74f"><span>12920</span></td><td id="LC12920" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12921" class="css-a4x74f"><span>12921</span></td><td id="LC12921" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12922" class="css-a4x74f"><span>12922</span></td><td id="LC12922" class="css-1dcdqdg"><code>	_updatePath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12923" class="css-a4x74f"><span>12923</span></td><td id="LC12923" class="css-1dcdqdg"><code>		layer._project();
</code></td></tr><tr><td id="L12924" class="css-a4x74f"><span>12924</span></td><td id="LC12924" class="css-1dcdqdg"><code>		layer._update();
</code></td></tr><tr><td id="L12925" class="css-a4x74f"><span>12925</span></td><td id="LC12925" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12926" class="css-a4x74f"><span>12926</span></td><td id="LC12926" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12927" class="css-a4x74f"><span>12927</span></td><td id="LC12927" class="css-1dcdqdg"><code>	_updateStyle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12928" class="css-a4x74f"><span>12928</span></td><td id="LC12928" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> path = layer._path,
</code></td></tr><tr><td id="L12929" class="css-a4x74f"><span>12929</span></td><td id="LC12929" class="css-1dcdqdg"><code>		    options = layer.options;
</code></td></tr><tr><td id="L12930" class="css-a4x74f"><span>12930</span></td><td id="LC12930" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12931" class="css-a4x74f"><span>12931</span></td><td id="LC12931" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!path) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L12932" class="css-a4x74f"><span>12932</span></td><td id="LC12932" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12933" class="css-a4x74f"><span>12933</span></td><td id="LC12933" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.stroke) {
</code></td></tr><tr><td id="L12934" class="css-a4x74f"><span>12934</span></td><td id="LC12934" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'stroke'</span>, options.color);
</code></td></tr><tr><td id="L12935" class="css-a4x74f"><span>12935</span></td><td id="LC12935" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'stroke-opacity'</span>, options.opacity);
</code></td></tr><tr><td id="L12936" class="css-a4x74f"><span>12936</span></td><td id="LC12936" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'stroke-width'</span>, options.weight);
</code></td></tr><tr><td id="L12937" class="css-a4x74f"><span>12937</span></td><td id="LC12937" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'stroke-linecap'</span>, options.lineCap);
</code></td></tr><tr><td id="L12938" class="css-a4x74f"><span>12938</span></td><td id="LC12938" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'stroke-linejoin'</span>, options.lineJoin);
</code></td></tr><tr><td id="L12939" class="css-a4x74f"><span>12939</span></td><td id="LC12939" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12940" class="css-a4x74f"><span>12940</span></td><td id="LC12940" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.dashArray) {
</code></td></tr><tr><td id="L12941" class="css-a4x74f"><span>12941</span></td><td id="LC12941" class="css-1dcdqdg"><code>				path.setAttribute(<span class="code-string">'stroke-dasharray'</span>, options.dashArray);
</code></td></tr><tr><td id="L12942" class="css-a4x74f"><span>12942</span></td><td id="LC12942" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12943" class="css-a4x74f"><span>12943</span></td><td id="LC12943" class="css-1dcdqdg"><code>				path.removeAttribute(<span class="code-string">'stroke-dasharray'</span>);
</code></td></tr><tr><td id="L12944" class="css-a4x74f"><span>12944</span></td><td id="LC12944" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12945" class="css-a4x74f"><span>12945</span></td><td id="LC12945" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12946" class="css-a4x74f"><span>12946</span></td><td id="LC12946" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (options.dashOffset) {
</code></td></tr><tr><td id="L12947" class="css-a4x74f"><span>12947</span></td><td id="LC12947" class="css-1dcdqdg"><code>				path.setAttribute(<span class="code-string">'stroke-dashoffset'</span>, options.dashOffset);
</code></td></tr><tr><td id="L12948" class="css-a4x74f"><span>12948</span></td><td id="LC12948" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12949" class="css-a4x74f"><span>12949</span></td><td id="LC12949" class="css-1dcdqdg"><code>				path.removeAttribute(<span class="code-string">'stroke-dashoffset'</span>);
</code></td></tr><tr><td id="L12950" class="css-a4x74f"><span>12950</span></td><td id="LC12950" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L12951" class="css-a4x74f"><span>12951</span></td><td id="LC12951" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12952" class="css-a4x74f"><span>12952</span></td><td id="LC12952" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'stroke'</span>, <span class="code-string">'none'</span>);
</code></td></tr><tr><td id="L12953" class="css-a4x74f"><span>12953</span></td><td id="LC12953" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12954" class="css-a4x74f"><span>12954</span></td><td id="LC12954" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12955" class="css-a4x74f"><span>12955</span></td><td id="LC12955" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (options.fill) {
</code></td></tr><tr><td id="L12956" class="css-a4x74f"><span>12956</span></td><td id="LC12956" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'fill'</span>, options.fillColor || options.color);
</code></td></tr><tr><td id="L12957" class="css-a4x74f"><span>12957</span></td><td id="LC12957" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'fill-opacity'</span>, options.fillOpacity);
</code></td></tr><tr><td id="L12958" class="css-a4x74f"><span>12958</span></td><td id="LC12958" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'fill-rule'</span>, options.fillRule || <span class="code-string">'evenodd'</span>);
</code></td></tr><tr><td id="L12959" class="css-a4x74f"><span>12959</span></td><td id="LC12959" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L12960" class="css-a4x74f"><span>12960</span></td><td id="LC12960" class="css-1dcdqdg"><code>			path.setAttribute(<span class="code-string">'fill'</span>, <span class="code-string">'none'</span>);
</code></td></tr><tr><td id="L12961" class="css-a4x74f"><span>12961</span></td><td id="LC12961" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L12962" class="css-a4x74f"><span>12962</span></td><td id="LC12962" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12963" class="css-a4x74f"><span>12963</span></td><td id="LC12963" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12964" class="css-a4x74f"><span>12964</span></td><td id="LC12964" class="css-1dcdqdg"><code>	_updatePoly: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, closed</span>) </span>{
</code></td></tr><tr><td id="L12965" class="css-a4x74f"><span>12965</span></td><td id="LC12965" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPath(layer, pointsToPath(layer._parts, closed));
</code></td></tr><tr><td id="L12966" class="css-a4x74f"><span>12966</span></td><td id="LC12966" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12967" class="css-a4x74f"><span>12967</span></td><td id="LC12967" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12968" class="css-a4x74f"><span>12968</span></td><td id="LC12968" class="css-1dcdqdg"><code>	_updateCircle: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12969" class="css-a4x74f"><span>12969</span></td><td id="LC12969" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> p = layer._point,
</code></td></tr><tr><td id="L12970" class="css-a4x74f"><span>12970</span></td><td id="LC12970" class="css-1dcdqdg"><code>		    r = <span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.round(layer._radius), <span class="code-number">1</span>),
</code></td></tr><tr><td id="L12971" class="css-a4x74f"><span>12971</span></td><td id="LC12971" class="css-1dcdqdg"><code>		    r2 = <span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.round(layer._radiusY), <span class="code-number">1</span>) || r,
</code></td></tr><tr><td id="L12972" class="css-a4x74f"><span>12972</span></td><td id="LC12972" class="css-1dcdqdg"><code>		    arc = <span class="code-string">'a'</span> + r + <span class="code-string">','</span> + r2 + <span class="code-string">' 0 1,0 '</span>;
</code></td></tr><tr><td id="L12973" class="css-a4x74f"><span>12973</span></td><td id="LC12973" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12974" class="css-a4x74f"><span>12974</span></td><td id="LC12974" class="css-1dcdqdg"><code>		<span class="code-comment">// drawing a circle with two half-arcs</span>
</code></td></tr><tr><td id="L12975" class="css-a4x74f"><span>12975</span></td><td id="LC12975" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d = layer._empty() ? <span class="code-string">'M0 0'</span> :
</code></td></tr><tr><td id="L12976" class="css-a4x74f"><span>12976</span></td><td id="LC12976" class="css-1dcdqdg"><code>			<span class="code-string">'M'</span> + (p.x - r) + <span class="code-string">','</span> + p.y +
</code></td></tr><tr><td id="L12977" class="css-a4x74f"><span>12977</span></td><td id="LC12977" class="css-1dcdqdg"><code>			arc + (r * <span class="code-number">2</span>) + <span class="code-string">',0 '</span> +
</code></td></tr><tr><td id="L12978" class="css-a4x74f"><span>12978</span></td><td id="LC12978" class="css-1dcdqdg"><code>			arc + (-r * <span class="code-number">2</span>) + <span class="code-string">',0 '</span>;
</code></td></tr><tr><td id="L12979" class="css-a4x74f"><span>12979</span></td><td id="LC12979" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12980" class="css-a4x74f"><span>12980</span></td><td id="LC12980" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPath(layer, d);
</code></td></tr><tr><td id="L12981" class="css-a4x74f"><span>12981</span></td><td id="LC12981" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12982" class="css-a4x74f"><span>12982</span></td><td id="LC12982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12983" class="css-a4x74f"><span>12983</span></td><td id="LC12983" class="css-1dcdqdg"><code>	_setPath: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer, path</span>) </span>{
</code></td></tr><tr><td id="L12984" class="css-a4x74f"><span>12984</span></td><td id="LC12984" class="css-1dcdqdg"><code>		layer._path.setAttribute(<span class="code-string">'d'</span>, path);
</code></td></tr><tr><td id="L12985" class="css-a4x74f"><span>12985</span></td><td id="LC12985" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12986" class="css-a4x74f"><span>12986</span></td><td id="LC12986" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12987" class="css-a4x74f"><span>12987</span></td><td id="LC12987" class="css-1dcdqdg"><code>	<span class="code-comment">// SVG does not have the concept of zIndex so we resort to changing the DOM order of elements</span>
</code></td></tr><tr><td id="L12988" class="css-a4x74f"><span>12988</span></td><td id="LC12988" class="css-1dcdqdg"><code>	_bringToFront: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12989" class="css-a4x74f"><span>12989</span></td><td id="LC12989" class="css-1dcdqdg"><code>		toFront(layer._path);
</code></td></tr><tr><td id="L12990" class="css-a4x74f"><span>12990</span></td><td id="LC12990" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L12991" class="css-a4x74f"><span>12991</span></td><td id="LC12991" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12992" class="css-a4x74f"><span>12992</span></td><td id="LC12992" class="css-1dcdqdg"><code>	_bringToBack: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L12993" class="css-a4x74f"><span>12993</span></td><td id="LC12993" class="css-1dcdqdg"><code>		toBack(layer._path);
</code></td></tr><tr><td id="L12994" class="css-a4x74f"><span>12994</span></td><td id="LC12994" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L12995" class="css-a4x74f"><span>12995</span></td><td id="LC12995" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L12996" class="css-a4x74f"><span>12996</span></td><td id="LC12996" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L12997" class="css-a4x74f"><span>12997</span></td><td id="LC12997" class="css-1dcdqdg"><code><span class="code-keyword">if</span> (Browser.vml) {
</code></td></tr><tr><td id="L12998" class="css-a4x74f"><span>12998</span></td><td id="LC12998" class="css-1dcdqdg"><code>	SVG.include(vmlMixin);
</code></td></tr><tr><td id="L12999" class="css-a4x74f"><span>12999</span></td><td id="LC12999" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L13000" class="css-a4x74f"><span>13000</span></td><td id="LC13000" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13001" class="css-a4x74f"><span>13001</span></td><td id="LC13001" class="css-1dcdqdg"><code><span class="code-comment">// @namespace SVG</span>
</code></td></tr><tr><td id="L13002" class="css-a4x74f"><span>13002</span></td><td id="LC13002" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.svg(options?: Renderer options)</span>
</code></td></tr><tr><td id="L13003" class="css-a4x74f"><span>13003</span></td><td id="LC13003" class="css-1dcdqdg"><code><span class="code-comment">// Creates a SVG renderer with the given options.</span>
</code></td></tr><tr><td id="L13004" class="css-a4x74f"><span>13004</span></td><td id="LC13004" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">svg</span>(<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L13005" class="css-a4x74f"><span>13005</span></td><td id="LC13005" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> Browser.svg || Browser.vml ? <span class="code-keyword">new</span> SVG(options) : <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L13006" class="css-a4x74f"><span>13006</span></td><td id="LC13006" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L13007" class="css-a4x74f"><span>13007</span></td><td id="LC13007" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13008" class="css-a4x74f"><span>13008</span></td><td id="LC13008" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.include({
</code></td></tr><tr><td id="L13009" class="css-a4x74f"><span>13009</span></td><td id="LC13009" class="css-1dcdqdg"><code>	<span class="code-comment">// @namespace Map; @method getRenderer(layer: Path): Renderer</span>
</code></td></tr><tr><td id="L13010" class="css-a4x74f"><span>13010</span></td><td id="LC13010" class="css-1dcdqdg"><code>	<span class="code-comment">// Returns the instance of `Renderer` that should be used to render the given</span>
</code></td></tr><tr><td id="L13011" class="css-a4x74f"><span>13011</span></td><td id="LC13011" class="css-1dcdqdg"><code>	<span class="code-comment">// `Path`. It will ensure that the `renderer` options of the map and paths</span>
</code></td></tr><tr><td id="L13012" class="css-a4x74f"><span>13012</span></td><td id="LC13012" class="css-1dcdqdg"><code>	<span class="code-comment">// are respected, and that the renderers do exist on the map.</span>
</code></td></tr><tr><td id="L13013" class="css-a4x74f"><span>13013</span></td><td id="LC13013" class="css-1dcdqdg"><code>	getRenderer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">layer</span>) </span>{
</code></td></tr><tr><td id="L13014" class="css-a4x74f"><span>13014</span></td><td id="LC13014" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Path; @option renderer: Renderer</span>
</code></td></tr><tr><td id="L13015" class="css-a4x74f"><span>13015</span></td><td id="LC13015" class="css-1dcdqdg"><code>		<span class="code-comment">// Use this specific instance of `Renderer` for this path. Takes</span>
</code></td></tr><tr><td id="L13016" class="css-a4x74f"><span>13016</span></td><td id="LC13016" class="css-1dcdqdg"><code>		<span class="code-comment">// precedence over the map's [default renderer](#map-renderer).</span>
</code></td></tr><tr><td id="L13017" class="css-a4x74f"><span>13017</span></td><td id="LC13017" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> renderer = layer.options.renderer || <span class="code-keyword">this</span>._getPaneRenderer(layer.options.pane) || <span class="code-keyword">this</span>.options.renderer || <span class="code-keyword">this</span>._renderer;
</code></td></tr><tr><td id="L13018" class="css-a4x74f"><span>13018</span></td><td id="LC13018" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13019" class="css-a4x74f"><span>13019</span></td><td id="LC13019" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!renderer) {
</code></td></tr><tr><td id="L13020" class="css-a4x74f"><span>13020</span></td><td id="LC13020" class="css-1dcdqdg"><code>			renderer = <span class="code-keyword">this</span>._renderer = <span class="code-keyword">this</span>._createRenderer();
</code></td></tr><tr><td id="L13021" class="css-a4x74f"><span>13021</span></td><td id="LC13021" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13022" class="css-a4x74f"><span>13022</span></td><td id="LC13022" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13023" class="css-a4x74f"><span>13023</span></td><td id="LC13023" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.hasLayer(renderer)) {
</code></td></tr><tr><td id="L13024" class="css-a4x74f"><span>13024</span></td><td id="LC13024" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>.addLayer(renderer);
</code></td></tr><tr><td id="L13025" class="css-a4x74f"><span>13025</span></td><td id="LC13025" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13026" class="css-a4x74f"><span>13026</span></td><td id="LC13026" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> renderer;
</code></td></tr><tr><td id="L13027" class="css-a4x74f"><span>13027</span></td><td id="LC13027" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13028" class="css-a4x74f"><span>13028</span></td><td id="LC13028" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13029" class="css-a4x74f"><span>13029</span></td><td id="LC13029" class="css-1dcdqdg"><code>	_getPaneRenderer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">name</span>) </span>{
</code></td></tr><tr><td id="L13030" class="css-a4x74f"><span>13030</span></td><td id="LC13030" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (name === <span class="code-string">'overlayPane'</span> || name === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L13031" class="css-a4x74f"><span>13031</span></td><td id="LC13031" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span> <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L13032" class="css-a4x74f"><span>13032</span></td><td id="LC13032" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13033" class="css-a4x74f"><span>13033</span></td><td id="LC13033" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13034" class="css-a4x74f"><span>13034</span></td><td id="LC13034" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> renderer = <span class="code-keyword">this</span>._paneRenderers[name];
</code></td></tr><tr><td id="L13035" class="css-a4x74f"><span>13035</span></td><td id="LC13035" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (renderer === <span class="code-literal">undefined</span>) {
</code></td></tr><tr><td id="L13036" class="css-a4x74f"><span>13036</span></td><td id="LC13036" class="css-1dcdqdg"><code>			renderer = <span class="code-keyword">this</span>._createRenderer({<span class="code-attr">pane</span>: name});
</code></td></tr><tr><td id="L13037" class="css-a4x74f"><span>13037</span></td><td id="LC13037" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._paneRenderers[name] = renderer;
</code></td></tr><tr><td id="L13038" class="css-a4x74f"><span>13038</span></td><td id="LC13038" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13039" class="css-a4x74f"><span>13039</span></td><td id="LC13039" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> renderer;
</code></td></tr><tr><td id="L13040" class="css-a4x74f"><span>13040</span></td><td id="LC13040" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13041" class="css-a4x74f"><span>13041</span></td><td id="LC13041" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13042" class="css-a4x74f"><span>13042</span></td><td id="LC13042" class="css-1dcdqdg"><code>	_createRenderer: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">options</span>) </span>{
</code></td></tr><tr><td id="L13043" class="css-a4x74f"><span>13043</span></td><td id="LC13043" class="css-1dcdqdg"><code>		<span class="code-comment">// @namespace Map; @option preferCanvas: Boolean = false</span>
</code></td></tr><tr><td id="L13044" class="css-a4x74f"><span>13044</span></td><td id="LC13044" class="css-1dcdqdg"><code>		<span class="code-comment">// Whether `Path`s should be rendered on a `Canvas` renderer.</span>
</code></td></tr><tr><td id="L13045" class="css-a4x74f"><span>13045</span></td><td id="LC13045" class="css-1dcdqdg"><code>		<span class="code-comment">// By default, all `Path`s are rendered in a `SVG` renderer.</span>
</code></td></tr><tr><td id="L13046" class="css-a4x74f"><span>13046</span></td><td id="LC13046" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> (<span class="code-keyword">this</span>.options.preferCanvas &amp;&amp; canvas(options)) || svg(options);
</code></td></tr><tr><td id="L13047" class="css-a4x74f"><span>13047</span></td><td id="LC13047" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13048" class="css-a4x74f"><span>13048</span></td><td id="LC13048" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13049" class="css-a4x74f"><span>13049</span></td><td id="LC13049" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13050" class="css-a4x74f"><span>13050</span></td><td id="LC13050" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13051" class="css-a4x74f"><span>13051</span></td><td id="LC13051" class="css-1dcdqdg"><code><span class="code-comment"> * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.
</span></code></td></tr><tr><td id="L13052" class="css-a4x74f"><span>13052</span></td><td id="LC13052" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13053" class="css-a4x74f"><span>13053</span></td><td id="LC13053" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13054" class="css-a4x74f"><span>13054</span></td><td id="LC13054" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13055" class="css-a4x74f"><span>13055</span></td><td id="LC13055" class="css-1dcdqdg"><code><span class="code-comment"> * @class Rectangle
</span></code></td></tr><tr><td id="L13056" class="css-a4x74f"><span>13056</span></td><td id="LC13056" class="css-1dcdqdg"><code><span class="code-comment"> * @aka L.Rectangle
</span></code></td></tr><tr><td id="L13057" class="css-a4x74f"><span>13057</span></td><td id="LC13057" class="css-1dcdqdg"><code><span class="code-comment"> * @inherits Polygon
</span></code></td></tr><tr><td id="L13058" class="css-a4x74f"><span>13058</span></td><td id="LC13058" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13059" class="css-a4x74f"><span>13059</span></td><td id="LC13059" class="css-1dcdqdg"><code><span class="code-comment"> * A class for drawing rectangle overlays on a map. Extends `Polygon`.
</span></code></td></tr><tr><td id="L13060" class="css-a4x74f"><span>13060</span></td><td id="LC13060" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13061" class="css-a4x74f"><span>13061</span></td><td id="LC13061" class="css-1dcdqdg"><code><span class="code-comment"> * @example
</span></code></td></tr><tr><td id="L13062" class="css-a4x74f"><span>13062</span></td><td id="LC13062" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13063" class="css-a4x74f"><span>13063</span></td><td id="LC13063" class="css-1dcdqdg"><code><span class="code-comment"> * ```js
</span></code></td></tr><tr><td id="L13064" class="css-a4x74f"><span>13064</span></td><td id="LC13064" class="css-1dcdqdg"><code><span class="code-comment"> * // define rectangle geographical bounds
</span></code></td></tr><tr><td id="L13065" class="css-a4x74f"><span>13065</span></td><td id="LC13065" class="css-1dcdqdg"><code><span class="code-comment"> * var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];
</span></code></td></tr><tr><td id="L13066" class="css-a4x74f"><span>13066</span></td><td id="LC13066" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13067" class="css-a4x74f"><span>13067</span></td><td id="LC13067" class="css-1dcdqdg"><code><span class="code-comment"> * // create an orange rectangle
</span></code></td></tr><tr><td id="L13068" class="css-a4x74f"><span>13068</span></td><td id="LC13068" class="css-1dcdqdg"><code><span class="code-comment"> * L.rectangle(bounds, {color: "#ff7800", weight: 1}).addTo(map);
</span></code></td></tr><tr><td id="L13069" class="css-a4x74f"><span>13069</span></td><td id="LC13069" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13070" class="css-a4x74f"><span>13070</span></td><td id="LC13070" class="css-1dcdqdg"><code><span class="code-comment"> * // zoom the map to the rectangle bounds
</span></code></td></tr><tr><td id="L13071" class="css-a4x74f"><span>13071</span></td><td id="LC13071" class="css-1dcdqdg"><code><span class="code-comment"> * map.fitBounds(bounds);
</span></code></td></tr><tr><td id="L13072" class="css-a4x74f"><span>13072</span></td><td id="LC13072" class="css-1dcdqdg"><code><span class="code-comment"> * ```
</span></code></td></tr><tr><td id="L13073" class="css-a4x74f"><span>13073</span></td><td id="LC13073" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13074" class="css-a4x74f"><span>13074</span></td><td id="LC13074" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13075" class="css-a4x74f"><span>13075</span></td><td id="LC13075" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13076" class="css-a4x74f"><span>13076</span></td><td id="LC13076" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13077" class="css-a4x74f"><span>13077</span></td><td id="LC13077" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Rectangle = Polygon.extend({
</code></td></tr><tr><td id="L13078" class="css-a4x74f"><span>13078</span></td><td id="LC13078" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latLngBounds, options</span>) </span>{
</code></td></tr><tr><td id="L13079" class="css-a4x74f"><span>13079</span></td><td id="LC13079" class="css-1dcdqdg"><code>		Polygon.prototype.initialize.call(<span class="code-keyword">this</span>, <span class="code-keyword">this</span>._boundsToLatLngs(latLngBounds), options);
</code></td></tr><tr><td id="L13080" class="css-a4x74f"><span>13080</span></td><td id="LC13080" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13081" class="css-a4x74f"><span>13081</span></td><td id="LC13081" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13082" class="css-a4x74f"><span>13082</span></td><td id="LC13082" class="css-1dcdqdg"><code>	<span class="code-comment">// @method setBounds(latLngBounds: LatLngBounds): this</span>
</code></td></tr><tr><td id="L13083" class="css-a4x74f"><span>13083</span></td><td id="LC13083" class="css-1dcdqdg"><code>	<span class="code-comment">// Redraws the rectangle with the passed bounds.</span>
</code></td></tr><tr><td id="L13084" class="css-a4x74f"><span>13084</span></td><td id="LC13084" class="css-1dcdqdg"><code>	setBounds: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latLngBounds</span>) </span>{
</code></td></tr><tr><td id="L13085" class="css-a4x74f"><span>13085</span></td><td id="LC13085" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setLatLngs(<span class="code-keyword">this</span>._boundsToLatLngs(latLngBounds));
</code></td></tr><tr><td id="L13086" class="css-a4x74f"><span>13086</span></td><td id="LC13086" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13087" class="css-a4x74f"><span>13087</span></td><td id="LC13087" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13088" class="css-a4x74f"><span>13088</span></td><td id="LC13088" class="css-1dcdqdg"><code>	_boundsToLatLngs: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">latLngBounds</span>) </span>{
</code></td></tr><tr><td id="L13089" class="css-a4x74f"><span>13089</span></td><td id="LC13089" class="css-1dcdqdg"><code>		latLngBounds = toLatLngBounds(latLngBounds);
</code></td></tr><tr><td id="L13090" class="css-a4x74f"><span>13090</span></td><td id="LC13090" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> [
</code></td></tr><tr><td id="L13091" class="css-a4x74f"><span>13091</span></td><td id="LC13091" class="css-1dcdqdg"><code>			latLngBounds.getSouthWest(),
</code></td></tr><tr><td id="L13092" class="css-a4x74f"><span>13092</span></td><td id="LC13092" class="css-1dcdqdg"><code>			latLngBounds.getNorthWest(),
</code></td></tr><tr><td id="L13093" class="css-a4x74f"><span>13093</span></td><td id="LC13093" class="css-1dcdqdg"><code>			latLngBounds.getNorthEast(),
</code></td></tr><tr><td id="L13094" class="css-a4x74f"><span>13094</span></td><td id="LC13094" class="css-1dcdqdg"><code>			latLngBounds.getSouthEast()
</code></td></tr><tr><td id="L13095" class="css-a4x74f"><span>13095</span></td><td id="LC13095" class="css-1dcdqdg"><code>		];
</code></td></tr><tr><td id="L13096" class="css-a4x74f"><span>13096</span></td><td id="LC13096" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13097" class="css-a4x74f"><span>13097</span></td><td id="LC13097" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13098" class="css-a4x74f"><span>13098</span></td><td id="LC13098" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13099" class="css-a4x74f"><span>13099</span></td><td id="LC13099" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13100" class="css-a4x74f"><span>13100</span></td><td id="LC13100" class="css-1dcdqdg"><code><span class="code-comment">// @factory L.rectangle(latLngBounds: LatLngBounds, options?: Polyline options)</span>
</code></td></tr><tr><td id="L13101" class="css-a4x74f"><span>13101</span></td><td id="LC13101" class="css-1dcdqdg"><code><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rectangle</span>(<span class="code-params">latLngBounds, options</span>) </span>{
</code></td></tr><tr><td id="L13102" class="css-a4x74f"><span>13102</span></td><td id="LC13102" class="css-1dcdqdg"><code>	<span class="code-keyword">return</span> <span class="code-keyword">new</span> Rectangle(latLngBounds, options);
</code></td></tr><tr><td id="L13103" class="css-a4x74f"><span>13103</span></td><td id="LC13103" class="css-1dcdqdg"><code>}
</code></td></tr><tr><td id="L13104" class="css-a4x74f"><span>13104</span></td><td id="LC13104" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13105" class="css-a4x74f"><span>13105</span></td><td id="LC13105" class="css-1dcdqdg"><code>SVG.create = create;
</code></td></tr><tr><td id="L13106" class="css-a4x74f"><span>13106</span></td><td id="LC13106" class="css-1dcdqdg"><code>SVG.pointsToPath = pointsToPath;
</code></td></tr><tr><td id="L13107" class="css-a4x74f"><span>13107</span></td><td id="LC13107" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13108" class="css-a4x74f"><span>13108</span></td><td id="LC13108" class="css-1dcdqdg"><code>GeoJSON.geometryToLayer = geometryToLayer;
</code></td></tr><tr><td id="L13109" class="css-a4x74f"><span>13109</span></td><td id="LC13109" class="css-1dcdqdg"><code>GeoJSON.coordsToLatLng = coordsToLatLng;
</code></td></tr><tr><td id="L13110" class="css-a4x74f"><span>13110</span></td><td id="LC13110" class="css-1dcdqdg"><code>GeoJSON.coordsToLatLngs = coordsToLatLngs;
</code></td></tr><tr><td id="L13111" class="css-a4x74f"><span>13111</span></td><td id="LC13111" class="css-1dcdqdg"><code>GeoJSON.latLngToCoords = latLngToCoords;
</code></td></tr><tr><td id="L13112" class="css-a4x74f"><span>13112</span></td><td id="LC13112" class="css-1dcdqdg"><code>GeoJSON.latLngsToCoords = latLngsToCoords;
</code></td></tr><tr><td id="L13113" class="css-a4x74f"><span>13113</span></td><td id="LC13113" class="css-1dcdqdg"><code>GeoJSON.getFeature = getFeature;
</code></td></tr><tr><td id="L13114" class="css-a4x74f"><span>13114</span></td><td id="LC13114" class="css-1dcdqdg"><code>GeoJSON.asFeature = asFeature;
</code></td></tr><tr><td id="L13115" class="css-a4x74f"><span>13115</span></td><td id="LC13115" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13116" class="css-a4x74f"><span>13116</span></td><td id="LC13116" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13117" class="css-a4x74f"><span>13117</span></td><td id="LC13117" class="css-1dcdqdg"><code><span class="code-comment"> * L.Handler.BoxZoom is used to add shift-drag zoom interaction to the map
</span></code></td></tr><tr><td id="L13118" class="css-a4x74f"><span>13118</span></td><td id="LC13118" class="css-1dcdqdg"><code><span class="code-comment"> * (zoom to a selected bounding box), enabled by default.
</span></code></td></tr><tr><td id="L13119" class="css-a4x74f"><span>13119</span></td><td id="LC13119" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13120" class="css-a4x74f"><span>13120</span></td><td id="LC13120" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13121" class="css-a4x74f"><span>13121</span></td><td id="LC13121" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13122" class="css-a4x74f"><span>13122</span></td><td id="LC13122" class="css-1dcdqdg"><code><span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L13123" class="css-a4x74f"><span>13123</span></td><td id="LC13123" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13124" class="css-a4x74f"><span>13124</span></td><td id="LC13124" class="css-1dcdqdg"><code>	<span class="code-comment">// @option boxZoom: Boolean = true</span>
</code></td></tr><tr><td id="L13125" class="css-a4x74f"><span>13125</span></td><td id="LC13125" class="css-1dcdqdg"><code>	<span class="code-comment">// Whether the map can be zoomed to a rectangular area specified by</span>
</code></td></tr><tr><td id="L13126" class="css-a4x74f"><span>13126</span></td><td id="LC13126" class="css-1dcdqdg"><code>	<span class="code-comment">// dragging the mouse while pressing the shift key.</span>
</code></td></tr><tr><td id="L13127" class="css-a4x74f"><span>13127</span></td><td id="LC13127" class="css-1dcdqdg"><code>	boxZoom: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L13128" class="css-a4x74f"><span>13128</span></td><td id="LC13128" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13129" class="css-a4x74f"><span>13129</span></td><td id="LC13129" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13130" class="css-a4x74f"><span>13130</span></td><td id="LC13130" class="css-1dcdqdg"><code><span class="code-keyword">var</span> BoxZoom = Handler.extend({
</code></td></tr><tr><td id="L13131" class="css-a4x74f"><span>13131</span></td><td id="LC13131" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L13132" class="css-a4x74f"><span>13132</span></td><td id="LC13132" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = map;
</code></td></tr><tr><td id="L13133" class="css-a4x74f"><span>13133</span></td><td id="LC13133" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._container = map._container;
</code></td></tr><tr><td id="L13134" class="css-a4x74f"><span>13134</span></td><td id="LC13134" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._pane = map._panes.overlayPane;
</code></td></tr><tr><td id="L13135" class="css-a4x74f"><span>13135</span></td><td id="LC13135" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetStateTimeout = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L13136" class="css-a4x74f"><span>13136</span></td><td id="LC13136" class="css-1dcdqdg"><code>		map.on(<span class="code-string">'unload'</span>, <span class="code-keyword">this</span>._destroy, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13137" class="css-a4x74f"><span>13137</span></td><td id="LC13137" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13138" class="css-a4x74f"><span>13138</span></td><td id="LC13138" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13139" class="css-a4x74f"><span>13139</span></td><td id="LC13139" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13140" class="css-a4x74f"><span>13140</span></td><td id="LC13140" class="css-1dcdqdg"><code>		on(<span class="code-keyword">this</span>._container, <span class="code-string">'mousedown'</span>, <span class="code-keyword">this</span>._onMouseDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13141" class="css-a4x74f"><span>13141</span></td><td id="LC13141" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13142" class="css-a4x74f"><span>13142</span></td><td id="LC13142" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13143" class="css-a4x74f"><span>13143</span></td><td id="LC13143" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13144" class="css-a4x74f"><span>13144</span></td><td id="LC13144" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._container, <span class="code-string">'mousedown'</span>, <span class="code-keyword">this</span>._onMouseDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13145" class="css-a4x74f"><span>13145</span></td><td id="LC13145" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13146" class="css-a4x74f"><span>13146</span></td><td id="LC13146" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13147" class="css-a4x74f"><span>13147</span></td><td id="LC13147" class="css-1dcdqdg"><code>	moved: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13148" class="css-a4x74f"><span>13148</span></td><td id="LC13148" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._moved;
</code></td></tr><tr><td id="L13149" class="css-a4x74f"><span>13149</span></td><td id="LC13149" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13150" class="css-a4x74f"><span>13150</span></td><td id="LC13150" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13151" class="css-a4x74f"><span>13151</span></td><td id="LC13151" class="css-1dcdqdg"><code>	_destroy: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13152" class="css-a4x74f"><span>13152</span></td><td id="LC13152" class="css-1dcdqdg"><code>		remove(<span class="code-keyword">this</span>._pane);
</code></td></tr><tr><td id="L13153" class="css-a4x74f"><span>13153</span></td><td id="LC13153" class="css-1dcdqdg"><code>		<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._pane;
</code></td></tr><tr><td id="L13154" class="css-a4x74f"><span>13154</span></td><td id="LC13154" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13155" class="css-a4x74f"><span>13155</span></td><td id="LC13155" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13156" class="css-a4x74f"><span>13156</span></td><td id="LC13156" class="css-1dcdqdg"><code>	_resetState: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13157" class="css-a4x74f"><span>13157</span></td><td id="LC13157" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetStateTimeout = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L13158" class="css-a4x74f"><span>13158</span></td><td id="LC13158" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moved = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L13159" class="css-a4x74f"><span>13159</span></td><td id="LC13159" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13160" class="css-a4x74f"><span>13160</span></td><td id="LC13160" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13161" class="css-a4x74f"><span>13161</span></td><td id="LC13161" class="css-1dcdqdg"><code>	_clearDeferredResetState: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13162" class="css-a4x74f"><span>13162</span></td><td id="LC13162" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._resetStateTimeout !== <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L13163" class="css-a4x74f"><span>13163</span></td><td id="LC13163" class="css-1dcdqdg"><code>			clearTimeout(<span class="code-keyword">this</span>._resetStateTimeout);
</code></td></tr><tr><td id="L13164" class="css-a4x74f"><span>13164</span></td><td id="LC13164" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._resetStateTimeout = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L13165" class="css-a4x74f"><span>13165</span></td><td id="LC13165" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13166" class="css-a4x74f"><span>13166</span></td><td id="LC13166" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13167" class="css-a4x74f"><span>13167</span></td><td id="LC13167" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13168" class="css-a4x74f"><span>13168</span></td><td id="LC13168" class="css-1dcdqdg"><code>	_onMouseDown: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13169" class="css-a4x74f"><span>13169</span></td><td id="LC13169" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!e.shiftKey || ((e.which !== <span class="code-number">1</span>) &amp;&amp; (e.button !== <span class="code-number">1</span>))) { <span class="code-keyword">return</span> <span class="code-literal">false</span>; }
</code></td></tr><tr><td id="L13170" class="css-a4x74f"><span>13170</span></td><td id="LC13170" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13171" class="css-a4x74f"><span>13171</span></td><td id="LC13171" class="css-1dcdqdg"><code>		<span class="code-comment">// Clear the deferred resetState if it hasn't executed yet, otherwise it</span>
</code></td></tr><tr><td id="L13172" class="css-a4x74f"><span>13172</span></td><td id="LC13172" class="css-1dcdqdg"><code>		<span class="code-comment">// will interrupt the interaction and orphan a box element in the container.</span>
</code></td></tr><tr><td id="L13173" class="css-a4x74f"><span>13173</span></td><td id="LC13173" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._clearDeferredResetState();
</code></td></tr><tr><td id="L13174" class="css-a4x74f"><span>13174</span></td><td id="LC13174" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetState();
</code></td></tr><tr><td id="L13175" class="css-a4x74f"><span>13175</span></td><td id="LC13175" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13176" class="css-a4x74f"><span>13176</span></td><td id="LC13176" class="css-1dcdqdg"><code>		disableTextSelection();
</code></td></tr><tr><td id="L13177" class="css-a4x74f"><span>13177</span></td><td id="LC13177" class="css-1dcdqdg"><code>		disableImageDrag();
</code></td></tr><tr><td id="L13178" class="css-a4x74f"><span>13178</span></td><td id="LC13178" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13179" class="css-a4x74f"><span>13179</span></td><td id="LC13179" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startPoint = <span class="code-keyword">this</span>._map.mouseEventToContainerPoint(e);
</code></td></tr><tr><td id="L13180" class="css-a4x74f"><span>13180</span></td><td id="LC13180" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13181" class="css-a4x74f"><span>13181</span></td><td id="LC13181" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, {
</code></td></tr><tr><td id="L13182" class="css-a4x74f"><span>13182</span></td><td id="LC13182" class="css-1dcdqdg"><code>			contextmenu: stop,
</code></td></tr><tr><td id="L13183" class="css-a4x74f"><span>13183</span></td><td id="LC13183" class="css-1dcdqdg"><code>			mousemove: <span class="code-keyword">this</span>._onMouseMove,
</code></td></tr><tr><td id="L13184" class="css-a4x74f"><span>13184</span></td><td id="LC13184" class="css-1dcdqdg"><code>			mouseup: <span class="code-keyword">this</span>._onMouseUp,
</code></td></tr><tr><td id="L13185" class="css-a4x74f"><span>13185</span></td><td id="LC13185" class="css-1dcdqdg"><code>			keydown: <span class="code-keyword">this</span>._onKeyDown
</code></td></tr><tr><td id="L13186" class="css-a4x74f"><span>13186</span></td><td id="LC13186" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13187" class="css-a4x74f"><span>13187</span></td><td id="LC13187" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13188" class="css-a4x74f"><span>13188</span></td><td id="LC13188" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13189" class="css-a4x74f"><span>13189</span></td><td id="LC13189" class="css-1dcdqdg"><code>	_onMouseMove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13190" class="css-a4x74f"><span>13190</span></td><td id="LC13190" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._moved) {
</code></td></tr><tr><td id="L13191" class="css-a4x74f"><span>13191</span></td><td id="LC13191" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._moved = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L13192" class="css-a4x74f"><span>13192</span></td><td id="LC13192" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13193" class="css-a4x74f"><span>13193</span></td><td id="LC13193" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._box = create$<span class="code-number">1</span>(<span class="code-string">'div'</span>, <span class="code-string">'leaflet-zoom-box'</span>, <span class="code-keyword">this</span>._container);
</code></td></tr><tr><td id="L13194" class="css-a4x74f"><span>13194</span></td><td id="LC13194" class="css-1dcdqdg"><code>			addClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-crosshair'</span>);
</code></td></tr><tr><td id="L13195" class="css-a4x74f"><span>13195</span></td><td id="LC13195" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13196" class="css-a4x74f"><span>13196</span></td><td id="LC13196" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map.fire(<span class="code-string">'boxzoomstart'</span>);
</code></td></tr><tr><td id="L13197" class="css-a4x74f"><span>13197</span></td><td id="LC13197" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13198" class="css-a4x74f"><span>13198</span></td><td id="LC13198" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13199" class="css-a4x74f"><span>13199</span></td><td id="LC13199" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._point = <span class="code-keyword">this</span>._map.mouseEventToContainerPoint(e);
</code></td></tr><tr><td id="L13200" class="css-a4x74f"><span>13200</span></td><td id="LC13200" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13201" class="css-a4x74f"><span>13201</span></td><td id="LC13201" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">new</span> Bounds(<span class="code-keyword">this</span>._point, <span class="code-keyword">this</span>._startPoint),
</code></td></tr><tr><td id="L13202" class="css-a4x74f"><span>13202</span></td><td id="LC13202" class="css-1dcdqdg"><code>		    size = bounds.getSize();
</code></td></tr><tr><td id="L13203" class="css-a4x74f"><span>13203</span></td><td id="LC13203" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13204" class="css-a4x74f"><span>13204</span></td><td id="LC13204" class="css-1dcdqdg"><code>		setPosition(<span class="code-keyword">this</span>._box, bounds.min);
</code></td></tr><tr><td id="L13205" class="css-a4x74f"><span>13205</span></td><td id="LC13205" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13206" class="css-a4x74f"><span>13206</span></td><td id="LC13206" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._box.style.width  = size.x + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L13207" class="css-a4x74f"><span>13207</span></td><td id="LC13207" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._box.style.height = size.y + <span class="code-string">'px'</span>;
</code></td></tr><tr><td id="L13208" class="css-a4x74f"><span>13208</span></td><td id="LC13208" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13209" class="css-a4x74f"><span>13209</span></td><td id="LC13209" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13210" class="css-a4x74f"><span>13210</span></td><td id="LC13210" class="css-1dcdqdg"><code>	_finish: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13211" class="css-a4x74f"><span>13211</span></td><td id="LC13211" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._moved) {
</code></td></tr><tr><td id="L13212" class="css-a4x74f"><span>13212</span></td><td id="LC13212" class="css-1dcdqdg"><code>			remove(<span class="code-keyword">this</span>._box);
</code></td></tr><tr><td id="L13213" class="css-a4x74f"><span>13213</span></td><td id="LC13213" class="css-1dcdqdg"><code>			removeClass(<span class="code-keyword">this</span>._container, <span class="code-string">'leaflet-crosshair'</span>);
</code></td></tr><tr><td id="L13214" class="css-a4x74f"><span>13214</span></td><td id="LC13214" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13215" class="css-a4x74f"><span>13215</span></td><td id="LC13215" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13216" class="css-a4x74f"><span>13216</span></td><td id="LC13216" class="css-1dcdqdg"><code>		enableTextSelection();
</code></td></tr><tr><td id="L13217" class="css-a4x74f"><span>13217</span></td><td id="LC13217" class="css-1dcdqdg"><code>		enableImageDrag();
</code></td></tr><tr><td id="L13218" class="css-a4x74f"><span>13218</span></td><td id="LC13218" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13219" class="css-a4x74f"><span>13219</span></td><td id="LC13219" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, {
</code></td></tr><tr><td id="L13220" class="css-a4x74f"><span>13220</span></td><td id="LC13220" class="css-1dcdqdg"><code>			contextmenu: stop,
</code></td></tr><tr><td id="L13221" class="css-a4x74f"><span>13221</span></td><td id="LC13221" class="css-1dcdqdg"><code>			mousemove: <span class="code-keyword">this</span>._onMouseMove,
</code></td></tr><tr><td id="L13222" class="css-a4x74f"><span>13222</span></td><td id="LC13222" class="css-1dcdqdg"><code>			mouseup: <span class="code-keyword">this</span>._onMouseUp,
</code></td></tr><tr><td id="L13223" class="css-a4x74f"><span>13223</span></td><td id="LC13223" class="css-1dcdqdg"><code>			keydown: <span class="code-keyword">this</span>._onKeyDown
</code></td></tr><tr><td id="L13224" class="css-a4x74f"><span>13224</span></td><td id="LC13224" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13225" class="css-a4x74f"><span>13225</span></td><td id="LC13225" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13226" class="css-a4x74f"><span>13226</span></td><td id="LC13226" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13227" class="css-a4x74f"><span>13227</span></td><td id="LC13227" class="css-1dcdqdg"><code>	_onMouseUp: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13228" class="css-a4x74f"><span>13228</span></td><td id="LC13228" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> ((e.which !== <span class="code-number">1</span>) &amp;&amp; (e.button !== <span class="code-number">1</span>)) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13229" class="css-a4x74f"><span>13229</span></td><td id="LC13229" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13230" class="css-a4x74f"><span>13230</span></td><td id="LC13230" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._finish();
</code></td></tr><tr><td id="L13231" class="css-a4x74f"><span>13231</span></td><td id="LC13231" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13232" class="css-a4x74f"><span>13232</span></td><td id="LC13232" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._moved) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13233" class="css-a4x74f"><span>13233</span></td><td id="LC13233" class="css-1dcdqdg"><code>		<span class="code-comment">// Postpone to next JS tick so internal click event handling</span>
</code></td></tr><tr><td id="L13234" class="css-a4x74f"><span>13234</span></td><td id="LC13234" class="css-1dcdqdg"><code>		<span class="code-comment">// still see it as "moved".</span>
</code></td></tr><tr><td id="L13235" class="css-a4x74f"><span>13235</span></td><td id="LC13235" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._clearDeferredResetState();
</code></td></tr><tr><td id="L13236" class="css-a4x74f"><span>13236</span></td><td id="LC13236" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._resetStateTimeout = setTimeout(bind(<span class="code-keyword">this</span>._resetState, <span class="code-keyword">this</span>), <span class="code-number">0</span>);
</code></td></tr><tr><td id="L13237" class="css-a4x74f"><span>13237</span></td><td id="LC13237" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13238" class="css-a4x74f"><span>13238</span></td><td id="LC13238" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> bounds = <span class="code-keyword">new</span> LatLngBounds(
</code></td></tr><tr><td id="L13239" class="css-a4x74f"><span>13239</span></td><td id="LC13239" class="css-1dcdqdg"><code>		        <span class="code-keyword">this</span>._map.containerPointToLatLng(<span class="code-keyword">this</span>._startPoint),
</code></td></tr><tr><td id="L13240" class="css-a4x74f"><span>13240</span></td><td id="LC13240" class="css-1dcdqdg"><code>		        <span class="code-keyword">this</span>._map.containerPointToLatLng(<span class="code-keyword">this</span>._point));
</code></td></tr><tr><td id="L13241" class="css-a4x74f"><span>13241</span></td><td id="LC13241" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13242" class="css-a4x74f"><span>13242</span></td><td id="LC13242" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map
</code></td></tr><tr><td id="L13243" class="css-a4x74f"><span>13243</span></td><td id="LC13243" class="css-1dcdqdg"><code>			.fitBounds(bounds)
</code></td></tr><tr><td id="L13244" class="css-a4x74f"><span>13244</span></td><td id="LC13244" class="css-1dcdqdg"><code>			.fire(<span class="code-string">'boxzoomend'</span>, {<span class="code-attr">boxZoomBounds</span>: bounds});
</code></td></tr><tr><td id="L13245" class="css-a4x74f"><span>13245</span></td><td id="LC13245" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13246" class="css-a4x74f"><span>13246</span></td><td id="LC13246" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13247" class="css-a4x74f"><span>13247</span></td><td id="LC13247" class="css-1dcdqdg"><code>	_onKeyDown: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13248" class="css-a4x74f"><span>13248</span></td><td id="LC13248" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.keyCode === <span class="code-number">27</span>) {
</code></td></tr><tr><td id="L13249" class="css-a4x74f"><span>13249</span></td><td id="LC13249" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._finish();
</code></td></tr><tr><td id="L13250" class="css-a4x74f"><span>13250</span></td><td id="LC13250" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._clearDeferredResetState();
</code></td></tr><tr><td id="L13251" class="css-a4x74f"><span>13251</span></td><td id="LC13251" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._resetState();
</code></td></tr><tr><td id="L13252" class="css-a4x74f"><span>13252</span></td><td id="LC13252" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13253" class="css-a4x74f"><span>13253</span></td><td id="LC13253" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13254" class="css-a4x74f"><span>13254</span></td><td id="LC13254" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13255" class="css-a4x74f"><span>13255</span></td><td id="LC13255" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13256" class="css-a4x74f"><span>13256</span></td><td id="LC13256" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13257" class="css-a4x74f"><span>13257</span></td><td id="LC13257" class="css-1dcdqdg"><code><span class="code-comment">// @property boxZoom: Handler</span>
</code></td></tr><tr><td id="L13258" class="css-a4x74f"><span>13258</span></td><td id="LC13258" class="css-1dcdqdg"><code><span class="code-comment">// Box (shift-drag with mouse) zoom handler.</span>
</code></td></tr><tr><td id="L13259" class="css-a4x74f"><span>13259</span></td><td id="LC13259" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'boxZoom'</span>, BoxZoom);
</code></td></tr><tr><td id="L13260" class="css-a4x74f"><span>13260</span></td><td id="LC13260" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13261" class="css-a4x74f"><span>13261</span></td><td id="LC13261" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13262" class="css-a4x74f"><span>13262</span></td><td id="LC13262" class="css-1dcdqdg"><code><span class="code-comment"> * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.
</span></code></td></tr><tr><td id="L13263" class="css-a4x74f"><span>13263</span></td><td id="LC13263" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13264" class="css-a4x74f"><span>13264</span></td><td id="LC13264" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13265" class="css-a4x74f"><span>13265</span></td><td id="LC13265" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13266" class="css-a4x74f"><span>13266</span></td><td id="LC13266" class="css-1dcdqdg"><code><span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L13267" class="css-a4x74f"><span>13267</span></td><td id="LC13267" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13268" class="css-a4x74f"><span>13268</span></td><td id="LC13268" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13269" class="css-a4x74f"><span>13269</span></td><td id="LC13269" class="css-1dcdqdg"><code>	<span class="code-comment">// @option doubleClickZoom: Boolean|String = true</span>
</code></td></tr><tr><td id="L13270" class="css-a4x74f"><span>13270</span></td><td id="LC13270" class="css-1dcdqdg"><code>	<span class="code-comment">// Whether the map can be zoomed in by double clicking on it and</span>
</code></td></tr><tr><td id="L13271" class="css-a4x74f"><span>13271</span></td><td id="LC13271" class="css-1dcdqdg"><code>	<span class="code-comment">// zoomed out by double clicking while holding shift. If passed</span>
</code></td></tr><tr><td id="L13272" class="css-a4x74f"><span>13272</span></td><td id="LC13272" class="css-1dcdqdg"><code>	<span class="code-comment">// `'center'`, double-click zoom will zoom to the center of the</span>
</code></td></tr><tr><td id="L13273" class="css-a4x74f"><span>13273</span></td><td id="LC13273" class="css-1dcdqdg"><code>	<span class="code-comment">//  view regardless of where the mouse was.</span>
</code></td></tr><tr><td id="L13274" class="css-a4x74f"><span>13274</span></td><td id="LC13274" class="css-1dcdqdg"><code>	doubleClickZoom: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L13275" class="css-a4x74f"><span>13275</span></td><td id="LC13275" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13276" class="css-a4x74f"><span>13276</span></td><td id="LC13276" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13277" class="css-a4x74f"><span>13277</span></td><td id="LC13277" class="css-1dcdqdg"><code><span class="code-keyword">var</span> DoubleClickZoom = Handler.extend({
</code></td></tr><tr><td id="L13278" class="css-a4x74f"><span>13278</span></td><td id="LC13278" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13279" class="css-a4x74f"><span>13279</span></td><td id="LC13279" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.on(<span class="code-string">'dblclick'</span>, <span class="code-keyword">this</span>._onDoubleClick, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13280" class="css-a4x74f"><span>13280</span></td><td id="LC13280" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13281" class="css-a4x74f"><span>13281</span></td><td id="LC13281" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13282" class="css-a4x74f"><span>13282</span></td><td id="LC13282" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13283" class="css-a4x74f"><span>13283</span></td><td id="LC13283" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.off(<span class="code-string">'dblclick'</span>, <span class="code-keyword">this</span>._onDoubleClick, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13284" class="css-a4x74f"><span>13284</span></td><td id="LC13284" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13285" class="css-a4x74f"><span>13285</span></td><td id="LC13285" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13286" class="css-a4x74f"><span>13286</span></td><td id="LC13286" class="css-1dcdqdg"><code>	_onDoubleClick: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13287" class="css-a4x74f"><span>13287</span></td><td id="LC13287" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L13288" class="css-a4x74f"><span>13288</span></td><td id="LC13288" class="css-1dcdqdg"><code>		    oldZoom = map.getZoom(),
</code></td></tr><tr><td id="L13289" class="css-a4x74f"><span>13289</span></td><td id="LC13289" class="css-1dcdqdg"><code>		    delta = map.options.zoomDelta,
</code></td></tr><tr><td id="L13290" class="css-a4x74f"><span>13290</span></td><td id="LC13290" class="css-1dcdqdg"><code>		    zoom = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;
</code></td></tr><tr><td id="L13291" class="css-a4x74f"><span>13291</span></td><td id="LC13291" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13292" class="css-a4x74f"><span>13292</span></td><td id="LC13292" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map.options.doubleClickZoom === <span class="code-string">'center'</span>) {
</code></td></tr><tr><td id="L13293" class="css-a4x74f"><span>13293</span></td><td id="LC13293" class="css-1dcdqdg"><code>			map.setZoom(zoom);
</code></td></tr><tr><td id="L13294" class="css-a4x74f"><span>13294</span></td><td id="LC13294" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13295" class="css-a4x74f"><span>13295</span></td><td id="LC13295" class="css-1dcdqdg"><code>			map.setZoomAround(e.containerPoint, zoom);
</code></td></tr><tr><td id="L13296" class="css-a4x74f"><span>13296</span></td><td id="LC13296" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13297" class="css-a4x74f"><span>13297</span></td><td id="LC13297" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13298" class="css-a4x74f"><span>13298</span></td><td id="LC13298" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13299" class="css-a4x74f"><span>13299</span></td><td id="LC13299" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13300" class="css-a4x74f"><span>13300</span></td><td id="LC13300" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13301" class="css-a4x74f"><span>13301</span></td><td id="LC13301" class="css-1dcdqdg"><code><span class="code-comment">//</span>
</code></td></tr><tr><td id="L13302" class="css-a4x74f"><span>13302</span></td><td id="LC13302" class="css-1dcdqdg"><code><span class="code-comment">// Map properties include interaction handlers that allow you to control</span>
</code></td></tr><tr><td id="L13303" class="css-a4x74f"><span>13303</span></td><td id="LC13303" class="css-1dcdqdg"><code><span class="code-comment">// interaction behavior in runtime, enabling or disabling certain features such</span>
</code></td></tr><tr><td id="L13304" class="css-a4x74f"><span>13304</span></td><td id="LC13304" class="css-1dcdqdg"><code><span class="code-comment">// as dragging or touch zoom (see `Handler` methods). For example:</span>
</code></td></tr><tr><td id="L13305" class="css-a4x74f"><span>13305</span></td><td id="LC13305" class="css-1dcdqdg"><code><span class="code-comment">//</span>
</code></td></tr><tr><td id="L13306" class="css-a4x74f"><span>13306</span></td><td id="LC13306" class="css-1dcdqdg"><code><span class="code-comment">// ```js</span>
</code></td></tr><tr><td id="L13307" class="css-a4x74f"><span>13307</span></td><td id="LC13307" class="css-1dcdqdg"><code><span class="code-comment">// map.doubleClickZoom.disable();</span>
</code></td></tr><tr><td id="L13308" class="css-a4x74f"><span>13308</span></td><td id="LC13308" class="css-1dcdqdg"><code><span class="code-comment">// ```</span>
</code></td></tr><tr><td id="L13309" class="css-a4x74f"><span>13309</span></td><td id="LC13309" class="css-1dcdqdg"><code><span class="code-comment">//</span>
</code></td></tr><tr><td id="L13310" class="css-a4x74f"><span>13310</span></td><td id="LC13310" class="css-1dcdqdg"><code><span class="code-comment">// @property doubleClickZoom: Handler</span>
</code></td></tr><tr><td id="L13311" class="css-a4x74f"><span>13311</span></td><td id="LC13311" class="css-1dcdqdg"><code><span class="code-comment">// Double click zoom handler.</span>
</code></td></tr><tr><td id="L13312" class="css-a4x74f"><span>13312</span></td><td id="LC13312" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'doubleClickZoom'</span>, DoubleClickZoom);
</code></td></tr><tr><td id="L13313" class="css-a4x74f"><span>13313</span></td><td id="LC13313" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13314" class="css-a4x74f"><span>13314</span></td><td id="LC13314" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13315" class="css-a4x74f"><span>13315</span></td><td id="LC13315" class="css-1dcdqdg"><code><span class="code-comment"> * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.
</span></code></td></tr><tr><td id="L13316" class="css-a4x74f"><span>13316</span></td><td id="LC13316" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13317" class="css-a4x74f"><span>13317</span></td><td id="LC13317" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13318" class="css-a4x74f"><span>13318</span></td><td id="LC13318" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13319" class="css-a4x74f"><span>13319</span></td><td id="LC13319" class="css-1dcdqdg"><code><span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L13320" class="css-a4x74f"><span>13320</span></td><td id="LC13320" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13321" class="css-a4x74f"><span>13321</span></td><td id="LC13321" class="css-1dcdqdg"><code>	<span class="code-comment">// @option dragging: Boolean = true</span>
</code></td></tr><tr><td id="L13322" class="css-a4x74f"><span>13322</span></td><td id="LC13322" class="css-1dcdqdg"><code>	<span class="code-comment">// Whether the map be draggable with mouse/touch or not.</span>
</code></td></tr><tr><td id="L13323" class="css-a4x74f"><span>13323</span></td><td id="LC13323" class="css-1dcdqdg"><code>	dragging: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13324" class="css-a4x74f"><span>13324</span></td><td id="LC13324" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13325" class="css-a4x74f"><span>13325</span></td><td id="LC13325" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Panning Inertia Options</span>
</code></td></tr><tr><td id="L13326" class="css-a4x74f"><span>13326</span></td><td id="LC13326" class="css-1dcdqdg"><code>	<span class="code-comment">// @option inertia: Boolean = *</span>
</code></td></tr><tr><td id="L13327" class="css-a4x74f"><span>13327</span></td><td id="LC13327" class="css-1dcdqdg"><code>	<span class="code-comment">// If enabled, panning of the map will have an inertia effect where</span>
</code></td></tr><tr><td id="L13328" class="css-a4x74f"><span>13328</span></td><td id="LC13328" class="css-1dcdqdg"><code>	<span class="code-comment">// the map builds momentum while dragging and continues moving in</span>
</code></td></tr><tr><td id="L13329" class="css-a4x74f"><span>13329</span></td><td id="LC13329" class="css-1dcdqdg"><code>	<span class="code-comment">// the same direction for some time. Feels especially nice on touch</span>
</code></td></tr><tr><td id="L13330" class="css-a4x74f"><span>13330</span></td><td id="LC13330" class="css-1dcdqdg"><code>	<span class="code-comment">// devices. Enabled by default.</span>
</code></td></tr><tr><td id="L13331" class="css-a4x74f"><span>13331</span></td><td id="LC13331" class="css-1dcdqdg"><code>	inertia: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13332" class="css-a4x74f"><span>13332</span></td><td id="LC13332" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13333" class="css-a4x74f"><span>13333</span></td><td id="LC13333" class="css-1dcdqdg"><code>	<span class="code-comment">// @option inertiaDeceleration: Number = 3000</span>
</code></td></tr><tr><td id="L13334" class="css-a4x74f"><span>13334</span></td><td id="LC13334" class="css-1dcdqdg"><code>	<span class="code-comment">// The rate with which the inertial movement slows down, in pixels/second.</span>
</code></td></tr><tr><td id="L13335" class="css-a4x74f"><span>13335</span></td><td id="LC13335" class="css-1dcdqdg"><code>	inertiaDeceleration: <span class="code-number">3400</span>, <span class="code-comment">// px/s^2</span>
</code></td></tr><tr><td id="L13336" class="css-a4x74f"><span>13336</span></td><td id="LC13336" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13337" class="css-a4x74f"><span>13337</span></td><td id="LC13337" class="css-1dcdqdg"><code>	<span class="code-comment">// @option inertiaMaxSpeed: Number = Infinity</span>
</code></td></tr><tr><td id="L13338" class="css-a4x74f"><span>13338</span></td><td id="LC13338" class="css-1dcdqdg"><code>	<span class="code-comment">// Max speed of the inertial movement, in pixels/second.</span>
</code></td></tr><tr><td id="L13339" class="css-a4x74f"><span>13339</span></td><td id="LC13339" class="css-1dcdqdg"><code>	inertiaMaxSpeed: <span class="code-literal">Infinity</span>, <span class="code-comment">// px/s</span>
</code></td></tr><tr><td id="L13340" class="css-a4x74f"><span>13340</span></td><td id="LC13340" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13341" class="css-a4x74f"><span>13341</span></td><td id="LC13341" class="css-1dcdqdg"><code>	<span class="code-comment">// @option easeLinearity: Number = 0.2</span>
</code></td></tr><tr><td id="L13342" class="css-a4x74f"><span>13342</span></td><td id="LC13342" class="css-1dcdqdg"><code>	easeLinearity: <span class="code-number">0.2</span>,
</code></td></tr><tr><td id="L13343" class="css-a4x74f"><span>13343</span></td><td id="LC13343" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13344" class="css-a4x74f"><span>13344</span></td><td id="LC13344" class="css-1dcdqdg"><code>	<span class="code-comment">// TODO refactor, move to CRS</span>
</code></td></tr><tr><td id="L13345" class="css-a4x74f"><span>13345</span></td><td id="LC13345" class="css-1dcdqdg"><code>	<span class="code-comment">// @option worldCopyJump: Boolean = false</span>
</code></td></tr><tr><td id="L13346" class="css-a4x74f"><span>13346</span></td><td id="LC13346" class="css-1dcdqdg"><code>	<span class="code-comment">// With this option enabled, the map tracks when you pan to another "copy"</span>
</code></td></tr><tr><td id="L13347" class="css-a4x74f"><span>13347</span></td><td id="LC13347" class="css-1dcdqdg"><code>	<span class="code-comment">// of the world and seamlessly jumps to the original one so that all overlays</span>
</code></td></tr><tr><td id="L13348" class="css-a4x74f"><span>13348</span></td><td id="LC13348" class="css-1dcdqdg"><code>	<span class="code-comment">// like markers and vector layers are still visible.</span>
</code></td></tr><tr><td id="L13349" class="css-a4x74f"><span>13349</span></td><td id="LC13349" class="css-1dcdqdg"><code>	worldCopyJump: <span class="code-literal">false</span>,
</code></td></tr><tr><td id="L13350" class="css-a4x74f"><span>13350</span></td><td id="LC13350" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13351" class="css-a4x74f"><span>13351</span></td><td id="LC13351" class="css-1dcdqdg"><code>	<span class="code-comment">// @option maxBoundsViscosity: Number = 0.0</span>
</code></td></tr><tr><td id="L13352" class="css-a4x74f"><span>13352</span></td><td id="LC13352" class="css-1dcdqdg"><code>	<span class="code-comment">// If `maxBounds` is set, this option will control how solid the bounds</span>
</code></td></tr><tr><td id="L13353" class="css-a4x74f"><span>13353</span></td><td id="LC13353" class="css-1dcdqdg"><code>	<span class="code-comment">// are when dragging the map around. The default value of `0.0` allows the</span>
</code></td></tr><tr><td id="L13354" class="css-a4x74f"><span>13354</span></td><td id="LC13354" class="css-1dcdqdg"><code>	<span class="code-comment">// user to drag outside the bounds at normal speed, higher values will</span>
</code></td></tr><tr><td id="L13355" class="css-a4x74f"><span>13355</span></td><td id="LC13355" class="css-1dcdqdg"><code>	<span class="code-comment">// slow down map dragging outside bounds, and `1.0` makes the bounds fully</span>
</code></td></tr><tr><td id="L13356" class="css-a4x74f"><span>13356</span></td><td id="LC13356" class="css-1dcdqdg"><code>	<span class="code-comment">// solid, preventing the user from dragging outside the bounds.</span>
</code></td></tr><tr><td id="L13357" class="css-a4x74f"><span>13357</span></td><td id="LC13357" class="css-1dcdqdg"><code>	maxBoundsViscosity: <span class="code-number">0.0</span>
</code></td></tr><tr><td id="L13358" class="css-a4x74f"><span>13358</span></td><td id="LC13358" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13359" class="css-a4x74f"><span>13359</span></td><td id="LC13359" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13360" class="css-a4x74f"><span>13360</span></td><td id="LC13360" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Drag = Handler.extend({
</code></td></tr><tr><td id="L13361" class="css-a4x74f"><span>13361</span></td><td id="LC13361" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13362" class="css-a4x74f"><span>13362</span></td><td id="LC13362" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._draggable) {
</code></td></tr><tr><td id="L13363" class="css-a4x74f"><span>13363</span></td><td id="LC13363" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L13364" class="css-a4x74f"><span>13364</span></td><td id="LC13364" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13365" class="css-a4x74f"><span>13365</span></td><td id="LC13365" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._draggable = <span class="code-keyword">new</span> Draggable(map._mapPane, map._container);
</code></td></tr><tr><td id="L13366" class="css-a4x74f"><span>13366</span></td><td id="LC13366" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13367" class="css-a4x74f"><span>13367</span></td><td id="LC13367" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._draggable.on({
</code></td></tr><tr><td id="L13368" class="css-a4x74f"><span>13368</span></td><td id="LC13368" class="css-1dcdqdg"><code>				dragstart: <span class="code-keyword">this</span>._onDragStart,
</code></td></tr><tr><td id="L13369" class="css-a4x74f"><span>13369</span></td><td id="LC13369" class="css-1dcdqdg"><code>				drag: <span class="code-keyword">this</span>._onDrag,
</code></td></tr><tr><td id="L13370" class="css-a4x74f"><span>13370</span></td><td id="LC13370" class="css-1dcdqdg"><code>				dragend: <span class="code-keyword">this</span>._onDragEnd
</code></td></tr><tr><td id="L13371" class="css-a4x74f"><span>13371</span></td><td id="LC13371" class="css-1dcdqdg"><code>			}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13372" class="css-a4x74f"><span>13372</span></td><td id="LC13372" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13373" class="css-a4x74f"><span>13373</span></td><td id="LC13373" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._draggable.on(<span class="code-string">'predrag'</span>, <span class="code-keyword">this</span>._onPreDragLimit, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13374" class="css-a4x74f"><span>13374</span></td><td id="LC13374" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (map.options.worldCopyJump) {
</code></td></tr><tr><td id="L13375" class="css-a4x74f"><span>13375</span></td><td id="LC13375" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._draggable.on(<span class="code-string">'predrag'</span>, <span class="code-keyword">this</span>._onPreDragWrap, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13376" class="css-a4x74f"><span>13376</span></td><td id="LC13376" class="css-1dcdqdg"><code>				map.on(<span class="code-string">'zoomend'</span>, <span class="code-keyword">this</span>._onZoomEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13377" class="css-a4x74f"><span>13377</span></td><td id="LC13377" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13378" class="css-a4x74f"><span>13378</span></td><td id="LC13378" class="css-1dcdqdg"><code>				map.whenReady(<span class="code-keyword">this</span>._onZoomEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13379" class="css-a4x74f"><span>13379</span></td><td id="LC13379" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L13380" class="css-a4x74f"><span>13380</span></td><td id="LC13380" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13381" class="css-a4x74f"><span>13381</span></td><td id="LC13381" class="css-1dcdqdg"><code>		addClass(<span class="code-keyword">this</span>._map._container, <span class="code-string">'leaflet-grab leaflet-touch-drag'</span>);
</code></td></tr><tr><td id="L13382" class="css-a4x74f"><span>13382</span></td><td id="LC13382" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable.enable();
</code></td></tr><tr><td id="L13383" class="css-a4x74f"><span>13383</span></td><td id="LC13383" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._positions = [];
</code></td></tr><tr><td id="L13384" class="css-a4x74f"><span>13384</span></td><td id="LC13384" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._times = [];
</code></td></tr><tr><td id="L13385" class="css-a4x74f"><span>13385</span></td><td id="LC13385" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13386" class="css-a4x74f"><span>13386</span></td><td id="LC13386" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13387" class="css-a4x74f"><span>13387</span></td><td id="LC13387" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13388" class="css-a4x74f"><span>13388</span></td><td id="LC13388" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._map._container, <span class="code-string">'leaflet-grab'</span>);
</code></td></tr><tr><td id="L13389" class="css-a4x74f"><span>13389</span></td><td id="LC13389" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._map._container, <span class="code-string">'leaflet-touch-drag'</span>);
</code></td></tr><tr><td id="L13390" class="css-a4x74f"><span>13390</span></td><td id="LC13390" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable.disable();
</code></td></tr><tr><td id="L13391" class="css-a4x74f"><span>13391</span></td><td id="LC13391" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13392" class="css-a4x74f"><span>13392</span></td><td id="LC13392" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13393" class="css-a4x74f"><span>13393</span></td><td id="LC13393" class="css-1dcdqdg"><code>	moved: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13394" class="css-a4x74f"><span>13394</span></td><td id="LC13394" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._draggable &amp;&amp; <span class="code-keyword">this</span>._draggable._moved;
</code></td></tr><tr><td id="L13395" class="css-a4x74f"><span>13395</span></td><td id="LC13395" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13396" class="css-a4x74f"><span>13396</span></td><td id="LC13396" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13397" class="css-a4x74f"><span>13397</span></td><td id="LC13397" class="css-1dcdqdg"><code>	moving: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13398" class="css-a4x74f"><span>13398</span></td><td id="LC13398" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._draggable &amp;&amp; <span class="code-keyword">this</span>._draggable._moving;
</code></td></tr><tr><td id="L13399" class="css-a4x74f"><span>13399</span></td><td id="LC13399" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13400" class="css-a4x74f"><span>13400</span></td><td id="LC13400" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13401" class="css-a4x74f"><span>13401</span></td><td id="LC13401" class="css-1dcdqdg"><code>	_onDragStart: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13402" class="css-a4x74f"><span>13402</span></td><td id="LC13402" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L13403" class="css-a4x74f"><span>13403</span></td><td id="LC13403" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13404" class="css-a4x74f"><span>13404</span></td><td id="LC13404" class="css-1dcdqdg"><code>		map._stop();
</code></td></tr><tr><td id="L13405" class="css-a4x74f"><span>13405</span></td><td id="LC13405" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map.options.maxBounds &amp;&amp; <span class="code-keyword">this</span>._map.options.maxBoundsViscosity) {
</code></td></tr><tr><td id="L13406" class="css-a4x74f"><span>13406</span></td><td id="LC13406" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> bounds = toLatLngBounds(<span class="code-keyword">this</span>._map.options.maxBounds);
</code></td></tr><tr><td id="L13407" class="css-a4x74f"><span>13407</span></td><td id="LC13407" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13408" class="css-a4x74f"><span>13408</span></td><td id="LC13408" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._offsetLimit = toBounds(
</code></td></tr><tr><td id="L13409" class="css-a4x74f"><span>13409</span></td><td id="LC13409" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(<span class="code-number">-1</span>),
</code></td></tr><tr><td id="L13410" class="css-a4x74f"><span>13410</span></td><td id="LC13410" class="css-1dcdqdg"><code>				<span class="code-keyword">this</span>._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(<span class="code-number">-1</span>)
</code></td></tr><tr><td id="L13411" class="css-a4x74f"><span>13411</span></td><td id="LC13411" class="css-1dcdqdg"><code>					.add(<span class="code-keyword">this</span>._map.getSize()));
</code></td></tr><tr><td id="L13412" class="css-a4x74f"><span>13412</span></td><td id="LC13412" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13413" class="css-a4x74f"><span>13413</span></td><td id="LC13413" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._viscosity = <span class="code-built_in">Math</span>.min(<span class="code-number">1.0</span>, <span class="code-built_in">Math</span>.max(<span class="code-number">0.0</span>, <span class="code-keyword">this</span>._map.options.maxBoundsViscosity));
</code></td></tr><tr><td id="L13414" class="css-a4x74f"><span>13414</span></td><td id="LC13414" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13415" class="css-a4x74f"><span>13415</span></td><td id="LC13415" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._offsetLimit = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L13416" class="css-a4x74f"><span>13416</span></td><td id="LC13416" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13417" class="css-a4x74f"><span>13417</span></td><td id="LC13417" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13418" class="css-a4x74f"><span>13418</span></td><td id="LC13418" class="css-1dcdqdg"><code>		map
</code></td></tr><tr><td id="L13419" class="css-a4x74f"><span>13419</span></td><td id="LC13419" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'movestart'</span>)
</code></td></tr><tr><td id="L13420" class="css-a4x74f"><span>13420</span></td><td id="LC13420" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'dragstart'</span>);
</code></td></tr><tr><td id="L13421" class="css-a4x74f"><span>13421</span></td><td id="LC13421" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13422" class="css-a4x74f"><span>13422</span></td><td id="LC13422" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map.options.inertia) {
</code></td></tr><tr><td id="L13423" class="css-a4x74f"><span>13423</span></td><td id="LC13423" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._positions = [];
</code></td></tr><tr><td id="L13424" class="css-a4x74f"><span>13424</span></td><td id="LC13424" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._times = [];
</code></td></tr><tr><td id="L13425" class="css-a4x74f"><span>13425</span></td><td id="LC13425" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13426" class="css-a4x74f"><span>13426</span></td><td id="LC13426" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13427" class="css-a4x74f"><span>13427</span></td><td id="LC13427" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13428" class="css-a4x74f"><span>13428</span></td><td id="LC13428" class="css-1dcdqdg"><code>	_onDrag: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13429" class="css-a4x74f"><span>13429</span></td><td id="LC13429" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map.options.inertia) {
</code></td></tr><tr><td id="L13430" class="css-a4x74f"><span>13430</span></td><td id="LC13430" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> time = <span class="code-keyword">this</span>._lastTime = +<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(),
</code></td></tr><tr><td id="L13431" class="css-a4x74f"><span>13431</span></td><td id="LC13431" class="css-1dcdqdg"><code>			    pos = <span class="code-keyword">this</span>._lastPos = <span class="code-keyword">this</span>._draggable._absPos || <span class="code-keyword">this</span>._draggable._newPos;
</code></td></tr><tr><td id="L13432" class="css-a4x74f"><span>13432</span></td><td id="LC13432" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13433" class="css-a4x74f"><span>13433</span></td><td id="LC13433" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._positions.push(pos);
</code></td></tr><tr><td id="L13434" class="css-a4x74f"><span>13434</span></td><td id="LC13434" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._times.push(time);
</code></td></tr><tr><td id="L13435" class="css-a4x74f"><span>13435</span></td><td id="LC13435" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13436" class="css-a4x74f"><span>13436</span></td><td id="LC13436" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._prunePositions(time);
</code></td></tr><tr><td id="L13437" class="css-a4x74f"><span>13437</span></td><td id="LC13437" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13438" class="css-a4x74f"><span>13438</span></td><td id="LC13438" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13439" class="css-a4x74f"><span>13439</span></td><td id="LC13439" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map
</code></td></tr><tr><td id="L13440" class="css-a4x74f"><span>13440</span></td><td id="LC13440" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'move'</span>, e)
</code></td></tr><tr><td id="L13441" class="css-a4x74f"><span>13441</span></td><td id="LC13441" class="css-1dcdqdg"><code>		    .fire(<span class="code-string">'drag'</span>, e);
</code></td></tr><tr><td id="L13442" class="css-a4x74f"><span>13442</span></td><td id="LC13442" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13443" class="css-a4x74f"><span>13443</span></td><td id="LC13443" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13444" class="css-a4x74f"><span>13444</span></td><td id="LC13444" class="css-1dcdqdg"><code>	_prunePositions: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">time</span>) </span>{
</code></td></tr><tr><td id="L13445" class="css-a4x74f"><span>13445</span></td><td id="LC13445" class="css-1dcdqdg"><code>		<span class="code-keyword">while</span> (<span class="code-keyword">this</span>._positions.length &gt; <span class="code-number">1</span> &amp;&amp; time - <span class="code-keyword">this</span>._times[<span class="code-number">0</span>] &gt; <span class="code-number">50</span>) {
</code></td></tr><tr><td id="L13446" class="css-a4x74f"><span>13446</span></td><td id="LC13446" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._positions.shift();
</code></td></tr><tr><td id="L13447" class="css-a4x74f"><span>13447</span></td><td id="LC13447" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._times.shift();
</code></td></tr><tr><td id="L13448" class="css-a4x74f"><span>13448</span></td><td id="LC13448" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13449" class="css-a4x74f"><span>13449</span></td><td id="LC13449" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13450" class="css-a4x74f"><span>13450</span></td><td id="LC13450" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13451" class="css-a4x74f"><span>13451</span></td><td id="LC13451" class="css-1dcdqdg"><code>	_onZoomEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13452" class="css-a4x74f"><span>13452</span></td><td id="LC13452" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> pxCenter = <span class="code-keyword">this</span>._map.getSize().divideBy(<span class="code-number">2</span>),
</code></td></tr><tr><td id="L13453" class="css-a4x74f"><span>13453</span></td><td id="LC13453" class="css-1dcdqdg"><code>		    pxWorldCenter = <span class="code-keyword">this</span>._map.latLngToLayerPoint([<span class="code-number">0</span>, <span class="code-number">0</span>]);
</code></td></tr><tr><td id="L13454" class="css-a4x74f"><span>13454</span></td><td id="LC13454" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13455" class="css-a4x74f"><span>13455</span></td><td id="LC13455" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;
</code></td></tr><tr><td id="L13456" class="css-a4x74f"><span>13456</span></td><td id="LC13456" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._worldWidth = <span class="code-keyword">this</span>._map.getPixelWorldBounds().getSize().x;
</code></td></tr><tr><td id="L13457" class="css-a4x74f"><span>13457</span></td><td id="LC13457" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13458" class="css-a4x74f"><span>13458</span></td><td id="LC13458" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13459" class="css-a4x74f"><span>13459</span></td><td id="LC13459" class="css-1dcdqdg"><code>	_viscousLimit: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">value, threshold</span>) </span>{
</code></td></tr><tr><td id="L13460" class="css-a4x74f"><span>13460</span></td><td id="LC13460" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> value - (value - threshold) * <span class="code-keyword">this</span>._viscosity;
</code></td></tr><tr><td id="L13461" class="css-a4x74f"><span>13461</span></td><td id="LC13461" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13462" class="css-a4x74f"><span>13462</span></td><td id="LC13462" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13463" class="css-a4x74f"><span>13463</span></td><td id="LC13463" class="css-1dcdqdg"><code>	_onPreDragLimit: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13464" class="css-a4x74f"><span>13464</span></td><td id="LC13464" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._viscosity || !<span class="code-keyword">this</span>._offsetLimit) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13465" class="css-a4x74f"><span>13465</span></td><td id="LC13465" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13466" class="css-a4x74f"><span>13466</span></td><td id="LC13466" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> offset = <span class="code-keyword">this</span>._draggable._newPos.subtract(<span class="code-keyword">this</span>._draggable._startPos);
</code></td></tr><tr><td id="L13467" class="css-a4x74f"><span>13467</span></td><td id="LC13467" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13468" class="css-a4x74f"><span>13468</span></td><td id="LC13468" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> limit = <span class="code-keyword">this</span>._offsetLimit;
</code></td></tr><tr><td id="L13469" class="css-a4x74f"><span>13469</span></td><td id="LC13469" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (offset.x &lt; limit.min.x) { offset.x = <span class="code-keyword">this</span>._viscousLimit(offset.x, limit.min.x); }
</code></td></tr><tr><td id="L13470" class="css-a4x74f"><span>13470</span></td><td id="LC13470" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (offset.y &lt; limit.min.y) { offset.y = <span class="code-keyword">this</span>._viscousLimit(offset.y, limit.min.y); }
</code></td></tr><tr><td id="L13471" class="css-a4x74f"><span>13471</span></td><td id="LC13471" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (offset.x &gt; limit.max.x) { offset.x = <span class="code-keyword">this</span>._viscousLimit(offset.x, limit.max.x); }
</code></td></tr><tr><td id="L13472" class="css-a4x74f"><span>13472</span></td><td id="LC13472" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (offset.y &gt; limit.max.y) { offset.y = <span class="code-keyword">this</span>._viscousLimit(offset.y, limit.max.y); }
</code></td></tr><tr><td id="L13473" class="css-a4x74f"><span>13473</span></td><td id="LC13473" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13474" class="css-a4x74f"><span>13474</span></td><td id="LC13474" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable._newPos = <span class="code-keyword">this</span>._draggable._startPos.add(offset);
</code></td></tr><tr><td id="L13475" class="css-a4x74f"><span>13475</span></td><td id="LC13475" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13476" class="css-a4x74f"><span>13476</span></td><td id="LC13476" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13477" class="css-a4x74f"><span>13477</span></td><td id="LC13477" class="css-1dcdqdg"><code>	_onPreDragWrap: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13478" class="css-a4x74f"><span>13478</span></td><td id="LC13478" class="css-1dcdqdg"><code>		<span class="code-comment">// TODO refactor to be able to adjust map pane position after zoom</span>
</code></td></tr><tr><td id="L13479" class="css-a4x74f"><span>13479</span></td><td id="LC13479" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> worldWidth = <span class="code-keyword">this</span>._worldWidth,
</code></td></tr><tr><td id="L13480" class="css-a4x74f"><span>13480</span></td><td id="LC13480" class="css-1dcdqdg"><code>		    halfWidth = <span class="code-built_in">Math</span>.round(worldWidth / <span class="code-number">2</span>),
</code></td></tr><tr><td id="L13481" class="css-a4x74f"><span>13481</span></td><td id="LC13481" class="css-1dcdqdg"><code>		    dx = <span class="code-keyword">this</span>._initialWorldOffset,
</code></td></tr><tr><td id="L13482" class="css-a4x74f"><span>13482</span></td><td id="LC13482" class="css-1dcdqdg"><code>		    x = <span class="code-keyword">this</span>._draggable._newPos.x,
</code></td></tr><tr><td id="L13483" class="css-a4x74f"><span>13483</span></td><td id="LC13483" class="css-1dcdqdg"><code>		    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,
</code></td></tr><tr><td id="L13484" class="css-a4x74f"><span>13484</span></td><td id="LC13484" class="css-1dcdqdg"><code>		    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,
</code></td></tr><tr><td id="L13485" class="css-a4x74f"><span>13485</span></td><td id="LC13485" class="css-1dcdqdg"><code>		    newX = <span class="code-built_in">Math</span>.abs(newX1 + dx) &lt; <span class="code-built_in">Math</span>.abs(newX2 + dx) ? newX1 : newX2;
</code></td></tr><tr><td id="L13486" class="css-a4x74f"><span>13486</span></td><td id="LC13486" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13487" class="css-a4x74f"><span>13487</span></td><td id="LC13487" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable._absPos = <span class="code-keyword">this</span>._draggable._newPos.clone();
</code></td></tr><tr><td id="L13488" class="css-a4x74f"><span>13488</span></td><td id="LC13488" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._draggable._newPos.x = newX;
</code></td></tr><tr><td id="L13489" class="css-a4x74f"><span>13489</span></td><td id="LC13489" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13490" class="css-a4x74f"><span>13490</span></td><td id="LC13490" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13491" class="css-a4x74f"><span>13491</span></td><td id="LC13491" class="css-1dcdqdg"><code>	_onDragEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13492" class="css-a4x74f"><span>13492</span></td><td id="LC13492" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L13493" class="css-a4x74f"><span>13493</span></td><td id="LC13493" class="css-1dcdqdg"><code>		    options = map.options,
</code></td></tr><tr><td id="L13494" class="css-a4x74f"><span>13494</span></td><td id="LC13494" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13495" class="css-a4x74f"><span>13495</span></td><td id="LC13495" class="css-1dcdqdg"><code>		    noInertia = !options.inertia || <span class="code-keyword">this</span>._times.length &lt; <span class="code-number">2</span>;
</code></td></tr><tr><td id="L13496" class="css-a4x74f"><span>13496</span></td><td id="LC13496" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13497" class="css-a4x74f"><span>13497</span></td><td id="LC13497" class="css-1dcdqdg"><code>		map.fire(<span class="code-string">'dragend'</span>, e);
</code></td></tr><tr><td id="L13498" class="css-a4x74f"><span>13498</span></td><td id="LC13498" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13499" class="css-a4x74f"><span>13499</span></td><td id="LC13499" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (noInertia) {
</code></td></tr><tr><td id="L13500" class="css-a4x74f"><span>13500</span></td><td id="LC13500" class="css-1dcdqdg"><code>			map.fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L13501" class="css-a4x74f"><span>13501</span></td><td id="LC13501" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13502" class="css-a4x74f"><span>13502</span></td><td id="LC13502" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13503" class="css-a4x74f"><span>13503</span></td><td id="LC13503" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._prunePositions(+<span class="code-keyword">new</span> <span class="code-built_in">Date</span>());
</code></td></tr><tr><td id="L13504" class="css-a4x74f"><span>13504</span></td><td id="LC13504" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13505" class="css-a4x74f"><span>13505</span></td><td id="LC13505" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> direction = <span class="code-keyword">this</span>._lastPos.subtract(<span class="code-keyword">this</span>._positions[<span class="code-number">0</span>]),
</code></td></tr><tr><td id="L13506" class="css-a4x74f"><span>13506</span></td><td id="LC13506" class="css-1dcdqdg"><code>			    duration = (<span class="code-keyword">this</span>._lastTime - <span class="code-keyword">this</span>._times[<span class="code-number">0</span>]) / <span class="code-number">1000</span>,
</code></td></tr><tr><td id="L13507" class="css-a4x74f"><span>13507</span></td><td id="LC13507" class="css-1dcdqdg"><code>			    ease = options.easeLinearity,
</code></td></tr><tr><td id="L13508" class="css-a4x74f"><span>13508</span></td><td id="LC13508" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13509" class="css-a4x74f"><span>13509</span></td><td id="LC13509" class="css-1dcdqdg"><code>			    speedVector = direction.multiplyBy(ease / duration),
</code></td></tr><tr><td id="L13510" class="css-a4x74f"><span>13510</span></td><td id="LC13510" class="css-1dcdqdg"><code>			    speed = speedVector.distanceTo([<span class="code-number">0</span>, <span class="code-number">0</span>]),
</code></td></tr><tr><td id="L13511" class="css-a4x74f"><span>13511</span></td><td id="LC13511" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13512" class="css-a4x74f"><span>13512</span></td><td id="LC13512" class="css-1dcdqdg"><code>			    limitedSpeed = <span class="code-built_in">Math</span>.min(options.inertiaMaxSpeed, speed),
</code></td></tr><tr><td id="L13513" class="css-a4x74f"><span>13513</span></td><td id="LC13513" class="css-1dcdqdg"><code>			    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),
</code></td></tr><tr><td id="L13514" class="css-a4x74f"><span>13514</span></td><td id="LC13514" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13515" class="css-a4x74f"><span>13515</span></td><td id="LC13515" class="css-1dcdqdg"><code>			    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),
</code></td></tr><tr><td id="L13516" class="css-a4x74f"><span>13516</span></td><td id="LC13516" class="css-1dcdqdg"><code>			    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / <span class="code-number">2</span>).round();
</code></td></tr><tr><td id="L13517" class="css-a4x74f"><span>13517</span></td><td id="LC13517" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13518" class="css-a4x74f"><span>13518</span></td><td id="LC13518" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!offset.x &amp;&amp; !offset.y) {
</code></td></tr><tr><td id="L13519" class="css-a4x74f"><span>13519</span></td><td id="LC13519" class="css-1dcdqdg"><code>				map.fire(<span class="code-string">'moveend'</span>);
</code></td></tr><tr><td id="L13520" class="css-a4x74f"><span>13520</span></td><td id="LC13520" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13521" class="css-a4x74f"><span>13521</span></td><td id="LC13521" class="css-1dcdqdg"><code>			} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13522" class="css-a4x74f"><span>13522</span></td><td id="LC13522" class="css-1dcdqdg"><code>				offset = map._limitOffset(offset, map.options.maxBounds);
</code></td></tr><tr><td id="L13523" class="css-a4x74f"><span>13523</span></td><td id="LC13523" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13524" class="css-a4x74f"><span>13524</span></td><td id="LC13524" class="css-1dcdqdg"><code>				requestAnimFrame(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13525" class="css-a4x74f"><span>13525</span></td><td id="LC13525" class="css-1dcdqdg"><code>					map.panBy(offset, {
</code></td></tr><tr><td id="L13526" class="css-a4x74f"><span>13526</span></td><td id="LC13526" class="css-1dcdqdg"><code>						duration: decelerationDuration,
</code></td></tr><tr><td id="L13527" class="css-a4x74f"><span>13527</span></td><td id="LC13527" class="css-1dcdqdg"><code>						easeLinearity: ease,
</code></td></tr><tr><td id="L13528" class="css-a4x74f"><span>13528</span></td><td id="LC13528" class="css-1dcdqdg"><code>						noMoveStart: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13529" class="css-a4x74f"><span>13529</span></td><td id="LC13529" class="css-1dcdqdg"><code>						animate: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L13530" class="css-a4x74f"><span>13530</span></td><td id="LC13530" class="css-1dcdqdg"><code>					});
</code></td></tr><tr><td id="L13531" class="css-a4x74f"><span>13531</span></td><td id="LC13531" class="css-1dcdqdg"><code>				});
</code></td></tr><tr><td id="L13532" class="css-a4x74f"><span>13532</span></td><td id="LC13532" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L13533" class="css-a4x74f"><span>13533</span></td><td id="LC13533" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13534" class="css-a4x74f"><span>13534</span></td><td id="LC13534" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13535" class="css-a4x74f"><span>13535</span></td><td id="LC13535" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13536" class="css-a4x74f"><span>13536</span></td><td id="LC13536" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13537" class="css-a4x74f"><span>13537</span></td><td id="LC13537" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13538" class="css-a4x74f"><span>13538</span></td><td id="LC13538" class="css-1dcdqdg"><code><span class="code-comment">// @property dragging: Handler</span>
</code></td></tr><tr><td id="L13539" class="css-a4x74f"><span>13539</span></td><td id="LC13539" class="css-1dcdqdg"><code><span class="code-comment">// Map dragging handler (by both mouse and touch).</span>
</code></td></tr><tr><td id="L13540" class="css-a4x74f"><span>13540</span></td><td id="LC13540" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'dragging'</span>, Drag);
</code></td></tr><tr><td id="L13541" class="css-a4x74f"><span>13541</span></td><td id="LC13541" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13542" class="css-a4x74f"><span>13542</span></td><td id="LC13542" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13543" class="css-a4x74f"><span>13543</span></td><td id="LC13543" class="css-1dcdqdg"><code><span class="code-comment"> * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.
</span></code></td></tr><tr><td id="L13544" class="css-a4x74f"><span>13544</span></td><td id="LC13544" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13545" class="css-a4x74f"><span>13545</span></td><td id="LC13545" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13546" class="css-a4x74f"><span>13546</span></td><td id="LC13546" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13547" class="css-a4x74f"><span>13547</span></td><td id="LC13547" class="css-1dcdqdg"><code><span class="code-comment">// @section Keyboard Navigation Options</span>
</code></td></tr><tr><td id="L13548" class="css-a4x74f"><span>13548</span></td><td id="LC13548" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13549" class="css-a4x74f"><span>13549</span></td><td id="LC13549" class="css-1dcdqdg"><code>	<span class="code-comment">// @option keyboard: Boolean = true</span>
</code></td></tr><tr><td id="L13550" class="css-a4x74f"><span>13550</span></td><td id="LC13550" class="css-1dcdqdg"><code>	<span class="code-comment">// Makes the map focusable and allows users to navigate the map with keyboard</span>
</code></td></tr><tr><td id="L13551" class="css-a4x74f"><span>13551</span></td><td id="LC13551" class="css-1dcdqdg"><code>	<span class="code-comment">// arrows and `+`/`-` keys.</span>
</code></td></tr><tr><td id="L13552" class="css-a4x74f"><span>13552</span></td><td id="LC13552" class="css-1dcdqdg"><code>	keyboard: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13553" class="css-a4x74f"><span>13553</span></td><td id="LC13553" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13554" class="css-a4x74f"><span>13554</span></td><td id="LC13554" class="css-1dcdqdg"><code>	<span class="code-comment">// @option keyboardPanDelta: Number = 80</span>
</code></td></tr><tr><td id="L13555" class="css-a4x74f"><span>13555</span></td><td id="LC13555" class="css-1dcdqdg"><code>	<span class="code-comment">// Amount of pixels to pan when pressing an arrow key.</span>
</code></td></tr><tr><td id="L13556" class="css-a4x74f"><span>13556</span></td><td id="LC13556" class="css-1dcdqdg"><code>	keyboardPanDelta: <span class="code-number">80</span>
</code></td></tr><tr><td id="L13557" class="css-a4x74f"><span>13557</span></td><td id="LC13557" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13558" class="css-a4x74f"><span>13558</span></td><td id="LC13558" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13559" class="css-a4x74f"><span>13559</span></td><td id="LC13559" class="css-1dcdqdg"><code><span class="code-keyword">var</span> Keyboard = Handler.extend({
</code></td></tr><tr><td id="L13560" class="css-a4x74f"><span>13560</span></td><td id="LC13560" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13561" class="css-a4x74f"><span>13561</span></td><td id="LC13561" class="css-1dcdqdg"><code>	keyCodes: {
</code></td></tr><tr><td id="L13562" class="css-a4x74f"><span>13562</span></td><td id="LC13562" class="css-1dcdqdg"><code>		left:    [<span class="code-number">37</span>],
</code></td></tr><tr><td id="L13563" class="css-a4x74f"><span>13563</span></td><td id="LC13563" class="css-1dcdqdg"><code>		right:   [<span class="code-number">39</span>],
</code></td></tr><tr><td id="L13564" class="css-a4x74f"><span>13564</span></td><td id="LC13564" class="css-1dcdqdg"><code>		down:    [<span class="code-number">40</span>],
</code></td></tr><tr><td id="L13565" class="css-a4x74f"><span>13565</span></td><td id="LC13565" class="css-1dcdqdg"><code>		up:      [<span class="code-number">38</span>],
</code></td></tr><tr><td id="L13566" class="css-a4x74f"><span>13566</span></td><td id="LC13566" class="css-1dcdqdg"><code>		zoomIn:  [<span class="code-number">187</span>, <span class="code-number">107</span>, <span class="code-number">61</span>, <span class="code-number">171</span>],
</code></td></tr><tr><td id="L13567" class="css-a4x74f"><span>13567</span></td><td id="LC13567" class="css-1dcdqdg"><code>		zoomOut: [<span class="code-number">189</span>, <span class="code-number">109</span>, <span class="code-number">54</span>, <span class="code-number">173</span>]
</code></td></tr><tr><td id="L13568" class="css-a4x74f"><span>13568</span></td><td id="LC13568" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13569" class="css-a4x74f"><span>13569</span></td><td id="LC13569" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13570" class="css-a4x74f"><span>13570</span></td><td id="LC13570" class="css-1dcdqdg"><code>	initialize: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">map</span>) </span>{
</code></td></tr><tr><td id="L13571" class="css-a4x74f"><span>13571</span></td><td id="LC13571" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map = map;
</code></td></tr><tr><td id="L13572" class="css-a4x74f"><span>13572</span></td><td id="LC13572" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13573" class="css-a4x74f"><span>13573</span></td><td id="LC13573" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setPanDelta(map.options.keyboardPanDelta);
</code></td></tr><tr><td id="L13574" class="css-a4x74f"><span>13574</span></td><td id="LC13574" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._setZoomDelta(map.options.zoomDelta);
</code></td></tr><tr><td id="L13575" class="css-a4x74f"><span>13575</span></td><td id="LC13575" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13576" class="css-a4x74f"><span>13576</span></td><td id="LC13576" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13577" class="css-a4x74f"><span>13577</span></td><td id="LC13577" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13578" class="css-a4x74f"><span>13578</span></td><td id="LC13578" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> container = <span class="code-keyword">this</span>._map._container;
</code></td></tr><tr><td id="L13579" class="css-a4x74f"><span>13579</span></td><td id="LC13579" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13580" class="css-a4x74f"><span>13580</span></td><td id="LC13580" class="css-1dcdqdg"><code>		<span class="code-comment">// make the container focusable by tabbing</span>
</code></td></tr><tr><td id="L13581" class="css-a4x74f"><span>13581</span></td><td id="LC13581" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (container.tabIndex &lt;= <span class="code-number">0</span>) {
</code></td></tr><tr><td id="L13582" class="css-a4x74f"><span>13582</span></td><td id="LC13582" class="css-1dcdqdg"><code>			container.tabIndex = <span class="code-string">'0'</span>;
</code></td></tr><tr><td id="L13583" class="css-a4x74f"><span>13583</span></td><td id="LC13583" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13584" class="css-a4x74f"><span>13584</span></td><td id="LC13584" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13585" class="css-a4x74f"><span>13585</span></td><td id="LC13585" class="css-1dcdqdg"><code>		on(container, {
</code></td></tr><tr><td id="L13586" class="css-a4x74f"><span>13586</span></td><td id="LC13586" class="css-1dcdqdg"><code>			focus: <span class="code-keyword">this</span>._onFocus,
</code></td></tr><tr><td id="L13587" class="css-a4x74f"><span>13587</span></td><td id="LC13587" class="css-1dcdqdg"><code>			blur: <span class="code-keyword">this</span>._onBlur,
</code></td></tr><tr><td id="L13588" class="css-a4x74f"><span>13588</span></td><td id="LC13588" class="css-1dcdqdg"><code>			mousedown: <span class="code-keyword">this</span>._onMouseDown
</code></td></tr><tr><td id="L13589" class="css-a4x74f"><span>13589</span></td><td id="LC13589" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13590" class="css-a4x74f"><span>13590</span></td><td id="LC13590" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13591" class="css-a4x74f"><span>13591</span></td><td id="LC13591" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.on({
</code></td></tr><tr><td id="L13592" class="css-a4x74f"><span>13592</span></td><td id="LC13592" class="css-1dcdqdg"><code>			focus: <span class="code-keyword">this</span>._addHooks,
</code></td></tr><tr><td id="L13593" class="css-a4x74f"><span>13593</span></td><td id="LC13593" class="css-1dcdqdg"><code>			blur: <span class="code-keyword">this</span>._removeHooks
</code></td></tr><tr><td id="L13594" class="css-a4x74f"><span>13594</span></td><td id="LC13594" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13595" class="css-a4x74f"><span>13595</span></td><td id="LC13595" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13596" class="css-a4x74f"><span>13596</span></td><td id="LC13596" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13597" class="css-a4x74f"><span>13597</span></td><td id="LC13597" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13598" class="css-a4x74f"><span>13598</span></td><td id="LC13598" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._removeHooks();
</code></td></tr><tr><td id="L13599" class="css-a4x74f"><span>13599</span></td><td id="LC13599" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13600" class="css-a4x74f"><span>13600</span></td><td id="LC13600" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._map._container, {
</code></td></tr><tr><td id="L13601" class="css-a4x74f"><span>13601</span></td><td id="LC13601" class="css-1dcdqdg"><code>			focus: <span class="code-keyword">this</span>._onFocus,
</code></td></tr><tr><td id="L13602" class="css-a4x74f"><span>13602</span></td><td id="LC13602" class="css-1dcdqdg"><code>			blur: <span class="code-keyword">this</span>._onBlur,
</code></td></tr><tr><td id="L13603" class="css-a4x74f"><span>13603</span></td><td id="LC13603" class="css-1dcdqdg"><code>			mousedown: <span class="code-keyword">this</span>._onMouseDown
</code></td></tr><tr><td id="L13604" class="css-a4x74f"><span>13604</span></td><td id="LC13604" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13605" class="css-a4x74f"><span>13605</span></td><td id="LC13605" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13606" class="css-a4x74f"><span>13606</span></td><td id="LC13606" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.off({
</code></td></tr><tr><td id="L13607" class="css-a4x74f"><span>13607</span></td><td id="LC13607" class="css-1dcdqdg"><code>			focus: <span class="code-keyword">this</span>._addHooks,
</code></td></tr><tr><td id="L13608" class="css-a4x74f"><span>13608</span></td><td id="LC13608" class="css-1dcdqdg"><code>			blur: <span class="code-keyword">this</span>._removeHooks
</code></td></tr><tr><td id="L13609" class="css-a4x74f"><span>13609</span></td><td id="LC13609" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13610" class="css-a4x74f"><span>13610</span></td><td id="LC13610" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13611" class="css-a4x74f"><span>13611</span></td><td id="LC13611" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13612" class="css-a4x74f"><span>13612</span></td><td id="LC13612" class="css-1dcdqdg"><code>	_onMouseDown: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13613" class="css-a4x74f"><span>13613</span></td><td id="LC13613" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._focused) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13614" class="css-a4x74f"><span>13614</span></td><td id="LC13614" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13615" class="css-a4x74f"><span>13615</span></td><td id="LC13615" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> body = <span class="code-built_in">document</span>.body,
</code></td></tr><tr><td id="L13616" class="css-a4x74f"><span>13616</span></td><td id="LC13616" class="css-1dcdqdg"><code>		    docEl = <span class="code-built_in">document</span>.documentElement,
</code></td></tr><tr><td id="L13617" class="css-a4x74f"><span>13617</span></td><td id="LC13617" class="css-1dcdqdg"><code>		    top = body.scrollTop || docEl.scrollTop,
</code></td></tr><tr><td id="L13618" class="css-a4x74f"><span>13618</span></td><td id="LC13618" class="css-1dcdqdg"><code>		    left = body.scrollLeft || docEl.scrollLeft;
</code></td></tr><tr><td id="L13619" class="css-a4x74f"><span>13619</span></td><td id="LC13619" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13620" class="css-a4x74f"><span>13620</span></td><td id="LC13620" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map._container.focus();
</code></td></tr><tr><td id="L13621" class="css-a4x74f"><span>13621</span></td><td id="LC13621" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13622" class="css-a4x74f"><span>13622</span></td><td id="LC13622" class="css-1dcdqdg"><code>		<span class="code-built_in">window</span>.scrollTo(left, top);
</code></td></tr><tr><td id="L13623" class="css-a4x74f"><span>13623</span></td><td id="LC13623" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13624" class="css-a4x74f"><span>13624</span></td><td id="LC13624" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13625" class="css-a4x74f"><span>13625</span></td><td id="LC13625" class="css-1dcdqdg"><code>	_onFocus: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13626" class="css-a4x74f"><span>13626</span></td><td id="LC13626" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._focused = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L13627" class="css-a4x74f"><span>13627</span></td><td id="LC13627" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.fire(<span class="code-string">'focus'</span>);
</code></td></tr><tr><td id="L13628" class="css-a4x74f"><span>13628</span></td><td id="LC13628" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13629" class="css-a4x74f"><span>13629</span></td><td id="LC13629" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13630" class="css-a4x74f"><span>13630</span></td><td id="LC13630" class="css-1dcdqdg"><code>	_onBlur: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13631" class="css-a4x74f"><span>13631</span></td><td id="LC13631" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._focused = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L13632" class="css-a4x74f"><span>13632</span></td><td id="LC13632" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._map.fire(<span class="code-string">'blur'</span>);
</code></td></tr><tr><td id="L13633" class="css-a4x74f"><span>13633</span></td><td id="LC13633" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13634" class="css-a4x74f"><span>13634</span></td><td id="LC13634" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13635" class="css-a4x74f"><span>13635</span></td><td id="LC13635" class="css-1dcdqdg"><code>	_setPanDelta: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">panDelta</span>) </span>{
</code></td></tr><tr><td id="L13636" class="css-a4x74f"><span>13636</span></td><td id="LC13636" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> keys = <span class="code-keyword">this</span>._panKeys = {},
</code></td></tr><tr><td id="L13637" class="css-a4x74f"><span>13637</span></td><td id="LC13637" class="css-1dcdqdg"><code>		    codes = <span class="code-keyword">this</span>.keyCodes,
</code></td></tr><tr><td id="L13638" class="css-a4x74f"><span>13638</span></td><td id="LC13638" class="css-1dcdqdg"><code>		    i, len;
</code></td></tr><tr><td id="L13639" class="css-a4x74f"><span>13639</span></td><td id="LC13639" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13640" class="css-a4x74f"><span>13640</span></td><td id="LC13640" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = codes.left.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L13641" class="css-a4x74f"><span>13641</span></td><td id="LC13641" class="css-1dcdqdg"><code>			keys[codes.left[i]] = [<span class="code-number">-1</span> * panDelta, <span class="code-number">0</span>];
</code></td></tr><tr><td id="L13642" class="css-a4x74f"><span>13642</span></td><td id="LC13642" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13643" class="css-a4x74f"><span>13643</span></td><td id="LC13643" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = codes.right.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L13644" class="css-a4x74f"><span>13644</span></td><td id="LC13644" class="css-1dcdqdg"><code>			keys[codes.right[i]] = [panDelta, <span class="code-number">0</span>];
</code></td></tr><tr><td id="L13645" class="css-a4x74f"><span>13645</span></td><td id="LC13645" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13646" class="css-a4x74f"><span>13646</span></td><td id="LC13646" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = codes.down.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L13647" class="css-a4x74f"><span>13647</span></td><td id="LC13647" class="css-1dcdqdg"><code>			keys[codes.down[i]] = [<span class="code-number">0</span>, panDelta];
</code></td></tr><tr><td id="L13648" class="css-a4x74f"><span>13648</span></td><td id="LC13648" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13649" class="css-a4x74f"><span>13649</span></td><td id="LC13649" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = codes.up.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L13650" class="css-a4x74f"><span>13650</span></td><td id="LC13650" class="css-1dcdqdg"><code>			keys[codes.up[i]] = [<span class="code-number">0</span>, <span class="code-number">-1</span> * panDelta];
</code></td></tr><tr><td id="L13651" class="css-a4x74f"><span>13651</span></td><td id="LC13651" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13652" class="css-a4x74f"><span>13652</span></td><td id="LC13652" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13653" class="css-a4x74f"><span>13653</span></td><td id="LC13653" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13654" class="css-a4x74f"><span>13654</span></td><td id="LC13654" class="css-1dcdqdg"><code>	_setZoomDelta: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">zoomDelta</span>) </span>{
</code></td></tr><tr><td id="L13655" class="css-a4x74f"><span>13655</span></td><td id="LC13655" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> keys = <span class="code-keyword">this</span>._zoomKeys = {},
</code></td></tr><tr><td id="L13656" class="css-a4x74f"><span>13656</span></td><td id="LC13656" class="css-1dcdqdg"><code>		    codes = <span class="code-keyword">this</span>.keyCodes,
</code></td></tr><tr><td id="L13657" class="css-a4x74f"><span>13657</span></td><td id="LC13657" class="css-1dcdqdg"><code>		    i, len;
</code></td></tr><tr><td id="L13658" class="css-a4x74f"><span>13658</span></td><td id="LC13658" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13659" class="css-a4x74f"><span>13659</span></td><td id="LC13659" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = codes.zoomIn.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L13660" class="css-a4x74f"><span>13660</span></td><td id="LC13660" class="css-1dcdqdg"><code>			keys[codes.zoomIn[i]] = zoomDelta;
</code></td></tr><tr><td id="L13661" class="css-a4x74f"><span>13661</span></td><td id="LC13661" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13662" class="css-a4x74f"><span>13662</span></td><td id="LC13662" class="css-1dcdqdg"><code>		<span class="code-keyword">for</span> (i = <span class="code-number">0</span>, len = codes.zoomOut.length; i &lt; len; i++) {
</code></td></tr><tr><td id="L13663" class="css-a4x74f"><span>13663</span></td><td id="LC13663" class="css-1dcdqdg"><code>			keys[codes.zoomOut[i]] = -zoomDelta;
</code></td></tr><tr><td id="L13664" class="css-a4x74f"><span>13664</span></td><td id="LC13664" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13665" class="css-a4x74f"><span>13665</span></td><td id="LC13665" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13666" class="css-a4x74f"><span>13666</span></td><td id="LC13666" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13667" class="css-a4x74f"><span>13667</span></td><td id="LC13667" class="css-1dcdqdg"><code>	_addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13668" class="css-a4x74f"><span>13668</span></td><td id="LC13668" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, <span class="code-string">'keydown'</span>, <span class="code-keyword">this</span>._onKeyDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13669" class="css-a4x74f"><span>13669</span></td><td id="LC13669" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13670" class="css-a4x74f"><span>13670</span></td><td id="LC13670" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13671" class="css-a4x74f"><span>13671</span></td><td id="LC13671" class="css-1dcdqdg"><code>	_removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13672" class="css-a4x74f"><span>13672</span></td><td id="LC13672" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'keydown'</span>, <span class="code-keyword">this</span>._onKeyDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13673" class="css-a4x74f"><span>13673</span></td><td id="LC13673" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13674" class="css-a4x74f"><span>13674</span></td><td id="LC13674" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13675" class="css-a4x74f"><span>13675</span></td><td id="LC13675" class="css-1dcdqdg"><code>	_onKeyDown: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13676" class="css-a4x74f"><span>13676</span></td><td id="LC13676" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.altKey || e.ctrlKey || e.metaKey) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13677" class="css-a4x74f"><span>13677</span></td><td id="LC13677" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13678" class="css-a4x74f"><span>13678</span></td><td id="LC13678" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> key = e.keyCode,
</code></td></tr><tr><td id="L13679" class="css-a4x74f"><span>13679</span></td><td id="LC13679" class="css-1dcdqdg"><code>		    map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L13680" class="css-a4x74f"><span>13680</span></td><td id="LC13680" class="css-1dcdqdg"><code>		    offset;
</code></td></tr><tr><td id="L13681" class="css-a4x74f"><span>13681</span></td><td id="LC13681" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13682" class="css-a4x74f"><span>13682</span></td><td id="LC13682" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._panKeys) {
</code></td></tr><tr><td id="L13683" class="css-a4x74f"><span>13683</span></td><td id="LC13683" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!map._panAnim || !map._panAnim._inProgress) {
</code></td></tr><tr><td id="L13684" class="css-a4x74f"><span>13684</span></td><td id="LC13684" class="css-1dcdqdg"><code>				offset = <span class="code-keyword">this</span>._panKeys[key];
</code></td></tr><tr><td id="L13685" class="css-a4x74f"><span>13685</span></td><td id="LC13685" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (e.shiftKey) {
</code></td></tr><tr><td id="L13686" class="css-a4x74f"><span>13686</span></td><td id="LC13686" class="css-1dcdqdg"><code>					offset = toPoint(offset).multiplyBy(<span class="code-number">3</span>);
</code></td></tr><tr><td id="L13687" class="css-a4x74f"><span>13687</span></td><td id="LC13687" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L13688" class="css-a4x74f"><span>13688</span></td><td id="LC13688" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13689" class="css-a4x74f"><span>13689</span></td><td id="LC13689" class="css-1dcdqdg"><code>				map.panBy(offset);
</code></td></tr><tr><td id="L13690" class="css-a4x74f"><span>13690</span></td><td id="LC13690" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13691" class="css-a4x74f"><span>13691</span></td><td id="LC13691" class="css-1dcdqdg"><code>				<span class="code-keyword">if</span> (map.options.maxBounds) {
</code></td></tr><tr><td id="L13692" class="css-a4x74f"><span>13692</span></td><td id="LC13692" class="css-1dcdqdg"><code>					map.panInsideBounds(map.options.maxBounds);
</code></td></tr><tr><td id="L13693" class="css-a4x74f"><span>13693</span></td><td id="LC13693" class="css-1dcdqdg"><code>				}
</code></td></tr><tr><td id="L13694" class="css-a4x74f"><span>13694</span></td><td id="LC13694" class="css-1dcdqdg"><code>			}
</code></td></tr><tr><td id="L13695" class="css-a4x74f"><span>13695</span></td><td id="LC13695" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (key <span class="code-keyword">in</span> <span class="code-keyword">this</span>._zoomKeys) {
</code></td></tr><tr><td id="L13696" class="css-a4x74f"><span>13696</span></td><td id="LC13696" class="css-1dcdqdg"><code>			map.setZoom(map.getZoom() + (e.shiftKey ? <span class="code-number">3</span> : <span class="code-number">1</span>) * <span class="code-keyword">this</span>._zoomKeys[key]);
</code></td></tr><tr><td id="L13697" class="css-a4x74f"><span>13697</span></td><td id="LC13697" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13698" class="css-a4x74f"><span>13698</span></td><td id="LC13698" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> <span class="code-keyword">if</span> (key === <span class="code-number">27</span> &amp;&amp; map._popup &amp;&amp; map._popup.options.closeOnEscapeKey) {
</code></td></tr><tr><td id="L13699" class="css-a4x74f"><span>13699</span></td><td id="LC13699" class="css-1dcdqdg"><code>			map.closePopup();
</code></td></tr><tr><td id="L13700" class="css-a4x74f"><span>13700</span></td><td id="LC13700" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13701" class="css-a4x74f"><span>13701</span></td><td id="LC13701" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13702" class="css-a4x74f"><span>13702</span></td><td id="LC13702" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L13703" class="css-a4x74f"><span>13703</span></td><td id="LC13703" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13704" class="css-a4x74f"><span>13704</span></td><td id="LC13704" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13705" class="css-a4x74f"><span>13705</span></td><td id="LC13705" class="css-1dcdqdg"><code>		stop(e);
</code></td></tr><tr><td id="L13706" class="css-a4x74f"><span>13706</span></td><td id="LC13706" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13707" class="css-a4x74f"><span>13707</span></td><td id="LC13707" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13708" class="css-a4x74f"><span>13708</span></td><td id="LC13708" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13709" class="css-a4x74f"><span>13709</span></td><td id="LC13709" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13710" class="css-a4x74f"><span>13710</span></td><td id="LC13710" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13711" class="css-a4x74f"><span>13711</span></td><td id="LC13711" class="css-1dcdqdg"><code><span class="code-comment">// @property keyboard: Handler</span>
</code></td></tr><tr><td id="L13712" class="css-a4x74f"><span>13712</span></td><td id="LC13712" class="css-1dcdqdg"><code><span class="code-comment">// Keyboard navigation handler.</span>
</code></td></tr><tr><td id="L13713" class="css-a4x74f"><span>13713</span></td><td id="LC13713" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'keyboard'</span>, Keyboard);
</code></td></tr><tr><td id="L13714" class="css-a4x74f"><span>13714</span></td><td id="LC13714" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13715" class="css-a4x74f"><span>13715</span></td><td id="LC13715" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13716" class="css-a4x74f"><span>13716</span></td><td id="LC13716" class="css-1dcdqdg"><code><span class="code-comment"> * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.
</span></code></td></tr><tr><td id="L13717" class="css-a4x74f"><span>13717</span></td><td id="LC13717" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13718" class="css-a4x74f"><span>13718</span></td><td id="LC13718" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13719" class="css-a4x74f"><span>13719</span></td><td id="LC13719" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13720" class="css-a4x74f"><span>13720</span></td><td id="LC13720" class="css-1dcdqdg"><code><span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L13721" class="css-a4x74f"><span>13721</span></td><td id="LC13721" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13722" class="css-a4x74f"><span>13722</span></td><td id="LC13722" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Mouse wheel options</span>
</code></td></tr><tr><td id="L13723" class="css-a4x74f"><span>13723</span></td><td id="LC13723" class="css-1dcdqdg"><code>	<span class="code-comment">// @option scrollWheelZoom: Boolean|String = true</span>
</code></td></tr><tr><td id="L13724" class="css-a4x74f"><span>13724</span></td><td id="LC13724" class="css-1dcdqdg"><code>	<span class="code-comment">// Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,</span>
</code></td></tr><tr><td id="L13725" class="css-a4x74f"><span>13725</span></td><td id="LC13725" class="css-1dcdqdg"><code>	<span class="code-comment">// it will zoom to the center of the view regardless of where the mouse was.</span>
</code></td></tr><tr><td id="L13726" class="css-a4x74f"><span>13726</span></td><td id="LC13726" class="css-1dcdqdg"><code>	scrollWheelZoom: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13727" class="css-a4x74f"><span>13727</span></td><td id="LC13727" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13728" class="css-a4x74f"><span>13728</span></td><td id="LC13728" class="css-1dcdqdg"><code>	<span class="code-comment">// @option wheelDebounceTime: Number = 40</span>
</code></td></tr><tr><td id="L13729" class="css-a4x74f"><span>13729</span></td><td id="LC13729" class="css-1dcdqdg"><code>	<span class="code-comment">// Limits the rate at which a wheel can fire (in milliseconds). By default</span>
</code></td></tr><tr><td id="L13730" class="css-a4x74f"><span>13730</span></td><td id="LC13730" class="css-1dcdqdg"><code>	<span class="code-comment">// user can't zoom via wheel more often than once per 40 ms.</span>
</code></td></tr><tr><td id="L13731" class="css-a4x74f"><span>13731</span></td><td id="LC13731" class="css-1dcdqdg"><code>	wheelDebounceTime: <span class="code-number">40</span>,
</code></td></tr><tr><td id="L13732" class="css-a4x74f"><span>13732</span></td><td id="LC13732" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13733" class="css-a4x74f"><span>13733</span></td><td id="LC13733" class="css-1dcdqdg"><code>	<span class="code-comment">// @option wheelPxPerZoomLevel: Number = 60</span>
</code></td></tr><tr><td id="L13734" class="css-a4x74f"><span>13734</span></td><td id="LC13734" class="css-1dcdqdg"><code>	<span class="code-comment">// How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))</span>
</code></td></tr><tr><td id="L13735" class="css-a4x74f"><span>13735</span></td><td id="LC13735" class="css-1dcdqdg"><code>	<span class="code-comment">// mean a change of one full zoom level. Smaller values will make wheel-zooming</span>
</code></td></tr><tr><td id="L13736" class="css-a4x74f"><span>13736</span></td><td id="LC13736" class="css-1dcdqdg"><code>	<span class="code-comment">// faster (and vice versa).</span>
</code></td></tr><tr><td id="L13737" class="css-a4x74f"><span>13737</span></td><td id="LC13737" class="css-1dcdqdg"><code>	wheelPxPerZoomLevel: <span class="code-number">60</span>
</code></td></tr><tr><td id="L13738" class="css-a4x74f"><span>13738</span></td><td id="LC13738" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13739" class="css-a4x74f"><span>13739</span></td><td id="LC13739" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13740" class="css-a4x74f"><span>13740</span></td><td id="LC13740" class="css-1dcdqdg"><code><span class="code-keyword">var</span> ScrollWheelZoom = Handler.extend({
</code></td></tr><tr><td id="L13741" class="css-a4x74f"><span>13741</span></td><td id="LC13741" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13742" class="css-a4x74f"><span>13742</span></td><td id="LC13742" class="css-1dcdqdg"><code>		on(<span class="code-keyword">this</span>._map._container, <span class="code-string">'wheel'</span>, <span class="code-keyword">this</span>._onWheelScroll, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13743" class="css-a4x74f"><span>13743</span></td><td id="LC13743" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13744" class="css-a4x74f"><span>13744</span></td><td id="LC13744" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._delta = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L13745" class="css-a4x74f"><span>13745</span></td><td id="LC13745" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13746" class="css-a4x74f"><span>13746</span></td><td id="LC13746" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13747" class="css-a4x74f"><span>13747</span></td><td id="LC13747" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13748" class="css-a4x74f"><span>13748</span></td><td id="LC13748" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._map._container, <span class="code-string">'wheel'</span>, <span class="code-keyword">this</span>._onWheelScroll, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13749" class="css-a4x74f"><span>13749</span></td><td id="LC13749" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13750" class="css-a4x74f"><span>13750</span></td><td id="LC13750" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13751" class="css-a4x74f"><span>13751</span></td><td id="LC13751" class="css-1dcdqdg"><code>	_onWheelScroll: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13752" class="css-a4x74f"><span>13752</span></td><td id="LC13752" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> delta = getWheelDelta(e);
</code></td></tr><tr><td id="L13753" class="css-a4x74f"><span>13753</span></td><td id="LC13753" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13754" class="css-a4x74f"><span>13754</span></td><td id="LC13754" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> debounce = <span class="code-keyword">this</span>._map.options.wheelDebounceTime;
</code></td></tr><tr><td id="L13755" class="css-a4x74f"><span>13755</span></td><td id="LC13755" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13756" class="css-a4x74f"><span>13756</span></td><td id="LC13756" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._delta += delta;
</code></td></tr><tr><td id="L13757" class="css-a4x74f"><span>13757</span></td><td id="LC13757" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._lastMousePos = <span class="code-keyword">this</span>._map.mouseEventToContainerPoint(e);
</code></td></tr><tr><td id="L13758" class="css-a4x74f"><span>13758</span></td><td id="LC13758" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13759" class="css-a4x74f"><span>13759</span></td><td id="LC13759" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._startTime) {
</code></td></tr><tr><td id="L13760" class="css-a4x74f"><span>13760</span></td><td id="LC13760" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._startTime = +<span class="code-keyword">new</span> <span class="code-built_in">Date</span>();
</code></td></tr><tr><td id="L13761" class="css-a4x74f"><span>13761</span></td><td id="LC13761" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13762" class="css-a4x74f"><span>13762</span></td><td id="LC13762" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13763" class="css-a4x74f"><span>13763</span></td><td id="LC13763" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> left = <span class="code-built_in">Math</span>.max(debounce - (+<span class="code-keyword">new</span> <span class="code-built_in">Date</span>() - <span class="code-keyword">this</span>._startTime), <span class="code-number">0</span>);
</code></td></tr><tr><td id="L13764" class="css-a4x74f"><span>13764</span></td><td id="LC13764" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13765" class="css-a4x74f"><span>13765</span></td><td id="LC13765" class="css-1dcdqdg"><code>		clearTimeout(<span class="code-keyword">this</span>._timer);
</code></td></tr><tr><td id="L13766" class="css-a4x74f"><span>13766</span></td><td id="LC13766" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._timer = setTimeout(bind(<span class="code-keyword">this</span>._performZoom, <span class="code-keyword">this</span>), left);
</code></td></tr><tr><td id="L13767" class="css-a4x74f"><span>13767</span></td><td id="LC13767" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13768" class="css-a4x74f"><span>13768</span></td><td id="LC13768" class="css-1dcdqdg"><code>		stop(e);
</code></td></tr><tr><td id="L13769" class="css-a4x74f"><span>13769</span></td><td id="LC13769" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13770" class="css-a4x74f"><span>13770</span></td><td id="LC13770" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13771" class="css-a4x74f"><span>13771</span></td><td id="LC13771" class="css-1dcdqdg"><code>	_performZoom: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13772" class="css-a4x74f"><span>13772</span></td><td id="LC13772" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L13773" class="css-a4x74f"><span>13773</span></td><td id="LC13773" class="css-1dcdqdg"><code>		    zoom = map.getZoom(),
</code></td></tr><tr><td id="L13774" class="css-a4x74f"><span>13774</span></td><td id="LC13774" class="css-1dcdqdg"><code>		    snap = <span class="code-keyword">this</span>._map.options.zoomSnap || <span class="code-number">0</span>;
</code></td></tr><tr><td id="L13775" class="css-a4x74f"><span>13775</span></td><td id="LC13775" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13776" class="css-a4x74f"><span>13776</span></td><td id="LC13776" class="css-1dcdqdg"><code>		map._stop(); <span class="code-comment">// stop panning and fly animations if any</span>
</code></td></tr><tr><td id="L13777" class="css-a4x74f"><span>13777</span></td><td id="LC13777" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13778" class="css-a4x74f"><span>13778</span></td><td id="LC13778" class="css-1dcdqdg"><code>		<span class="code-comment">// map the delta with a sigmoid function to -4..4 range leaning on -1..1</span>
</code></td></tr><tr><td id="L13779" class="css-a4x74f"><span>13779</span></td><td id="LC13779" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> d2 = <span class="code-keyword">this</span>._delta / (<span class="code-keyword">this</span>._map.options.wheelPxPerZoomLevel * <span class="code-number">4</span>),
</code></td></tr><tr><td id="L13780" class="css-a4x74f"><span>13780</span></td><td id="LC13780" class="css-1dcdqdg"><code>		    d3 = <span class="code-number">4</span> * <span class="code-built_in">Math</span>.log(<span class="code-number">2</span> / (<span class="code-number">1</span> + <span class="code-built_in">Math</span>.exp(-<span class="code-built_in">Math</span>.abs(d2)))) / <span class="code-built_in">Math</span>.LN2,
</code></td></tr><tr><td id="L13781" class="css-a4x74f"><span>13781</span></td><td id="LC13781" class="css-1dcdqdg"><code>		    d4 = snap ? <span class="code-built_in">Math</span>.ceil(d3 / snap) * snap : d3,
</code></td></tr><tr><td id="L13782" class="css-a4x74f"><span>13782</span></td><td id="LC13782" class="css-1dcdqdg"><code>		    delta = map._limitZoom(zoom + (<span class="code-keyword">this</span>._delta &gt; <span class="code-number">0</span> ? d4 : -d4)) - zoom;
</code></td></tr><tr><td id="L13783" class="css-a4x74f"><span>13783</span></td><td id="LC13783" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13784" class="css-a4x74f"><span>13784</span></td><td id="LC13784" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._delta = <span class="code-number">0</span>;
</code></td></tr><tr><td id="L13785" class="css-a4x74f"><span>13785</span></td><td id="LC13785" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startTime = <span class="code-literal">null</span>;
</code></td></tr><tr><td id="L13786" class="css-a4x74f"><span>13786</span></td><td id="LC13786" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13787" class="css-a4x74f"><span>13787</span></td><td id="LC13787" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!delta) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13788" class="css-a4x74f"><span>13788</span></td><td id="LC13788" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13789" class="css-a4x74f"><span>13789</span></td><td id="LC13789" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map.options.scrollWheelZoom === <span class="code-string">'center'</span>) {
</code></td></tr><tr><td id="L13790" class="css-a4x74f"><span>13790</span></td><td id="LC13790" class="css-1dcdqdg"><code>			map.setZoom(zoom + delta);
</code></td></tr><tr><td id="L13791" class="css-a4x74f"><span>13791</span></td><td id="LC13791" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13792" class="css-a4x74f"><span>13792</span></td><td id="LC13792" class="css-1dcdqdg"><code>			map.setZoomAround(<span class="code-keyword">this</span>._lastMousePos, zoom + delta);
</code></td></tr><tr><td id="L13793" class="css-a4x74f"><span>13793</span></td><td id="LC13793" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13794" class="css-a4x74f"><span>13794</span></td><td id="LC13794" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13795" class="css-a4x74f"><span>13795</span></td><td id="LC13795" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13796" class="css-a4x74f"><span>13796</span></td><td id="LC13796" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13797" class="css-a4x74f"><span>13797</span></td><td id="LC13797" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13798" class="css-a4x74f"><span>13798</span></td><td id="LC13798" class="css-1dcdqdg"><code><span class="code-comment">// @property scrollWheelZoom: Handler</span>
</code></td></tr><tr><td id="L13799" class="css-a4x74f"><span>13799</span></td><td id="LC13799" class="css-1dcdqdg"><code><span class="code-comment">// Scroll wheel zoom handler.</span>
</code></td></tr><tr><td id="L13800" class="css-a4x74f"><span>13800</span></td><td id="LC13800" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'scrollWheelZoom'</span>, ScrollWheelZoom);
</code></td></tr><tr><td id="L13801" class="css-a4x74f"><span>13801</span></td><td id="LC13801" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13802" class="css-a4x74f"><span>13802</span></td><td id="LC13802" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13803" class="css-a4x74f"><span>13803</span></td><td id="LC13803" class="css-1dcdqdg"><code><span class="code-comment"> * L.Map.TapHold is used to simulate `contextmenu` event on long hold,
</span></code></td></tr><tr><td id="L13804" class="css-a4x74f"><span>13804</span></td><td id="LC13804" class="css-1dcdqdg"><code><span class="code-comment"> * which otherwise is not fired by mobile Safari.
</span></code></td></tr><tr><td id="L13805" class="css-a4x74f"><span>13805</span></td><td id="LC13805" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13806" class="css-a4x74f"><span>13806</span></td><td id="LC13806" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13807" class="css-a4x74f"><span>13807</span></td><td id="LC13807" class="css-1dcdqdg"><code><span class="code-keyword">var</span> tapHoldDelay = <span class="code-number">600</span>;
</code></td></tr><tr><td id="L13808" class="css-a4x74f"><span>13808</span></td><td id="LC13808" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13809" class="css-a4x74f"><span>13809</span></td><td id="LC13809" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13810" class="css-a4x74f"><span>13810</span></td><td id="LC13810" class="css-1dcdqdg"><code><span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L13811" class="css-a4x74f"><span>13811</span></td><td id="LC13811" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13812" class="css-a4x74f"><span>13812</span></td><td id="LC13812" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Touch interaction options</span>
</code></td></tr><tr><td id="L13813" class="css-a4x74f"><span>13813</span></td><td id="LC13813" class="css-1dcdqdg"><code>	<span class="code-comment">// @option tapHold: Boolean</span>
</code></td></tr><tr><td id="L13814" class="css-a4x74f"><span>13814</span></td><td id="LC13814" class="css-1dcdqdg"><code>	<span class="code-comment">// Enables simulation of `contextmenu` event, default is `true` for mobile Safari.</span>
</code></td></tr><tr><td id="L13815" class="css-a4x74f"><span>13815</span></td><td id="LC13815" class="css-1dcdqdg"><code>	tapHold: Browser.touchNative &amp;&amp; Browser.safari &amp;&amp; Browser.mobile,
</code></td></tr><tr><td id="L13816" class="css-a4x74f"><span>13816</span></td><td id="LC13816" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13817" class="css-a4x74f"><span>13817</span></td><td id="LC13817" class="css-1dcdqdg"><code>	<span class="code-comment">// @option tapTolerance: Number = 15</span>
</code></td></tr><tr><td id="L13818" class="css-a4x74f"><span>13818</span></td><td id="LC13818" class="css-1dcdqdg"><code>	<span class="code-comment">// The max number of pixels a user can shift his finger during touch</span>
</code></td></tr><tr><td id="L13819" class="css-a4x74f"><span>13819</span></td><td id="LC13819" class="css-1dcdqdg"><code>	<span class="code-comment">// for it to be considered a valid tap.</span>
</code></td></tr><tr><td id="L13820" class="css-a4x74f"><span>13820</span></td><td id="LC13820" class="css-1dcdqdg"><code>	tapTolerance: <span class="code-number">15</span>
</code></td></tr><tr><td id="L13821" class="css-a4x74f"><span>13821</span></td><td id="LC13821" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13822" class="css-a4x74f"><span>13822</span></td><td id="LC13822" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13823" class="css-a4x74f"><span>13823</span></td><td id="LC13823" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TapHold = Handler.extend({
</code></td></tr><tr><td id="L13824" class="css-a4x74f"><span>13824</span></td><td id="LC13824" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13825" class="css-a4x74f"><span>13825</span></td><td id="LC13825" class="css-1dcdqdg"><code>		on(<span class="code-keyword">this</span>._map._container, <span class="code-string">'touchstart'</span>, <span class="code-keyword">this</span>._onDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13826" class="css-a4x74f"><span>13826</span></td><td id="LC13826" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13827" class="css-a4x74f"><span>13827</span></td><td id="LC13827" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13828" class="css-a4x74f"><span>13828</span></td><td id="LC13828" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13829" class="css-a4x74f"><span>13829</span></td><td id="LC13829" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._map._container, <span class="code-string">'touchstart'</span>, <span class="code-keyword">this</span>._onDown, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13830" class="css-a4x74f"><span>13830</span></td><td id="LC13830" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13831" class="css-a4x74f"><span>13831</span></td><td id="LC13831" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13832" class="css-a4x74f"><span>13832</span></td><td id="LC13832" class="css-1dcdqdg"><code>	_onDown: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13833" class="css-a4x74f"><span>13833</span></td><td id="LC13833" class="css-1dcdqdg"><code>		clearTimeout(<span class="code-keyword">this</span>._holdTimeout);
</code></td></tr><tr><td id="L13834" class="css-a4x74f"><span>13834</span></td><td id="LC13834" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (e.touches.length !== <span class="code-number">1</span>) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13835" class="css-a4x74f"><span>13835</span></td><td id="LC13835" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13836" class="css-a4x74f"><span>13836</span></td><td id="LC13836" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> first = e.touches[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L13837" class="css-a4x74f"><span>13837</span></td><td id="LC13837" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startPos = <span class="code-keyword">this</span>._newPos = <span class="code-keyword">new</span> Point(first.clientX, first.clientY);
</code></td></tr><tr><td id="L13838" class="css-a4x74f"><span>13838</span></td><td id="LC13838" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13839" class="css-a4x74f"><span>13839</span></td><td id="LC13839" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._holdTimeout = setTimeout(bind(<span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13840" class="css-a4x74f"><span>13840</span></td><td id="LC13840" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._cancel();
</code></td></tr><tr><td id="L13841" class="css-a4x74f"><span>13841</span></td><td id="LC13841" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._isTapValid()) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13842" class="css-a4x74f"><span>13842</span></td><td id="LC13842" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13843" class="css-a4x74f"><span>13843</span></td><td id="LC13843" class="css-1dcdqdg"><code>			<span class="code-comment">// prevent simulated mouse events https://w3c.github.io/touch-events/#mouse-events</span>
</code></td></tr><tr><td id="L13844" class="css-a4x74f"><span>13844</span></td><td id="LC13844" class="css-1dcdqdg"><code>			on(<span class="code-built_in">document</span>, <span class="code-string">'touchend'</span>, preventDefault);
</code></td></tr><tr><td id="L13845" class="css-a4x74f"><span>13845</span></td><td id="LC13845" class="css-1dcdqdg"><code>			on(<span class="code-built_in">document</span>, <span class="code-string">'touchend touchcancel'</span>, <span class="code-keyword">this</span>._cancelClickPrevent);
</code></td></tr><tr><td id="L13846" class="css-a4x74f"><span>13846</span></td><td id="LC13846" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._simulateEvent(<span class="code-string">'contextmenu'</span>, first);
</code></td></tr><tr><td id="L13847" class="css-a4x74f"><span>13847</span></td><td id="LC13847" class="css-1dcdqdg"><code>		}, <span class="code-keyword">this</span>), tapHoldDelay);
</code></td></tr><tr><td id="L13848" class="css-a4x74f"><span>13848</span></td><td id="LC13848" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13849" class="css-a4x74f"><span>13849</span></td><td id="LC13849" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, <span class="code-string">'touchend touchcancel contextmenu'</span>, <span class="code-keyword">this</span>._cancel, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13850" class="css-a4x74f"><span>13850</span></td><td id="LC13850" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, <span class="code-string">'touchmove'</span>, <span class="code-keyword">this</span>._onMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13851" class="css-a4x74f"><span>13851</span></td><td id="LC13851" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13852" class="css-a4x74f"><span>13852</span></td><td id="LC13852" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13853" class="css-a4x74f"><span>13853</span></td><td id="LC13853" class="css-1dcdqdg"><code>	_cancelClickPrevent: <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cancelClickPrevent</span>(<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13854" class="css-a4x74f"><span>13854</span></td><td id="LC13854" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'touchend'</span>, preventDefault);
</code></td></tr><tr><td id="L13855" class="css-a4x74f"><span>13855</span></td><td id="LC13855" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'touchend touchcancel'</span>, cancelClickPrevent);
</code></td></tr><tr><td id="L13856" class="css-a4x74f"><span>13856</span></td><td id="LC13856" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13857" class="css-a4x74f"><span>13857</span></td><td id="LC13857" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13858" class="css-a4x74f"><span>13858</span></td><td id="LC13858" class="css-1dcdqdg"><code>	_cancel: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13859" class="css-a4x74f"><span>13859</span></td><td id="LC13859" class="css-1dcdqdg"><code>		clearTimeout(<span class="code-keyword">this</span>._holdTimeout);
</code></td></tr><tr><td id="L13860" class="css-a4x74f"><span>13860</span></td><td id="LC13860" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'touchend touchcancel contextmenu'</span>, <span class="code-keyword">this</span>._cancel, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13861" class="css-a4x74f"><span>13861</span></td><td id="LC13861" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'touchmove'</span>, <span class="code-keyword">this</span>._onMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13862" class="css-a4x74f"><span>13862</span></td><td id="LC13862" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13863" class="css-a4x74f"><span>13863</span></td><td id="LC13863" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13864" class="css-a4x74f"><span>13864</span></td><td id="LC13864" class="css-1dcdqdg"><code>	_onMove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13865" class="css-a4x74f"><span>13865</span></td><td id="LC13865" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> first = e.touches[<span class="code-number">0</span>];
</code></td></tr><tr><td id="L13866" class="css-a4x74f"><span>13866</span></td><td id="LC13866" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._newPos = <span class="code-keyword">new</span> Point(first.clientX, first.clientY);
</code></td></tr><tr><td id="L13867" class="css-a4x74f"><span>13867</span></td><td id="LC13867" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13868" class="css-a4x74f"><span>13868</span></td><td id="LC13868" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13869" class="css-a4x74f"><span>13869</span></td><td id="LC13869" class="css-1dcdqdg"><code>	_isTapValid: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13870" class="css-a4x74f"><span>13870</span></td><td id="LC13870" class="css-1dcdqdg"><code>		<span class="code-keyword">return</span> <span class="code-keyword">this</span>._newPos.distanceTo(<span class="code-keyword">this</span>._startPos) &lt;= <span class="code-keyword">this</span>._map.options.tapTolerance;
</code></td></tr><tr><td id="L13871" class="css-a4x74f"><span>13871</span></td><td id="LC13871" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13872" class="css-a4x74f"><span>13872</span></td><td id="LC13872" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13873" class="css-a4x74f"><span>13873</span></td><td id="LC13873" class="css-1dcdqdg"><code>	_simulateEvent: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">type, e</span>) </span>{
</code></td></tr><tr><td id="L13874" class="css-a4x74f"><span>13874</span></td><td id="LC13874" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> simulatedEvent = <span class="code-keyword">new</span> MouseEvent(type, {
</code></td></tr><tr><td id="L13875" class="css-a4x74f"><span>13875</span></td><td id="LC13875" class="css-1dcdqdg"><code>			bubbles: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13876" class="css-a4x74f"><span>13876</span></td><td id="LC13876" class="css-1dcdqdg"><code>			cancelable: <span class="code-literal">true</span>,
</code></td></tr><tr><td id="L13877" class="css-a4x74f"><span>13877</span></td><td id="LC13877" class="css-1dcdqdg"><code>			view: <span class="code-built_in">window</span>,
</code></td></tr><tr><td id="L13878" class="css-a4x74f"><span>13878</span></td><td id="LC13878" class="css-1dcdqdg"><code>			<span class="code-comment">// detail: 1,</span>
</code></td></tr><tr><td id="L13879" class="css-a4x74f"><span>13879</span></td><td id="LC13879" class="css-1dcdqdg"><code>			screenX: e.screenX,
</code></td></tr><tr><td id="L13880" class="css-a4x74f"><span>13880</span></td><td id="LC13880" class="css-1dcdqdg"><code>			screenY: e.screenY,
</code></td></tr><tr><td id="L13881" class="css-a4x74f"><span>13881</span></td><td id="LC13881" class="css-1dcdqdg"><code>			clientX: e.clientX,
</code></td></tr><tr><td id="L13882" class="css-a4x74f"><span>13882</span></td><td id="LC13882" class="css-1dcdqdg"><code>			clientY: e.clientY,
</code></td></tr><tr><td id="L13883" class="css-a4x74f"><span>13883</span></td><td id="LC13883" class="css-1dcdqdg"><code>			<span class="code-comment">// button: 2,</span>
</code></td></tr><tr><td id="L13884" class="css-a4x74f"><span>13884</span></td><td id="LC13884" class="css-1dcdqdg"><code>			<span class="code-comment">// buttons: 2</span>
</code></td></tr><tr><td id="L13885" class="css-a4x74f"><span>13885</span></td><td id="LC13885" class="css-1dcdqdg"><code>		});
</code></td></tr><tr><td id="L13886" class="css-a4x74f"><span>13886</span></td><td id="LC13886" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13887" class="css-a4x74f"><span>13887</span></td><td id="LC13887" class="css-1dcdqdg"><code>		simulatedEvent._simulated = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L13888" class="css-a4x74f"><span>13888</span></td><td id="LC13888" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13889" class="css-a4x74f"><span>13889</span></td><td id="LC13889" class="css-1dcdqdg"><code>		e.target.dispatchEvent(simulatedEvent);
</code></td></tr><tr><td id="L13890" class="css-a4x74f"><span>13890</span></td><td id="LC13890" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L13891" class="css-a4x74f"><span>13891</span></td><td id="LC13891" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13892" class="css-a4x74f"><span>13892</span></td><td id="LC13892" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13893" class="css-a4x74f"><span>13893</span></td><td id="LC13893" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L13894" class="css-a4x74f"><span>13894</span></td><td id="LC13894" class="css-1dcdqdg"><code><span class="code-comment">// @property tapHold: Handler</span>
</code></td></tr><tr><td id="L13895" class="css-a4x74f"><span>13895</span></td><td id="LC13895" class="css-1dcdqdg"><code><span class="code-comment">// Long tap handler to simulate `contextmenu` event (useful in mobile Safari).</span>
</code></td></tr><tr><td id="L13896" class="css-a4x74f"><span>13896</span></td><td id="LC13896" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'tapHold'</span>, TapHold);
</code></td></tr><tr><td id="L13897" class="css-a4x74f"><span>13897</span></td><td id="LC13897" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13898" class="css-a4x74f"><span>13898</span></td><td id="LC13898" class="css-1dcdqdg"><code><span class="code-comment">/*
</span></code></td></tr><tr><td id="L13899" class="css-a4x74f"><span>13899</span></td><td id="LC13899" class="css-1dcdqdg"><code><span class="code-comment"> * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.
</span></code></td></tr><tr><td id="L13900" class="css-a4x74f"><span>13900</span></td><td id="LC13900" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L13901" class="css-a4x74f"><span>13901</span></td><td id="LC13901" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13902" class="css-a4x74f"><span>13902</span></td><td id="LC13902" class="css-1dcdqdg"><code><span class="code-comment">// @namespace Map</span>
</code></td></tr><tr><td id="L13903" class="css-a4x74f"><span>13903</span></td><td id="LC13903" class="css-1dcdqdg"><code><span class="code-comment">// @section Interaction Options</span>
</code></td></tr><tr><td id="L13904" class="css-a4x74f"><span>13904</span></td><td id="LC13904" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.mergeOptions({
</code></td></tr><tr><td id="L13905" class="css-a4x74f"><span>13905</span></td><td id="LC13905" class="css-1dcdqdg"><code>	<span class="code-comment">// @section Touch interaction options</span>
</code></td></tr><tr><td id="L13906" class="css-a4x74f"><span>13906</span></td><td id="LC13906" class="css-1dcdqdg"><code>	<span class="code-comment">// @option touchZoom: Boolean|String = *</span>
</code></td></tr><tr><td id="L13907" class="css-a4x74f"><span>13907</span></td><td id="LC13907" class="css-1dcdqdg"><code>	<span class="code-comment">// Whether the map can be zoomed by touch-dragging with two fingers. If</span>
</code></td></tr><tr><td id="L13908" class="css-a4x74f"><span>13908</span></td><td id="LC13908" class="css-1dcdqdg"><code>	<span class="code-comment">// passed `'center'`, it will zoom to the center of the view regardless of</span>
</code></td></tr><tr><td id="L13909" class="css-a4x74f"><span>13909</span></td><td id="LC13909" class="css-1dcdqdg"><code>	<span class="code-comment">// where the touch events (fingers) were. Enabled for touch-capable web</span>
</code></td></tr><tr><td id="L13910" class="css-a4x74f"><span>13910</span></td><td id="LC13910" class="css-1dcdqdg"><code>	<span class="code-comment">// browsers.</span>
</code></td></tr><tr><td id="L13911" class="css-a4x74f"><span>13911</span></td><td id="LC13911" class="css-1dcdqdg"><code>	touchZoom: Browser.touch,
</code></td></tr><tr><td id="L13912" class="css-a4x74f"><span>13912</span></td><td id="LC13912" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13913" class="css-a4x74f"><span>13913</span></td><td id="LC13913" class="css-1dcdqdg"><code>	<span class="code-comment">// @option bounceAtZoomLimits: Boolean = true</span>
</code></td></tr><tr><td id="L13914" class="css-a4x74f"><span>13914</span></td><td id="LC13914" class="css-1dcdqdg"><code>	<span class="code-comment">// Set it to false if you don't want the map to zoom beyond min/max zoom</span>
</code></td></tr><tr><td id="L13915" class="css-a4x74f"><span>13915</span></td><td id="LC13915" class="css-1dcdqdg"><code>	<span class="code-comment">// and then bounce back when pinch-zooming.</span>
</code></td></tr><tr><td id="L13916" class="css-a4x74f"><span>13916</span></td><td id="LC13916" class="css-1dcdqdg"><code>	bounceAtZoomLimits: <span class="code-literal">true</span>
</code></td></tr><tr><td id="L13917" class="css-a4x74f"><span>13917</span></td><td id="LC13917" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L13918" class="css-a4x74f"><span>13918</span></td><td id="LC13918" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13919" class="css-a4x74f"><span>13919</span></td><td id="LC13919" class="css-1dcdqdg"><code><span class="code-keyword">var</span> TouchZoom = Handler.extend({
</code></td></tr><tr><td id="L13920" class="css-a4x74f"><span>13920</span></td><td id="LC13920" class="css-1dcdqdg"><code>	addHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13921" class="css-a4x74f"><span>13921</span></td><td id="LC13921" class="css-1dcdqdg"><code>		addClass(<span class="code-keyword">this</span>._map._container, <span class="code-string">'leaflet-touch-zoom'</span>);
</code></td></tr><tr><td id="L13922" class="css-a4x74f"><span>13922</span></td><td id="LC13922" class="css-1dcdqdg"><code>		on(<span class="code-keyword">this</span>._map._container, <span class="code-string">'touchstart'</span>, <span class="code-keyword">this</span>._onTouchStart, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13923" class="css-a4x74f"><span>13923</span></td><td id="LC13923" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13924" class="css-a4x74f"><span>13924</span></td><td id="LC13924" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13925" class="css-a4x74f"><span>13925</span></td><td id="LC13925" class="css-1dcdqdg"><code>	removeHooks: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13926" class="css-a4x74f"><span>13926</span></td><td id="LC13926" class="css-1dcdqdg"><code>		removeClass(<span class="code-keyword">this</span>._map._container, <span class="code-string">'leaflet-touch-zoom'</span>);
</code></td></tr><tr><td id="L13927" class="css-a4x74f"><span>13927</span></td><td id="LC13927" class="css-1dcdqdg"><code>		off(<span class="code-keyword">this</span>._map._container, <span class="code-string">'touchstart'</span>, <span class="code-keyword">this</span>._onTouchStart, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13928" class="css-a4x74f"><span>13928</span></td><td id="LC13928" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13929" class="css-a4x74f"><span>13929</span></td><td id="LC13929" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13930" class="css-a4x74f"><span>13930</span></td><td id="LC13930" class="css-1dcdqdg"><code>	_onTouchStart: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13931" class="css-a4x74f"><span>13931</span></td><td id="LC13931" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map;
</code></td></tr><tr><td id="L13932" class="css-a4x74f"><span>13932</span></td><td id="LC13932" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!e.touches || e.touches.length !== <span class="code-number">2</span> || map._animatingZoom || <span class="code-keyword">this</span>._zooming) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13933" class="css-a4x74f"><span>13933</span></td><td id="LC13933" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13934" class="css-a4x74f"><span>13934</span></td><td id="LC13934" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> p1 = map.mouseEventToContainerPoint(e.touches[<span class="code-number">0</span>]),
</code></td></tr><tr><td id="L13935" class="css-a4x74f"><span>13935</span></td><td id="LC13935" class="css-1dcdqdg"><code>		    p2 = map.mouseEventToContainerPoint(e.touches[<span class="code-number">1</span>]);
</code></td></tr><tr><td id="L13936" class="css-a4x74f"><span>13936</span></td><td id="LC13936" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13937" class="css-a4x74f"><span>13937</span></td><td id="LC13937" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._centerPoint = map.getSize()._divideBy(<span class="code-number">2</span>);
</code></td></tr><tr><td id="L13938" class="css-a4x74f"><span>13938</span></td><td id="LC13938" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startLatLng = map.containerPointToLatLng(<span class="code-keyword">this</span>._centerPoint);
</code></td></tr><tr><td id="L13939" class="css-a4x74f"><span>13939</span></td><td id="LC13939" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map.options.touchZoom !== <span class="code-string">'center'</span>) {
</code></td></tr><tr><td id="L13940" class="css-a4x74f"><span>13940</span></td><td id="LC13940" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._pinchStartLatLng = map.containerPointToLatLng(p1.add(p2)._divideBy(<span class="code-number">2</span>));
</code></td></tr><tr><td id="L13941" class="css-a4x74f"><span>13941</span></td><td id="LC13941" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13942" class="css-a4x74f"><span>13942</span></td><td id="LC13942" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13943" class="css-a4x74f"><span>13943</span></td><td id="LC13943" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startDist = p1.distanceTo(p2);
</code></td></tr><tr><td id="L13944" class="css-a4x74f"><span>13944</span></td><td id="LC13944" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._startZoom = map.getZoom();
</code></td></tr><tr><td id="L13945" class="css-a4x74f"><span>13945</span></td><td id="LC13945" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13946" class="css-a4x74f"><span>13946</span></td><td id="LC13946" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._moved = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L13947" class="css-a4x74f"><span>13947</span></td><td id="LC13947" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zooming = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L13948" class="css-a4x74f"><span>13948</span></td><td id="LC13948" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13949" class="css-a4x74f"><span>13949</span></td><td id="LC13949" class="css-1dcdqdg"><code>		map._stop();
</code></td></tr><tr><td id="L13950" class="css-a4x74f"><span>13950</span></td><td id="LC13950" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13951" class="css-a4x74f"><span>13951</span></td><td id="LC13951" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, <span class="code-string">'touchmove'</span>, <span class="code-keyword">this</span>._onTouchMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13952" class="css-a4x74f"><span>13952</span></td><td id="LC13952" class="css-1dcdqdg"><code>		on(<span class="code-built_in">document</span>, <span class="code-string">'touchend touchcancel'</span>, <span class="code-keyword">this</span>._onTouchEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L13953" class="css-a4x74f"><span>13953</span></td><td id="LC13953" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13954" class="css-a4x74f"><span>13954</span></td><td id="LC13954" class="css-1dcdqdg"><code>		preventDefault(e);
</code></td></tr><tr><td id="L13955" class="css-a4x74f"><span>13955</span></td><td id="LC13955" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13956" class="css-a4x74f"><span>13956</span></td><td id="LC13956" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13957" class="css-a4x74f"><span>13957</span></td><td id="LC13957" class="css-1dcdqdg"><code>	_onTouchMove: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params">e</span>) </span>{
</code></td></tr><tr><td id="L13958" class="css-a4x74f"><span>13958</span></td><td id="LC13958" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!e.touches || e.touches.length !== <span class="code-number">2</span> || !<span class="code-keyword">this</span>._zooming) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13959" class="css-a4x74f"><span>13959</span></td><td id="LC13959" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13960" class="css-a4x74f"><span>13960</span></td><td id="LC13960" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> map = <span class="code-keyword">this</span>._map,
</code></td></tr><tr><td id="L13961" class="css-a4x74f"><span>13961</span></td><td id="LC13961" class="css-1dcdqdg"><code>		    p1 = map.mouseEventToContainerPoint(e.touches[<span class="code-number">0</span>]),
</code></td></tr><tr><td id="L13962" class="css-a4x74f"><span>13962</span></td><td id="LC13962" class="css-1dcdqdg"><code>		    p2 = map.mouseEventToContainerPoint(e.touches[<span class="code-number">1</span>]),
</code></td></tr><tr><td id="L13963" class="css-a4x74f"><span>13963</span></td><td id="LC13963" class="css-1dcdqdg"><code>		    scale = p1.distanceTo(p2) / <span class="code-keyword">this</span>._startDist;
</code></td></tr><tr><td id="L13964" class="css-a4x74f"><span>13964</span></td><td id="LC13964" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13965" class="css-a4x74f"><span>13965</span></td><td id="LC13965" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zoom = map.getScaleZoom(scale, <span class="code-keyword">this</span>._startZoom);
</code></td></tr><tr><td id="L13966" class="css-a4x74f"><span>13966</span></td><td id="LC13966" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13967" class="css-a4x74f"><span>13967</span></td><td id="LC13967" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!map.options.bounceAtZoomLimits &amp;&amp; (
</code></td></tr><tr><td id="L13968" class="css-a4x74f"><span>13968</span></td><td id="LC13968" class="css-1dcdqdg"><code>			(<span class="code-keyword">this</span>._zoom &lt; map.getMinZoom() &amp;&amp; scale &lt; <span class="code-number">1</span>) ||
</code></td></tr><tr><td id="L13969" class="css-a4x74f"><span>13969</span></td><td id="LC13969" class="css-1dcdqdg"><code>			(<span class="code-keyword">this</span>._zoom &gt; map.getMaxZoom() &amp;&amp; scale &gt; <span class="code-number">1</span>))) {
</code></td></tr><tr><td id="L13970" class="css-a4x74f"><span>13970</span></td><td id="LC13970" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zoom = map._limitZoom(<span class="code-keyword">this</span>._zoom);
</code></td></tr><tr><td id="L13971" class="css-a4x74f"><span>13971</span></td><td id="LC13971" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13972" class="css-a4x74f"><span>13972</span></td><td id="LC13972" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13973" class="css-a4x74f"><span>13973</span></td><td id="LC13973" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (map.options.touchZoom === <span class="code-string">'center'</span>) {
</code></td></tr><tr><td id="L13974" class="css-a4x74f"><span>13974</span></td><td id="LC13974" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._center = <span class="code-keyword">this</span>._startLatLng;
</code></td></tr><tr><td id="L13975" class="css-a4x74f"><span>13975</span></td><td id="LC13975" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (scale === <span class="code-number">1</span>) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13976" class="css-a4x74f"><span>13976</span></td><td id="LC13976" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L13977" class="css-a4x74f"><span>13977</span></td><td id="LC13977" class="css-1dcdqdg"><code>			<span class="code-comment">// Get delta from pinch to center, so centerLatLng is delta applied to initial pinchLatLng</span>
</code></td></tr><tr><td id="L13978" class="css-a4x74f"><span>13978</span></td><td id="LC13978" class="css-1dcdqdg"><code>			<span class="code-keyword">var</span> delta = p1._add(p2)._divideBy(<span class="code-number">2</span>)._subtract(<span class="code-keyword">this</span>._centerPoint);
</code></td></tr><tr><td id="L13979" class="css-a4x74f"><span>13979</span></td><td id="LC13979" class="css-1dcdqdg"><code>			<span class="code-keyword">if</span> (scale === <span class="code-number">1</span> &amp;&amp; delta.x === <span class="code-number">0</span> &amp;&amp; delta.y === <span class="code-number">0</span>) { <span class="code-keyword">return</span>; }
</code></td></tr><tr><td id="L13980" class="css-a4x74f"><span>13980</span></td><td id="LC13980" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._center = map.unproject(map.project(<span class="code-keyword">this</span>._pinchStartLatLng, <span class="code-keyword">this</span>._zoom).subtract(delta), <span class="code-keyword">this</span>._zoom);
</code></td></tr><tr><td id="L13981" class="css-a4x74f"><span>13981</span></td><td id="LC13981" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13982" class="css-a4x74f"><span>13982</span></td><td id="LC13982" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13983" class="css-a4x74f"><span>13983</span></td><td id="LC13983" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._moved) {
</code></td></tr><tr><td id="L13984" class="css-a4x74f"><span>13984</span></td><td id="LC13984" class="css-1dcdqdg"><code>			map._moveStart(<span class="code-literal">true</span>, <span class="code-literal">false</span>);
</code></td></tr><tr><td id="L13985" class="css-a4x74f"><span>13985</span></td><td id="LC13985" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._moved = <span class="code-literal">true</span>;
</code></td></tr><tr><td id="L13986" class="css-a4x74f"><span>13986</span></td><td id="LC13986" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L13987" class="css-a4x74f"><span>13987</span></td><td id="LC13987" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13988" class="css-a4x74f"><span>13988</span></td><td id="LC13988" class="css-1dcdqdg"><code>		cancelAnimFrame(<span class="code-keyword">this</span>._animRequest);
</code></td></tr><tr><td id="L13989" class="css-a4x74f"><span>13989</span></td><td id="LC13989" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13990" class="css-a4x74f"><span>13990</span></td><td id="LC13990" class="css-1dcdqdg"><code>		<span class="code-keyword">var</span> moveFn = bind(map._move, map, <span class="code-keyword">this</span>._center, <span class="code-keyword">this</span>._zoom, {<span class="code-attr">pinch</span>: <span class="code-literal">true</span>, <span class="code-attr">round</span>: <span class="code-literal">false</span>});
</code></td></tr><tr><td id="L13991" class="css-a4x74f"><span>13991</span></td><td id="LC13991" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._animRequest = requestAnimFrame(moveFn, <span class="code-keyword">this</span>, <span class="code-literal">true</span>);
</code></td></tr><tr><td id="L13992" class="css-a4x74f"><span>13992</span></td><td id="LC13992" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13993" class="css-a4x74f"><span>13993</span></td><td id="LC13993" class="css-1dcdqdg"><code>		preventDefault(e);
</code></td></tr><tr><td id="L13994" class="css-a4x74f"><span>13994</span></td><td id="LC13994" class="css-1dcdqdg"><code>	},
</code></td></tr><tr><td id="L13995" class="css-a4x74f"><span>13995</span></td><td id="LC13995" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L13996" class="css-a4x74f"><span>13996</span></td><td id="LC13996" class="css-1dcdqdg"><code>	_onTouchEnd: <span class="code-function"><span class="code-keyword">function</span> (<span class="code-params"></span>) </span>{
</code></td></tr><tr><td id="L13997" class="css-a4x74f"><span>13997</span></td><td id="LC13997" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (!<span class="code-keyword">this</span>._moved || !<span class="code-keyword">this</span>._zooming) {
</code></td></tr><tr><td id="L13998" class="css-a4x74f"><span>13998</span></td><td id="LC13998" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._zooming = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L13999" class="css-a4x74f"><span>13999</span></td><td id="LC13999" class="css-1dcdqdg"><code>			<span class="code-keyword">return</span>;
</code></td></tr><tr><td id="L14000" class="css-a4x74f"><span>14000</span></td><td id="LC14000" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L14001" class="css-a4x74f"><span>14001</span></td><td id="LC14001" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14002" class="css-a4x74f"><span>14002</span></td><td id="LC14002" class="css-1dcdqdg"><code>		<span class="code-keyword">this</span>._zooming = <span class="code-literal">false</span>;
</code></td></tr><tr><td id="L14003" class="css-a4x74f"><span>14003</span></td><td id="LC14003" class="css-1dcdqdg"><code>		cancelAnimFrame(<span class="code-keyword">this</span>._animRequest);
</code></td></tr><tr><td id="L14004" class="css-a4x74f"><span>14004</span></td><td id="LC14004" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14005" class="css-a4x74f"><span>14005</span></td><td id="LC14005" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'touchmove'</span>, <span class="code-keyword">this</span>._onTouchMove, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L14006" class="css-a4x74f"><span>14006</span></td><td id="LC14006" class="css-1dcdqdg"><code>		off(<span class="code-built_in">document</span>, <span class="code-string">'touchend touchcancel'</span>, <span class="code-keyword">this</span>._onTouchEnd, <span class="code-keyword">this</span>);
</code></td></tr><tr><td id="L14007" class="css-a4x74f"><span>14007</span></td><td id="LC14007" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14008" class="css-a4x74f"><span>14008</span></td><td id="LC14008" class="css-1dcdqdg"><code>		<span class="code-comment">// Pinch updates GridLayers' levels only when zoomSnap is off, so zoomSnap becomes noUpdate.</span>
</code></td></tr><tr><td id="L14009" class="css-a4x74f"><span>14009</span></td><td id="LC14009" class="css-1dcdqdg"><code>		<span class="code-keyword">if</span> (<span class="code-keyword">this</span>._map.options.zoomAnimation) {
</code></td></tr><tr><td id="L14010" class="css-a4x74f"><span>14010</span></td><td id="LC14010" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map._animateZoom(<span class="code-keyword">this</span>._center, <span class="code-keyword">this</span>._map._limitZoom(<span class="code-keyword">this</span>._zoom), <span class="code-literal">true</span>, <span class="code-keyword">this</span>._map.options.zoomSnap);
</code></td></tr><tr><td id="L14011" class="css-a4x74f"><span>14011</span></td><td id="LC14011" class="css-1dcdqdg"><code>		} <span class="code-keyword">else</span> {
</code></td></tr><tr><td id="L14012" class="css-a4x74f"><span>14012</span></td><td id="LC14012" class="css-1dcdqdg"><code>			<span class="code-keyword">this</span>._map._resetView(<span class="code-keyword">this</span>._center, <span class="code-keyword">this</span>._map._limitZoom(<span class="code-keyword">this</span>._zoom));
</code></td></tr><tr><td id="L14013" class="css-a4x74f"><span>14013</span></td><td id="LC14013" class="css-1dcdqdg"><code>		}
</code></td></tr><tr><td id="L14014" class="css-a4x74f"><span>14014</span></td><td id="LC14014" class="css-1dcdqdg"><code>	}
</code></td></tr><tr><td id="L14015" class="css-a4x74f"><span>14015</span></td><td id="LC14015" class="css-1dcdqdg"><code>});
</code></td></tr><tr><td id="L14016" class="css-a4x74f"><span>14016</span></td><td id="LC14016" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14017" class="css-a4x74f"><span>14017</span></td><td id="LC14017" class="css-1dcdqdg"><code><span class="code-comment">// @section Handlers</span>
</code></td></tr><tr><td id="L14018" class="css-a4x74f"><span>14018</span></td><td id="LC14018" class="css-1dcdqdg"><code><span class="code-comment">// @property touchZoom: Handler</span>
</code></td></tr><tr><td id="L14019" class="css-a4x74f"><span>14019</span></td><td id="LC14019" class="css-1dcdqdg"><code><span class="code-comment">// Touch zoom handler.</span>
</code></td></tr><tr><td id="L14020" class="css-a4x74f"><span>14020</span></td><td id="LC14020" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.addInitHook(<span class="code-string">'addHandler'</span>, <span class="code-string">'touchZoom'</span>, TouchZoom);
</code></td></tr><tr><td id="L14021" class="css-a4x74f"><span>14021</span></td><td id="LC14021" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14022" class="css-a4x74f"><span>14022</span></td><td id="LC14022" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.BoxZoom = BoxZoom;
</code></td></tr><tr><td id="L14023" class="css-a4x74f"><span>14023</span></td><td id="LC14023" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.DoubleClickZoom = DoubleClickZoom;
</code></td></tr><tr><td id="L14024" class="css-a4x74f"><span>14024</span></td><td id="LC14024" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.Drag = Drag;
</code></td></tr><tr><td id="L14025" class="css-a4x74f"><span>14025</span></td><td id="LC14025" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.Keyboard = Keyboard;
</code></td></tr><tr><td id="L14026" class="css-a4x74f"><span>14026</span></td><td id="LC14026" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.ScrollWheelZoom = ScrollWheelZoom;
</code></td></tr><tr><td id="L14027" class="css-a4x74f"><span>14027</span></td><td id="LC14027" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.TapHold = TapHold;
</code></td></tr><tr><td id="L14028" class="css-a4x74f"><span>14028</span></td><td id="LC14028" class="css-1dcdqdg"><code><span class="code-built_in">Map</span>.TouchZoom = TouchZoom;
</code></td></tr><tr><td id="L14029" class="css-a4x74f"><span>14029</span></td><td id="LC14029" class="css-1dcdqdg"><code>
</code></td></tr><tr><td id="L14030" class="css-a4x74f"><span>14030</span></td><td id="LC14030" class="css-1dcdqdg"><code><span class="code-keyword">export</span> { Bounds, Browser, CRS, Canvas, Circle, CircleMarker, Class, Control, DivIcon, DivOverlay, DomEvent, DomUtil, Draggable, Evented, FeatureGroup, GeoJSON, GridLayer, Handler, Icon, ImageOverlay, LatLng, LatLngBounds, Layer, LayerGroup, LineUtil, <span class="code-built_in">Map</span>, Marker, Mixin, Path, Point, PolyUtil, Polygon, Polyline, Popup, PosAnimation, index <span class="code-keyword">as</span> Projection, Rectangle, Renderer, SVG, SVGOverlay, TileLayer, Tooltip, Transformation, Util, VideoOverlay, bind, toBounds <span class="code-keyword">as</span> bounds, canvas, circle, circleMarker, control, divIcon, extend, featureGroup, geoJSON, geoJson, gridLayer, icon, imageOverlay, toLatLng <span class="code-keyword">as</span> latLng, toLatLngBounds <span class="code-keyword">as</span> latLngBounds, layerGroup, createMap <span class="code-keyword">as</span> map, marker, toPoint <span class="code-keyword">as</span> point, polygon, polyline, popup, rectangle, setOptions, stamp, svg, svgOverlay, tileLayer, tooltip, toTransformation <span class="code-keyword">as</span> transformation, version, videoOverlay };
</code></td></tr><tr><td id="L14031" class="css-a4x74f"><span>14031</span></td><td id="LC14031" class="css-1dcdqdg"><code><span class="code-comment">//# sourceMappingURL=leaflet-src.esm.js.map</span>
</code></td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->a7ebffa</span></p><p><span> <!-- -->2022<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(t,A,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a};return w.apply(this,arguments)}function P(a,b){if(null==a)return{};var e={},c=Object.keys(a),d;for(d=0;d<c.length;d++){var h=c[d];0<=b.indexOf(h)||(e[h]=a[h])}return e}function Q(a,b){b||(b=a.slice(0));a.raw=b;return a}function R(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function D(a,b){return b={exports:{}},a(b,b.exports),b.exports}function J(a,b,e,c,d){for(var g in a)if(ua(a,g)){try{if("function"!==typeof a[g]){var r=Error((c||"React class")+": "+e+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.");r.name="Invariant Violation";throw r;}var k=a[g](b,g,c,e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){k=q}!k||k instanceof Error||K((c||"React class")+": type specification of "+
e+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(k instanceof Error&&!(k.message in L)){L[k.message]=!0;var B=d?d():"";K("Failed "+e+" type: "+k.message+(null!=B?B:""))}}}function G(){return null}function S(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={border:"1px solid #dfe2e5",
borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},e)}function T(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},e)}function U(a){return a&&a.map(function(a,
c){return t.createElement(a.tag,z({key:c},a.attr),U(a.child))})}function E(a){return function(b){return t.createElement(va,z({attr:z({},a.attr)},b),U(a.child))}}function va(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var e=b.className;a.className&&(e=(e?e+" ":"")+a.className);var h=a.attr,r=a.title,k=["attr","title"],B={},q;for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&0>k.indexOf(q)&&(B[q]=a[q]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var p=0;for(q=
Object.getOwnPropertySymbols(a);p<q.length;p++)0>k.indexOf(q[p])&&(B[q[p]]=a[q[p]])}return t.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,B,{className:e,style:z({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),a.children)};return void 0!==V?t.createElement(V.Consumer,null,function(a){return b(a)}):b(W)}function F(a,b){var e=b.css;b=P(b,["css"]);return c.jsx(a,w({css:w({},
e,{verticalAlign:"text-bottom"})},b))}function wa(a){return F(X,a)}function xa(a){return F(Y,a)}function ya(a){return F(Z,a)}function za(a){return F(aa,a)}function Aa(a){return F(ba,a)}function ca(a){var b=a.path,e=a.details,g=Object.keys(e).reduce(function(a,b){var c=a.subdirs,g=a.files;b=e[b];"directory"===b.type?c.push(b):"file"===b.type&&g.push(b);return a},{subdirs:[],files:[]});a=g.subdirs;g=g.files;a.sort(da("path"));g.sort(da("path"));var d=[];"/"!==b&&d.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:M}),c.jsx("td",{css:y},c.jsx("a",{title:"Parent directory",href:"../",css:N},"..")),c.jsx("td",{css:y}),c.jsx("td",{css:O})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var e=a+"/";d.push(c.jsx("tr",{key:a},c.jsx("td",{css:M},c.jsx(ya,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:e,css:N},a)),c.jsx("td",{css:y},"-"),c.jsx("td",{css:O},"-")))});g.forEach(function(a){var e=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);d.push(c.jsx("tr",{key:a},c.jsx("td",
{css:M},"text/plain"===g||"text/markdown"===g?c.jsx(wa,null):c.jsx(xa,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:a,css:N},a)),c.jsx("td",{css:y},ea(e)),c.jsx("td",{css:O},g)))});var h=[];0<g.length&&h.push(g.length+" file"+(1===g.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(H,null,"Icon")),c.jsx("th",null,c.jsx(H,null,"Name")),c.jsx("th",null,c.jsx(H,null,"Size")),c.jsx("th",null,c.jsx(H,null,"Content Type")))),c.jsx("tbody",null,d)))}function Ba(a){a=a.split("/");return a[a.length-1]}function Ca(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:Ba(a.path),src:b}))}function Da(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var e=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+e,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,e)),c.jsx("td",{id:"LC"+e,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function Ea(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function fa(a){var b=a.packageName,e=a.packageVersion,g=a.path;a=a.details;var d=a.highlights,h=a.uri,r=a.language;return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,ea(a.size)),c.jsx("span",null,r),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+e+g,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),d?c.jsx(Da,{highlights:d}):h?c.jsx(Ca,{path:g,uri:h}):c.jsx(Ea,null))}function ha(){var a=Q(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
ha=function(){return a};return a}function ia(){var a=Q(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
ia=function(){return a};return a}function ja(a){var b=a.css;a=P(a,["css"]);return c.jsx("a",w({},a,{css:w({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function Fa(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function Ga(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;a=a.filename;var d=[];if("/"===
a)d.push(b);else{var h="/browse/"+b+"@"+e;d.push(c.jsx(ja,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;d.push(c.jsx(ja,{href:h+"/"},a))});d.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,d.map(function(a,
b,e){return c.jsx(t.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===e.length-1?c.jsx("strong",null,a):a)}))),c.jsx(Ha,{packageVersion:e,availableVersions:g,onChange:function(a){window.location.href=window.location.href.replace("@"+e,"@"+a)}}))}function Ha(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function Ia(a){var b=a.packageName,e=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(ca,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(fa,{packageName:b,packageVersion:e,path:a.path,details:a.details}):null}function ka(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;g=void 0===g?[]:g;var d=a.filename;a=a.target;return c.jsx(t.Fragment,null,c.jsx(c.Global,{styles:Ja}),c.jsx(c.Global,{styles:Ka}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Fa,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Ga,{packageName:b,
packageVersion:e,availableVersions:g,filename:d})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(Ia,{packageName:b,packageVersion:e,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","a7ebffa")),
c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(za,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(Aa,null))))))}var la="default"in t?t["default"]:t;A=A&&A.hasOwnProperty("default")?A["default"]:A;var La="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},m=D(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type,a){case l:case f:case r:case m:case k:case v:return a;default:switch(a=a&&a.$$typeof,a){case p:case n:case q:return a;default:return b}}case x:case u:case h:return b}}}function g(a){return c(a)===f}Object.defineProperty(b,"__esModule",{value:!0});var d=
(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,k=a?Symbol.for("react.strict_mode"):60108,m=a?Symbol.for("react.profiler"):60114,q=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,f=a?Symbol.for("react.concurrent_mode"):60111,n=a?Symbol.for("react.forward_ref"):60112,v=a?Symbol.for("react.suspense"):60113,u=a?Symbol.for("react.memo"):
60115,x=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=l;b.ConcurrentMode=f;b.ContextConsumer=p;b.ContextProvider=q;b.Element=d;b.ForwardRef=n;b.Fragment=r;b.Lazy=x;b.Memo=u;b.Portal=h;b.Profiler=m;b.StrictMode=k;b.Suspense=v;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===r||a===f||a===m||a===k||a===v||"object"===typeof a&&null!==a&&(a.$$typeof===x||a.$$typeof===u||a.$$typeof===q||a.$$typeof===p||a.$$typeof===n)};b.isAsyncMode=function(a){return g(a)||
c(a)===l};b.isConcurrentMode=g;b.isContextConsumer=function(a){return c(a)===p};b.isContextProvider=function(a){return c(a)===q};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===d};b.isForwardRef=function(a){return c(a)===n};b.isFragment=function(a){return c(a)===r};b.isLazy=function(a){return c(a)===x};b.isMemo=function(a){return c(a)===u};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===m};b.isStrictMode=function(a){return c(a)===k};b.isSuspense=
function(a){return c(a)===v}});R(m);var na=D(function(a,b){(function(){function a(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case h:switch(a=a.type,a){case f:case n:case k:case q:case m:case u:return a;default:switch(a=a&&a.$$typeof,a){case l:case v:case p:return a;default:return b}}case I:case x:case r:return b}}}function c(b){return a(b)===n}Object.defineProperty(b,"__esModule",{value:!0});var d="function"===typeof Symbol&&Symbol.for,h=d?Symbol.for("react.element"):60103,r=
d?Symbol.for("react.portal"):60106,k=d?Symbol.for("react.fragment"):60107,m=d?Symbol.for("react.strict_mode"):60108,q=d?Symbol.for("react.profiler"):60114,p=d?Symbol.for("react.provider"):60109,l=d?Symbol.for("react.context"):60110,f=d?Symbol.for("react.async_mode"):60111,n=d?Symbol.for("react.concurrent_mode"):60111,v=d?Symbol.for("react.forward_ref"):60112,u=d?Symbol.for("react.suspense"):60113,x=d?Symbol.for("react.memo"):60115,I=d?Symbol.for("react.lazy"):60116;d=function(){};var Ma=function(a){for(var b=
arguments.length,f=Array(1<b?b-1:0),c=1;c<b;c++)f[c-1]=arguments[c];var n=0;b="Warning: "+a.replace(/%s/g,function(){return f[n++]});"undefined"!==typeof console&&console.warn(b);try{throw Error(b);}catch(Xa){}},Na=d=function(a,b){if(void 0===b)throw Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!a){for(var f=arguments.length,c=Array(2<f?f-2:0),n=2;n<f;n++)c[n-2]=arguments[n];Ma.apply(void 0,[b].concat(c))}},ma=!1;b.typeOf=a;b.AsyncMode=f;b.ConcurrentMode=
n;b.ContextConsumer=l;b.ContextProvider=p;b.Element=h;b.ForwardRef=v;b.Fragment=k;b.Lazy=I;b.Memo=x;b.Portal=r;b.Profiler=q;b.StrictMode=m;b.Suspense=u;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===k||a===n||a===q||a===m||a===u||"object"===typeof a&&null!==a&&(a.$$typeof===I||a.$$typeof===x||a.$$typeof===p||a.$$typeof===l||a.$$typeof===v)};b.isAsyncMode=function(b){ma||(ma=!0,Na(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."));
return c(b)||a(b)===f};b.isConcurrentMode=c;b.isContextConsumer=function(b){return a(b)===l};b.isContextProvider=function(b){return a(b)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===h};b.isForwardRef=function(b){return a(b)===v};b.isFragment=function(b){return a(b)===k};b.isLazy=function(b){return a(b)===I};b.isMemo=function(b){return a(b)===x};b.isPortal=function(b){return a(b)===r};b.isProfiler=function(b){return a(b)===q};b.isStrictMode=function(b){return a(b)===
m};b.isSuspense=function(b){return a(b)===u}})()});R(na);var oa=D(function(a){a.exports=na}),pa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Qa=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,d=1;d<arguments.length;d++){var h=Object(arguments[d]);for(var r in h)Oa.call(h,r)&&(c[r]=h[r]);if(pa){g=pa(h);for(var k=0;k<g.length;k++)Pa.call(h,g[k])&&(c[g[k]]=h[g[k]])}}return c},K=function(){},L={},ua=Function.call.bind(Object.prototype.hasOwnProperty);
K=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};J.resetWarningCache=function(){L={}};var Ra=Function.call.bind(Object.prototype.hasOwnProperty),C=function(){};C=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};var Sa=function(a,b){function c(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function g(a){this.message=a;this.stack=""}function d(a){function c(c,n,v,d,e,u,h){d=d||"<<anonymous>>";
u=u||v;if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==h){if(b)throw c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),c.name="Invariant Violation",c;"undefined"!==typeof console&&(h=d+":"+v,!f[h]&&3>l&&(C("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),
f[h]=!0,l++))}return null==n[v]?c?null===n[v]?new g("The "+e+" `"+u+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new g("The "+e+" `"+u+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:a(n,v,d,e,u)}var f={},l=0,d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}function h(a){return d(function(b,c,f,d,l,e){b=b[c];return k(b)!==a?(b=m(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("`"+a+"`."))):null})}function r(b){switch(typeof b){case "number":case "string":case "undefined":return!0;
case "boolean":return!b;case "object":if(Array.isArray(b))return b.every(r);if(null===b||a(b))return!0;var c=b&&(p&&b[p]||b["@@iterator"]);var f="function"===typeof c?c:void 0;if(f)if(c=f.call(b),f!==b.entries)for(;!(b=c.next()).done;){if(!r(b.value))return!1}else for(;!(b=c.next()).done;){if((b=b.value)&&!r(b[1]))return!1}else return!1;return!0;default:return!1}}function k(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===b||a&&("Symbol"===a["@@toStringTag"]||
"function"===typeof Symbol&&a instanceof Symbol)?"symbol":b}function m(a){if("undefined"===typeof a||null===a)return""+a;var b=k(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function q(a){a=m(a);switch(a){case "array":case "object":return"an "+a;case "boolean":case "date":case "regexp":return"a "+a;default:return a}}var p="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),
string:h("string"),symbol:h("symbol"),any:d(G),arrayOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside arrayOf.");b=b[c];if(!Array.isArray(b))return b=k(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected an array."));for(c=0;c<b.length;c++){var n=a(b,c,f,d,l+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(n instanceof Error)return n}return null})},
element:function(){return d(function(b,c,d,l,e){b=b[c];return a(b)?null:(b=k(b),new g("Invalid "+l+" `"+e+"` of type "+("`"+b+"` supplied to `"+d+"`, expected a single ReactElement.")))})}(),elementType:function(){return d(function(a,b,c,d,l){a=a[b];return oa.isValidElementType(a)?null:(a=k(a),new g("Invalid "+d+" `"+l+"` of type "+("`"+a+"` supplied to `"+c+"`, expected a single ReactElement type.")))})}(),instanceOf:function(a){return d(function(b,c,f,d,l){if(!(b[c]instanceof a)){var n=a.name||
"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("instance of `"+n+"`."))}return null})},node:function(){return d(function(a,b,c,d,l){return r(a[b])?null:new g("Invalid "+d+" `"+l+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside objectOf.");
b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+d+" `"+l+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an object."));for(var n in b)if(Ra(b,n)&&(c=a(b,n,f,d,l+"."+n,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),c instanceof Error))return c;return null})},oneOf:function(a){return Array.isArray(a)?d(function(b,f,d,l,e){b=b[f];for(f=0;f<a.length;f++)if(c(b,a[f]))return null;f=JSON.stringify(a,function(a,b){return"symbol"===m(b)?String(b):b});return new g("Invalid "+l+" `"+e+"` of value `"+
String(b)+"` "+("supplied to `"+d+"`, expected one of "+f+"."))}):(1<arguments.length?C("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):C("Invalid argument supplied to oneOf, expected an array."),G)},oneOfType:function(a){if(!Array.isArray(a))return C("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var b=0;b<a.length;b++){var c=a[b];if("function"!==
typeof c)return C("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(c)+" at index "+b+"."),G}return d(function(b,c,f,d,l){for(var e=0;e<a.length;e++)if(null==(0,a[e])(b,c,f,d,l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;return new g("Invalid "+d+" `"+l+"` supplied to "+("`"+f+"`."))})},shape:function(a){return d(function(b,c,d,l,f){b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+l+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));
for(var e in a)if(c=a[e])if(c=c(b,e,d,l,f+"."+e,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return c;return null})},exact:function(a){return d(function(b,c,d,l,f){var e=b[c],n=k(e);if("object"!==n)return new g("Invalid "+l+" `"+f+"` of type `"+n+"` "+("supplied to `"+d+"`, expected `object`."));n=Qa({},b[c],a);for(var h in n){n=a[h];if(!n)return new g("Invalid "+l+" `"+f+"` key `"+h+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),
null,"  "));if(n=n(e,h,d,l,f+"."+h,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return n}return null})}};g.prototype=Error.prototype;l.checkPropTypes=J;l.resetWarningCache=J.resetWarningCache;return l.PropTypes=l};m=D(function(a){a.exports=Sa(oa.isElement,!0)});var Ta=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},Ua={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",
padding:0,overflow:"hidden",position:"absolute"},H=function(a){return la.createElement("div",Ta({style:Ua},a))},qa=D(function(a){(function(b,c){a.exports=c()})(La,function(){function a(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(q.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===t.call(a)}function g(a){return"string"===typeof a||"[object String]"===t.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===
t.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function m(b,d,e,k){c(d)&&(d=[d]);if(a(d))return b;if(g(d))return m(b,d.split("."),e,k);var f=h(d[0]);if(1===d.length)return d=b[f],void 0!==d&&k||(b[f]=e),d;void 0===b[f]&&(c(f)?b[f]=[]:b[f]={});return m(b[f],d.slice(1),e,k)}function k(b,f){c(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(g(f))return k(b,f.split("."));var e=h(f[0]),l=b[e];if(1===f.length)void 0!==l&&(d(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return k(b[e],
f.slice(1));return b}}var t=Object.prototype.toString,q=Object.prototype.hasOwnProperty,p={ensureExists:function(a,b,c){return m(a,b,c,!0)},set:function(a,b,c,d){return m(a,b,c,d)},insert:function(a,b,c,e){var f=p.get(a,b);e=~~e;d(f)||(f=[],p.set(a,b,f));f.splice(e,0,c)},empty:function(b,f){if(a(f))return b;if(!a(b)){var e,h;if(!(e=p.get(b,f)))return b;if(g(e))return p.set(b,f,"");if("boolean"===typeof e||"[object Boolean]"===t.call(e))return p.set(b,f,!1);if(c(e))return p.set(b,f,0);if(d(e))e.length=
0;else if("object"===typeof e&&"[object Object]"===t.call(e))for(h in e)q.call(e,h)&&delete e[h];else return p.set(b,f,null)}},push:function(a,b){var c=p.get(a,b);d(c)||(c=[],p.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=p.get(a,b[e])))return d;return c},get:function(b,d,e){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return e;if(g(d))return p.get(b,d.split("."),e);var f=h(d[0]);return 1===d.length?void 0===
b[f]?e:b[f]:p.get(b[f],d.slice(1),e)},del:function(a,b){return k(a,b)}};return p})});var ra=function(a){return function(b){return typeof b===a}};var Va=function(a,b){var c=1,g=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,e){var d;b=g(a,qa.get(b,a));e=g(a,qa.get(e,a));b<e&&(d=-1);b>e&&(d=1);b===e&&(d=0);return d*c}};var da=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ra("string")),c=a.filter(ra("function"))[0];return function(a,d){for(var e=b.length,
g=0,k=0;0===g&&k<e;)g=Va(b[k],c)(a,d),k++;return g}};let sa="B kB MB GB TB PB EB ZB YB".split(" "),ta=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var ea=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let g=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ta(a,b.locale),g+a+" B";c=Math.min(Math.floor(Math.log10(a)/3),sa.length-
1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ta(a,b.locale);return g+a+" "+sa[c]},W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=t.createContext&&t.createContext(W),z=function(){z=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return z.apply(this,arguments)},Y=function(a){return E({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};Y.displayName="GoFileCode";var Z=function(a){return E({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};Z.displayName="GoFileDirectory";var X=function(a){return E({tag:"svg",
attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};X.displayName="GoFile";var ba=function(a){return E({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
ba.displayName="FaGithub";var aa=function(a){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
aa.displayName="FaTwitter";var N={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},y={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},M=w({},y,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),O=w({},y,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}});ca.propTypes={path:m.string.isRequired,details:m.objectOf(m.shape({path:m.string.isRequired,type:m.oneOf(["directory",
"file"]).isRequired,contentType:m.string,integrity:m.string,size:m.number})).isRequired};fa.propTypes={path:m.string.isRequired,details:m.shape({contentType:m.string.isRequired,highlights:m.arrayOf(m.string),uri:m.string,integrity:m.string.isRequired,language:m.string.isRequired,size:m.number.isRequired}).isRequired};var Ja=c.css(ia(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ka=c.css(ha()),Wa=m.shape({path:m.string.isRequired,type:m.oneOf(["directory","file"]).isRequired,details:m.object.isRequired});ka.propTypes={packageName:m.string.isRequired,packageVersion:m.string.isRequired,availableVersions:m.arrayOf(m.string),filename:m.string.isRequired,target:Wa.isRequired};A.hydrate(la.createElement(ka,window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>